(()=>{var __webpack_modules__={"./blocks sync recursive ^[^/]+\\/[^/]+\\.js$":(module,__unused_webpack_exports,__webpack_require__)=>{eval('{var map = {\n\t"body-builder-news/body-builder-news.js": "./blocks/body-builder-news/body-builder-news.js",\n\t"bullet-points/bullet-points.js": "./blocks/bullet-points/bullet-points.js",\n\t"cards/cards.js": "./blocks/cards/cards.js",\n\t"carousel/carousel.js": "./blocks/carousel/carousel.js",\n\t"columns/columns.js": "./blocks/columns/columns.js",\n\t"dealer-locator/dealer-locator.js": "./blocks/dealer-locator/dealer-locator.js",\n\t"dealer-locator/my-dealer.js": "./blocks/dealer-locator/my-dealer.js",\n\t"dealer-locator/sidebar-maps.js": "./blocks/dealer-locator/sidebar-maps.js",\n\t"document-list/document-list.js": "./blocks/document-list/document-list.js",\n\t"download-images/download-images.js": "./blocks/download-images/download-images.js",\n\t"embed/embed.js": "./blocks/embed/embed.js",\n\t"engine-specifications/engine-specifications.js": "./blocks/engine-specifications/engine-specifications.js",\n\t"engine-specifications/performance-chart.js": "./blocks/engine-specifications/performance-chart.js",\n\t"footer/footer.js": "./blocks/footer/footer.js",\n\t"fragment/fragment.js": "./blocks/fragment/fragment.js",\n\t"header/header.js": "./blocks/header/header.js",\n\t"hero/hero.js": "./blocks/hero/hero.js",\n\t"iframe/iframe.js": "./blocks/iframe/iframe.js",\n\t"image-360/image-360.js": "./blocks/image-360/image-360.js",\n\t"image/image.js": "./blocks/image/image.js",\n\t"key-facts/key-facts.js": "./blocks/key-facts/key-facts.js",\n\t"magazine-articles/magazine-articles.js": "./blocks/magazine-articles/magazine-articles.js",\n\t"nhtsa-header/nhtsa-header.js": "./blocks/nhtsa-header/nhtsa-header.js",\n\t"press-releases/press-releases.js": "./blocks/press-releases/press-releases.js",\n\t"related-articles/related-articles.js": "./blocks/related-articles/related-articles.js",\n\t"search-results/search-results.js": "./blocks/search-results/search-results.js",\n\t"search-results/templates.js": "./blocks/search-results/templates.js",\n\t"search/autosuggest.js": "./blocks/search/autosuggest.js",\n\t"search/search.js": "./blocks/search/search.js",\n\t"search/templates.js": "./blocks/search/templates.js",\n\t"specifications/specifications.js": "./blocks/specifications/specifications.js",\n\t"sub-nav/sub-nav.js": "./blocks/sub-nav/sub-nav.js",\n\t"tabbed-accordion/tabbed-accordion.js": "./blocks/tabbed-accordion/tabbed-accordion.js",\n\t"tabbed-carousel/tabbed-carousel.js": "./blocks/tabbed-carousel/tabbed-carousel.js",\n\t"teaser-cards/teaser-cards.js": "./blocks/teaser-cards/teaser-cards.js",\n\t"teaser-grid/teaser-grid.js": "./blocks/teaser-grid/teaser-grid.js",\n\t"text/text.js": "./blocks/text/text.js",\n\t"v2-accordion/v2-accordion.js": "./blocks/v2-accordion/v2-accordion.js",\n\t"v2-applications-carousel/v2-applications-carousel.js": "./blocks/v2-applications-carousel/v2-applications-carousel.js",\n\t"v2-article-cards/v2-article-cards.js": "./blocks/v2-article-cards/v2-article-cards.js",\n\t"v2-article-search/v2-article-search.js": "./blocks/v2-article-search/v2-article-search.js",\n\t"v2-banner/v2-banner.js": "./blocks/v2-banner/v2-banner.js",\n\t"v2-content-card/v2-content-card.js": "./blocks/v2-content-card/v2-content-card.js",\n\t"v2-content-carousel/v2-content-carousel.js": "./blocks/v2-content-carousel/v2-content-carousel.js",\n\t"v2-custom-form/v2-custom-form.js": "./blocks/v2-custom-form/v2-custom-form.js",\n\t"v2-dealer-locator-teaser/v2-dealer-locator-teaser.js": "./blocks/v2-dealer-locator-teaser/v2-dealer-locator-teaser.js",\n\t"v2-dynamic-truck-lineup/v2-dynamic-truck-lineup.js": "./blocks/v2-dynamic-truck-lineup/v2-dynamic-truck-lineup.js",\n\t"v2-embed/v2-embed.js": "./blocks/v2-embed/v2-embed.js",\n\t"v2-event-notify/v2-event-notify.js": "./blocks/v2-event-notify/v2-event-notify.js",\n\t"v2-feature-carousel/v2-feature-carousel.js": "./blocks/v2-feature-carousel/v2-feature-carousel.js",\n\t"v2-forms/v2-forms.js": "./blocks/v2-forms/v2-forms.js",\n\t"v2-hero-reveal/v2-hero-reveal.js": "./blocks/v2-hero-reveal/v2-hero-reveal.js",\n\t"v2-hero/v2-hero.js": "./blocks/v2-hero/v2-hero.js",\n\t"v2-iframe/v2-iframe.js": "./blocks/v2-iframe/v2-iframe.js",\n\t"v2-inpage-navigation/v2-inpage-navigation.js": "./blocks/v2-inpage-navigation/v2-inpage-navigation.js",\n\t"v2-key-facts/v2-key-facts.js": "./blocks/v2-key-facts/v2-key-facts.js",\n\t"v2-livestream-embed/v2-livestream-embed.js": "./blocks/v2-livestream-embed/v2-livestream-embed.js",\n\t"v2-masonry-grid/v2-masonry-grid.js": "./blocks/v2-masonry-grid/v2-masonry-grid.js",\n\t"v2-media-gallery/v2-media-gallery.js": "./blocks/v2-media-gallery/v2-media-gallery.js",\n\t"v2-media-with-tabs/v2-media-with-tabs.js": "./blocks/v2-media-with-tabs/v2-media-with-tabs.js",\n\t"v2-media-with-text/v2-media-with-text.js": "./blocks/v2-media-with-text/v2-media-with-text.js",\n\t"v2-newsletter/v2-newsletter.js": "./blocks/v2-newsletter/v2-newsletter.js",\n\t"v2-quote-with-images/v2-quote-with-images.js": "./blocks/v2-quote-with-images/v2-quote-with-images.js",\n\t"v2-quote/v2-quote.js": "./blocks/v2-quote/v2-quote.js",\n\t"v2-resource-gallery/v2-resource-gallery.js": "./blocks/v2-resource-gallery/v2-resource-gallery.js",\n\t"v2-section-header/v2-section-header.js": "./blocks/v2-section-header/v2-section-header.js",\n\t"v2-social-block/v2-social-block.js": "./blocks/v2-social-block/v2-social-block.js",\n\t"v2-stories-carousel/v2-stories-carousel.js": "./blocks/v2-stories-carousel/v2-stories-carousel.js",\n\t"v2-tabbed-carousel/v2-tabbed-carousel.js": "./blocks/v2-tabbed-carousel/v2-tabbed-carousel.js",\n\t"v2-text/v2-text.js": "./blocks/v2-text/v2-text.js",\n\t"v2-truck-lineup/v2-truck-lineup.js": "./blocks/v2-truck-lineup/v2-truck-lineup.js",\n\t"v2-video/v2-video.js": "./blocks/v2-video/v2-video.js",\n\t"v2-visual-grid/v2-visual-grid.js": "./blocks/v2-visual-grid/v2-visual-grid.js",\n\t"video-link/video-link.js": "./blocks/video-link/video-link.js",\n\t"vin-number/vin-number.js": "./blocks/vin-number/vin-number.js"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error("Cannot find module \'" + req + "\'");\n\t\te.code = \'MODULE_NOT_FOUND\';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = "./blocks sync recursive ^[^/]+\\\\/[^/]+\\\\.js$";\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/_sync_^%5B^/%5D+\\/%5B^/%5D+\\.js$?\n}')},"./blocks/body-builder-news/body-builder-news.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _scripts_lib_ffetch_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../scripts/lib-ffetch.js */ \"./scripts/lib-ffetch.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_async_dependencies_result__[0];\n\n\n\n\nasync function getArticles(path, limit) {\n  const indexUrl = new URL(path, (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getOrigin)());\n  return (0,_scripts_lib_ffetch_js__WEBPACK_IMPORTED_MODULE_2__.ffetch)(indexUrl).sheet('sorted').limit(limit).all();\n}\n\nfunction buildNews(elm, releases, quantity) {\n  releases.sort((a, b) => {\n    if (a.date > b.date) {\n      return -1;\n    }\n    if (a.date < b.date) {\n      return 1;\n    }\n    return 0;\n  });\n  const newsDivs = releases.map((release) => {\n    const div = document.createElement('div');\n    div.innerHTML = `<div class=\"news-list\">\n      <div class=\"list-teaser\">\n          <div class=\"image-container\">\n              <a href=\"\">\n                  <picture>\n                      <img src=\"\" alt=\"\">\n                  </picture>\n              </a>\n          </div>\n          <div class=\"news-item-metadata\">\n              <span class=\"news-item-date\"></span>\n          </div>\n          <div class=\"news-item-content\">\n              <h3><a href=\"\"></a></h3>\n              <p></p>\n          </div>\n          <p class=\"readmore\">\n              <a class='rm' href=''>Read more</a>\n          </p>\n      </div>\n    </div>`;\n\n    div.querySelector('.image-container a').href = release.path;\n    div.querySelector('.image-container img').src = release.image;\n    div.querySelector('.image-container img').alt = release.title;\n    div.querySelector('.news-item-date').textContent = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getDateFromTimestamp)(release.date);\n    div.querySelector('.news-item-content h3 a').innerText = release.title;\n    div.querySelector('.news-item-content h3 a').href = release.path;\n    div.querySelector('.news-item-content p').textContent = release.description;\n    div.querySelector('.readmore a').href = release.path;\n\n    if (quantity === 'max') {\n      div.querySelector('.readmore').remove();\n    }\n    return div;\n  });\n  elm.innerText = '';\n  elm.append(...newsDivs);\n\n  elm.querySelectorAll('img').forEach((img) => {\n    img.closest('picture').replaceWith((0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.createOptimizedPicture)(img.src, img.alt, false, [{ width: '370px' }]));\n  });\n}\n\nasync function decorate(block) {\n  const config = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.readBlockConfig)(block);\n  if (config && Object.keys(config).length >= 1) {\n    const newsElement = document.createElement('div');\n    let limit = 25; // artificial limit set\n    if (config.quantity !== 'max') {\n      limit = 3;\n      newsElement.classList.add('bb-news-list-small');\n    } else {\n      newsElement.classList.add('bb-news-list');\n    }\n    const articles = await getArticles(config.source, limit);\n    buildNews(newsElement, articles, config.quantity);\n    block.replaceWith(newsElement);\n  }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/body-builder-news/body-builder-news.js?\n}")},"./blocks/bullet-points/bullet-points.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ decorate)\n/* harmony export */ });\nfunction decorate(block) {\n  const cols = [...block.firstElementChild.children];\n  block.classList.add(`columns-${cols.length}-cols`);\n}\n\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/bullet-points/bullet-points.js?\n}')},"./blocks/cards/cards.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\n\n\nfunction decorate(block) {\n  /* change to ul, li */\n  const ul = document.createElement('ul');\n  [...block.children].forEach((row) => {\n    const li = document.createElement('li');\n    li.innerHTML = row.innerHTML;\n    [...li.children].forEach((div) => {\n      if (div.children.length === 1 && div.querySelector('picture')) {\n        div.className = 'cards-card-image';\n      } else {\n        div.className = 'cards-card-body';\n      }\n    });\n    ul.append(li);\n  });\n  ul.querySelectorAll('img').forEach((img) =>\n    img.closest('picture').replaceWith((0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.createOptimizedPicture)(img.src, img.alt, false, [{ width: '750' }])),\n  );\n  block.textContent = '';\n  block.append(ul);\n}\n\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/cards/cards.js?\n}")},"./blocks/carousel/carousel.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\n\n\nconst debounceDelay = 30;\n\nfunction adjustWidthAndControls(block, carousel, ...controls) {\n  function toggle() {\n    const documentWidth = document.documentElement.clientWidth;\n    const isDesktop = documentWidth > 767 && !block.matches('.grid-on-desktop');\n    const gap = parseInt(window.getComputedStyle(carousel).gap, 10);\n    const itemWidth = parseInt(window.getComputedStyle(carousel.firstElementChild).width, 10);\n    const itemsWidth = itemWidth * carousel.children.length + gap * (carousel.children.length - 1);\n    let containerWidth = parseInt(window.getComputedStyle(carousel.parentElement).width, 10);\n    if (isDesktop) {\n      // on desktop the container width is 2x50px smaller due to the controls\n      containerWidth -= 100;\n    }\n    const showControls = itemsWidth > containerWidth;\n    controls.forEach((ul) => (showControls ? ul.classList.remove('hidden') : ul.classList.add('hidden')));\n    if (showControls) {\n      carousel.classList.remove('centered');\n    } else {\n      carousel.classList.add('centered');\n    }\n    if (isDesktop) {\n      // set the width only on desktop\n      const maxItems = Math.floor((containerWidth - 100) / (itemsWidth / carousel.children.length));\n      const width = maxItems * itemWidth + gap * (maxItems - 1);\n      carousel.style.width = `${width}px`;\n    } else {\n      // remove on mobile viewports\n      delete carousel.style.width;\n    }\n  }\n\n  let resizeTimeout;\n  window.addEventListener('resize', () => {\n    if (resizeTimeout) {\n      clearTimeout(resizeTimeout);\n    }\n    resizeTimeout = setTimeout(toggle, debounceDelay);\n  });\n\n  // wait for the section to be loaded before we initially resize the carousel\n  const section = block.closest('.section');\n  new MutationObserver((_, observer) => {\n    if (section.dataset.sectionStatus === 'loaded') {\n      observer.disconnect();\n      setTimeout(toggle);\n    }\n  }).observe(section, { attributes: true });\n}\n\nfunction createDesktopControls(ul) {\n  function scroll(direction) {\n    const first = ul.firstElementChild;\n    const second = first.nextElementSibling;\n    const scrollOffset = second.getBoundingClientRect().x - first.getBoundingClientRect().x;\n    const left = direction === 'left' ? -1 * scrollOffset : scrollOffset;\n    ul.scrollBy({ top: 0, left, behavior: 'smooth' });\n  }\n\n  const desktopControls = document.createElement('ul');\n  desktopControls.className = 'desktop-controls hidden';\n  desktopControls.innerHTML = '<li><button type=\"button\">Left</button></li><li><button type=\"button\">Right</button></li>';\n  ul.insertAdjacentElement('beforebegin', desktopControls);\n  const [prevButton, nextButton] = desktopControls.querySelectorAll(':scope button');\n  prevButton.addEventListener('click', () => scroll('left'));\n  nextButton.addEventListener('click', () => scroll('right'));\n  return desktopControls;\n}\n\nfunction createMobileControls(ul) {\n  // create carousel controls for mobile\n  const mobileControls = document.createElement('ul');\n  mobileControls.className = 'mobile-controls';\n  [...ul.children].forEach((item, j) => {\n    const control = document.createElement('li');\n    if (!j) {\n      control.className = 'active';\n    }\n    control.innerHTML = `<button type=\"button\">${j + 1}</button>`;\n    control.firstElementChild.addEventListener('click', () => {\n      mobileControls.querySelector('li.active').classList.remove('active');\n      control.classList.add('active');\n\n      const left = item.offsetLeft + item.offsetWidth / 2 - (item.parentNode.offsetLeft + item.parentNode.offsetWidth / 2);\n      ul.scrollTo({ top: 0, left, behavior: 'smooth' });\n    });\n\n    mobileControls.append(control);\n  });\n  ul.insertAdjacentElement('beforebegin', mobileControls);\n\n  let scrollTimeout;\n  ul.addEventListener('scroll', () => {\n    if (scrollTimeout) {\n      clearTimeout(scrollTimeout);\n    }\n    scrollTimeout = setTimeout(() => {\n      const first = ul.firstElementChild;\n      const second = first.nextElementSibling;\n      const scrollOffset = second.getBoundingClientRect().x - first.getBoundingClientRect().x;\n      let index = 0;\n      // how many items have scrolled out?\n      while (ul.scrollLeft - scrollOffset * (index + 1) > 0) {\n        index += 1;\n      }\n      mobileControls.querySelector('li.active').classList.remove('active');\n      mobileControls.children[index].classList.add('active');\n    }, debounceDelay);\n  });\n  return mobileControls;\n}\n\nfunction decorate(block) {\n  const ul = document.createElement('ul');\n  ul.classList.add('items');\n\n  // We support two formats:\n  // 1. Each slide in a cell in either columns column and/or rows.\n  // 2. all values in the first cell as a list.\n  [...block.querySelectorAll(':scope > div > div')].forEach((cell) => {\n    // collect any <li>\n    cell.querySelectorAll('li').forEach((li) => {\n      if (li.childElementCount) {\n        ul.append(li);\n      }\n    });\n    // remove any remaining <ul>\n    cell.querySelectorAll('ul').forEach((el) => el.remove());\n\n    // If cell still contains anything, add content to list\n    if (cell.childElementCount) {\n      const li = document.createElement('li');\n      li.append(...cell.childNodes);\n      // remove link decoration\n      li.querySelectorAll('.button-container,.button').forEach((el) => {\n        el.classList.remove('button-container', 'button', 'primary');\n      });\n      ul.append(li);\n    }\n    cell.remove();\n  });\n\n  // now that all cells are removed, only rows are remining.\n  const firstCell = document.createElement('div');\n  block.firstElementChild.append(firstCell);\n  firstCell.append(ul);\n\n  [...ul.children].forEach((li) => {\n    // Add wrapper around the content\n    const container = document.createElement('div');\n    container.className = 'carousel-content-wrapper';\n    container.innerHTML = li.innerHTML;\n    li.innerHTML = '';\n    li.append(container);\n\n    // add link to the image and move it outside of the wrapper\n    const a = li.querySelector('a');\n    let picture = li.querySelector('picture');\n    if (picture) {\n      const img = picture.lastElementChild;\n      const newPicture = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.createOptimizedPicture)(img.src, img.alt, false, [{ width: '370' }]);\n      picture.replaceWith(newPicture);\n      picture = newPicture;\n    }\n    if (a && picture) {\n      const clone = a.cloneNode(false);\n      picture.replaceWith(clone);\n      clone.append(picture);\n      li.prepend(clone);\n    }\n\n    const textItems = container.innerHTML.split('<br>').filter((text) => text.trim() !== '');\n\n    container.innerHTML = `\n      <p>${textItems.join('</p><p>')}</p>\n    `;\n\n    const carouselLink = container.querySelector('a');\n    if (carouselLink) {\n      carouselLink.classList.add('button', 'carousel-link');\n    }\n  });\n\n  const desktopControls = createDesktopControls(ul);\n  const mobileControls = createMobileControls(ul);\n\n  adjustWidthAndControls(block, ul, mobileControls, desktopControls);\n}\n\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/carousel/carousel.js?\n}")},"./blocks/columns/columns.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\nfunction decorate(block) {\n  const cols = [...block.firstElementChild.children];\n  block.classList.add(`columns-${cols.length}-cols`);\n\n  // Add target blank for nhtsa contact section link to open in new tab\n  if (block.classList.contains('nhtsa')) {\n    [...block.querySelectorAll('a')].forEach((link) => {\n      if (!link.target) {\n        link.target = '_blank';\n      }\n    });\n  }\n}\n\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/columns/columns.js?\n}")},"./blocks/dealer-locator/dealer-locator.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/aem.js */ "./scripts/aem.js");\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/common.js */ "./scripts/common.js");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_async_dependencies_result__[0];\n\n\n\nconst missingKeyMessage = \'MissingKey\';\nconst { GOOGLE_API_KEY: apiKey = missingKeyMessage } = _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.TOOLS_CONFIGS;\n\nasync function decorate(block) {\n  const datasource = block.textContent.trim();\n  if (!apiKey || apiKey === missingKeyMessage) {\n    console.error(\n      \'The block is wrongly set up or is missing the %cGOOGLE_API_KEY%c in the %cTOOLS_CONFIGS\',\n      \'color: red;\',\n      \'color: initial;\',\n      \'color: red;\',\n    );\n  } else {\n    window.locatorConfig = {\n      apiKey,\n      consolidateFilters: true,\n      selectedBrand: \'volvo\',\n      dataSource: datasource,\n      amenities: [\n        \'Appointments Accepted\',\n        \'Bilingual Service\',\n        \'Driver Lounge\',\n        \'Free Pickup and Delivery\',\n        \'Hotel Shuttle\',\n        \'Internet Service\',\n        \'Laundry\',\n        \'Showers\',\n        \'Telephones\',\n        \'Trailer Parking\',\n        \'Video Games\',\n      ],\n    };\n  }\n\n  (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.loadScript)(\'/blocks/dealer-locator/vendor/jquery.min.js\', { type: \'text/javascript\', charset: \'UTF-8\' }).then(() => {\n    // these scripts depend on jquery:\n    (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.loadScript)(\'/blocks/dealer-locator/sidebar-maps.js\', { type: \'text/javascript\', charset: \'UTF-8\' });\n    (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.loadScript)(\'/blocks/dealer-locator/my-dealer.js\', { type: \'text/javascript\', charset: \'UTF-8\' });\n  });\n\n  (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.loadScript)(\'/blocks/dealer-locator/vendor/moment.js\', { type: \'text/javascript\', charset: \'UTF-8\' }).then(() => {\n    (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.loadScript)(\'/blocks/dealer-locator/vendor/moment-timezone.min.js\', { type: \'text/javascript\', charset: \'UTF-8\' });\n  });\n\n  block.innerHTML = `<input id="hoverText" value="Please unselect the selected option to click this option" hidden/>\n<div class="wrapper">\n    <div class="mobile-main-header">\n        <div class="panel-header">\n            <input type="text" id="location2" placeholder="Enter City, State, or Zip Code"/>\n            <div class="search-container">\n                <button type="button" id="search" onclick="$.fn.setAddress2();">\n                    <img src="/blocks/dealer-locator/images/search.svg"/>\n                </button>\n            </div>\n            <div class="filter-container">\n                <button type="button" onclick="$.fn.switchSidebarPane(\'sidebar-filter\');">\n                    <div style="width:44px;">\n                        <div class="icon"><img src="/blocks/dealer-locator/images/filter.svg"/></div>\n                    </div>\n                </button>\n            </div>\n            <div class="geo-container">\n                <button type="button" id="search" onclick="$.fn.setLocation();"><img\n                        src="/blocks/dealer-locator/images/location.svg"/></button>\n            </div>\n\n        </div>\n    </div>\n    <div id="map"></div>\n    <div class="map-geo-container">\n        <button type="button" id="search" onclick="$.fn.setLocation();"><img\n                src="/blocks/dealer-locator/images/location.svg"/></button>\n    </div>\n    <div class="sidebar" style="left:0px;">\n        <div class="row main-header">\n            <div class="panel-header">\n                <input type="text" id="location" placeholder="Enter City, State, or Zip Code"/>\n                <div class="search-container">\n                    <button type="button" id="search" onclick="$.fn.setAddress();">\n                        <img src="/blocks/dealer-locator/images/search.svg"/>\n                    </button>\n                </div>\n                <div class="filter-container">\n                    <button type="button" onclick="$.fn.switchSidebarPane(\'sidebar-filter\');">\n                        <div style="width:44px;">\n                            <div class="icon"><img src="/blocks/dealer-locator/images/filter.svg"/></div>\n                        </div>\n                    </button>\n                </div>\n                <div class="geo-container">\n                    <button type="button" id="search" onclick="$.fn.setLocation();"><img\n                            src="/blocks/dealer-locator/images/location.svg"/></button>\n                </div>\n\n            </div>\n        </div>\n        <div class="row legend-header">\n\n\n            <div class="sidebar-legend">\n                 <span id="dealer-tag">\n                 <div class="dealer" id="filterDealer">\n                     <div>\n                     <img src="/blocks/dealer-locator/images/volvo-pin-dealer.svg" class="legend-icon"/> \n                     <span>Dealer</span>\n                      </div>\n                 </div>\n                     </span>\n                <span id="uptime-tag">\n                 <div class="uptime-dealer" id="filterUptime">\n                     <div>\n                     <img src="/blocks/dealer-locator/images/volvo-pin-uptime.svg" class="legend-icon"/> <span>Certified Uptime Dealer</span>\n                </div>\n                         </div>\n                     </span>\n                <span id="electric-tag">\n                 <div class="electric-dealer" id="filterElectricDealer">\n                     <div>\n                     <img src="/blocks/dealer-locator/images/bolt.svg" class="legend-icon"/> <span>Certified Electric Dealer</span>\n                 </div>\n                     </div>\n                      </span>\n                <div class="mobile-dealer" id="filterDealerMobile">\n                    <div>\n                        <img src="/blocks/dealer-locator/images/volvo-pin-dealer.svg" class="legend-icon"/>\n                        <span>Dealer</span>\n                    </div>\n                </div>\n                <div class="mobile-uptime-dealer" id="filterUptimeMobile">\n                    <div>\n                        <img src="/blocks/dealer-locator/images/volvo-pin-uptime.svg" class="legend-icon"/> <span>Certified Uptime</span>\n                    </div>\n                </div>\n                <div class="mobile-electric-dealer" id="filterElectricDealerMobile">\n                    <div>\n                        <img src="/blocks/dealer-locator/images/bolt.svg" class="legend-icon"/>\n                        <span>Certified Electric</span>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n        <div class="row main-directions" style="display: none;">\n            <div class="go-back-direction" style="text-align: right;">\n                <button type="button" id="cancel2">Back</button>\n            </div>\n            <div class="panel-header from-directions">\n                <input type="text" id="location" placeholder="Enter City, State, or Zip Code"/>\n            </div>\n            <div class="panel-header to-directions" style="margin-top:5px;">\n                <input type="text" id="location" placeholder="Enter City, State, or Zip Code"/>\n            </div>\n            <div class="panel-header add-directions" onclick="$.fn.switchSidebarPane(\'add-directions-return\', this);"\n                 data-id="">\n                <i class="fa fa-refresh"></i> Recalculate Directions\n            </div>\n        </div>\n        <div class="sidebar-content">\n            <div class="go-back" style="display:none;">\n                <button type="button" class="tooltip" id="cancel">Back</button>\n            </div>\n            <div class="loading-overlay">\n                <div class="loading-msg">\n                    <p>One moment while we gather nearby dealers</p>\n                </div>\n            </div>\n            <div class="waiting-overlay">\n                <p>Start finding nearby dealers by providing a location above.</p>\n            </div>\n        </div>\n    </div>\n\n    <a href="javascript:void(0);" class="slider-arrow hide"><i class="fa fa-angle-left"></i></a>\n\n\n</div>\n<div id="sidebar-pins" style="display: none;">\n    <div class="row" style="height:100%;">\n\n        <div class="scroller">\n            <p class="no-dealer-text" style="display: none;">No Dealers Found</p>\n            <div class="nearby-pins"></div>\n        </div>\n    </div>\n    <div class="panel-footer">Loading...</div>\n</div>\n<div id="sidebar-pin" style="display: none;">\n    <div class="pin-header">\n        <div class="pin-details-header">\n            <img id="head-marker" class="pin-header-img" src=""/>\n            <div id="title"></div>\n\n\n        </div>\n        <div id="type"></div>\n        <div class="button-group">\n            <div id="my-dealer" style="display: none;"><i class="fa fa-star-o tooltip"><span\n                    class="tooltiptext mydealer">Your Preferred Dealer</span></i></div>\n        </div>\n\n        <div class="dealer-deatils-header">\n            <div class="detail-website">\n                <a target="_blank">\n                    <img src="/blocks/dealer-locator/images/Globe-4.png"/>\n                    Website</a>\n            </div>\n            <div class="detail-direction">\n                <a id="directions" data-id="" onclick="$.fn.switchSidebarPane(\'sidebar-directions\', this);">\n                    <img src="/blocks/dealer-locator/images/GPS-2.png"/>\n                    Directions</a>\n            </div>\n            <div class="detail-call">\n\n            </div>\n            <div class="detail-share">\n\n                <a id="share" class="accordion">\n                    <img src="/blocks/dealer-locator/images/Share-2.png"/>\n                    SHARE\n                </a>\n\n                <div class="accordion-panel">\n                    <input type="text" id="share-link" value="" onclick="this.select();"/>\n                </div>\n            </div>\n            <div class="detail-email">\n\n            </div>\n        </div>\n    </div>\n    <div class="row pin-content">\n        <div class="scroller">\n            <div class="pin-container">\n\n\n                <ul class="pin-details">\n                    <li>\n                        <img src="/blocks/dealer-locator/images/Map.png"/>\n                        <div id="title2"></div>\n                        <br/>\n                        <div id="address1">\n                            <div></div>\n                        </div>\n                        <br/>\n                        <div id="address2">\n                            <div></div>\n                        </div>\n                        <br/>\n                        <div id="city-state-zip">\n                            <div></div>\n                        </div>\n                        <div class="controls">\n                            <i class="tooltip fa fa-copy" id="clipboard-address" data-clipboard=""\n                               onclick="$.fn.copyToClipboard(this);"><span class="tooltiptext copy">Copy address</span></i>\n                        </div>\n                    </li>\n                    <li id="hours">\n                        <img src="/blocks/dealer-locator/images/Clock.png"/>\n                        <div></div>\n                    </li>\n                    <li>\n                        <img src="/blocks/dealer-locator/images/Globe.png"/>\n                        <div id="website">No website available</div>\n                        <div class="controls">\n                            <i class="tooltip fa fa-external-link" id="open-website" onclick=""><span\n                                    class="tooltiptext link">Open website</span></i>\n                        </div>\n                    </li>\n                    <li>\n                        <img src="/blocks/dealer-locator/images/Mail.png"/>\n                        <div id="email">No email available</div>\n                    </li>\n\n\n                    <li id="details" class="accordion-panel"></li>\n                </ul>\n                <div class="header-title header-driver-title">Driver Amenitites</div>\n                <ul id="drivers">\n                </ul>\n                <div class="header-title header-services-title">Truck Services</div>\n                <ul id="services">\n                </ul>\n            </div>\n        </div>\n    </div>\n</div>\n<div id="nearbyPinDetails" style="display: none;">\n    <div class="panel-card">\n        <div class="panel-container">\n            <article class="teaser">\n                <div class="marker-main">\n                    <img id="marker" src=""/>\n                </div>\n                <div class="dealerPanelContainer">\n                    <div class="teaser-top" onclick="$.fn.switchSidebarPane(\'sidebar-pin\', this);" data-id="">\n                        <div class="heading">\n                            <p></p>\n\n                            <div class="distance"></div>\n                        </div>\n                        <div class="info">\n                            <div class="hours"></div>\n                        </div>\n                        <div class="left">\n                            <div class="address"></div>\n                            <div class="city"></div>\n                            <div class="phone"></div>\n                        </div>\n                    </div>\n                    <div class="teaser-bottom">\n\n                        <div class="right">\n                            <div class="website">\n                                <a href="" target="_blank" rel="noopener"></a>\n                            </div>\n                        </div>\n                        <div class="right">\n                            <div class="direction">\n                                <a href="" id="direction"\n                                   onclick="$.fn.switchSidebarPane(\'sidebar-direction-list\', this);return false;"></a>\n                            </div>\n                        </div>\n                        <div class="right">\n                            <div class="call">\n\n                            </div>\n                        </div>\n                        <div class="right">\n                            <div class="more" onclick="$.fn.switchSidebarPane(\'sidebar-pin\', this);">\n                                <a>More</a>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="teaser-services">\n                    </div>\n                </div>\n            </article>\n        </div>\n    </div>\n</div>\n<div id="sidebar-filter" style="display: none;">\n    <div class="row" style="padding-top: 25px;">\n        <div class="panel-card result-item">\n            <div class="panel-container">\n                <span class="header-title">Filter By Distance</span>\n                <ul>\n                    <li>\n                        <div>\n                            <input name=range-filter class=range-filter type=range id=range value=75 list=steplist\n                                   max=100 min=25 step=25 onchange="$.fn.radiusChange();"/>\n                            <datalist id=steplist class=sliderticks>\n                                <option>25</option>\n                                <option>50</option>\n                                <option>75</option>\n                                <option>100</option>\n                            </datalist>\n                        </div>\n                    </li>\n                </ul>\n            </div>\n        </div>\n        <div class="panel-card result-item">\n            <div class="panel-container">\n                <span class="header-title">Filter By Service</span>\n                <ul id="filter-options">\n\n                    <li>\n                        <label for=all>All Dealers\n                            <input name=type-filter type=checkbox id=all value="All Dealers" checked=checked/>\n                            <span class="checkmark"></span>\n                        </label>\n                    </li>\n                    <li>\n                        <label for=rental-leasing>Rental &amp; Leasing\n                            <input name=type-filter type=checkbox id=rental-leasing value=Leasing/>\n                            <span class="checkmark"></span>\n                        </label>\n                    </li>\n\n                </ul>\n            </div>\n        </div>\n    </div>\n</div>\n<div id="sidebar-direction-list" style="display: none;">\n    <div class="row">\n        <div class="scroller">\n            <div class="directions-panel">\n                <div class="pin-actions directions">\n                    <button type="button" id="gmaps-link"><img\n                            src="/blocks/dealer-locator/images/Google-Maps-Old.svg"/><span>Open in<br>Google Maps</span>\n                    </button>\n                    <button type="button" id="print"><img\n                            src="/blocks/dealer-locator/images/Print.svg"/><span>Print</span></button>\n                    <button type="button" id="add-directions" onclick="$.fn.switchSidebarPane(\'sidebar-select-pins\');">\n                        <img src="/blocks/dealer-locator/images/MacOS-Maximize.svg"/></i><span>Modify Dealer<br>Waypoints</span>\n                    </button>\n                </div>\n                <div id="directions-container"></div>\n            </div>\n        </div>\n    </div>\n\n</div>\n<div id="sidebar-directions" style="display: none;">\n\n    <div class="row">\n        <div class="scroller">\n            <div class="directions-panel">\n                <div class="pin-actions directions">\n                    <button type="button" id="gmaps-link"><img\n                            src="/blocks/dealer-locator/images/Google-Maps-Old.svg"/><span>Open in<br>Google Maps</span>\n                    </button>\n                    <button type="button" id="print"><img\n                            src="/blocks/dealer-locator/images/Print.svg"/><span>Print</span></button>\n                    <button type="button" id="add-directions" onclick="$.fn.switchSidebarPane(\'sidebar-select-pins\');">\n                        <img src="/blocks/dealer-locator/images/MacOS-Maximize.svg"/></i><span>Modify Dealer<br>Waypoints</span>\n                    </button>\n                </div>\n                <div id="directions-container"></div>\n            </div>\n        </div>\n    </div>\n</div>\n<div id="sidebar-select-pins" style="display: none;">\n    <div class="row">\n        <span class="header-title">Advanced Routing</span>\n        <p>Click any <i><span id="filter"></span> Dealer</i> on the map to add it to your route. When done, click\n            <strong>Calculate Route</strong> below.</p>\n        <p>\n        <div class="go-back-pin">\n            <button type="button">Calculate Route</button>\n            <button type="button">Back to Directions</button>\n        </div>\n        </p>\n        <div class="scroller">\n            <div class="nearby-select"></div>\n        </div>\n    </div>\n</div>\n<div id="sidebar-select-pin" style="display: none;">\n    <div class="panel-card">\n        <div class="panel-container">\n            <article class="teaser">\n\n                <div style="width: 15%;">\n                    <i class="fa fa-close tooltip" onclick="$.fn.removeWaypoint(this)" data-id=""><span\n                            class="tooltiptext removepin">Remove from route</span></i>\n                </div>\n                <div style="width: 80%;">\n                    <div class="teaser-top">\n                        <div class="heading">\n                            <p></p>\n                        </div>\n                        <div class="info">\n                            <div class="hours"></div>\n                            <div class="distance"></div>\n                        </div>\n                    </div>\n                    <div class="teaser-bottom">\n                        <div class="left">\n                            <div class="address"></div>\n                            <div class="city"></div>\n                            <div class="phone"></div>\n                        </div>\n                        <div class="right">\n                            <div class="website">\n                                <a href="" target="_blank" rel="noopener"></a>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="teaser-services">\n\n                    </div>\n                </div>\n            </article>\n        </div>\n    </div>\n</div>\n<div id="locator-snackbar"></div>\n</div> `;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/dealer-locator/dealer-locator.js?\n}')},"./blocks/dealer-locator/my-dealer.js":()=>{eval("{/* eslint-disable  */\n\nfunction MyDealer() {\n  var $html = $('html');\n  var $location = [];\n  var $isOpen = false;\n  var allowDisplay = false;\n  var $brand = '';\n\n  this.init = function () {\n    if ($html.is('[data-brand]')) {\n      $brand = $html.attr('data-brand');\n      $brand = '-' + $brand;\n    }\n\n    if ($brand !== '') {\n      setListener();\n\n      $('.openfindadealer').click(function (e) {\n        if (allowDisplay === true) {\n          e.preventDefault();\n          $('.ancillaryNavPopup.findadealer').toggle();\n        }\n      });\n    }\n  };\n\n  this.isOpen = function () {\n    return $isOpen;\n  };\n\n  function readDealerCookie(name) {\n    var nameEQ = name + '=';\n    var ca = document.cookie.split(';');\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n      while (c.charAt(0) === ' ') {\n        c = c.substring(1, c.length);\n      }\n      if (c.indexOf(nameEQ) === 0) {\n        return c.substring(nameEQ.length, c.length);\n      }\n    }\n    return null;\n  }\n\n  function getDealerHoursInfo(hours, time) {\n    var zone = moment.tz.guess();\n\n    var closeSoon = false;\n\n    if (hours) {\n      if (!time) {\n        time = new Date();\n      }\n\n      var todayAtDealer = hours[time.getDay()];\n\n      if (todayAtDealer) {\n        var startTime = todayAtDealer.Start;\n        if (startTime.toLowerCase() === 'midnight') {\n          startTime = '12:00 AM';\n        }\n\n        var endTime = todayAtDealer.End;\n        if (endTime.toLowerCase() === 'midnight') {\n          endTime = '11:59 PM';\n        }\n\n        if (startTime.toLowerCase().indexOf('24') > -1) {\n          startTime = '12:00 AM';\n          //dealer is open 24 hours\n          return { open: true, endTime: null, closeSoon: null, alwaysOpen: true };\n        }\n\n        if (endTime.toLowerCase().indexOf('24') > -1) {\n          endTime = '12:00 AM';\n          //dealer is open 24 hours\n          return { open: true, endTime: null, closeSoon: null, alwaysOpen: true };\n        }\n\n        if (startTime.toLowerCase() === 'noon') {\n          startTime = '12:00 PM';\n        }\n\n        if (endTime.toLowerCase() === 'noon') {\n          endTime = '12:00 PM';\n        }\n\n        var start = new Date();\n        start.setFullYear(time.getFullYear());\n        start.setMonth(time.getMonth());\n        start.setDate(time.getDate());\n        start.setHours(moment(startTime, ['h:mm A']).format('HH'));\n        start.setMinutes(moment(startTime, ['h:mm A']).format('mm'));\n        start.setSeconds(0);\n\n        var end = new Date();\n        end.setFullYear(time.getFullYear());\n        end.setMonth(time.getMonth());\n        end.setDate(time.getDate());\n        end.setHours(moment(endTime, ['h:mm A']).format('HH'));\n        end.setMinutes(moment(endTime, ['h:mm A']).format('mm'));\n        end.setSeconds(0);\n\n        if (moment.tz(zone).isBetween(start, end)) {\n          var hours2 = Math.abs(time - end) / 36e5;\n\n          if (hours2 < 1) {\n            closeSoon = true;\n          }\n\n          //dealer is open\n          return { open: true, endTime: end, closeSoon: closeSoon, alwaysOpen: false };\n        } else {\n          //dealer is closed\n          return { open: false, endTime: end, closeSoon: closeSoon, alwaysOpen: false };\n        }\n      }\n    }\n\n    return 2;\n  }\n\n  function getMyDealer() {\n    var preferredSet = readDealerCookie('my-dealer');\n    if (preferredSet) {\n      // If user has selected a preferred dealer get that\n      $brand = '';\n    } else {\n      if ($html.is('[data-brand]')) {\n        $brand = $html.attr('data-brand');\n        $brand = '-' + $brand;\n      }\n    }\n\n    var dealer = {\n      dealer: '',\n      dealerName: '',\n      dealerCity: '',\n      dealerState: '',\n      dealerZip: '',\n      dealerAddr1: '',\n      dealerAddr2: '',\n      dealerHours: {},\n      dealerNumber: '',\n      coords: '',\n    };\n\n    var myDealer = readDealerCookie('my-dealer' + $brand);\n    if (myDealer) {\n      dealer.dealer = myDealer;\n    }\n\n    var myDealerName = readDealerCookie('my-dealer-name' + $brand);\n    if (myDealerName) {\n      dealer.dealerName = myDealerName;\n    }\n\n    var myDealerCity = readDealerCookie('my-dealer-city' + $brand);\n    if (myDealerCity) {\n      dealer.dealerCity = myDealerCity;\n    }\n    var myDealerState = readDealerCookie('my-dealer-state' + $brand);\n    if (myDealerState) {\n      dealer.dealerState = myDealerState;\n    }\n    var myDealerZip = readDealerCookie('my-dealer-zip' + $brand);\n    if (myDealerZip) {\n      dealer.dealerZip = myDealerZip;\n    }\n    var myDealerAddr1 = readDealerCookie('my-dealer-addr1' + $brand);\n    if (myDealerAddr1) {\n      dealer.dealerAddr1 = myDealerAddr1;\n    }\n    var myDealerAddr2 = readDealerCookie('my-dealer-addr2' + $brand);\n    if (myDealerAddr2) {\n      dealer.dealerAddr2 = myDealerAddr2;\n    }\n\n    var myDealerHours = readDealerCookie('my-dealer-hours' + $brand);\n    if (myDealerHours) {\n      dealer.dealerHours = JSON.parse(myDealerHours);\n    }\n\n    var myDealerCoords = readDealerCookie('my-dealer-coords' + $brand);\n    if (myDealerCoords) {\n      dealer.coords = myDealerCoords;\n    }\n\n    var myDealerFormattedNumber = '';\n    var myDealerNumber = readDealerCookie('my-dealer-number' + $brand);\n    if (myDealerNumber) {\n      dealer.dealerNumber = myDealerNumber;\n      myDealerFormattedNumber = formatPhoneNumber(myDealerNumber);\n    }\n\n    if (!myDealerNumber && !myDealerHours) {\n      return false;\n    }\n\n    // Restore brand\n    if ($html.is('[data-brand]')) {\n      $brand = $html.attr('data-brand');\n      $brand = '-' + $brand;\n    }\n\n    return dealer;\n  }\n\n  function error(err) {\n    console.log(\"Error getting user's location: \" + err.message);\n  }\n\n  function setLocation() {\n    navigator.geolocation.getCurrentPosition(function (position) {\n      if (position) {\n        $location.push(position.coords.latitude);\n        $location.push(position.coords.longitude);\n\n        setDealer();\n      } else {\n        // Error getting position or user denied access.\n        console.log('Error getting position or user denied access');\n      }\n    }, error);\n  }\n\n  function formatPhoneNumber(phoneNumberString) {\n    var cleaned = ('' + phoneNumberString).replace(/\\D/g, '');\n    var match = cleaned.match(/^(\\d{3})(\\d{3})(\\d{4})$/);\n    return !match ? null : match[1] + '-' + match[2] + '-' + match[3];\n  }\n\n  function createCookie(name, value, days) {\n    if (days) {\n      var date = new Date();\n      date.setTime(date.getTime() + 24 * days * 60 * 60 * 1e3);\n      var expires = '; expires=' + date.toGMTString();\n    } else expires = '';\n    document.cookie = name + '=' + value + expires + '; path=/';\n  }\n\n  // Only to be called after location is set\n  function setDealer() {\n    if (!$location) {\n      console.log('Could not find dealer because location is not set. ');\n      return false;\n    }\n\n    var ajaxUrl = '';\n    if ($brand === '-mack') {\n      ajaxUrl = 'https://mvservices.na.volvogroup.com/DealerJSON_new.ashx?nearest=1&lat=' + $location[0] + '&lng=' + $location[1];\n    } else if ($brand === '-volvo') {\n      ajaxUrl = 'https://mvservices.na.volvogroup.com/volvo_dealerJSON.ashx?nearest=1&lat=' + $location[0] + '&lng=' + $location[1];\n    }\n\n    $.ajax({\n      url: ajaxUrl,\n      type: 'GET',\n      success: function (data) {\n        var dealer = data[0][0];\n        if (dealer) {\n          createCookie('my-dealer' + $brand, dealer.IDENTIFIER_VALUE, 365 * 10);\n          createCookie('my-dealer-name' + $brand, dealer.COMPANY_DBA_NAME, 365 * 10);\n          createCookie('my-dealer-city' + $brand, dealer.MAIN_CITY_NM, 365 * 10);\n          createCookie('my-dealer-state' + $brand, dealer.MAIN_STATE_PROV_CD, 365 * 10);\n          createCookie('my-dealer-zip' + $brand, dealer.MAIN_POSTAL_CD, 365 * 10);\n          createCookie('my-dealer-addr1' + $brand, dealer.MAIN_ADDRESS_LINE_1_TXT, 365 * 10);\n          createCookie('my-dealer-addr2' + $brand, dealer.MAIN_ADDRESS_LINE_2_TXT, 365 * 10);\n\n          var hours = null;\n          if (dealer.hours.Parts) {\n            hours = dealer.hours.Parts;\n          }\n\n          if (!hours && dealer.hours.Service) {\n            hours = dealer.hours.Service;\n          }\n\n          if (!hours && dealer.hours.Leasing) {\n            hours = dealer.hours.Leasing;\n          }\n\n          createCookie('my-dealer-hours' + $brand, JSON.stringify(hours), 365 * 10);\n          createCookie('my-dealer-number' + $brand, dealer.REG_PHONE_NUMBER, 365 * 10);\n          createCookie('my-dealer-coords' + $brand, dealer.MAIN_LATITUDE + ',' + dealer.MAIN_LONGITUDE, 365 * 10);\n\n          dealer = getMyDealer();\n\n          if (dealer !== null) {\n            allowDisplay = true;\n            showDealerBox(dealer);\n          }\n        }\n      },\n      error: function (error) {\n        console.log('MVServices call failed with code: ' + error.message);\n      },\n    });\n  }\n\n  function setListener() {\n    var dealer = null;\n\n    // If dealer cookie exists, use it\n    window.addEventListener(\n      'my-dealer',\n      function (e) {\n        // Take existing dealer info and put it in dealer variable\n        dealer = getMyDealer();\n        if (dealer !== null) {\n          allowDisplay = true;\n          // Populate Find a Dealer box\n          showDealerBox(dealer);\n        }\n      },\n      false,\n    );\n\n    // Dealer cookie does not exist\n    if (dealer === null) {\n      setLocation();\n    }\n  }\n\n  function normalizeCase(input) {\n    return input.charAt(0).toUpperCase() + input.slice(1).toLowerCase();\n  }\n\n  function showDealerBox(dealer) {\n    if (dealer !== null) {\n      // Find out if dealer city is two words\n      // Capitalize each word if city contains spaces\n      var splitCity = new Array();\n\n      if (dealer.dealerCity.includes(' ')) {\n        var cityParts = dealer.dealerCity.split(' ');\n\n        cityParts.forEach(function (part) {\n          var currentPart = normalizeCase(part);\n          splitCity.push(currentPart);\n        });\n      }\n\n      var today = new Date();\n      var openDetails = getDealerHoursInfo(dealer.dealerHours, today);\n      var popup = $('.ancillaryNavPopup.findadealer');\n\n      popup.html('');\n      popup.prepend('<div class=\"innerTriangle\"></div>');\n\n      // Applies dealer name to pop-out.\n      popup.append('<div id=\"dealerLocation\">' + dealer.dealerName + '</div>');\n      // Applies address to pop-out.\n      popup.append(\n        '<div id=\"dealerAddress\"><p>' +\n          dealer.dealerAddr1 +\n          '\\n' +\n          dealer.dealerAddr2 +\n          '\\n' +\n          dealer.dealerCity +\n          ', ' +\n          dealer.dealerState +\n          ' ' +\n          dealer.dealerZip +\n          '</p></div>',\n      );\n      $('#dealerAddress').prepend(\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"11.885\" height=\"16.016\" viewBox=\"0 0 11.885 16.016\"><path id=\"Path_5\" data-name=\"Path 5\" d=\"M1184.541,755.942a5.942,5.942,0,0,0-11.885,0c0,3.282,5.942,10.074,5.942,10.074S1184.541,759.224,1184.541,755.942Zm-8.713.275a2.771,2.771,0,1,1,2.771,2.77A2.77,2.77,0,0,1,1175.828,756.217Z\" transform=\"translate(-1172.656 -750)\"/></svg>',\n      );\n      // Applies remaining information to pop-out.\n      popup.append('<div id=\"dealerPhone\"><p>' + formatPhoneNumber(dealer.dealerNumber) + '</p></div>');\n      $('#dealerPhone').prepend(\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14.646\" height=\"14.646\" viewBox=\"0 0 14.646 14.646\"><path id=\"Path_6\" data-name=\"Path 6\" d=\"M528.724,656.976a16.711,16.711,0,0,0,1.3,1.046,6.962,6.962,0,0,0,1.272.724.838.838,0,0,0,.29.032,1.177,1.177,0,0,0,.354-.161c.24-.166.66-.731.9-.9a1.793,1.793,0,0,1,.365-.172,1.306,1.306,0,0,1,.354-.064,8.942,8.942,0,0,1,3,1.248.747.747,0,0,1,.161.161,3.95,3.95,0,0,1,.612,1.288,1.4,1.4,0,0,1-.113.563,3.289,3.289,0,0,1-.708.837,4.855,4.855,0,0,1-.982.692,3.318,3.318,0,0,1-.918.209,10.144,10.144,0,0,1-2.238-.338,18.66,18.66,0,0,1-2.656-1.046c-.589-.3-1.69-1.032-2.238-1.4-.148-.1-.419-.343-.555-.459s-.5-.5-.5-.5-.382-.362-.495-.5-.359-.407-.459-.555c-.368-.547-1.1-1.648-1.4-2.238a18.665,18.665,0,0,1-1.046-2.656,10.145,10.145,0,0,1-.338-2.238,3.32,3.32,0,0,1,.209-.918,4.858,4.858,0,0,1,.692-.982,3.289,3.289,0,0,1,.837-.708,1.4,1.4,0,0,1,.563-.113,3.953,3.953,0,0,1,1.288.612.745.745,0,0,1,.161.161,8.937,8.937,0,0,1,1.248,3,1.308,1.308,0,0,1-.064.354,1.786,1.786,0,0,1-.172.365c-.168.239-.732.659-.9.9a1.176,1.176,0,0,0-.161.354.835.835,0,0,0,.032.29,6.953,6.953,0,0,0,.724,1.272,16.661,16.661,0,0,0,1.047,1.3c.06.067.254.254.254.254Z\" transform=\"translate(-522.694 -647.838)\"/></svg>',\n      );\n\n      if (openDetails.open === true) {\n        if (openDetails.alwaysOpen === true) {\n          popup.append('<div id=\"dealerHours\"><p>Open 24 hours</p></div>');\n          $('#dealerHours').prepend(\n            '<svg id=\"Group_5\" data-name=\"Group 5\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16.265\" height=\"16.265\" viewBox=\"0 0 16.265 16.265\"><path id=\"Path_7\" data-name=\"Path 7\" d=\"M-21.532,233.386l-2.2-1.033v-3.688a.725.725,0,0,0-.724-.724.725.725,0,0,0-.724.724v4.143a.727.727,0,0,0,.463.676l2.561,1.206a.719.719,0,0,0,.311.071.722.722,0,0,0,.241-.042.717.717,0,0,0,.411-.369A.723.723,0,0,0-21.532,233.386Z\" transform=\"translate(32.587 -224.675)\"/><path id=\"Path_8\" data-name=\"Path 8\" d=\"M-99.916,191.261a8.079,8.079,0,0,0-5.751-2.382,8.079,8.079,0,0,0-5.751,2.382,8.079,8.079,0,0,0-2.382,5.751,8.079,8.079,0,0,0,2.382,5.75,8.079,8.079,0,0,0,5.751,2.382,8.079,8.079,0,0,0,5.751-2.382,8.079,8.079,0,0,0,2.382-5.75A8.079,8.079,0,0,0-99.916,191.261Zm-5.751,11.6a5.81,5.81,0,0,1-4.136-1.713,5.81,5.81,0,0,1-1.713-4.136,5.811,5.811,0,0,1,1.713-4.136,5.811,5.811,0,0,1,4.136-1.713,5.811,5.811,0,0,1,4.136,1.713,5.811,5.811,0,0,1,1.713,4.136,5.81,5.81,0,0,1-1.713,4.136A5.81,5.81,0,0,1-105.666,202.86Z\" transform=\"translate(113.799 -188.879)\"/></svg>',\n          );\n        } else {\n          popup.append('<div id=\"dealerHours\"><p>Open until ' + moment(openDetails.endTime).format('LT') + '</p></div>');\n          $('#dealerHours').prepend(\n            '<svg id=\"Group_5\" data-name=\"Group 5\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16.265\" height=\"16.265\" viewBox=\"0 0 16.265 16.265\"><path id=\"Path_7\" data-name=\"Path 7\" d=\"M-21.532,233.386l-2.2-1.033v-3.688a.725.725,0,0,0-.724-.724.725.725,0,0,0-.724.724v4.143a.727.727,0,0,0,.463.676l2.561,1.206a.719.719,0,0,0,.311.071.722.722,0,0,0,.241-.042.717.717,0,0,0,.411-.369A.723.723,0,0,0-21.532,233.386Z\" transform=\"translate(32.587 -224.675)\"/><path id=\"Path_8\" data-name=\"Path 8\" d=\"M-99.916,191.261a8.079,8.079,0,0,0-5.751-2.382,8.079,8.079,0,0,0-5.751,2.382,8.079,8.079,0,0,0-2.382,5.751,8.079,8.079,0,0,0,2.382,5.75,8.079,8.079,0,0,0,5.751,2.382,8.079,8.079,0,0,0,5.751-2.382,8.079,8.079,0,0,0,2.382-5.75A8.079,8.079,0,0,0-99.916,191.261Zm-5.751,11.6a5.81,5.81,0,0,1-4.136-1.713,5.81,5.81,0,0,1-1.713-4.136,5.811,5.811,0,0,1,1.713-4.136,5.811,5.811,0,0,1,4.136-1.713,5.811,5.811,0,0,1,4.136,1.713,5.811,5.811,0,0,1,1.713,4.136,5.81,5.81,0,0,1-1.713,4.136A5.81,5.81,0,0,1-105.666,202.86Z\" transform=\"translate(113.799 -188.879)\"/></svg>',\n          );\n        }\n      } else {\n        popup.append('<div id=\"dealerHours\"><p>Closed</p></div>');\n        $('#dealerHours').prepend(\n          '<svg id=\"Group_5\" data-name=\"Group 5\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16.265\" height=\"16.265\" viewBox=\"0 0 16.265 16.265\"><path id=\"Path_7\" data-name=\"Path 7\" d=\"M-21.532,233.386l-2.2-1.033v-3.688a.725.725,0,0,0-.724-.724.725.725,0,0,0-.724.724v4.143a.727.727,0,0,0,.463.676l2.561,1.206a.719.719,0,0,0,.311.071.722.722,0,0,0,.241-.042.717.717,0,0,0,.411-.369A.723.723,0,0,0-21.532,233.386Z\" transform=\"translate(32.587 -224.675)\"/><path id=\"Path_8\" data-name=\"Path 8\" d=\"M-99.916,191.261a8.079,8.079,0,0,0-5.751-2.382,8.079,8.079,0,0,0-5.751,2.382,8.079,8.079,0,0,0-2.382,5.751,8.079,8.079,0,0,0,2.382,5.75,8.079,8.079,0,0,0,5.751,2.382,8.079,8.079,0,0,0,5.751-2.382,8.079,8.079,0,0,0,2.382-5.75A8.079,8.079,0,0,0-99.916,191.261Zm-5.751,11.6a5.81,5.81,0,0,1-4.136-1.713,5.81,5.81,0,0,1-1.713-4.136,5.811,5.811,0,0,1,1.713-4.136,5.811,5.811,0,0,1,4.136-1.713,5.811,5.811,0,0,1,4.136,1.713,5.811,5.811,0,0,1,1.713,4.136,5.81,5.81,0,0,1-1.713,4.136A5.81,5.81,0,0,1-105.666,202.86Z\" transform=\"translate(113.799 -188.879)\"/></svg>',\n        );\n      }\n\n      popup.append('<div id=\"findAnotherDealer\"></div>');\n\n      var findADealerLink = $('.openfindadealer').attr('href');\n      $('#findAnotherDealer').append('<a href=\"' + findADealerLink + '\"' + '>Find Another Dealer</a>');\n\n      if ($brand === '-mack') {\n        if (splitCity.length > 0) {\n          $('.openfindadealer')\n            .find('.findadealer')\n            .html(splitCity.join(' ') + ', ' + dealer.dealerState);\n        } else {\n          $('.openfindadealer')\n            .find('.findadealer')\n            .html(normalizeCase(dealer.dealerCity) + ', ' + dealer.dealerState);\n        }\n\n        // Adjust width of ancillary navigation items if city name is too long\n        var mCityState = dealer.dealerCity + dealer.dealerState;\n        if (mCityState.length > 10) {\n          $('.ancillary-nav').addClass('extraWide');\n          $('.openfindadealer').parent().addClass('extraWide');\n        }\n      } else if ($brand === '-volvo') {\n        // Capitalize each word if city contains spaces\n        if (splitCity.length > 0) {\n          $('.openfindadealer').text(splitCity.join(' ') + ', ' + dealer.dealerState);\n        } else {\n          $('.openfindadealer').text(normalizeCase(dealer.dealerCity) + ', ' + dealer.dealerState);\n        }\n      }\n    }\n  }\n}\n\nconst myDealer = new MyDealer();\nmyDealer.init();\n\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/dealer-locator/my-dealer.js?\n}")},"./blocks/dealer-locator/sidebar-maps.js":()=>{eval("{/* eslint-disable  */\n\n// Map Sidebar Animation\n$('.slider-arrow').click(function () {\n\n  if ($(this).hasClass('show')) {\n\n    if ($(window).width() <= 700) {\n      $(\".slider-arrow, .sidebar, .sidebar-legend\").animate({\n        left: \"+=80%\"\n      }, 200, function () {\n        // Animation complete.\n      });\n    }\n    else {\n      $(\".slider-arrow, .sidebar, .sidebar-legend\").animate({\n        left: \"+=483\"\n      }, 200, function () {\n        // Animation complete.\n      });\n    }\n\n    $(this).removeClass('show').addClass('hide').find('i').removeClass('fa fa-angle-right').addClass('fa fa-angle-left');\n  }\n  else {\n\n    if ($(window).width() <= 700) {\n      $(\".slider-arrow, .sidebar, .sidebar-legend\").animate({\n        left: \"-=80%\"\n      }, 200, function () {\n        // Animation complete.\n      });\n    }\n    else {\n      $(\".slider-arrow, .sidebar, .sidebar-legend\").animate({\n        left: \"-=483\"\n      }, 200, function () {\n        // Animation complete.\n      });\n    }\n\n    $(this).removeClass('hide').addClass('show').find('i').removeClass('fa fa-angle-left').addClass('fa fa-angle-right');\n  }\n});\n\n// Global values\n$html = $('html');\n$pins2 = [];\n$pins = [];                                                                                     // array of all pin details (YOUR ARRAY OF PINS GO HERE)\n$location = null;                                                                               // stores users current coordinates {lat, lng}\n$radius = null;                                                                                 // stores current google maps radius object\n$me = null;                                                                                     // stores the 'me' marker object\n$nearbyPins = [];                                                                               // stores pin ID's for pins shown in radius\n$markers = [];                                                                                  // stores all google marker objects\n$radiusControl = $('#filters input[type=\"range\"]');                                             // the radius filter control input\n$map = null;                                                                                    // the main google map object\n$geocoder = null;                                                                               // geocoder object for all things geocode\n$filters = $('.sidebar-content #filter-options input[type=\"checkbox\"]');                        // the radio group filter values\n$consolidateFilters = window.locatorConfig.consolidateFilters;                                  // Shows \"All Dealers\" and \"Rental & Leasing\" filter options\n$viewingPin = null;                                                                             // tracks current pin in view\n$pinIcon = 'pin.svg';                                                                           // sets basic marker pin icon\n//$pinIconHover = 'pin_hover.svg';                                                              // sets hover marker pin icon\n$meIcon = '/blocks/dealer-locator/images/ME.svg';                                               // sets the icon of the ME marker\n$panes = [];                                                                                    // cache all panes created\n$lastPane = \"\";                                                                                 // track the last pane in view\n$radiusValue = $('#range').val();                                                               // the current radius value\n$sortedPins = null;                                                                             // stores all pins by distance (miles)\n$offset = ((new Date().getTimezoneOffset()) / 60) * -1;\n$key = window?.locatorConfig?.apiKey || '';\n$myDealer = null;\n$wayPoints = [];\n$directionsService = null;\n$directionsDisplay = null;\n$directionsObject = null;\n$printDirections = $('#print-directions');\n$printableDirections = $('#printable-directions');\n$directionResults = null;\n$currentAddress = '';\n$directionsMessage = $('#directions-message');\n$isAmentities = window.locatorConfig.amenities;\n$brandOptionSelected = \"\";\nvar uptimeClicked = false;\n$electricDealer = false;\n$hoverText = $('#hoverText').val();\n\nconst colorGrey1 = getComputedStyle(document.documentElement).getPropertyValue('--c-grey-1');\nconst colorGrey2 = getComputedStyle(document.documentElement).getPropertyValue('--c-grey-2');\nconst colorGrey3 = getComputedStyle(document.documentElement).getPropertyValue('--c-grey-3');\nconst colorGrey4 = getComputedStyle(document.documentElement).getPropertyValue('--c-grey-4');\n\n// Google callback letting us know maps is ready to be used\n(function () {\n  initMap = function () {\n\n    $geocoder = new google.maps.Geocoder();\n\n    $map = new google.maps.Map(document.getElementById('map'), {\n      center: { lat: 39.670469, lng: -101.766407 },                                             // set default center to be U.S.A\n      zoom: 4,\n      mapTypeControl: false,\n      streetViewControl: false,\n      fullscreenControl: false,\n      styles: [\n        {\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": colorGrey1\n            }\n          ]\n        },\n        {\n          \"elementType\": \"labels.icon\",\n          \"stylers\": [\n            {\n              \"visibility\": \"on\"\n            }\n          ]\n        },\n        {\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": colorGrey4\n            }\n          ]\n        },\n        {\n          \"elementType\": \"labels.text.stroke\",\n          \"stylers\": [\n            {\n              \"color\": colorGrey1\n            }\n          ]\n        },\n        {\n          \"featureType\": \"administrative.land_parcel\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": colorGrey2\n            }\n          ]\n        },\n        {\n          \"featureType\": \"poi\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": colorGrey1\n            }\n          ]\n        },\n        {\n          \"featureType\": \"poi\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": colorGrey3\n            }\n          ]\n        },\n        {\n          \"featureType\": \"poi.park\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": \"#e5e5e5\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"poi.park\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": \"#9e9e9e\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"road\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": \"#ffffff\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"road.arterial\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": colorGrey3\n            }\n          ]\n        },\n        {\n          \"featureType\": \"road.highway\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": \"#dadada\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"road.highway\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": colorGrey4\n            }\n          ]\n        },\n        {\n          \"featureType\": \"road.local\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": \"#9e9e9e\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"transit.line\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": \"#e5e5e5\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"transit.station\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": colorGrey1\n            }\n          ]\n        },\n        {\n          \"featureType\": \"water\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": \"#c9c9c9\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"water\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": \"#9e9e9e\"\n            }\n          ]\n        }\n      ]\n    });\n\n    // Attempt geolocation\n    $.fn.setLocation();\n\n    $directionsService = new google.maps.DirectionsService();\n    $directionsDisplay = new google.maps.DirectionsRenderer();\n  }\n})();\n\n$.fn.initGoogleMaps = function () {\n  // Lets us control OOO when some cases gmaps takes longer to initialize\n  $.ajax({\n    type: \"GET\",\n    url: \"https://maps.googleapis.com/maps/api/js?key=AIzaSyAP8IewqHuU8SMz_6tNiIUlbU_l0GFOd1w&libraries=places,geometry\",\n    dataType: \"script\",\n    success: function (d) {\n      initMap();\n    }\n  });\n};\n\n$.fn.getTimeZoneId = async function (dealer) {\n  var lat = dealer.MAIN_LATITUDE;\n  var long = dealer.MAIN_LONGITUDE;\n\n  var apiUrl = `https://maps.googleapis.com/maps/api/timezone/json?location=${lat},${long}&timestamp=${Math.floor(Date.now() / 1000)}&key=${$key}`;\n\n  var response = await fetch(apiUrl);\n  var locationObj = await response.json();\n\n  return locationObj.timeZoneId;\n};\n\n$.fn.loadPins = function () {\n\n\n  $pins = [];\n  $nearbyPins = [];\n  $markers = [];\n\n  if (!window.locatorConfig.dataSource) {\n    // TODO: Review this:\n    window.locatorConfig.dataSource = '/simpleprox.ashx?https://dealerlocator.volvotrucks.us/Volvo_DealerJson.ashx';\n  }\n\n  $.ajax({\n    url: `${window.locatorConfig.dataSource}?state=1`,\n    type: \"GET\",\n    success: function (data) {\n\n      try {\n        data = JSON.parse(data);\n      } catch (e) {\n        // data is already an object, proceed.\n      }\n\n      for (var country in data.countries) {\n\n        if (data.countries.hasOwnProperty(country)) {\n\n          $country = data.countries[country];\n\n          for (var state in $country.states) {\n\n            if ($country.states.hasOwnProperty(state)) {\n\n              $state = $country.states[state];\n\n              for (var dealer in $state.dealers) {\n\n                if ($state.dealers.hasOwnProperty(dealer)) {\n\n                  $dealer = $state.dealers[dealer];\n\n                  if ($dealer.services) {\n\n                    for (var service in $dealer.services) {\n\n                      if ($dealer.services.hasOwnProperty(service)) {\n\n                        $service = $dealer.services[service];\n\n                        if ($service.toLowerCase().indexOf(\"certified uptime\") > -1) {\n                          $dealer.isCertifiedUptimeCenter = true;\n                          $electricDealer = false;\n                        }\n\n                        if ($service.toLowerCase().indexOf(\"certified\") > -1) {\n                          $dealer.isCertifiedCenter = true;\n                        }\n\n                        if ($service.toLowerCase().indexOf('premium used') > -1) {\n                          $dealer.isPremiumUsedTruckDealer = true;\n                          $service = 'Premium Certified Used Truck Dealer';\n                        }\n\n                        if ($service.toLowerCase().indexOf('select part store') > -1) {\n                          $dealer.services[service] = 'SELECT Part Store&reg;';\n                        }\n                      }\n\n                    }\n                    if (Object.values($dealer.services).includes('Volvo Certified EV Dealer')) {\n                      $electricDealer = true;\n                      // $dealer.services == \"Volvo Certified EV Dealer\"\n                      // $dealer.services[service] = 'Volvo Certified EV Dealer';\n                    }\n\n                  }\n                  if ($dealer.isCertifiedUptimeCenter) {\n                    var pinIcon = {\n                      url: \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\",\n                      scaledSize: new google.maps.Size(17, 23), // scaled size\n                      origin: new google.maps.Point(0, 0), // origin\n                      anchor: new google.maps.Point(0, 0)\n                    }\n                    if ($electricDealer === true || ($dealer.services && Object.values($dealer.services).includes('Volvo Certified EV Dealer'))) {\n                      var pinIcon = {\n                        url: \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\",\n                        scaledSize: new google.maps.Size(17, 23), // scaled size\n                        origin: new google.maps.Point(0, 0), // origin\n                        anchor: new google.maps.Point(0, 0)\n                      }\n                    }\n                  }\n                  else if ($electricDealer === true || ($dealer.services && Object.values($dealer.services).includes('Volvo Certified EV Dealer'))) {\n                    var pinIcon = {\n                      url: \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\",\n                      scaledSize: new google.maps.Size(17, 23), // scaled size\n                      origin: new google.maps.Point(0, 0), // origin\n                      anchor: new google.maps.Point(0, 0)\n                    }\n                  }\n                  else {\n                    var pinIcon = {\n                      url: \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\",\n                      scaledSize: new google.maps.Size(17, 23), // scaled size\n                      origin: new google.maps.Point(0, 0), // origin\n                      anchor: new google.maps.Point(0, 0)\n                    }\n                  }\n\n                  $marker = new google.maps.Marker({\n                    id: $dealer.IDENTIFIER_VALUE,\n                    position: { lat: parseFloat($dealer.MAIN_LATITUDE), lng: parseFloat($dealer.MAIN_LONGITUDE) },\n                    title: $dealer.COMPANY_DBA_NAME,\n                    map: $map,\n                    icon: pinIcon\n                  });\n\n                  // Marker click event listener\n                  $marker.addListener('click', function () {\n\n                    var index = $markers.indexOf(this);\n\n                    var marker = $markers[index];\n\n                    $map.panTo(marker.position);\n\n                    if ($lastPane == 'sidebar-select-pins') {\n\n                      var details = null;\n                      for (i = 0; i < $pins.length; i++) {\n\n                        if ($pins[i].IDENTIFIER_VALUE == marker.id) {\n\n                          if ($.fn.isWaypoint($pins[i].waypoint)) {\n                            continue;\n                          }\n\n                          $wayPoints.push($pins[i].waypoint);\n                          details = $pins[i];\n                          // minus icon\n                          var pinIcon = $.fn.drawPin('-', 38, 38, '808080');\n                          marker.setIcon(pinIcon);\n                          // update select-pins display with location\n                          $.fn.renderAddDirectionsPin(marker, details);\n\n                        }\n\n                      }\n\n                      return;\n                    }\n\n                    // reset all markers to basic\n                    $markers.forEach(function (marker) {\n\n                      var details = $.fn.getPinById(marker.ID);\n\n                      if (details.isCertifiedUptimeCenter) {\n                        var pinIcon = {\n                          url: \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\",\n                          scaledSize: new google.maps.Size(17, 23), // scaled size\n                          origin: new google.maps.Point(0, 0), // origin\n                          anchor: new google.maps.Point(0, 0)\n                        }\n                        if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n                          var pinIcon = {\n                            url: \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\",\n                            scaledSize: new google.maps.Size(17, 23), // scaled size\n                            origin: new google.maps.Point(0, 0), // origin\n                            anchor: new google.maps.Point(0, 0)\n                          }\n                        }\n                      }\n                      else if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n                        var pinIcon = {\n                          url: \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\",\n                          scaledSize: new google.maps.Size(17, 23), // scaled size\n                          origin: new google.maps.Point(0, 0), // origin\n                          anchor: new google.maps.Point(0, 0)\n                        }\n                      }\n                      else {\n                        var pinIcon = {\n                          url: \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\",\n                          scaledSize: new google.maps.Size(17, 23), // scaled size\n                          origin: new google.maps.Point(0, 0), // origin\n                          anchor: new google.maps.Point(0, 0)\n                        }\n                      }\n\n                      marker.setIcon(pinIcon);\n\n                    });\n\n                    var details = $.fn.getPinById(marker.ID);\n                    if (details.isCertifiedUptimeCenter) {\n                      var pinIcon = {\n                        url: \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\",\n                        scaledSize: new google.maps.Size(58, 80), // scaled size\n                        origin: new google.maps.Point(0, 0), // origin\n                        anchor: new google.maps.Point(0, 0)\n                      }\n                      if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n                        var pinIcon = {\n                          url: \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\",\n                          scaledSize: new google.maps.Size(58, 80), // scaled size\n                          origin: new google.maps.Point(0, 0), // origin\n                          anchor: new google.maps.Point(0, 0)\n                        }\n                      }\n                    }\n                    else if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n                      var pinIcon = {\n                        url: \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\",\n                        scaledSize: new google.maps.Size(58, 80), // scaled size\n                        origin: new google.maps.Point(0, 0), // origin\n                        anchor: new google.maps.Point(0, 0)\n                      }\n                    }\n                    else {\n                      var pinIcon = {\n                        url: \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\",\n                        scaledSize: new google.maps.Size(58, 80), // scaled size\n                        origin: new google.maps.Point(0, 0), // origin\n                        anchor: new google.maps.Point(0, 0)\n                      }\n                    }\n\n                    marker.setIcon(pinIcon);\n\n                    $.fn.myDealer();\n\n                    $.fn.switchSidebarPane('sidebar-pin', marker.id);\n\n                  });\n\n                  $markers.push($marker);\n\n                  $marker.ID = $dealer.IDENTIFIER_VALUE;\n\n                  $dealer.waypoint = {\n                    id: $dealer.IDENTIFIER_VALUE,\n                    point: {\n                      location: new google.maps.LatLng($dealer.MAIN_LATITUDE, $dealer.MAIN_LONGITUDE),\n                      stopover: false\n                    }\n                  };\n\n                  $pins.push($dealer);\n\n                  $pins2.push($dealer);\n\n                }\n\n              }\n            }\n          }\n        }\n      }\n\n      $.fn.myDealer();\n      $.fn.filterRadius();\n\n      var markerId = $.fn.getUrlParameter('view');\n      var viewMarker = $.fn.getPinById(markerId);\n      if (markerId && viewMarker) {\n\n\n        //setCenter\n        for (i = 0; i < $markers.length; i++) {\n\n          if ($markers[i].id == markerId) {\n\n            $.fn.switchSidebarPane('sidebar-pin', markerId);\n\n          }\n        }\n\n\n      }\n\n\n    }\n\n  });\n};\n\n$.fn.removeWaypoint = function (pin) {\n\n  var $this = $(pin);\n  var $id = $this.attr('data-id');\n\n  for (var i = 0; i < $pins.length; i++) {\n\n    if ($markers[i].id == $id) {\n\n      var pinIcon = $.fn.drawPin('+', 38, 38, '4174C4');\n\n      $markers[i].setIcon(pinIcon);\n    }\n\n  }\n\n  $wayPoints = $.grep($wayPoints, function (w) {\n    return w.id != $id;\n  });\n\n  var parent = $this.parents('.panel-card');\n\n  parent.remove();\n\n};\n\n$.fn.isWaypoint = function (waypoint) {\n\n  for (var i = 0; i < $wayPoints.length; i++) {\n    if ($wayPoints[i].id == waypoint.id) {\n      return true;\n    }\n  }\n  return false;\n};\n\n$.fn.formatTime = function (timeString) {\n  var [ hour, minutes ] = timeString.split(':');\n  var period = 'AM';\n  if (hour >= 12) {\n    period = 'PM';\n    hour = hour - 12;\n  }\n  return `${hour}:${minutes} ${period}`\n}\n\n$.fn.getOpenHours = function (pin) {\n  var time = new Date();\n  var today = time.getDay();\n\n  var isLeasing = Object.keys(pin.hours)[0].toLowerCase() === 'leasing';\n  var allTimes;\n\n  if (!isLeasing) {\n    var { Parts: parts, Sales: sales, Service: service } = pin.hours;\n    allTimes = [ parts[today], sales[today], service[today] ];\n  } else if (isLeasing) {\n    var { Leasing: leasing } = pin.hours;\n    allTimes = [ leasing[today] ];\n  }\n\n  var earliestHour;\n  var latestHour;\n\n  allTimes.forEach((time, idx) => {\n    var { Start: start, End: end } = time;\n    var compareDate = '1/1/2000 '\n\n    switch (start.toLowerCase()) {\n      case 'midnight':\n      case '24':\n        start = '12:00 AM';\n        break;\n      case 'noon':\n        start = '12:00 PM';\n        break;\n    }\n\n    switch (end.toLowerCase()) {\n      case 'midnight':\n      case '24':\n        end = '11:59 PM';\n        break;\n      case 'noon':\n        end = '12:00 PM';\n        break;\n    }\n\n    if (idx === 0) {\n      earliestHour = start;\n      latestHour = end;\n    } else {\n      if (start != '' && new Date (compareDate + start) < new Date (compareDate + earliestHour) || earliestHour === '') {\n        earliestHour = start;\n      }\n      if (end != '' && new Date (compareDate + end) > new Date (compareDate + latestHour)) {\n        latestHour = end;\n      }\n    }\n  });\n\n  return { open: earliestHour, close: latestHour }\n};\n\n$.fn.isOpen = async function (dealer, time) {\n  var hours = $.fn.getOpenHours(dealer);\n  var compareDate = '1/1/2000 '\n\n  if (!dealer.timeZoneId) {\n    dealer.timeZoneId = await $.fn.getTimeZoneId(dealer);\n  }\n\n  if (hours) {\n    var start = new Date(compareDate + hours.open);\n    var end = new Date(compareDate + hours.close);\n\n    if (~hours.close.toLowerCase().indexOf(\"am\")) {\n      // console.log('end date is AM, add 1 day');\n      end.setDate(compareDate.getDate() + 1);\n    }\n\n    var openTime = (start.getHours() * 60) + start.getMinutes();\n    var closeTime = (end.getHours() * 60) + end.getMinutes();\n\n    var stringDealerDate = moment().tz(dealer.timeZoneId).format();\n    var hourPosition = stringDealerDate.indexOf('T');\n    var dealerLocalHour = stringDealerDate.substring(hourPosition + 1, hourPosition + 6);\n    var [ hour, minutes ] = dealerLocalHour.split(':');\n    var dealerTime = (Number(hour) * 60) + Number(minutes);\n\n    if (dealerTime >= openTime && dealerTime < closeTime) {\n      return { open: true };\n    } else {\n      return { open: false };\n    }\n  }\n};\n\n$.fn.canDetermineHours = function (pin) {\n\n  var hours = null;\n\n  if (pin.hours['Parts']) {\n    hours = pin.hours['Parts'];\n  }\n\n  if (!hours && pin.hours['Service']) {\n    hours = pin.hours['Service'];\n  }\n\n  if (!hours && pin.hours['Leasing']) {\n    hours = pin.hours['Leasing'];\n  }\n\n  if (hours) {\n\n    return true;\n  }\n  return false;\n};\n\n$.fn.renderPinDirections = function (markerId) {\n\n  var templateClone = $($('#sidebar-directions').clone(true).html());\n  var templateClone = $($('#sidebar-direction-list').clone(true).html());\n  var markerDetails;\n\n  $('.add-directions').attr('data-id', markerId);\n\n  for (i = 0; i < $sortedPins.length; i++) {\n\n    if ($sortedPins[i].IDENTIFIER_VALUE == markerId) {\n\n      markerDetails = $sortedPins[i];\n    }\n\n  }\n\n  $('.main-header').css('display', 'none');\n  $('.main-directions').css('display', 'block');\n  $('.go-back').css('display', 'none');\n\n  $origin = $currentAddress;\n  if (!$origin || $origin == '') {\n    $origin = $location[0] + ',' + $location[1];\n    $('.from-directions input').val($origin);\n  }\n\n  let {\n    MAIN_ADDRESS_LINE_1_TXT: address1,\n    MAIN_ADDRESS_LINE_2_TXT: address2,\n    MAIN_CITY_NM: mainCity,\n    MAIN_STATE_PROV_CD: mainState,\n    MAIN_POSTAL_CD: postalCd,\n   } = markerDetails;\n\n  $destination = `${address1 || address2} ${mainCity} ${mainState} ${postalCd}`\n\n  if ($('.from-directions input').val()) {\n    $origin = $('.from-directions input').val();\n  }\n\n  $directionsObject = {\n    origin: $origin,\n    destination: $destination,\n    travelMode: 'DRIVING',\n    optimizeWaypoints: true,\n    provideRouteAlternatives: true,\n    waypoints: $.fn.wayPointArray()\n  };\n\n  $directionsService.route(\n      $directionsObject,\n      function (result, status) {\n        if (status == 'OK') {\n\n          $directionsDisplay.setMap($map);\n\n          $directionsDisplay.setPanel(templateClone.find(\"#directions-container\").get(0));\n          $directionsDisplay.setDirections(result);\n          $directionResults = result;\n        }\n      }\n  );\n\n  $('.from-directions input').val($origin);\n  $('.to-directions input').val($destination);\n\n  var waypointDecodeUrl = \"\";\n  for (var x = 0; x < $wayPoints.length; x++) {\n    var loc = $wayPoints[x].point.location;\n\n    waypointDecodeUrl += '/' + loc.lat() + ',' + loc.lng() + '/';\n  }\n\n  templateClone.find('#gmaps-link').attr('onclick', 'window.open(\"https://www.google.com/maps/dir/' + $origin + '/' + $destination + waypointDecodeUrl + '\", \"_blank\")');\n\n  return templateClone;\n}\n\n// Creates sidebar-pini overview item\n$.fn.renderPinDetails = async function (markerId) {\n\n  var templateClone = $($('#sidebar-pin').clone(true).html());\n  var markerDetails;\n\n  for (i = 0; i < $sortedPins.length; i++) {\n    if ($sortedPins[i].IDENTIFIER_VALUE == markerId) {\n      markerDetails = $sortedPins[i];\n    }\n  }\n\n  var marker;\n  for (i = 0; i < $markers.length; i++) {\n    if ($markers[i].id == markerId) {\n      marker = $markers[i];\n      $viewingPin = marker;\n    }\n  }\n\n  templateClone.find('#title').text($.fn.camelCase(markerDetails.COMPANY_DBA_NAME));\n  templateClone.find('#title2').text($.fn.camelCase(markerDetails.COMPANY_DBA_NAME));\n\n  if (!markerDetails.MAIN_ADDRESS_LINE_1_TXT) {\n    templateClone.find('#address1 div').text(markerDetails.MAIN_ADDRESS_LINE_2_TXT);\n    templateClone.find('#address2').next().remove();\n    templateClone.find('#address2').remove();\n  } else if (!markerDetails.MAIN_ADDRESS_LINE_2_TXT) {\n    templateClone.find('#address1 div').text(markerDetails.MAIN_ADDRESS_LINE_1_TXT);\n    templateClone.find('#address2').next().remove();\n    templateClone.find('#address2').remove();\n  } else {\n    templateClone.find('#address1 div').text(markerDetails.MAIN_ADDRESS_LINE_1_TXT);\n    templateClone.find('#address2 div').text(markerDetails.MAIN_ADDRESS_LINE_2_TXT);\n  }\n\n  templateClone.find('#city-state-zip div').text(markerDetails.MAIN_CITY_NM + ', ' + markerDetails.MAIN_STATE_PROV_CD + ' ' + markerDetails.MAIN_POSTAL_CD);\n\n  if (markerDetails.WEB_ADDRESS) {\n    templateClone.find('.detail-website a').attr('href', $.fn.formatWebAddress(markerDetails.WEB_ADDRESS));\n    templateClone.find('#website').text(markerDetails.WEB_ADDRESS).css('text-transform','lowercase');\n  } else {\n    templateClone.find('.detail-website').css({'pointer-events':'none','cursor':'default','opacity':'0.5'});\n    templateClone.find('#website').css({'pointer-events':'none','cursor':'default','opacity':'0.5'});\n    templateClone.find('#website').parent().addClass('noDataClass');\n  }\n\n  if (markerDetails.EMAIL_ADDRESS) {\n    templateClone.find('#email').html('<a href=\"mailto:' + markerDetails.EMAIL_ADDRESS.toLowerCase() + '\">' + markerDetails.EMAIL_ADDRESS.toLowerCase() + '</a>');\n    templateClone.find('.detail-email').html('<a href=\"mailto:' + markerDetails.EMAIL_ADDRESS.toLowerCase() + '\">' + '<img src=\"/blocks/dealer-locator/images/Mail-2.png\" />' + \"Email\" + '</a>');\n  } else {\n    templateClone.find('.detail-email').html('<a>' + '<img src=\"/blocks/dealer-locator/images/Mail-2.png\" />' + \"Email\" + '</a>');\n    templateClone.find('.detail-email').css({'pointer-events':'none','cursor':'default','opacity':'0.5'});\n    templateClone.find('#email').parent().addClass('noDataClass');\n    templateClone.find('#email').css({'pointer-events':'none','cursor':'default','opacity':'0.5'});\n  }\n\n  templateClone.find('#phone div').html('<a href=\"tel:' + markerDetails.REG_PHONE_NUMBER + '\">' + $.fn.formatPhoneNumber(markerDetails.REG_PHONE_NUMBER) + '</a>');\n  templateClone.find('#directions').attr('data-id', markerDetails.IDENTIFIER_VALUE);\n  templateClone.find('#clipboard-address').attr('data-clipboard', markerDetails.MAIN_ADDRESS_LINE_1_TXT + ' ' + markerDetails.MAIN_ADDRESS_LINE_2_TXT + ' ' + markerDetails.MAIN_CITY_NM + ', ' + markerDetails.MAIN_STATE_PROV_CD + ' ' + markerDetails.MAIN_POSTAL_CD);\n\n  templateClone.find('#open-website').attr('onclick', \"window.open('\" + $.fn.formatWebAddress(markerDetails.WEB_ADDRESS) + \"', '_blank')\");\n\n  templateClone.find('#share-link').val(window.location.href.split('?')[0] + '?view=' + markerDetails.IDENTIFIER_VALUE);\n\n  if (markerDetails.REG_PHONE_NUMBER) {\n    templateClone.find('.detail-call').html('<a href=\"tel:' + markerDetails.REG_PHONE_NUMBER + '\">' + '<img src=\"/blocks/dealer-locator/images/Phone-2.png\" />' + \"Call\" + '</a>');\n  } else {\n    templateClone.find('.detail-call').html('<a>' + '<img src=\"/blocks/dealer-locator/images/Phone-2.png\" />' + \"Call\" + '</a>');\n    templateClone.find('.detail-call').css({'pointer-events':'none','cursor':'default','opacity':'0.5'});\n  }\n\n  templateClone.find('#head-marker').attr('src', $viewingPin.icon.url);\n  templateClone.find('#head-marker').css('width', '31px');\n  templateClone.find('#head-marker').css('height', '43px');\n\n  var myDealer = $.fn.getCookie('my-dealer');\n\n  if (myDealer == markerDetails.IDENTIFIER_VALUE) {\n    //  templateClone.find('#set-dealer span').text('Preferred Dealer');\n    templateClone.find('#set-dealer').html('<img src=\"/blocks/dealer-locator/images/Vector-3.svg\" />');\n    templateClone.find('#head-marker').attr('src', $viewingPin.icon);\n  }\n  else {\n    // templateClone.find('#set-dealer span').text('Set As Your Dealer');\n    templateClone.find('#set-dealer').html('<img src=\"/blocks/dealer-locator/images/Star-1.svg\" />');\n  }\n  templateClone.find('#set-dealer').attr('data-pin', markerDetails.IDENTIFIER_VALUE);\n\n  var openHours = $.fn.getOpenHours(markerDetails);\n  var isOpenHtml = \"\";\n\n  if (openHours.open === '' && openHours.close === '') {\n    isOpenHtml = \"No schedule information available\";\n  } else if (openHours.open.toLowerCase() === 'open 24 hours') {\n    isOpenHtml = openHours.open\n  } else if (openHours.open.toLowerCase() === 'closed') {\n    isOpenHtml = openHours.open\n  } else {\n    var isOpen = await $.fn.isOpen(markerDetails);\n    isOpenHtml = `${isOpen.open ? 'Open' : 'Closed' } - ${openHours.open.toLowerCase()} - ${openHours.close.toLowerCase()}`;\n  }\n\n  var servicesHtml = templateClone.find('#services');\n  var driversHtml = templateClone.find('#drivers');\n  var driverAmenities = [];\n  var newdriverAmenities = [];\n  var serviceAmenities = [];\n  if (markerDetails.services) {\n    var newMarkerDetail = Object.values(markerDetails.services);\n  }\n  if (newMarkerDetail) {\n    jQuery.grep(newMarkerDetail, function (el) {\n      if (jQuery.inArray(el, $isAmentities) == -1) serviceAmenities.push(el);\n    });\n  }\n  if ($isAmentities) {\n    jQuery.grep($isAmentities, function (el) {\n      if (jQuery.inArray(el, newMarkerDetail) == -1) driverAmenities.push(el);\n    });\n  }\n  if ($isAmentities) {\n    jQuery.grep($isAmentities, function (el) {\n      if (jQuery.inArray(el, driverAmenities) == -1) newdriverAmenities.push(el);\n    });\n  }\n  if (serviceAmenities) {\n    $.each(serviceAmenities, function (i, item) {\n\n      $(\"<li/>\", {\n        'html': serviceAmenities[i]\n      }).appendTo(servicesHtml);\n\n    });\n  }\n  if (newdriverAmenities) {\n    $.each(newdriverAmenities, function (i, item) {\n\n      $(\"<li/>\", {\n        'html': newdriverAmenities[i]\n      }).appendTo(driversHtml);\n    });\n  }\n  var driversId = templateClone.find('#drivers');\n  if (driversId && !driversId.find('li').length || newdriverAmenities.length == 0) {\n    templateClone.find('.header-driver-title').hide();\n  } else {\n    templateClone.find('.header-driver-title').show();\n  }\n\n  if ($.isEmptyObject(markerDetails.services)) {\n    templateClone.find('.header-title').css('display', 'none');\n  }\n\n  // We need to display all hours to the user in the details pane\n  var hours = null;\n  var hoursHtml = templateClone.find('#details');\n  var days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n\n  var hasPartsHours = false,\n      hasServiceHours = false,\n      hasLeasingHours = false,\n      hasSalesHours = false;\n\n\n  if (markerDetails.hours.Parts) {\n    hours = markerDetails.hours.Parts;\n\n    $(\"<div/>\", {\n      'html': '<div class=\"hours-dept\">Parts:</div>'\n    }).appendTo(hoursHtml);\n\n    var added = 0;\n    $.each(hours, function (i, item) {\n\n      if (hours[i].Start.toLowerCase().indexOf('24 hours') >= 0 || hours[i].Start.toLowerCase().indexOf('closed') >= 0) {\n        hours[i].Start = '';\n      } else if (hours[i].Start.toLowerCase().length <= 0) {\n        return;\n      }\n\n      $(\"<div/>\", {\n        'html': '<span id=day>' + days[i] + '</span> <span id=time>' + hours[i].Start + ((!hours[i].Start) ? '' : ' - ') + hours[i].End + '</span>'\n      }).appendTo(hoursHtml);\n      added++;\n      hasPartsHours = true;\n    });\n\n    if (added <= 0) {\n      $(\"<div/>\", {\n        'html': 'Please call for hours.'\n      }).appendTo(hoursHtml);\n    }\n\n  }\n\n  if (markerDetails.hours.Service) {\n    hours = markerDetails.hours.Service;\n\n    $(\"<div/>\", {\n      'html': '<div class=\"hours-dept\">Service:</div>'\n    }).appendTo(hoursHtml);\n\n    var added = 0;\n    $.each(hours, function (i, item) {\n\n      if (hours[i].Start.toLowerCase().indexOf('24 hours') >= 0 || hours[i].Start.toLowerCase().indexOf('closed') >= 0) {\n        hours[i].Start = '';\n      } else if (hours[i].Start.toLowerCase().length <= 0) {\n        return;\n      }\n\n      $(\"<div/>\", {\n        'html': '<span id=day>' + days[i] + '</span> <span id=time>' + hours[i].Start + ((!hours[i].Start) ? '' : ' - ') + hours[i].End + '</span>'\n      }).appendTo(hoursHtml);\n      added++;\n      hasServiceHours = true;\n    });\n\n    if (added <= 0) {\n      $(\"<div/>\", {\n        'html': 'Please call for hours.'\n      }).appendTo(hoursHtml);\n    }\n  }\n\n  if (markerDetails.hours.Leasing) {\n    hours = markerDetails.hours.Leasing;\n\n    $(\"<div/>\", {\n      'html': '<div class=\"hours-dept\">Leasing:</div>'\n    }).appendTo(hoursHtml);\n\n    var added = 0;\n    $.each(hours, function (i, item) {\n\n      if (hours[i].Start.toLowerCase().indexOf('24 hours') >= 0 || hours[i].Start.toLowerCase().indexOf('closed') >= 0) {\n        hours[i].Start = '';\n      } else if (hours[i].Start.toLowerCase().length <= 0) {\n        return;\n      }\n\n      $(\"<div/>\", {\n        'html': '<span id=day>' + days[i] + '</span> <span id=time>' + hours[i].Start + ((!hours[i].Start) ? '' : ' - ') + hours[i].End + '</span>'\n      }).appendTo(hoursHtml);\n      added++;\n      hasLeasingHours = true;\n    });\n    if (added <= 0) {\n      $(\"<div/>\", {\n        'html': 'Please call for hours.'\n      }).appendTo(hoursHtml);\n    }\n  }\n\n\n  if (markerDetails.hours.Sales) {\n    hours = markerDetails.hours.Sales;\n\n    if (hours[0].Start.length > 0) {\n      $(\"<div/>\", {\n        'html': '<div class=\"hours-dept\">Sales:</div>'\n      }).appendTo(hoursHtml);\n      var added = 0;\n      $.each(hours, function (i, item) {\n\n        if (hours[i].Start.toLowerCase().indexOf('24 hours') >= 0 || hours[i].Start.toLowerCase().indexOf('closed') >= 0) {\n          hours[i].Start = '';\n        } else if (hours[i].Start.toLowerCase().length <= 0) {\n          return;\n        }\n\n        $(\"<div/>\", {\n          'html': '<span id=day>' + days[i] + '</span> <span id=time>' + hours[i].Start + ((!hours[i].Start) ? '' : ' - ') + hours[i].End + '</span>'\n        }).appendTo(hoursHtml);\n        added++;\n        hasSalesHours = true;\n      });\n      if (added <= 0) {\n        $(\"<div/>\", {\n          'html': 'Please call for hours.'\n        }).appendTo(hoursHtml);\n      }\n    }\n  }\n\n\n  if (!hasPartsHours && !hasServiceHours && !hasLeasingHours && !hasSalesHours) {\n    isOpenHtml = \"Closed\";\n  }\n\n  templateClone.find('#hours div').html(isOpenHtml);\n\n  $map.panTo(marker.position);\n\n\n  return templateClone;\n};\n\n$.fn.renderAddDirectionsPin = function (marker, details) {\n\n  var templateClone = $($('#sidebar-select-pin').clone(true).html());\n\n  templateClone.find('.fa-close').attr('data-id', details.IDENTIFIER_VALUE);\n  console.log(details, \"details\")\n\n  var openHours = $.fn.getOpenHours(pin);\n  var isOpenHtml = \"\";\n  if (openHours.open === '' && openHours.close === '') {\n    isOpenHtml = \"No schedule information available\";\n  } else if (openHours.open.toLowerCase() === 'open 24 hours') {\n    isOpenHtml = `${openHours.open}`;\n  } else if (openHours.open.toLowerCase() === 'closed') {\n    isOpenHtml = `${openHours.open}`;\n  } else {\n    isOpenHtml = `${openHours.open.toLowerCase()} - ${openHours.close.toLowerCase()}`;\n  }\n\n  templateClone.find('.heading p').text($.fn.camelCase(details.COMPANY_DBA_NAME));\n  templateClone.find('.hours').text(isOpenHtml);\n  templateClone.find('.distance').text('~ ' + Math.round(details.distance) + ' mi');\n  templateClone.find('.address').text(details.MAIN_ADDRESS_LINE_1_TXT + ' ' + details.MAIN_ADDRESS_LINE_2_TXT);\n  templateClone.find('.city').text(details.MAIN_CITY_NM + ', ' + details.MAIN_STATE_PROV_CD + ' ' + details.MAIN_POSTAL_CD);\n  templateClone.find('.phone').text(details.REG_PHONE_NUMBER);\n  templateClone.find('.detail-website a').attr(\"href\", $.fn.formatWebAddress(pin.WEB_ADDRESS));\n  templateClone.find('.detail-call').html('<a href=\"tel:' + pin.REG_PHONE_NUMBER + '\">' + '<img src=\"/blocks/dealer-locator/images/Phone-2.png\" />' + \"Call\" + '</a>');\n\n\n  $(\"<div/>\", {\n    'html': templateClone\n  }).appendTo('.nearby-select');\n\n\n};\n\n$.fn.setupAddDirectionsView = function () {\n\n  $('.go-back-pin').attr('onclick', '$.fn.switchSidebarPane(\\'add-directions-return\\',\\'' + $lastPane.split('-').pop().trim() + '\\');');\n\n  $('div[id*=\"sidebar-select-pins\"] span#filter').text($.fn.currentFilterHumanReadable());\n\n  for (var i = 0; i < $markers.length; i++) {\n\n    for (var k = 0; k < $pins.length; k++) {\n\n      if ($pins[k].IDENTIFIER_VALUE == $markers[i].id) {\n\n        if ($.fn.showPin($pins[k])) {\n\n          $markers[i].setMap($map);\n\n          if ($.fn.isWaypoint($pins[k].waypoint)) {\n            var pinIcon = $.fn.drawPin('-', 38, 38, '808080');\n          }\n          else {\n            var pinIcon = $.fn.drawPin('+', 38, 38, '4174C4');\n          }\n\n          $markers[i].setIcon(pinIcon);\n        }\n      }\n    }\n  }\n\n  $map.setZoom(8);\n};\n\n$.fn.switchSidebarPane = async function (id, e) {\n  var markerId = ($(e).data('id') ? $(e).data('id') : e);\n\n  var content = $('#' + id).html();\n\n  var forceRefresh = false;\n  if (e && id == 'sidebar-pin') {\n    content = await $.fn.renderPinDetails(markerId);\n  }\n  if ((e && id == 'sidebar-directions') || id == 'add-directions-return' || id == 'sidebar-direction-list') {\n    content = $.fn.renderPinDirections(markerId);\n    $('.sidebar-content').addClass(\"direction-content\");\n    $('.go-back').css('display', 'none');\n    $('.sidebar-legend').hide();\n    if ($(window).width() < 992) {\n      $('.sidebar').css(\"overflow\", \"scroll\");\n      $('.add-directions').text(\"Recalculate\");\n    }\n    if (id == 'add-directions-return') { forceRefresh = true; }\n\n  } else if (id.indexOf('sidebar-select-pins') >= 0) {\n\n    $.fn.setupAddDirectionsView();\n    content = $('#' + id).html();\n\n    $('.main-directions').css('display', 'none');\n    $('.main-header').css('display', 'none');\n\n  } else {\n    $('.main-directions').css('display', 'none');\n    $('.main-header').css('display', 'block');\n    $.fn.clearDirections();\n    $map.setZoom(8);\n  }\n  // $('.go-back').css('display', 'none');\n  if ($lastPane) {\n    $('#d-' + $lastPane).css('display', 'none');\n    //   $('.go-back').css('background', '#202A44');\n  }\n  if (id == 'sidebar-directions' || id == 'sidebar-direction-list') {\n    $('.go-back').css('display', 'none');\n  }\n  else if (id == 'sidebar-filter') {\n    $('.go-back').css('display', 'block');\n    $('.go-back').css('background', 'none');\n  } else if (id == 'sidebar-pin') {\n    $('.go-back').css('display', 'block');\n    $('.go-back').css('background', '#202A44');\n  } else {\n    $('.go-back').css('display', 'none');\n  }\n  document.body.scrollTop = 0; // For Safari\n  // document.documentElement.scrollTop = 0;\n  $('.sidebar').scrollTop(0);\n  id = id + ((e != null) ? '-' + markerId : '');\n\n  var foundPane = false;\n\n  $panes.forEach(function (pane) {\n    if (pane == id) {\n      if (id.indexOf('directions') >= 0 || id.indexOf('direction') >= 0) {\n\n        $('#d-' + id).remove();\n        $('.go-back').css('display', 'none');\n      } else if (id.indexOf('sidebar-pin') >= 0 && id.indexOf('sidebar-pin-' + markerId) >= 0) {\n        $('#d-' + id).remove();\n        //  $('.go-back').css('display', 'none');\n      } else {\n        $('#d-' + id).css('display', 'block');\n        foundPane = true;\n      }\n\n    }\n  });\n\n  if (!foundPane) {\n\n    $(\"<div/>\", {\n      'id': 'd-' + id,\n      'html': content\n    }).appendTo('.sidebar-content');\n\n    $panes.push(id);\n    //  $('.go-back').css('background', '#202A44');\n  }\n\n  if (forceRefresh) {\n    $('#d-' + id).html(content);\n  }\n\n\n  // Bring pane into view\n  if ($('.sidebar').css('left') != '0px') {\n\n    if ($(window).width() <= 700) {\n      $(\".slider-arrow, .sidebar\").animate({\n        left: \"+=80%\"\n      }, 200, function () {\n        // Animation complete.\n      });\n    }\n    else {\n      $(\".slider-arrow, .sidebar\").animate({\n        left: \"+=408\"\n      }, 200, function () {\n        // Animation complete.\n      });\n    }\n\n    $('.slider-arrow').html('&laquo;').removeClass('show').addClass('hide');\n  }\n\n  $lastPane = id;\n};\n\n$.fn.getPinById = function (id) {\n\n  return $.grep($pins, function (v, i) {\n    return v['IDENTIFIER_VALUE'] === id;\n  })[0];\n};\n\n// When in doubt or need to redraw pins, call this function\n$.fn.filterRadius = function () {\n\n  $nearbyPins = [];\n\n  $.fn.myDealer();\n\n  if (!$me && $location) {\n    $pin = {\n      url: $meIcon,\n      // This marker is 20 pixels wide by 32 pixels high.\n      size: new google.maps.Size(100, 100),\n\n      scaledSize: new google.maps.Size(30, 30),\n\n      // The origin for this image is (0, 0).\n      origin: new google.maps.Point(0, 0),\n\n      // The anchor for this image is the base of the flagpole at (0, 32).\n      anchor: new google.maps.Point(30, 30)\n    };\n\n    $me = new google.maps.Marker({\n      position: { lat: $location[0], lng: $location[1] },\n      title: 'ME',\n      map: $map,\n      zIndex: 0,\n      icon: $pin\n    });\n\n    $me.setZIndex(0);\n  }\n\n  var radius = $.fn.milesInMeters($('#range').val());\n\n  var bounds = new google.maps.LatLngBounds();\n\n  var k = 1;\n  for (var i = 0; i < $markers.length; i++) {\n\n    if (google.maps.geometry.spherical.computeDistanceBetween($markers[i].getPosition(), $me.getPosition()) < radius) {\n\n      bounds.extend($markers[i].getPosition())\n\n      var pin = $.grep($pins, function (v, b) {\n        return v['IDENTIFIER_VALUE'] === $markers[i].ID;\n      })[0];\n\n\n      if ($.fn.showPin(pin)) {\n\n        $markers[i].setMap($map);\n\n        $markers[i].setZIndex(2);\n\n\n\n        $nearbyPins.push($markers[i].ID);\n\n        k++;\n      }\n      else {\n        $markers[i].setMap(null);\n      }\n\n    } else {\n      //$markers[i].setMap(null);\n\n      var pin = $.grep($pins, function (v, b) {\n        return v['IDENTIFIER_VALUE'] === $markers[i].ID;\n      })[0];\n\n      if ($.fn.showPin(pin)) {\n        $markers[i].setMap($map);\n      }\n\n      if ($myDealer != null && ($myDealer.IDENTIFIER_VALUE == $markers[i].id)) {\n        var pinIcon = $.fn.drawPin('', 43, 63, '328E04');\n      }\n      else {\n        if (pin.isCertifiedUptimeCenter) {\n          var pinIcon = {\n            url: \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\",\n            scaledSize: new google.maps.Size(17, 23), // scaled size\n            origin: new google.maps.Point(0, 0), // origin\n            anchor: new google.maps.Point(0, 0)\n          }\n          if ($electricDealer === true || (pin.services && Object.values(pin.services).includes('Volvo Certified EV Dealer'))) {\n            var pinIcon = {\n              url: \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\",\n              scaledSize: new google.maps.Size(17, 23), // scaled size\n              origin: new google.maps.Point(0, 0), // origin\n              anchor: new google.maps.Point(0, 0)\n            }\n          }\n        }\n        else if ($electricDealer === true || (pin.services && Object.values(pin.services).includes('Volvo Certified EV Dealer'))) {\n          var pinIcon = {\n            url: \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\",\n            scaledSize: new google.maps.Size(17, 23), // scaled size\n            origin: new google.maps.Point(0, 0), // origin\n            anchor: new google.maps.Point(0, 0)\n          }\n        }\n\n        else {\n          var pinIcon = {\n            url: \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\",\n            scaledSize: new google.maps.Size(17, 23), // scaled size\n            origin: new google.maps.Point(0, 0), // origin\n            anchor: new google.maps.Point(0, 0)\n          }\n        }\n\n      }\n      $markers[i].setIcon(pinIcon);\n      $markers[i].pinIndex = null;\n\n    }\n\n    $map.fitBounds(bounds);\n\n    $map.setZoom(8);\n\n\n  }\n\n  $map.setCenter($me.getPosition());\n  $map.setZoom(8);\n\n  $.fn.filterNearbyPins();\n};\n\n$.fn.milesInMeters = function ($mi) {\n  return $mi * 1609.3;\n};\n\n$.fn.kmToMiles = function ($km) {\n  return $km * 0.621371;\n};\n\n$.fn.radiusChange = function () {\n\n  $value = $('#range').val() * 1;\n\n  $radiusLabel = $('label[for=\"range\"] span');\n\n  $radiusLabel.html($value);\n\n  $radius.setRadius($.fn.milesInMeters($value));\n\n  $.fn.filterRadius();\n\n  if ($value < 100) {\n\n    $map.fitBounds($radius.getBounds());\n\n  } else {\n    $map.setZoom(8);\n  }\n};\n\n$.fn.setCookie = function (name, value, days) {\n  var expires = \"\";\n  if (days) {\n    var date = new Date();\n    date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n    expires = \"; expires=\" + date.toUTCString();\n  }\n  document.cookie = name + \"=\" + (value || \"\") + expires + \"; path=/\";\n}\n\n$.fn.getCookie = function (name) {\n  var nameEQ = name + \"=\";\n  var ca = document.cookie.split(';');\n  for (var i = 0; i < ca.length; i++) {\n    var c = ca[i];\n    while (c.charAt(0) == ' ') c = c.substring(1, c.length);\n    if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);\n  }\n  return null;\n}\n\n$.fn.deleteCookie = function (name) {\n  document.cookie = name + '=; Max-Age=-99999999;';\n}\n\n$.fn.sortedPins = function () {\n\n  $pinLength = $pins.length;\n\n  for (var i = 0; i < $pinLength; i++) {\n\n    $pins[i];\n    $pins[i].distance = $.fn.getDistanceInMiles([$pins[i].MAIN_LATITUDE, $pins[i].MAIN_LONGITUDE]);\n\n  }\n\n  $sortedPins = $pins;\n\n  $sortedPins.sort(function (a, b) {\n    return parseFloat(a.distance) - parseFloat(b.distance);\n  });\n\n  $sortedPins.filter(function (i, n) {\n    $.fn.showPin(i);\n  });\n\n  return $sortedPins;\n};\n\n$.fn.showPin = function (pin) {\n  var filter = $.fn.currentFilter();\n\n  var condition;\n\n  if ($consolidateFilters) {\n    switch (filter) {\n      case 'all':\n        condition = pin.DEALER_TYPE_DESC.toLowerCase().indexOf('full line') > -1\n            || pin.DEALER_TYPE_DESC.toLowerCase().indexOf('parts & service') > -1\n            || pin.DEALER_TYPE_DESC.toLowerCase().indexOf('parts only') > -1\n            || pin.DEALER_TYPE_DESC.toLowerCase().indexOf('satellite') > -1\n            || pin.isCertifiedCenter\n            || pin.isCertifiedUptimeCenter;\n        break;\n\n      case 'rental-leasing':\n        condition = pin.DEALER_TYPE_DESC.toLowerCase().indexOf('leasing') > -1;\n        break;\n\n      default:\n        condition = false;\n        break;\n    }\n  } else {\n    switch (filter) {\n      case 'full-line':\n        condition = pin.DEALER_TYPE_DESC.toLowerCase().indexOf('full line') > -1;\n        break;\n\n      case 'rental-leasing':\n        condition = pin.DEALER_TYPE_DESC.toLowerCase().indexOf('leasing') > -1;\n        break;\n\n      case 'parts-service':\n        condition = pin.DEALER_TYPE_DESC.toLowerCase().indexOf('parts & service') > -1;\n        break;\n\n      case 'parts-only':\n        condition = pin.DEALER_TYPE_DESC.toLowerCase().indexOf('parts only') > -1;\n        break;\n\n      case 'satellite':\n        condition = pin.DEALER_TYPE_DESC.toLowerCase().indexOf('satellite') > -1;\n        break;\n\n      case 'premium-certified':\n        condition = pin.isCertifiedCenter;\n        break;\n\n      case 'certified-uptime':\n        condition = pin.isCertifiedUptimeCenter;\n        break;\n\n      default:\n        condition = false;\n        break;\n    }\n  }\n  return condition;\n};\n\n$.fn.tmpPins = function (tmpPinList) {\n  var pinIndex = 1;\n  var nearbyHtml = $('.nearby-pins').empty();\n  tmpPinList.forEach(async function (pin) {\n    if (!$.fn.showPin(pin)) {\n      return true;\n    }\n\n    var templateClone = $($('#nearbyPinDetails').clone(true).html());\n\n    templateClone.find('.teaser-top').attr('data-id', pin.IDENTIFIER_VALUE);\n    templateClone.find('.more').attr('data-id', pin.IDENTIFIER_VALUE);\n\n\n    var openHours = $.fn.getOpenHours(pin);\n    var isOpenHtml = \"\";\n    if (openHours.open === '' && openHours.close === '') {\n      isOpenHtml = \"No schedule information available\";\n    } else if (openHours.open.toLowerCase() === 'open 24 hours') {\n      isOpenHtml = `${openHours.open}`;\n    } else if (openHours.open.toLowerCase() === 'closed') {\n      isOpenHtml = `${openHours.open}`;\n    } else {\n      isOpenHtml = `${openHours.open.toLowerCase()} - ${openHours.close.toLowerCase()}`;\n    }\n\n\n    templateClone.find('.heading p').text($.fn.camelCase(pin.COMPANY_DBA_NAME));\n    templateClone.find('.hours').text(isOpenHtml);\n    templateClone.find('.distance').text('~ ' + Math.round(pin.distance) + ' mi');\n    templateClone.find('.city').text(pin.MAIN_CITY_NM + ', ' + pin.MAIN_STATE_PROV_CD + ' ' + pin.MAIN_POSTAL_CD);\n    templateClone.find('.direction a').attr('data-id', pin.IDENTIFIER_VALUE);\n    templateClone.find('.direction a').text('Direction');\n    templateClone.find('.website a').text('Dealer Site');\n    templateClone.find('.phone').text($.fn.formatPhoneNumber(pin.REG_PHONE_NUMBER));\n\n\n    if (!pin.MAIN_ADDRESS_LINE_1_TXT) {\n      templateClone.find('.address').text(pin.MAIN_ADDRESS_LINE_2_TXT);\n    } else if (!pin.MAIN_ADDRESS_LINE_2_TXT) {\n      templateClone.find('.address').text(pin.MAIN_ADDRESS_LINE_1_TXT);\n    } else {\n      templateClone.find('.address').text(pin.MAIN_ADDRESS_LINE_1_TXT + ', ' + pin.MAIN_ADDRESS_LINE_2_TXT);\n    }\n\n    if (pin.WEB_ADDRESS) {\n      templateClone.find('.website a').attr(\"href\", $.fn.formatWebAddress(pin.WEB_ADDRESS));\n    } else {\n      templateClone.find('.website').css({'pointer-events':'none','cursor':'default','opacity':'0.7'});\n    }\n\n    if (pin.REG_PHONE_NUMBER) {\n      templateClone.find('.call').html('<a href=\"tel:' + pin.REG_PHONE_NUMBER + '\">' + \"Call\" + '</a>');\n      templateClone.find('.call a').attr(\"href\", \"tel:\" + $.fn.formatPhoneNumber(pin.REG_PHONE_NUMBER));\n      // templateClone.find('.detail-call').html('<a href=\"tel:' + pin.REG_PHONE_NUMBER + '\">' + '<img src=\"/blocks/dealer-locator/images/Phone-2.png\" />' + \"Call\" + '</a>');\n    } else {\n      templateClone.find('.call').text('Call');\n      templateClone.find('.call').css({'pointer-events':'none','cursor':'default','opacity':'0.7'});\n    }\n\n    var marker;\n    for (i = 0; i < $markers.length; i++) {\n\n      if ($markers[i].id == pin.IDENTIFIER_VALUE) {\n\n        marker = $markers[i];\n\n        if (!$myDealer) {\n          $myDealer = { IDENTIFIER_VALUE: $.fn.getCookie('my-dealer') };\n        }\n\n        if ($myDealer.IDENTIFIER_VALUE == pin.IDENTIFIER_VALUE) {\n          var pinIcon = $.fn.drawPin('', 43, 63, '328E04');\n\n          templateClone.find('#marker').css('width', 'auto');\n          templateClone.find('#marker').css('height', 'auto');\n        }\n        else {\n\n          if (pin.isCertifiedUptimeCenter) {\n            var pinIcon = \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\";\n            var pinIcon2 = {\n              url: \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\",\n              scaledSize: new google.maps.Size(17, 23), // scaled size\n              origin: new google.maps.Point(0, 0), // origin\n              anchor: new google.maps.Point(0, 0)\n            }\n            if ($electricDealer === true || (pin.services && Object.values(pin.services).includes('Volvo Certified EV Dealer'))) {\n              var pinIcon = \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\";\n              var pinIcon2 = {\n                url: \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\",\n                scaledSize: new google.maps.Size(17, 23), // scaled size\n                origin: new google.maps.Point(0, 0), // origin\n                anchor: new google.maps.Point(0, 0)\n              }\n            }\n          }\n          else if ($electricDealer === true || (pin.services && Object.values(pin.services).includes('Volvo Certified EV Dealer'))) {\n            var pinIcon = \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\";\n            var pinIcon2 = {\n              url: \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\",\n              scaledSize: new google.maps.Size(17, 23), // scaled size\n              origin: new google.maps.Point(0, 0), // origin\n            }\n\n          }\n          else {\n            var pinIcon = \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\";\n            var pinIcon2 = {\n              url: \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\",\n              scaledSize: new google.maps.Size(17, 23), // scaled size\n              origin: new google.maps.Point(0, 0), // origin\n            }\n          }\n        }\n\n\n        marker.setIcon(pinIcon2);\n\n        marker['pinIndex'] = pinIndex;\n\n\n\n        templateClone.find('#marker').attr('src', pinIcon);\n\n        pinIndex++;\n      }\n    }\n\n    $.fn.myDealer();\n\n    $(\"<div/>\", {\n      'html': templateClone,\n      'click': function () {\n      },\n      'mouseenter': function () {\n\n        $(this).click(function () {\n          $(this).attr('clicked', 'yes');\n        });\n\n        var details = $.fn.getPinById(marker.ID);\n        if (details.isCertifiedUptimeCenter) {\n          var pinIcon = {\n            url: \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\",\n            scaledSize: new google.maps.Size(58, 80), // scaled size\n            origin: new google.maps.Point(0, 0), // origin\n            anchor: new google.maps.Point(19, 57)\n          }\n          if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n            var pinIcon = {\n              url: \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\",\n              scaledSize: new google.maps.Size(58, 80), // scaled size\n              origin: new google.maps.Point(0, 0), // origin\n              anchor: new google.maps.Point(19, 57)\n            }\n          }\n        }\n        else if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n          var pinIcon = {\n            url: \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\",\n            scaledSize: new google.maps.Size(58, 80), // scaled size\n            origin: new google.maps.Point(0, 0), // origin\n            anchor: new google.maps.Point(19, 57)\n          }\n        }\n        else {\n          var pinIcon = {\n            url: \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\",\n            scaledSize: new google.maps.Size(58, 80), // scaled size\n            origin: new google.maps.Point(0, 0), // origin\n            anchor: new google.maps.Point(19, 57)\n          }\n        }\n\n        marker.setIcon(pinIcon);\n\n        $.fn.myDealer();\n\n      },\n      'mouseleave': function () {\n\n        if ($(this).attr('clicked') != 'yes') {\n\n          var details = $.fn.getPinById(marker.ID);\n\n          if (details.isCertifiedUptimeCenter) {\n            var pinIcon = {\n              url: \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\",\n              scaledSize: new google.maps.Size(17, 23), // scaled size\n              origin: new google.maps.Point(0, 0), // origin\n              anchor: new google.maps.Point(0, 0)\n            }\n            if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n              var pinIcon = {\n                url: \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\",\n                scaledSize: new google.maps.Size(17, 23), // scaled size\n                origin: new google.maps.Point(0, 0), // origin\n                anchor: new google.maps.Point(0, 0)\n              }\n            }\n          }\n          else if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n            var pinIcon = {\n              url: \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\",\n              scaledSize: new google.maps.Size(17, 23), // scaled size\n              origin: new google.maps.Point(0, 0), // origin\n              anchor: new google.maps.Point(0, 0)\n            }\n          }\n          else {\n            var pinIcon = {\n              url: \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\",\n              scaledSize: new google.maps.Size(17, 23), // scaled size\n              origin: new google.maps.Point(0, 0), // origin\n              anchor: new google.maps.Point(0, 0)\n            }\n          }\n\n          marker.setIcon(pinIcon);\n\n          $.fn.myDealer();\n\n        }\n\n      }\n    }).appendTo(nearbyHtml);\n\n  });\n};\n// Creates pin result item\n$.fn.filterNearbyPins = function () {\n\n  $assist = 0;\n  $full = 0;\n  $rental = 0;\n  $partsService = 0;\n  $parts = 0;\n  $premium = 0;\n  $uptime = 0;\n\n\n  // First get the full details of our locations\n  var tmpPinList = [];\n  var sorted = $.fn.sortedPins();\n\n\n  var allPinsIds = [];\n  $pins.forEach(pin => {\n    allPinsIds.push(pin.IDENTIFIER_VALUE);\n  });\n\n  allPinsIds.forEach(function (pin) {\n    tmpPinList.push($.grep(sorted, function (v, i) {\n      return v['IDENTIFIER_VALUE'] === pin;\n    })[0]);\n  });\n\n  tmpPinList.sort(function (a, b) {\n    return parseFloat(a.distance) - parseFloat(b.distance);\n  });\n  $(\"#filterUptime,#filterElectricDealer,#filterDealer\").css(\"cursor\", \"pointer\");\n  $('.no-dealer-text').hide();\n  $(\"#filterUptime,#filterElectricDealer,#filterDealer\").css('background', '#484A4E');\n  $(\"#filterElectricDealerMobile,#filterDealerMobile,#filterUptimeMobile\").css('background', '#484A4E');\n  $(\"#filterUptime,#filterElectricDealer,#filterDealer\").removeData(\"toggled\");\n  $(\"#filterElectricDealerMobile,#filterDealerMobile,#filterUptimeMobile\").removeData(\"toggled\");\n  document.getElementById('filterElectricDealer').style.pointerEvents = 'auto';\n  document.getElementById('filterDealer').style.pointerEvents = 'auto';\n  document.getElementById('filterUptime').style.pointerEvents = 'auto';\n  document.getElementById('filterElectricDealerMobile').style.pointerEvents = 'auto';\n  document.getElementById('filterDealerMobile').style.pointerEvents = 'auto';\n  document.getElementById('filterUptimeMobile').style.pointerEvents = 'auto';\n\n  $(\"#filterUptime, #filterUptimeMobile \").unbind().bind(\"click\", function (e) {\n    e.preventDefault();\n    var tmpPinList2 = [];\n    var toggled = $(this).data('toggled');\n    $(this).data('toggled', !toggled);\n    $('.nearby-pins').empty();\n    $('.no-dealer-text').hide();\n    var filteredArray = tmpPinList.filter(function (item) {\n      return item.isCertifiedUptimeCenter == true || (item.isCertifiedUptimeCenter == true && (item.services && Object.values(item.services).includes('Volvo Certified EV Dealer')));\n    });\n    if (filteredArray.length == 0) {\n      $('.nearby-pins').empty();\n      $('.no-dealer-text').show();\n    }\n    var newList = [];\n    var pins = [];\n    pins = $pins;\n    if (pins) {\n      jQuery.grep(pins, function (el) {\n        if (jQuery.inArray(el, filteredArray) == -1) newList.push(el);\n      });\n    }\n    if (!toggled) {\n      $(this).css('background', '#808080');\n      tmpPinList2 = filteredArray;\n      $.fn.tmpPins(tmpPinList2);\n\n      newList.forEach(function (pin) {\n        for (i = 0; i < $markers.length; i++) {\n\n          if ($markers[i].id == pin.IDENTIFIER_VALUE) {\n\n            marker = $markers[i];\n            marker.setMap(null);\n          }\n        }\n      });\n      document.getElementById('filterElectricDealer').style.pointerEvents = 'none';\n      document.getElementById('filterDealer').style.pointerEvents = 'none';\n      document.getElementById('filterElectricDealerMobile').style.pointerEvents = 'none';\n      document.getElementById('filterDealerMobile').style.pointerEvents = 'none';\n      document.getElementById('dealer-tag').setAttribute(\"title\", $hoverText);\n      document.getElementById('electric-tag').setAttribute(\"title\", $hoverText);\n    }\n    else {\n      $(this).css('background', '#484A4E');\n      $('.no-dealer-text').hide();\n      $.fn.tmpPins(tmpPinList);\n      newList.forEach(function (pin) {\n        if (!$.fn.showPin(pin)) {\n          return true;\n        }\n        for (i = 0; i < $markers.length; i++) {\n\n          if ($markers[i].id == pin.IDENTIFIER_VALUE) {\n\n            marker = $markers[i];\n            marker.setMap($map);\n          }\n        }\n      });\n      document.getElementById('filterElectricDealer').style.pointerEvents = 'auto';\n      document.getElementById('filterDealer').style.pointerEvents = 'auto';\n      document.getElementById('filterElectricDealerMobile').style.pointerEvents = 'auto';\n      document.getElementById('filterDealerMobile').style.pointerEvents = 'auto';\n      document.getElementById('dealer-tag').removeAttribute(\"title\", $hoverText);\n      document.getElementById('electric-tag').removeAttribute(\"title\", $hoverText);\n    }\n    return false;\n  });\n\n  $(\"#filterElectricDealer, #filterElectricDealerMobile \").unbind().bind(\"click\", function (e) {\n    e.preventDefault();\n    var tmpPinList3 = [];\n    var toggled = $(this).data('toggled');\n    $(this).data('toggled', !toggled);\n    $('.nearby-pins').empty();\n    $('.no-dealer-text').hide();\n    var filteredDealerArray = tmpPinList.filter(function (item) {\n      return (item.services && Object.values(item.services).includes('Volvo Certified EV Dealer'));\n\n    });\n    if (filteredDealerArray.length == 0) {\n      $('.nearby-pins').empty();\n      $('.no-dealer-text').show();\n    }\n    var newList = [];\n    var pins = [];\n    pins = $pins;\n    if (pins) {\n      jQuery.grep(pins, function (el) {\n        if (jQuery.inArray(el, filteredDealerArray) == -1) newList.push(el);\n      });\n    }\n    if (!toggled) {\n      $(this).css('background', '#808080');\n      tmpPinList3 = filteredDealerArray;\n      $.fn.tmpPins(tmpPinList3);\n      newList.forEach(function (pin) {\n        for (i = 0; i < $markers.length; i++) {\n\n          if ($markers[i].id == pin.IDENTIFIER_VALUE) {\n\n            marker = $markers[i];\n            marker.setMap(null);\n          }\n        }\n      });\n      document.getElementById('filterDealer').style.pointerEvents = 'none';\n      document.getElementById('filterUptime').style.pointerEvents = 'none';\n      document.getElementById('filterDealerMobile').style.pointerEvents = 'none';\n      document.getElementById('filterUptimeMobile').style.pointerEvents = 'none';\n      document.getElementById('dealer-tag').setAttribute(\"title\", $hoverText);\n      document.getElementById('uptime-tag').setAttribute(\"title\", $hoverText);\n    }\n    else {\n      $(this).css('background', '#484A4E');\n      $('.no-dealer-text').hide();\n      $.fn.tmpPins(tmpPinList);\n      newList.forEach(function (pin) {\n\n        if (!$.fn.showPin(pin)) {\n          return true;\n        }\n        for (i = 0; i < $markers.length; i++) {\n\n          if ($markers[i].id == pin.IDENTIFIER_VALUE) {\n\n            marker = $markers[i];\n            marker.setMap($map);\n          }\n        }\n      });\n      document.getElementById('filterDealer').style.pointerEvents = 'auto';\n      document.getElementById('filterUptime').style.pointerEvents = 'auto';\n      document.getElementById('filterDealerMobile').style.pointerEvents = 'auto';\n      document.getElementById('filterUptimeMobile').style.pointerEvents = 'auto';\n      document.getElementById('dealer-tag').removeAttribute(\"title\", $hoverText);\n      document.getElementById('uptime-tag').removeAttribute(\"title\", $hoverText);\n    }\n    return false;\n  });\n\n  $(\"#filterDealer, #filterDealerMobile \").unbind().bind(\"click\", function (e) {\n    e.preventDefault();\n    var tmpPinList4 = [];\n    var toggled = $(this).data('toggled');\n    $(this).data('toggled', !toggled);\n    $('.nearby-pins').empty();\n    $('.no-dealer-text').hide();\n    var filteredDealerArray = tmpPinList.filter(function (item) {\n      return ((item.services == undefined) || (item.isCertifiedUptimeCenter == undefined && (item.services && Object.values(item.services).includes('Volvo Certified EV Dealer'))) || (item.isCertifiedUptimeCenter == undefined && (item.services && !Object.values(item.services).includes('Volvo Certified EV Dealer'))));\n      // }\n\n    });\n    if (filteredDealerArray.length == 0) {\n      $('.nearby-pins').empty();\n      $('.no-dealer-text').show();\n    }\n    var newList = [];\n    var pins = [];\n    pins = $pins;\n    if (pins) {\n      jQuery.grep(pins, function (el) {\n        if (jQuery.inArray(el, filteredDealerArray) == -1) newList.push(el);\n      });\n    }\n    if (!toggled) {\n      $(this).css('background', '#808080');\n      tmpPinList4 = filteredDealerArray;\n      $.fn.tmpPins(tmpPinList4);\n\n      newList.forEach(function (pin) {\n        for (i = 0; i < $markers.length; i++) {\n\n          if ($markers[i].id == pin.IDENTIFIER_VALUE) {\n\n            marker = $markers[i];\n            marker.setMap(null);\n          }\n        }\n      });\n      document.getElementById('filterElectricDealer').style.pointerEvents = 'none';\n      document.getElementById('filterUptime').style.pointerEvents = 'none';\n      document.getElementById('filterElectricDealerMobile').style.pointerEvents = 'none';\n      document.getElementById('filterUptimeMobile').style.pointerEvents = 'none';\n      document.getElementById('electric-tag').setAttribute(\"title\", $hoverText);\n      document.getElementById('uptime-tag').setAttribute(\"title\", $hoverText);\n    }\n    else {\n      $(this).css('background', '#484A4E');\n      $('.no-dealer-text').hide();\n      $.fn.tmpPins(tmpPinList);\n      newList.forEach(function (pin) {\n\n        if (!$.fn.showPin(pin)) {\n          return true;\n        }\n        for (i = 0; i < $markers.length; i++) {\n\n          if ($markers[i].id == pin.IDENTIFIER_VALUE) {\n\n            marker = $markers[i];\n            marker.setMap($map);\n          }\n        }\n      });\n      document.getElementById('filterElectricDealer').style.pointerEvents = 'auto';\n      document.getElementById('filterUptime').style.pointerEvents = 'auto';\n      document.getElementById('filterElectricDealerMobile').style.pointerEvents = 'auto';\n      document.getElementById('filterUptimeMobile').style.pointerEvents = 'auto';\n      document.getElementById('electric-tag').removeAttribute(\"title\", $hoverText);\n      document.getElementById('uptime-tag').removeAttribute(\"title\", $hoverText);\n    }\n    return false;\n  });\n\n\n  //  else {\n  $.fn.tmpPins(tmpPinList);\n  // }\n  if ($(window).width() <= 768) {\n    $('.panel-footer').html('<img src=\"' + $.fn.drawPin('', 38, 38, '3F62A5') + '\" /> Certified Uptime Dealer');\n  } else {\n    $('.panel-footer').html('Showing ' + $nearbyPins.length + ' locations');\n  }\n\n  $('.loading-overlay').css('display', 'none');\n};\n\n$.fn.selectNearbyPins = function () {\n\n  var nearbyHtml = $('.nearby-pins-select').empty();\n\n  // First get the full details of our locations\n  var tmpPinList = [];\n  var sorted = $.fn.sortedPins();\n\n  $nearbyPins.forEach(function (pin) {\n    tmpPinList.push($.grep(sorted, function (v, i) {\n      return v['IDENTIFIER_VALUE'] === pin;\n    })[0]);\n  });\n\n  tmpPinList.sort(function (a, b) {\n    return parseFloat(a.distance) - parseFloat(b.distance);\n  });\n\n  var pinIndex = 1;\n  // then iterate over them\n  tmpPinList.forEach(function (pin) {\n\n    if (!$.fn.showPin(pin)) {\n      return true;\n    }\n\n    var templateClone = $($('#nearbyPinDetails').clone(true).html());\n\n    templateClone.find('.panel-container').parent().attr('data-id', pin.IDENTIFIER_VALUE);\n\n\n    var openHours = $.fn.getOpenHours(pin);\n    var isOpenHtml = \"\";\n    if (openHours.open === '' && openHours.close === '') {\n      isOpenHtml = \"No schedule information available\";\n    } else {\n      isOpenHtml = `${openHours.open.toLowerCase()} - ${openHours.close.toLowerCase()}`;\n    }\n\n\n    templateClone.find('.heading p').text($.fn.camelCase(pin.COMPANY_DBA_NAME));\n    templateClone.find('.hours').text(isOpenHtml);\n    templateClone.find('.distance').text('~ ' + Math.round(pin.distance) + ' mi');\n    templateClone.find('.address').text(pin.MAIN_ADDRESS_LINE_1_TXT);\n    templateClone.find('.city').text(pin.MAIN_CITY_NM + ', ' + pin.MAIN_STATE_PROV_CD + ' ' + pin.MAIN_POSTAL_CD);\n    templateClone.find('.phone').text($.fn.formatPhoneNumber(pin.REG_PHONE_NUMBER));\n      templateClone.find('.website a').text('Dealer Site');\n      templateClone.find('.website a').attr(\"href\", $.fn.formatWebAddress(pin.WEB_ADDRESS));\n      templateClone.find('.detail-website a').attr(\"href\", $.fn.formatWebAddress(pin.WEB_ADDRESS));\n      templateClone.find('.detail-call').html('<a href=\"tel:' + pin.REG_PHONE_NUMBER + '\">' + '<img src=\"/blocks/dealer-locator/images/Phone-2.png\" />' + \"Call\" + '</a>');\n\n    var marker;\n    for (i = 0; i < $markers.length; i++) {\n\n      if ($markers[i].id == pin.IDENTIFIER_VALUE) {\n\n        marker = $markers[i];\n\n        if (!$myDealer) {\n          $myDealer = { IDENTIFIER_VALUE: $.fn.getCookie('my-dealer') };\n        }\n\n        if ($myDealer.IDENTIFIER_VALUE == pin.IDENTIFIER_VALUE) {\n          var pinIcon = $.fn.drawPin('', 43, 63, '328E04');\n        }\n        else {\n          var details = $.fn.getPinById(pin.ID);\n          if (details.isCertifiedUptimeCenter) {\n            var pinIcon = \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\";\n            if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n              pinIcon = \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\";\n            }\n          }\n          else if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n            var pinIcon = \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\";\n          }\n          else {\n            var pinIcon = \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\";\n          }\n        }\n\n        marker.setIcon(pinIcon);\n\n        marker['pinIndex'] = pinIndex;\n\n\n\n        templateClone.find('#marker').attr('src', pinIcon);\n        templateClone.find('#marker').css('width', '31px');\n        templateClone.find('#marker').css('height', '43px');\n\n        pinIndex++;\n      }\n    }\n\n    $.fn.myDealer();\n\n    $(\"<div/>\", {\n      'html': templateClone,\n      'click': function () {\n      },\n      'mouseenter': function () {\n\n        $(this).click(function () {\n          $(this).attr('clicked', 'yes');\n        });\n\n        var details = $.fn.getPinById(marker.ID);\n        if (details.isCertifiedUptimeCenter) {\n          var pinIcon = {\n            url: \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\",\n            scaledSize: new google.maps.Size(17, 23), // scaled size\n            origin: new google.maps.Point(0, 0), // origin\n            anchor: new google.maps.Point(0, 0)\n          }\n          if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n            var pinIcon = {\n              url: \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\",\n              scaledSize: new google.maps.Size(17, 23), // scaled size\n              origin: new google.maps.Point(0, 0), // origin\n              anchor: new google.maps.Point(0, 0)\n            }\n          }\n        }\n        else if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n          var pinIcon = {\n            url: \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\",\n            scaledSize: new google.maps.Size(17, 23), // scaled size\n            origin: new google.maps.Point(0, 0), // origin\n            anchor: new google.maps.Point(0, 0)\n          }\n        }\n        else {\n          var pinIcon = {\n            url: \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\",\n            scaledSize: new google.maps.Size(17, 23), // scaled size\n            origin: new google.maps.Point(0, 0), // origin\n            anchor: new google.maps.Point(0, 0)\n          }\n        }\n\n        marker.setIcon(pinIcon);\n\n        $.fn.myDealer();\n\n      },\n      'mouseleave': function () {\n\n        if ($(this).attr('clicked') != 'yes') {\n\n          var details = $.fn.getPinById(marker.ID);\n          if (details.isCertifiedUptimeCenter) {\n            var pinIcon = {\n              url: \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\",\n              scaledSize: new google.maps.Size(17, 23), // scaled size\n              origin: new google.maps.Point(0, 0), // origin\n              anchor: new google.maps.Point(0, 0)\n            }\n            if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n              var pinIcon = {\n                url: \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\",\n                scaledSize: new google.maps.Size(17, 23), // scaled size\n                origin: new google.maps.Point(0, 0), // origin\n                anchor: new google.maps.Point(0, 0)\n              }\n            }\n          }\n          else if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n            var pinIcon = {\n              url: \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\",\n              scaledSize: new google.maps.Size(17, 23), // scaled size\n              origin: new google.maps.Point(0, 0), // origin\n              anchor: new google.maps.Point(0, 0)\n            }\n          }\n          else {\n            var pinIcon = {\n              url: \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\",\n              scaledSize: new google.maps.Size(17, 23), // scaled size\n              origin: new google.maps.Point(0, 0), // origin\n              anchor: new google.maps.Point(0, 0)\n            }\n          }\n\n          marker.setIcon(pinIcon);\n\n          $.fn.myDealer();\n\n        }\n\n      }\n    }).appendTo(nearbyHtml);\n\n  });\n\n  if ($(window).width() <= 768) {\n    $('.panel-footer').html('<img src=\"' + $.fn.drawPin('', 38, 38, '3F62A5') + '\" /> Certified Uptime Dealer');\n  } else {\n    $('.panel-footer').html('Showing ' + $nearbyPins.length + ' locations');\n  }\n\n\n};\n\n$.fn.getDistanceInMiles = function ($b) {\n\n  if (!$location) {\n    return 0;\n  }\n\n  // Radius of the earth in km divided by 0.621371 mi/km\n  $R = 6371 * 0.621371;\n  $dLat = $.fn.deg2rad($b[0] - $location[0]);  // deg2rad below\n  $dLon = $.fn.deg2rad($b[1] - $location[1]);\n  $a =\n      Math.sin($dLat / 2) * Math.sin($dLat / 2) +\n      Math.cos($.fn.deg2rad($location[0])) * Math.cos($.fn.deg2rad($b[0])) *\n      Math.sin($dLon / 2) * Math.sin($dLon / 2);\n  $c = 2 * Math.atan2(Math.sqrt($a), Math.sqrt(1 - $a));\n  $d = $R * $c; // Distance in miles\n  return $d;\n};\n\n$.fn.deg2rad = function ($deg) {\n  return $deg * (Math.PI / 180);\n};\n\n// Fires when a client types a location manually\n$.fn.setAddress2 = function () {\n\n  address2 = $('#location2').val();\n\n  if (!address2) {\n    return null;\n  }\n\n  $geocoder = new google.maps.Geocoder;\n  $geocoder = new google.maps.Geocoder;\n  $geocoder.geocode({ 'address': address2 }, function (results, status) {\n    if (!results || results.length == 0) {\n      console.log(\"results not found\");\n    }\n    else {\n      $map.viewtype = (results[0].types[0]);\n      var ne = results[0].geometry.viewport.getNorthEast();\n      var sw = results[0].geometry.viewport.getSouthWest();\n      $map.fitBounds(results[0].geometry.viewport);\n\n      position = results[0].geometry.location;\n\n      var pos = {\n        lat: position.lat(),\n        lng: position.lng()\n      };\n\n      $location = [\n        position.lat(),\n        position.lng()\n      ];\n\n\n      if (!$me) {\n        $pin = {\n          url: $meIcon,\n          // This marker is 20 pixels wide by 32 pixels high.\n          size: new google.maps.Size(100, 100),\n\n          scaledSize: new google.maps.Size(30, 30),\n\n          // The origin for this image is (0, 0).\n          origin: new google.maps.Point(0, 0),\n\n          // The anchor for this image is the base of the flagpole at (0, 32).\n          anchor: new google.maps.Point(30, 30)\n        };\n\n        $me = new google.maps.Marker({\n          position: { lat: $location[0], lng: $location[1] },\n          title: 'ME',\n          map: $map,\n          zIndex: 0,\n          icon: $pin\n        });\n\n        $me.setZIndex(0);\n\n      }\n\n\n      $me.setPosition({ lat: parseFloat(pos.lat), lng: parseFloat(pos.lng) });\n\n\n      if (!$radius) {\n        $radius = new google.maps.Circle({\n          strokeColor: '#2c6ba4',\n          strokeOpacity: 0.5,\n          strokeWeight: 2,\n          fillColor: '#2c6ba4',\n          fillOpacity: 0.15,\n          map: $map,\n          center: pos,\n          radius: $.fn.milesInMeters($('#range').val())\n        });\n\n        $('.loading-overlay').css('display', 'block');\n\n        // Load pins into client cache\n        $.fn.loadPins();\n\n        // Sort pins by distance (miles)\n        $.fn.sortedPins();\n\n        // Set default sidebar pane\n        $.fn.switchSidebarPane('sidebar-pins');\n\n\n\n      } else {\n        $radius.setCenter({ lat: parseFloat(pos.lat), lng: parseFloat(pos.lng) });\n        $.fn.filterRadius();\n      }\n\n      // Set default sidebar pane\n      $.fn.switchSidebarPane('sidebar-pins');\n\n      $('.waiting-overlay').css('display', 'none');\n\n    }\n  });\n  // $.fn.filterNearbyPins();\n  // $.fn.filterRadius();\n};\n\n$.fn.setAddress = function () {\n\n  if ($(window).width() < 992) {\n    address = address2;\n  }\n  address = $('#location').val();\n  if (!address) {\n    return null;\n  }\n\n  $geocoder = new google.maps.Geocoder;\n  $geocoder = new google.maps.Geocoder;\n  $geocoder.geocode({ 'address': address }, function (results, status) {\n    if (!results || results.length == 0) {\n      console.log(\"results not found\");\n    }\n    else {\n      $map.viewtype = (results[0].types[0]);\n      var ne = results[0].geometry.viewport.getNorthEast();\n      var sw = results[0].geometry.viewport.getSouthWest();\n      $map.fitBounds(results[0].geometry.viewport);\n\n      position = results[0].geometry.location;\n\n      var pos = {\n        lat: position.lat(),\n        lng: position.lng()\n      };\n\n      $location = [\n        position.lat(),\n        position.lng()\n      ];\n\n\n      if (!$me) {\n        $pin = {\n          url: $meIcon,\n          // This marker is 20 pixels wide by 32 pixels high.\n          size: new google.maps.Size(100, 100),\n\n          scaledSize: new google.maps.Size(30, 30),\n\n          // The origin for this image is (0, 0).\n          origin: new google.maps.Point(0, 0),\n\n          // The anchor for this image is the base of the flagpole at (0, 32).\n          anchor: new google.maps.Point(30, 30)\n        };\n\n        $me = new google.maps.Marker({\n          position: { lat: $location[0], lng: $location[1] },\n          title: 'ME',\n          map: $map,\n          zIndex: 0,\n          icon: $pin\n        });\n\n        $me.setZIndex(0);\n\n      }\n\n\n      $me.setPosition({ lat: parseFloat(pos.lat), lng: parseFloat(pos.lng) });\n\n\n      if (!$radius) {\n        $radius = new google.maps.Circle({\n          strokeColor: '#2c6ba4',\n          strokeOpacity: 0.5,\n          strokeWeight: 2,\n          fillColor: '#2c6ba4',\n          fillOpacity: 0.15,\n          map: $map,\n          center: pos,\n          radius: $.fn.milesInMeters($('#range').val())\n        });\n\n        $('.loading-overlay').css('display', 'block');\n\n        // Load pins into client cache\n        $.fn.loadPins();\n\n        // Sort pins by distance (miles)\n        $.fn.sortedPins();\n\n        // Set default sidebar pane\n        $.fn.switchSidebarPane('sidebar-pins');\n\n\n\n      } else {\n        $radius.setCenter({ lat: parseFloat(pos.lat), lng: parseFloat(pos.lng) });\n        $.fn.filterRadius();\n      }\n\n      // Set default sidebar pane\n      $.fn.switchSidebarPane('sidebar-pins');\n\n      $('.waiting-overlay').css('display', 'none');\n\n    }\n  });\n  // $.fn.filterNearbyPins();\n  // $.fn.filterRadius();\n};\n\n// Handles geolocation\n$.fn.setLocation = function () {\n\n  if (navigator.geolocation) {\n\n    navigator.geolocation.getCurrentPosition(function (position) {\n\n      var pos = {\n        lat: position.coords.latitude,\n        lng: position.coords.longitude\n      };\n\n      $location = [\n        position.coords.latitude,\n        position.coords.longitude\n      ];\n\n      $map.setCenter(pos);\n      $map.setZoom(8);\n\n\n      if (!$radius) {\n\n        if ($map) {\n          $radius = new google.maps.Circle({\n            strokeColor: '#2c6ba4',\n            strokeOpacity: 0.5,\n            strokeWeight: 2,\n            fillColor: '#2c6ba4',\n            fillOpacity: 0.15,\n            map: $map,\n            center: pos,\n            radius: $.fn.milesInMeters($('#range').val())\n          });\n        }\n\n        // Load pins into client cache\n        $.fn.loadPins();\n\n        // Sort pins be distance (miles)\n        $.fn.sortedPins();\n\n        // Set default sidebar pane\n        $.fn.switchSidebarPane('sidebar-pins');\n\n\n\n      } else {\n\n        $me.setPosition({ lat: parseFloat(pos.lat), lng: parseFloat(pos.lng) });\n\n        $radius.setCenter({ lat: parseFloat(pos.lat), lng: parseFloat(pos.lng) });\n\n        $.fn.filterRadius();\n\n      }\n\n      var address;\n\n      var latlng = new google.maps.LatLng(pos.lat, pos.lng);\n      $geocoder.geocode({ 'latLng': latlng }, function (results, status) {\n        if (status == google.maps.GeocoderStatus.OK) {\n\n          if (results[6]) {\n            address = results[0]?.formatted_address || '';\n          }\n          else if (results[0]) {\n            address = results[5]?.formatted_address || '';\n          }\n          else {\n            console.log('no results found');\n          }\n\n          if (address) {\n\n            $('.sidebar #location').val(address);\n            $currentAddress = address;\n            $('#location2').val(address);\n            $currentAddress = address;\n          }\n\n        } else {\n          console.log('geocode failed due to: ' + status);\n        }\n      });\n\n    }, function () {\n\n      //this.setMap(null);\n      console.log('error with navigator');\n      $.fn.handleLocationError(true);\n\n    });\n\n\n  } else {\n    // Browser doesn't support Geolocation\n    //this.setMap(null);\n\n    console.log('could not determine location');\n\n    $.fn.handleLocationError(false);\n\n  }\n};\n\n$.fn.currentFilter = function () {\n\n  $current = $('#filter-options input:checked').first();\n\n  if ($current.get(0) !== undefined) {\n\n    return $('#filter-options input:checked').first().attr('id');\n\n  }\n\n  return \"\";\n};\n\n$.fn.currentFilterHumanReadable = function () {\n\n  $current = $('#filter-options input:checked').first();\n\n  if ($current.get(0) !== undefined) {\n\n    return $('#filter-options input:checked').first().attr('value');\n\n  }\n\n  return \"\";\n};\n\n$.fn.setMyDealer = function (dealer) {\n\n  if ($myDealer != null && $myDealer.oldZIndex) {\n\n    //$myDealer.marker.setZIndex($myDealer.oldZIndex);\n\n  }\n\n  $eventData = {\n    dealer: '',\n    dealerName: '',\n    dealerHours: {},\n    dealerNumber: ''\n  };\n\n  if (dealer) {\n\n    $myDealer = dealer;\n\n    var marker;\n    for (i = 0; i < $markers.length; i++) {\n\n      if ($markers[i].id == dealer.IDENTIFIER_VALUE) {\n\n        marker = $markers[i];\n\n      }\n    }\n\n\n    var pinIcon = $.fn.drawPin('', 43, 63, '328E04');\n\n    marker.setIcon(pinIcon);\n\n    $myDealer.marker = marker;\n\n    var hours = {};\n\n    if ($myDealer.hours.Parts) {\n      hours = $myDealer.hours.Parts;\n    }\n\n    if ($.isEmptyObject(hours) && $myDealer.hours.Service) {\n      hours = $myDealer.hours.Service;\n    }\n\n    if ($.isEmptyObject(hours) && $myDealer.hours.Leasing) {\n      hours = $myDealer.hours.Leasing;\n    }\n\n    $eventData.dealer = $myDealer.IDENTIFIER_VALUE;\n    $eventData.dealerName = $myDealer.COMPANY_DBA_NAME;\n    $eventData.dealerHours = hours;\n    $eventData.dealerNumber = $myDealer.REG_PHONE_NUMBER;\n\n    $.fn.setCookie('my-dealer', $myDealer.IDENTIFIER_VALUE, 365 * 10);\n    $.fn.setCookie('my-dealer-name', $myDealer.COMPANY_DBA_NAME, 365 * 10);\n    $.fn.setCookie('my-dealer-hours', JSON.stringify(hours), 365 * 10);\n    $.fn.setCookie('my-dealer-number', $myDealer.REG_PHONE_NUMBER, 365 * 10);\n    $.fn.setCookie('my-dealer-coords', $myDealer.MAIN_LATITUDE + ',' + $myDealer.MAIN_LONGITUDE, 365 * 10);\n\n    $.fn.setCookie('my-dealer-city', $myDealer.MAIN_ADDRESS_LINE_1_TXT, 365 * 10);\n    $.fn.setCookie('my-dealer-city', $myDealer.MAIN_ADDRESS_LINE_2_TXT, 365 * 10);\n    $.fn.setCookie('my-dealer-city', $myDealer.MAIN_CITY_NM, 365 * 10);\n    $.fn.setCookie('my-dealer-state', $myDealer.MAIN_STATE_PROV_CD, 365 * 10);\n    $.fn.setCookie('my-dealer-zip', $myDealer.MAIN_POSTAL_CD, 365 * 10);\n\n    $html.attr('data-dealer', $myDealer.IDENTIFIER_VALUE);\n\n    $.fn.filterRadius();\n\n  } else {\n\n    $.fn.deleteCookie('my-dealer');\n    $.fn.deleteCookie('my-dealer-name');\n    $.fn.deleteCookie('my-dealer-hours');\n    $.fn.deleteCookie('my-dealer-number');\n    $.fn.deleteCookie('my-dealer-coords');\n\n    $myDealer = null;\n\n    $html.attr('data-dealer', '');\n\n  }\n\n  $dealerEvent = new CustomEvent('my-dealer', { detail: $eventData });\n  window.dispatchEvent($dealerEvent);\n\n  //$.fn.myDealer();\n\n};\n\n$.fn.myDealer = function () {\n\n  var dealer = $.fn.getCookie('my-dealer');\n\n  var marker;\n  for (i = 0; i < $markers.length; i++) {\n\n    if ($markers[i].id == dealer) {\n\n      var pinIcon = $.fn.drawPin('', 43, 63, '328E04');\n\n      $markers[i].setIcon(pinIcon);\n\n      marker = $markers[i];\n\n    }\n  }\n\n  return marker;\n\n};\n\n$.fn.drawPin = function (text, width, height, color) {\n\n  if (!text) {\n    text = '';\n  }\n\n  // my dealer color for mack\n  if (color == '328E04' && $.fn.isMack()) {\n    //color = '85754d'; // 328E04\n  }\n\n  // uptime center color for mack\n  if (color == '3F62A5' && $.fn.isMack()) {\n    color = '85754d';\n  }\n\n  return 'data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22' + width + '%22%20height%3D%22' + height + '%22%20viewBox%3D%220%200%2038%2038%22%3E%3Cpath%20fill%3D%22%23' + color + '%22%20stroke%3D%22%23ccc%22%20stroke-width%3D%22.5%22%20d%3D%22M34.305%2016.234c0%208.83-15.148%2019.158-15.148%2019.158S3.507%2025.065%203.507%2016.1c0-8.505%206.894-14.304%2015.4-14.304%208.504%200%2015.398%205.933%2015.398%2014.438z%22%2F%3E%3Ctext%20transform%3D%22translate%2819%2018.5%29%22%20fill%3D%22%23fff%22%20style%3D%22font-family%3A%20sans-serif%3Bfont-weight%3Abold%3Btext-align%3Acenter%3B%22%20font-size%3D%2212%22%20text-anchor%3D%22middle%22%3E' + text + '%3C%2Ftext%3E%3C%2Fsvg%3E';\n};\n\n$.fn.handleLocationError = function (browserHasGeolocation, infoWindow, pos) {\n\n  if (!browserHasGeolocation) {\n    alert('Error: Your browser doesn\\'t support geolocation.');\n  } else {\n    $('.loading-overlay').css('display', 'none');\n    $('.waiting-overlay').css('display', 'block');\n  }\n\n};\n\n$.fn.camelCase = function (str) {\n  if (!str) return;\n  return str.toLowerCase().replace(/\\w\\S*/g, function (txt) { return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase(); });\n};\n\n$.fn.formatPhoneNumber = function (str) {\n  if (!str) return;\n  return str.replace(/(\\d{3})(\\d{3})(\\d{4})/, \"$1-$2-$3\");\n}\n\n$.fn.formatWebAddress = function (str) {\n  var prefixes = 'http';\n  if (!str) return;\n  if (str.substr(0, prefixes.length).toLowerCase() === prefixes) {\n    return str.toLowerCase();\n  }\n  return 'https://' + str.toLowerCase();\n};\n\n$.fn.clearDirections = function () {\n\n  $.fn.directionsMessage();\n\n  $directionResults = null;\n  $directionsDisplay.setMap(null);\n\n  $directionsObject = null;\n  $wayPoints = [];\n};\n\n$.fn.getCurrentRouteTimeInHours = function () {\n\n  $currentRoute = null;\n  $currentTime = null;\n\n  if ($directionResults) {\n\n    if ($directionResults.routes && $directionResults.routes.length == 1) {\n\n      $currentRoute = $directionResults.routes[0];\n\n    } else if ($directionResults.routes && $directionResults.routes.length > 1) {\n\n      $referencePoint = $('.adp-listsel').first();\n      $currentRoute = $directionResults.routes[$referencePoint.attr('data-route-index')];\n    }\n  }\n\n  if ($currentRoute) {\n\n    $currentTime = $currentRoute.legs[0].duration.value / 60 / 60;\n  }\n\n  return $currentTime;\n};\n\n$.fn.wayPointArray = function () {\n\n  var waypoints = [];\n  var waypointLength = $wayPoints.length;\n\n  for (var wayPoint in $wayPoints) {\n\n    if ($wayPoints.hasOwnProperty(wayPoint)) {\n\n      waypoints.push($wayPoints[wayPoint].point);\n\n    }\n\n  }\n\n  return waypoints;\n};\n\n$.fn.directionsMessage = function (message) {\n\n  if (!message) {\n    $directionsMessage.html('');\n  } else {\n    $directionsMessage.html(message);\n  }\n};\n\n$.fn.getUrlParameter = function (sParam) {\n  var sPageURL = window.location.search.substring(1),\n      sURLVariables = sPageURL.split('&'),\n      sParameterName,\n      i;\n\n  for (i = 0; i < sURLVariables.length; i++) {\n    sParameterName = sURLVariables[i].split('=');\n\n    if (sParameterName[0] === sParam) {\n      return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);\n    }\n  }\n};\n\n$.fn.snackbar = function (message) {\n\n  // Get the snackbar DIV\n  var x = document.getElementById(\"locator-snackbar\");\n\n  x.innerHTML = message;\n\n  // Add the \"show\" class to DIV\n  x.className = \"show\";\n\n  // After 3 seconds, remove the show class from DIV\n  setTimeout(function () { x.className = x.className.replace(\"show\", \"\"); }, 3000);\n\n};\n\n$.fn.isMack = function () {\n\n  if ($.fn.brand() == 'mack') {\n\n    return true;\n\n  }\n\n  return false;\n\n};\n\n$.fn.isVolvo = function () {\n\n  if ($.fn.brand() == 'volvo') {\n\n    return true;\n\n  }\n\n  return false;\n\n};\n\n$.fn.brand = function () {\n\n  if ($html.is('[data-brand]')) {\n\n    return $html.attr('data-brand');\n\n  }\n\n  return '';\n\n};\n\n$.fn.copyToClipboard = function (text) {\n\n  if (typeof text != \"string\") {\n    text = $(text).attr('data-clipboard');\n  }\n\n  var textArea = document.createElement(\"textarea\");\n\n  // Place in top-left corner of screen regardless of scroll position.\n  textArea.style.position = 'fixed';\n  textArea.style.bottom = '0';\n  textArea.style.left = '0';\n\n  // Ensure it has a small width and height. Setting to 1px / 1em\n  // doesn't work as this gives a negative w/h on some browsers.\n  textArea.style.width = '2em';\n  textArea.style.height = '2em';\n\n  // We don't need padding, reducing the size if it does flash render.\n  textArea.style.padding = '0';\n\n  // Clean up any borders.\n  textArea.style.border = 'none';\n  textArea.style.outline = 'none';\n  textArea.style.boxShadow = 'none';\n\n  // Avoid flash of white box if rendered for any reason.\n  textArea.style.background = 'transparent';\n\n  textArea.value = text;\n\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  var result = false;\n\n  try {\n    var successful = document.execCommand('copy');\n\n    $.fn.snackbar('Copied to clipboard.');\n\n    result = successful ? true : false;\n\n  } catch (err) {\n    result = false;\n  }\n\n  document.body.removeChild(textArea);\n\n  return result;\n\n};\n\n// Event listeners\n$('.go-back').on('click', function () {\n  $.fn.switchSidebarPane('sidebar-pins');\n\n  //  $(\"#filterUptime,#filterElectricDealer,#filterDealer\").bind('click');\n  $wayPoints = [];\n  $('.nearby-select').empty();\n  $('.sidebar-content').removeClass(\"direction-content\");\n  $('.sidebar-legend').css(\"display\", \"flex\");\n  $('.sidebar').css(\"overflow\", \"hidden\");\n  $('.add-directions').text(\"Recalculate Directions\");\n});\n$('.go-back-direction').on('click', function () {\n  $.fn.switchSidebarPane('sidebar-pins');\n//$(\"#filterUptime,#filterElectricDealer,#filterDealer\").bind('click');\n  $wayPoints = [];\n  $('.nearby-select').empty();\n  $('.sidebar-content').removeClass(\"direction-content\");\n  $('.sidebar-legend').css(\"display\", \"flex\");\n  $('.sidebar').css(\"overflow\", \"hidden\");\n  $('.add-directions').text(\"Recalculate Directions\");\n});\n\n$(\"#location\").on('keyup', function (e) {\n  if (e.keyCode == 13) {\n    $.fn.setAddress();\n  }\n});\n$(\"#location2\").on('keyup', function (e) {\n  if (e.keyCode == 13) {\n    $.fn.setAddress2();\n  }\n});\n\n$('#cancel').on('click', function () {\n\n  try {\n\n    var details = $.fn.getPinById($viewingPin.ID);\n    if (details.isCertifiedUptimeCenter) {\n      var pinIcon = {\n        url: \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\",\n        scaledSize: new google.maps.Size(17, 23), // scaled size\n        origin: new google.maps.Point(0, 0), // origin\n        anchor: new google.maps.Point(0, 0)\n      }\n      if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n        var pinIcon = {\n          url: \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\",\n          scaledSize: new google.maps.Size(17, 23), // scaled size\n          origin: new google.maps.Point(0, 0), // origin\n          anchor: new google.maps.Point(0, 0)\n        }\n      }\n    }\n    else if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n      var pinIcon = {\n        url: \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\",\n        scaledSize: new google.maps.Size(17, 23), // scaled size\n        origin: new google.maps.Point(0, 0), // origin\n        anchor: new google.maps.Point(0, 0)\n      }\n    }\n    else {\n      var pinIcon = {\n        url: \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\",\n        scaledSize: new google.maps.Size(17, 23), // scaled size\n        origin: new google.maps.Point(0, 0), // origin\n        anchor: new google.maps.Point(0, 0)\n      }\n    }\n\n    $viewingPin.setIcon(pinIcon);\n\n    $.fn.myDealer();\n\n  } catch (e) {\n    // ignore\n  }\n  $('.nearby-pins').children().attr('clicked', '');\n});\n\n$('#cancel2').on('click', function () {\n\n  try {\n\n    var details = $.fn.getPinById($viewingPin.ID);\n    if (details.isCertifiedUptimeCenter) {\n      var pinIcon = {\n        url: \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\",\n        scaledSize: new google.maps.Size(17, 23), // scaled size\n        origin: new google.maps.Point(0, 0), // origin\n        anchor: new google.maps.Point(0, 0)\n      }\n      if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n        var pinIcon = {\n          url: \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\",\n          scaledSize: new google.maps.Size(17, 23), // scaled size\n          origin: new google.maps.Point(0, 0), // origin\n          anchor: new google.maps.Point(0, 0)\n        }\n      }\n    }\n    else if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n      var pinIcon = {\n        url: \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\",\n        scaledSize: new google.maps.Size(17, 23), // scaled size\n        origin: new google.maps.Point(0, 0), // origin\n        anchor: new google.maps.Point(0, 0)\n      }\n    }\n    else {\n      var pinIcon = {\n        url: \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\",\n        scaledSize: new google.maps.Size(17, 23), // scaled size\n        origin: new google.maps.Point(0, 0), // origin\n        anchor: new google.maps.Point(0, 0)\n      }\n    }\n\n    $viewingPin.setIcon(pinIcon);\n\n    $.fn.myDealer();\n\n  } catch (e) {\n    // ignore\n  }\n  $('.nearby-pins').children().attr('clicked', '');\n});\n\n$(window).on('resize', function () {\n  if ($(window).width() < 992) {\n    if ($(\".direction-content\")) {\n      $('.sidebar').css(\"overflow\", \"scroll\");\n      $('.add-directions').text(\"Recalculate\");\n    } else {\n      $('.sidebar').css(\"overflow\", \"hidden\");\n      $('.add-directions').text(\"Recalculate Directions\");\n    }\n  } else {\n    $('.sidebar').css(\"overflow\", \"hidden\");\n    $('.add-directions').text(\"Recalculate Directions\");\n  }\n  if ($('#location').val()) {\n    $('#location2').val($('#location').val());\n  }\n  if ($('#location2').val()) {\n    $('#location').val($('#location2').val());\n  }\n\n});\n\n$(document).on('click', '.sidebar-content #filter-options input[type=\"checkbox\"]', function (e) {\n\n  $clicked = $(this);\n\n  if ($('.sidebar-content #filter-options input[type=\"checkbox\"]:checked').length < 1) {\n    $clicked.prop('checked', true);\n    return;\n  }\n\n  $('.sidebar-content #filter-options input[type=\"checkbox\"]').each(function (i) {\n\n    $filter = $(this);\n\n    if ($clicked.get(0) !== $filter.get(0)) {\n\n      $filter.prop('checked', false);\n\n    }\n\n  });\n\n  $.fn.filterRadius();\n});\n\n$(document).on('click', '.accordion', function (eventObject) {\n\n  $(this).next('.accordion-panel').slideToggle(\"slow\");\n  $(this).find('.toggle-arrow').toggleClass('close');\n\n  document.getElementById(\"share-link\").select();\n\n\n});\n\n$(document).on('click', '#set-dealer', function (eventObject) {\n  console.log(\"inside set dealer\");\n  var pinId = $(this).attr('data-pin');\n\n  var pin = $.fn.getPinById(pinId);\n\n  $.fn.setMyDealer(pin);\n\n  //$(this).find('span').text('Remove As Dealer');\n  // $(this).find('span').text('Preferred Dealer');\n  //  $(this).find('i').removeClass('fa-star-o').addClass('fa-star');\n  $(this).find('#set-dealer').html('<img src=\"/blocks/dealer-locator/images/Vector-3.svg\" />');\n\n});\n\n$(document).on('click', '#print', function (eventObject) {\n\n  var divToPrint = $(this).parents('.directions-panel').find('#directions-container');\n\n  var newWin = window.open('', 'Print Window');\n\n  newWin.document.open();\n\n  newWin.document.write('<html><body onload=\"window.print()\">' + divToPrint.html() + '</body></html>');\n\n  newWin.document.close();\n\n  setTimeout(function () { newWin.close(); }, 10);\n\n});\n\n$.fn.initGoogleMaps();//entry point to dealer locator\n\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/dealer-locator/sidebar-maps.js?\n}")},"./blocks/document-list/document-list.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\nasync function decorate(block) {\n  const lis = [...block.children].map((row) => {\n    const li = document.createElement('li');\n    const link = row.querySelector('a');\n    if (link) {\n      const clone = link.cloneNode(false);\n      clone.append(...row.firstElementChild.childNodes);\n      li.appendChild(clone);\n      clone.querySelectorAll('a').forEach((a) => {\n        a.after(...a.childNodes);\n        a.remove();\n      });\n    } else {\n      li.append(...row.firstElementChild.childNodes);\n    }\n    return li;\n  });\n  const ul = document.createElement('ul');\n  ul.append(...lis);\n  block.innerHTML = ul.outerHTML;\n}\n\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/document-list/document-list.js?\n}")},"./blocks/download-images/download-images.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\nfunction decorate(block) {\n  const [downloadDir, ...imgContainers] = block.children;\n\n  downloadDir.className = 'download-text';\n\n  // wrap pictures in links\n  imgContainers.forEach(async (imageContainer) => {\n    imageContainer.className = 'image-container';\n    const picture = imageContainer.querySelector('picture');\n    const img = picture.querySelector('img');\n\n    const link = document.createElement('a');\n    link.href = getOriginalImage(img.src);\n    link.appendChild(picture);\n    link.download = '';\n\n    // remove any existing links and <br>\n    imageContainer.innerHTML = '';\n    imageContainer.append(link);\n  });\n}\n\nfunction getOriginalImage(url) {\n  // remove any parameters, e.g. ?width=2000&format=webply&optimize=medium\n  return url.replace(/\\?.*$/, '');\n}\n\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/download-images/download-images.js?\n}")},"./blocks/embed/embed.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/video-helper.js */ \"./scripts/video-helper.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\nfunction decorate(block) {\n  const isAutoplay = block.classList.contains('autoplay');\n  const isLoopedVideo = block.classList.contains('loop');\n  const isFullWidth = block.classList.contains('full-width');\n  const hideLowResolutionBanner = block.classList.contains('no-banner');\n  const videoWrapper = document.createElement('div');\n  // removing classes to avoid collision with other css\n  block.classList.remove('loop', 'autoplay', 'full-width');\n  videoWrapper.classList.add('embed-video');\n\n  const preferredType = (() => {\n    if (isFullWidth) {\n      return 'local';\n    }\n    return 'auto';\n  })();\n\n  const links = block.querySelectorAll('a');\n  const selectedLink = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.selectVideoLink)(links, preferredType);\n  const video = document.createElement('video');\n  const source = document.createElement('source');\n\n  if (!selectedLink) {\n    block.innerHTML = '';\n\n    console.warn('Embed block: There is no video link. Please check if the fallback video link is provided.');\n    return;\n  }\n\n  const isLowResolutionVideo = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.isLowResolutionVideoUrl)(selectedLink.getAttribute('href'));\n  const showControls = isLowResolutionVideo && !isFullWidth;\n\n  video.appendChild(source);\n  block.innerHTML = '';\n  block.appendChild(videoWrapper);\n\n  const loadEmbed = () => {\n    if (video.classList.contains('embed-video-loaded') || !selectedLink) {\n      return;\n    }\n\n    if (isAutoplay) {\n      video.autoplay = true;\n      // autoplay requires the video to be muted otherwise the autoplay\n      // can be block by the browser\n      // https://developer.mozilla.org/en-US/docs/Web/Media/Autoplay_guide\n      video.muted = true;\n    }\n\n    if (isLoopedVideo) {\n      video.loop = true;\n    }\n\n    video.playsInline = true;\n    video.controls = showControls;\n    video.classList.add('embed-video-element', 'embed-video-loaded');\n    source.setAttribute('src', selectedLink.getAttribute('href'));\n    source.setAttribute('type', 'video/mp4');\n    videoWrapper.appendChild(video);\n\n    if (isFullWidth) {\n      const link = document.createElement('a');\n      link.setAttribute('href', (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.selectVideoLink)(links).getAttribute('href'));\n      block.classList.add('embed-full-width');\n      (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.addPlayIcon)(block);\n\n      video.addEventListener('click', () => {\n        (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.showVideoModal)((0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.selectVideoLink)(links).getAttribute('href'));\n      });\n    }\n\n    if (!isFullWidth && !hideLowResolutionBanner) {\n      const banner = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.createLowResolutionBanner)();\n      videoWrapper.prepend(banner);\n    }\n  };\n\n  const observer = new IntersectionObserver((entries) => {\n    if (entries.some((e) => e.isIntersecting)) {\n      observer.disconnect();\n      if (isLowResolutionVideo) {\n        loadEmbed();\n      } else {\n        (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.createIframe)(selectedLink.getAttribute('href'), { parentEl: videoWrapper, classes: 'embed-video-element' });\n      }\n    }\n  });\n  observer.observe(block);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/embed/embed.js?\n}")},"./blocks/engine-specifications/engine-specifications.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _performance_chart_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./performance-chart.js */ \"./blocks/engine-specifications/performance-chart.js\");\n/* harmony import */ var _common_custom_dropdown_custom_dropdown_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/custom-dropdown/custom-dropdown.js */ \"./common/custom-dropdown/custom-dropdown.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _performance_chart_js__WEBPACK_IMPORTED_MODULE_1__, _common_custom_dropdown_custom_dropdown_js__WEBPACK_IMPORTED_MODULE_2__]);\n([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _performance_chart_js__WEBPACK_IMPORTED_MODULE_1__, _common_custom_dropdown_custom_dropdown_js__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n/**\n * Gets the data from the excel/json chart that should be on the same level as the block.\n *\n * @returns {Promise<Array>} - A promise that resolves to the engine chart data.\n */\nconst getEngineChartData = async () => {\n  const response = await fetch('./performance.json');\n  const json = await response.json();\n  return json.data;\n};\n\n/**\n * Builds the engine specifications block.\n *\n * @param {HTMLElement} block - The container element where the engine specifications will be appended.\n */\nconst buildEngineSpecifications = (block) => {\n  const children = [...block.children];\n  const titleDiv = children.shift();\n\n  const title = titleDiv.querySelector('h2');\n  title.classList.add('engine-title');\n\n  const ul = document.createElement('ul');\n  ul.classList.add('item-list');\n\n  children.forEach((row) => {\n    const li = document.createElement('li');\n    li.classList.add('item-wrapper');\n\n    const sectionTitle = row.querySelector('h6');\n    sectionTitle.classList.add('item-title');\n    const content = row.querySelector('h5');\n    content.classList.add('item-content');\n\n    li.append(sectionTitle);\n    li.append(content);\n    ul.append(li);\n  });\n\n  block.textContent = '';\n\n  block.append(title);\n  block.append(ul);\n};\n\n/**\n * Determines whether to show the chart selection with tabs or a dropdown list.\n * By default, it will show the chart selection with tabs. However, if there are\n * multiple engines with the same horsepower but different torque, it will display\n * the selection with a dropdown list of the engines with a given horsepower.\n * By selecting a given horsepower, it will display the list of engines with that\n * horsepower and torque options.\n *\n * @param {Map<number, Set<number>>} horsepowerMap - A map where the keys are horsepower values and the values are sets of torque values.\n * @returns {boolean} - Returns true if tabs should be shown, false if a dropdown should be shown.\n */\nconst shouldShowTabs = (horsepowerMap) => {\n  for (const torques of horsepowerMap.values()) {\n    if (torques.size > 1) {\n      return false;\n    }\n  }\n  return true;\n};\n\n/**\n * Creates a map of horsepower to sets of torque values.\n *\n * @param {Array<{ horsepower: number, torque: number }>} peaksData - The list of objects representing engine specifications with horsepower and torque.\n * @returns {Map<number, Set<number>>} - A map where the keys are horsepower values and the values are sets of torque values.\n */\nconst getHorserpowerMap = (peaksData) => {\n  const horsepowerMap = new Map();\n\n  peaksData.forEach(({ horsepower, torque, rating }) => {\n    if (!horsepowerMap.has(horsepower)) {\n      horsepowerMap.set(horsepower, new Set());\n    }\n    horsepowerMap.get(horsepower).add({\n      torque,\n      horsepower,\n      rating,\n    });\n  });\n\n  return horsepowerMap;\n};\n\n/**\n * Extracts the peaks data from the engine data.\n *\n * @param {Array<{ peaks: string }>} engineData - The list of engine data objects.\n * @returns {Array<{ horsepower: number, torque: number }>} - The list of objects representing engine specifications with horsepower and torque.\n */\nconst getPeaksData = (engineData) =>\n  engineData.reduce((acc, engine) => {\n    const [horsepower, torque] = engine.peaks.replace(/\\[|\\]/g, '').split(',').map(Number);\n    const rating = engine.rating;\n    acc.push({ horsepower, torque, rating });\n    return acc;\n  }, []);\n\n/**\n * Build the tabs for engine ratings.\n *\n * @param {HTMLElement} hpSelector - The container element where the tabs will be appended.\n * @param {Array<number>} powerRating - The list of power ratings to create tabs for.\n */\nconst setupTabs = (container, itemsToList, displayHp = true) => {\n  const hpLabel = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('engine_specifications:unit_hp');\n  const torqueLabel = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('engine_specifications:unit_tq');\n  let engineRatingContainer = container.querySelector('.engine-rating');\n  let hpList = container.querySelector('.rating-list');\n\n  if (!engineRatingContainer) {\n    engineRatingContainer = document.createElement('div');\n    engineRatingContainer.classList.add('engine-rating');\n\n    hpList = document.createElement('ul');\n    hpList.classList.add('rating-list');\n  } else {\n    hpList.innerHTML = '';\n  }\n\n  itemsToList.forEach(({ torque, horsepower, rating }) => {\n    const itemEl = document.createElement('li');\n    itemEl.classList.add('rating-item');\n\n    itemEl.innerHTML = `\n      <h5 class=\"title-${rating}\">\n        <button data-rating=\"${rating}\">${displayHp ? `${horsepower} ${hpLabel}` : `${torque} ${torqueLabel}`}</button>\n      </h5>`;\n\n    hpList.appendChild(itemEl);\n  });\n  engineRatingContainer.innerHTML = '';\n  engineRatingContainer.append(hpList);\n\n  container.append(engineRatingContainer);\n};\n\n/**\n * Builds the headers for the engine ratings.\n *\n * @param {HTMLElement} hpSelector - The container element where the headers will be appended.\n */\nconst buildHeaders = (hpSelector) => {\n  const ratingTitle = document.createElement('h6');\n  ratingTitle.classList.add('rating-title');\n  ratingTitle.innerText = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('engine_specifications:subtitle');\n\n  hpSelector.append(ratingTitle);\n};\n\n/**\n * Builds the dropdown options for engine ratings.\n *\n * @param {HTMLElement} dropdownContainer - The container element where the dropdown will be appended.\n * @param {Map<number, Set<number>>} horsepowerMap - A map where the keys are horsepower values and the values are sets of torque values.\n * @param {HTMLElement} chartOptionsContainer - The container element where the chart options will be appended.\n * @param {HTMLElement} hpSelector - The container element that holds the HP buttons.\n * @param {HTMLElement} chartListContainer - The container element that holds the charts.\n */\nconst buildDrodownOptions = async (dropdownContainer, horsepowerMap, chartOptionsContainer, hpSelector, chartListContainer) => {\n  const hpLabel = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('engine_specifications:unit_hp');\n  const horsepowerOptions = Array.from(horsepowerMap.keys()).map((hp) => ({ value: hp, label: `${hp} ${hpLabel}` }));\n\n  const dropdownConfig = {\n    optionList: horsepowerOptions,\n    variants: ['adjust-width-to-content'],\n    onChangeCallback: (selected) => {\n      const chartParent = chartListContainer.closest('.performance-chart-list');\n      const allCharts = chartParent.querySelectorAll('.performance-chart');\n      allCharts.forEach((item) => {\n        delete item.dataset.active;\n      });\n\n      const selectedHp = horsepowerMap.get(selected.value);\n      const firstItemOfSelectedHp = horsepowerMap.get(selected.value).values().next().value;\n\n      setupTabs(chartOptionsContainer, selectedHp, false);\n      setChartUpponSelection(firstItemOfSelectedHp.rating, chartParent, hpSelector, allCharts);\n    },\n  };\n\n  const customDropdown = await (0,_common_custom_dropdown_custom_dropdown_js__WEBPACK_IMPORTED_MODULE_2__.getCustomDropdown)(dropdownConfig);\n\n  dropdownContainer.append(customDropdown);\n};\n\nconst setChartUpponSelection = (selectedNumber, chartParent, hpSelector, allCharts) => {\n  const clickedChart = chartParent.querySelector(`.chart-${selectedNumber}`);\n  const firstBbutton = hpSelector.querySelector(`.title-${selectedNumber}`).closest('.rating-item');\n\n  if (clickedChart) {\n    allCharts.forEach((item) => {\n      delete item.dataset.active;\n    });\n\n    clickedChart.dataset.active = true;\n    firstBbutton.dataset.active = true;\n  }\n};\n\n/**\n * Sets up event listeners for the HP buttons and charts to handle interactions.\n * This function adds click event listeners to the buttons, which update the active\n * state of the buttons and the corresponding charts.\n *\n * @param {HTMLElement} hpSelector - The container element that holds the HP buttons.\n * @param {HTMLElement} chartContainer - The container element that holds the charts.\n */\nconst setupTabButtonsInteractions = (hpSelector, chartContainer) => {\n  const ratingList = hpSelector.querySelectorAll('.rating-list');\n  let allButtons = hpSelector.querySelectorAll('.rating-list .rating-item');\n\n  if (allButtons.length === 0) {\n    return;\n  }\n\n  allButtons[0].dataset.active = true;\n\n  const initialChart = chartContainer.children[0];\n  initialChart.dataset.active = true;\n  const chartParent = initialChart.closest('.performance-chart-list');\n\n  ratingList.forEach((button) => {\n    button.addEventListener('click', (e) => {\n      const buttonParent = button.closest('ul');\n      const selectedNumber = e.target.dataset.rating;\n\n      const clickedButton = buttonParent.querySelector(`.title-${selectedNumber}`).closest('.rating-item');\n      const activeButton = buttonParent.querySelector('[data-active]');\n      allButtons = buttonParent.querySelectorAll('.rating-item');\n\n      const clickedChart = chartParent.querySelector(`.chart-${selectedNumber}`);\n      const allCharts = chartParent.querySelectorAll('.performance-chart');\n\n      if (clickedChart && activeButton && activeButton.dataset.rating !== selectedNumber) {\n        [...allButtons, ...allCharts].forEach((item) => {\n          delete item.dataset.active;\n        });\n\n        clickedChart.dataset.active = true;\n        clickedButton.dataset.active = true;\n      }\n    });\n  });\n};\n\n// Builds the performance specifications block.\nconst buildPerformanceSpecifications = (block, engineData) => {\n  const peaksData = getPeaksData(engineData);\n  const horsepowerMap = getHorserpowerMap(peaksData);\n  const showTabs = shouldShowTabs(horsepowerMap);\n  const children = [...block.children];\n  const titleDiv = children.shift();\n\n  const title = titleDiv.querySelector('h2');\n  title.classList.add('performance-title');\n\n  const hpSelector = document.createElement('div');\n  hpSelector.classList.add('performance-selector-wrapper');\n\n  const chartContainer = document.createElement('div');\n  chartContainer.classList.add('performance-chart-wrapper');\n\n  const chartListContainer = document.createElement('ul');\n  chartListContainer.classList.add('performance-chart-list');\n\n  const ratings = [];\n\n  engineData.forEach((engine) => {\n    const rating = engine.rating;\n    ratings.push({ rating });\n\n    const chart = document.createElement('li');\n    chart.classList.add('performance-chart');\n    chart.classList.add(`chart-${rating}`);\n    chart.innerHTML = (0,_performance_chart_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(engine);\n\n    chartListContainer.append(chart);\n  });\n\n  buildHeaders(hpSelector);\n\n  if (showTabs) {\n    const concatenatedTorques = Array.from(horsepowerMap.values()).flatMap((set) => Array.from(set));\n    setupTabs(hpSelector, concatenatedTorques, true);\n    setupTabButtonsInteractions(hpSelector, chartListContainer);\n\n    const initialButton = hpSelector.querySelector('.rating-item');\n    initialButton.dataset.active = true;\n  } else {\n    const firstHorsepowerSet = horsepowerMap.values().next().value;\n    const chartOptionsContainer = document.createElement('div');\n    chartOptionsContainer.classList.add('engine-specifications__chart-options-container');\n\n    const dropdownContainer = document.createElement('div');\n    dropdownContainer.classList.add('engine-specifications__dropdown-container');\n    chartOptionsContainer.append(dropdownContainer);\n\n    setupTabs(chartOptionsContainer, firstHorsepowerSet, false);\n    buildDrodownOptions(dropdownContainer, horsepowerMap, chartOptionsContainer, hpSelector, chartListContainer);\n\n    hpSelector.append(chartOptionsContainer);\n    setupTabButtonsInteractions(hpSelector, chartListContainer);\n  }\n\n  block.textContent = '';\n\n  chartContainer.append(chartListContainer);\n  block.append(title);\n  block.append(hpSelector);\n  block.append(chartContainer);\n};\n\nasync function decorate(block) {\n  const blockClassList = [...block.classList];\n\n  // This detects what block needs to be render and calls the corresponding function.\n  if (blockClassList.includes('engine')) {\n    buildEngineSpecifications(block);\n  } else if (blockClassList.includes('performance')) {\n    const engineData = await getEngineChartData();\n    buildPerformanceSpecifications(block, engineData);\n  }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/engine-specifications/engine-specifications.js?\n}")},"./blocks/engine-specifications/performance-chart.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ "./scripts/common.js");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\nconst TEXT = {\n  bottom: (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)(\'performance_chart:bottom_label\'),\n  labelTQ: (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)(\'performance_chart:label_tq\'),\n  labelHP: (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)(\'performance_chart:label_hp\'),\n  unitTQ: (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)(\'performance_chart:unit_tq\'),\n  unitHP: (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)(\'performance_chart:unit_hp\'),\n};\n\nconst COLORS = {\n  lineHP: \'#78B833\',\n  lineTQ: \'#004FBC\',\n  fillHP: \'#C8E691\',\n  fillTQ: \'#76BAFF\',\n  background: \'#f7f7f7\',\n  lines: \'#787A7D\',\n};\n\nconst STROKE = {\n  width: 3,\n  opacity: 1,\n};\n\nconst FILL = {\n  opacity: 0.5,\n};\n\n// MATH\nlet conversionFactor;\nlet verticalScaleFactor = 1;\nconst adjustHeight = 0.8;\n\n// CHART SIZES\nconst totalWidthChart = 1200;\nconst totalHeightChart = totalWidthChart * 0.4; // 480\n\nconst chartMargins = [70, 1100];\n\nconst lineChartWidth = chartMargins[1] - chartMargins[0];\nconst lineChartHeight = 400;\n\n// FUNCTIONS\n/**\n * Makes round numbers with a set interval from 0 to the max.\n * This is used for the numbers on the sides and bottom of the chart.\n * For vertical labels there is one extra value that allows the values to go 3 intervals past the max.\n * @param {number} max - The max value of that array\n * @param {number} interval - Value that should be used as interval\n * @param {number} min - The min value of that array. Defaults to 0\n * @param {boolean} isVertical - Checks if the labels are vertical. Defaults to false\n * @returns {Array} result - Returns an array with the regular sequence\n */\nconst generateNumberSequence = (max, interval, min = 0, isVertical = false) => {\n  const result = [];\n  for (let i = min; i < (isVertical ? max + interval : max); i += interval) {\n    result.push(i);\n  }\n  return result;\n};\n\n/**\n * Calculates the proportional horizontal placement between the raw values recieved\n * and returns the correct position in the SVG\n * @param {Array} values - HTML element that represents\n * @returns {Array} proportionalPositions - Returns an array with the porpotional positions\n */\nconst getRealPositionsX = (values) => {\n  const firstElement = values[0];\n  const absoluteValues = values.map((num) => num - firstElement);\n  const lastElement = absoluteValues[absoluteValues.length - 1];\n\n  const factor = lineChartWidth / lastElement;\n\n  const proportionalPositions = absoluteValues.map((num) => Math.round(num * factor + chartMargins[0]));\n\n  return proportionalPositions;\n};\n\n/**\n * From the values given applies the proportional conversion rate and plots the lines.\n * @param {Array} valuesOnX - Values to plot the line\n * @param {Array} valuesOnY - Values to plot the line\n * @returns {string} The set of points to be used to plot the line\n */\nconst plotLine = (valuesOnX, valuesOnY) => {\n  const plottedLine = valuesOnX.map((e, idx) => {\n    const decimalCount = 2;\n\n    const pureValueX = e;\n    const pureValueY = Number(lineChartHeight - valuesOnY[idx] * verticalScaleFactor);\n\n    const valueX = pureValueX.toFixed(decimalCount);\n    const valueY = pureValueY.toFixed(decimalCount);\n\n    return `${idx === 0 ? \'M\' : \'C\'} ${valueX} ${valueY} ${valueX} ${valueY} ${valueX} ${valueY}`;\n  });\n\n  return plottedLine.join(\' \', \'z\');\n};\n\n/**\n * Identifies the width of the device and returns values for the position of the peak points.\n * @returns {Object} An object with the positions and sizes needed for the peak labels.\n */\nconst getDevice = () => {\n  const width = window.innerWidth;\n  if (width < 480) {\n    return { scale: 1.9, translate: [-50, -70], text1: [-55, 25], text2: [-55, -15], triangle: [50, 70] };\n  }\n  if (width < 768) {\n    return { scale: 1.8, translate: [-40, -70], text1: [-55, 30], text2: [-55, -10], triangle: [50, 60] };\n  }\n  if (width < 1200) {\n    return { scale: 1.5, translate: [-20, -40], text1: [-30, 40], text2: [-30, 10], triangle: [30, 35] };\n  }\n  return { scale: 1.3, translate: [-10, -25], text1: [-20, 45], text2: [-20, 20], triangle: [20, 20] };\n};\n\n/**\n * Identifies the higher value and returns the label and its position on the chart.\n * Sets the first label (TQ) and for the second one, it checks that it does not overlap\n * @param {Array} valuesY - Vertical values\n * @param {Array} valuesX - Horizontal values\n * @param {string} valueType - What type of value is\n * @param {Object} deviceData - Information on the device beign used\n * @param {number} maxPeakValue - Displayable text to be used in label\n * @returns {string} The label as a string to be inserted in the SVG\n */\nlet isFirstLabel = null;\nconst buildPeakLabel = (valuesY, valuesX, valueType, deviceData, maxPeakValue) => {\n  const peakValue = Math.max(...valuesY);\n  const indexPosition = valuesY.indexOf(peakValue);\n\n  const labelWidth = Math.round(128 * deviceData.scale);\n  const labelHeight = Math.round(76 * deviceData.scale);\n\n  let positionX = Math.round(valuesX[indexPosition]);\n\n  if (isFirstLabel === null) {\n    isFirstLabel = positionX;\n  } else {\n    const overlap = (positionX - isFirstLabel) / 2;\n    if (overlap < labelWidth / 2) {\n      positionX = positionX + (labelWidth - overlap);\n    }\n    isFirstLabel = null;\n  }\n\n  const positionY = Number(lineChartHeight - peakValue * verticalScaleFactor);\n  const peakLabel = valueType === \'HP\' ? [TEXT.unitHP, TEXT.labelHP, COLORS.lineHP] : [TEXT.unitTQ, TEXT.labelTQ, COLORS.lineTQ];\n\n  return `\n    <rect\n      x=${Math.round(positionX - 128 / 2)}\n      y=${Math.round(positionY - 76 - 18)}\n      width="${labelWidth}px"\n      height="${labelHeight}px"\n      rx="8"\n      ry="8"\n      opacity="1"\n      stroke="none"\n      class="peak-rectangle-${valueType.toLowerCase()}"\n    >\n    </rect>\n\n    <text\n      x=${positionX - deviceData.text1[0]}\n      y=${positionY - deviceData.text1[1]}\n      text-anchor="middle"\n      class="peak-value"\n    >\n      ${maxPeakValue} ${peakLabel[0]}\n    </text>\n\n    <path \n      fill="${peakLabel[2]}"\n      d="\n        M ${positionX} ${positionY - 6}\n        L ${positionX + 14} ${positionY - 20}\n        L ${positionX - 14} ${positionY - 20}\n        L ${positionX} ${positionY - 6}\n        Z\n        "\n      stroke="${peakLabel[2]}"\n      stroke-width="8"\n      opacity="1"\n      style="transform: translate(${deviceData.triangle[0]}px, ${deviceData.triangle[1]}px)"\n    ></path>\n\n    <text\n      x=${positionX - deviceData.text2[0]}\n      y=${positionY - deviceData.text2[1]}\n      text-anchor="middle"\n      class="peak-text"\n    >\n      ${peakLabel[1]}\n    </text>\n  `;\n};\n\n/**\n * With a list of positions and values it builds the horizontal reference for RPM\n * @param {Array} positionsX - The proportional values needed to position the text in the SVG\n * @param {Array} valuesX - The values that will bee seen in these positions\n * @returns {string} The list of <text> elements to insert in the SVG element\n */\nconst getHorizontalLabels = (positionsX, valuesX) => {\n  const labels = positionsX.map((e, idx) => {\n    const label = `\n      <text x=${e} y="440" class="chart-label-number horizontal" text-anchor="middle">\n        ${valuesX[idx]}\n      </text>`;\n    return label;\n  });\n  return labels.join(\' \');\n};\n\n/**\n * With a list of values it builds the vertical references for TQ and HP\n * @param {Array} values - The whole list of values from where to extract the max value\n * @param {string} type - Used to identify what values are to be set.\n * @param {number} factor - In case the TQ values need to be adjusted to match the HP\n * @returns {string} The list of <text> elements to insert in the SVG element\n */\nconst getVerticalLabels = (values, type, factor = 1) => {\n  const maxValue = Math.max(...values);\n  const typeFixedValues = {\n    tq: { interval: 200, position: 60, align: \'end\' },\n    hp: { interval: 50, position: 1120, align: \'start\' },\n  };\n\n  const { interval, position, align } = typeFixedValues[type];\n\n  const regularNumberSequence = generateNumberSequence(maxValue, interval, 0, true);\n  const labels = regularNumberSequence.map((e) => {\n    const label = `\n      <text \n        x="${position}"\n        y="${405 - e * factor * verticalScaleFactor}"\n        class="chart-label-number vertical"\n        text-anchor="${align}"\n      >\n        ${e}\n      </text>`;\n    return label;\n  });\n  return labels.join(\' \');\n};\n\nconst fillMissingValues = (rating, values, valuesOnAxisX, type) => {\n  if (values.length < valuesOnAxisX.length) {\n    console.warn(\n      `The number of ${type} values for the chart is less than the number of RPM values. Filling the rest with 0s. For the rating:`,\n      rating,\n    );\n    const diff = valuesOnAxisX.length - values.length;\n    for (let i = 0; i < diff; i++) {\n      values.push(0);\n    }\n  }\n};\n\n/**\n * From the regularized torque values, it creates a set of <path> elements to appear as lines in the chart\n * @param {Array} values - The whole list of values from where to extract the max value\n * @param {number} factor - Since the lines respond to the TQ values, this needs to be adjusted to match the HP proportions\n * @returns {string} The list of <path> elements to insert in the SVG element\n */\nconst plotHorizontalLines = (values, factor) => {\n  const maxValue = Math.max(...values);\n  const regularNumberSequence = generateNumberSequence(maxValue, 200, 0, true);\n\n  const lines = regularNumberSequence.map((e) => {\n    const verticalPosition = lineChartHeight - e * factor * verticalScaleFactor;\n\n    const line = `\n      <path d="M ${chartMargins[0]} ${verticalPosition} L ${chartMargins[1]} ${verticalPosition}"\n        stroke="${COLORS.lines}"\n        stroke-width="1"\n        stroke-opacity: "0.5"\n      />`;\n    return line;\n  });\n  return lines.join(\' \');\n};\n\n/**\n * Gets data from engine-specifications.js block and returns the SVG with all the charts.\n * @param {Object} data - The object that comes from the excell file.\n * @returns {string} The <svg> elements with all the charts plotted\n */\nconst getPerformanceChart = (data) => {\n  if (data.scale) {\n    verticalScaleFactor = (JSON.parse(data.scale) / 100) * adjustHeight;\n  }\n\n  let maxPeaks = [];\n\n  try {\n    maxPeaks = JSON.parse(data.peaks);\n  } catch (e) {\n    console.error(\'Error parsing peaks\', e);\n  }\n\n  const [hpPeak, torquePeak] = maxPeaks;\n\n  const valuesRPM = JSON.parse(data.rpm);\n  const valuesHP = JSON.parse(data.horsepower);\n  const valuesTQ = JSON.parse(data.torque);\n\n  conversionFactor = Number((Math.max(...valuesHP) / Math.max(...valuesTQ)).toFixed(5));\n  const adjustedTQValues = valuesTQ.map((value) => parseInt(value * conversionFactor));\n\n  const device = getDevice();\n\n  const regularValuesOnAxisX = generateNumberSequence(valuesRPM[valuesRPM.length - 1], 100, valuesRPM[0]);\n\n  const realPositionsOnAxisX = getRealPositionsX(valuesRPM);\n  const regularPositionsOnAxisX = getRealPositionsX(regularValuesOnAxisX);\n\n  fillMissingValues(data.rating, valuesHP, realPositionsOnAxisX, \'HP\');\n  fillMissingValues(data.rating, adjustedTQValues, realPositionsOnAxisX, \'Torque\');\n\n  const svg = `\n    <svg \n      xmlns="http://www.w3.org/2000/svg" \n      width="${totalWidthChart}"\n      height="${totalHeightChart}"\n      viewBox="0 0 ${totalWidthChart} ${totalHeightChart}"\n      aria-hidden="false" \n      aria-label="Interactive chart"\n      class="chart"\n    >\n      \x3c!-- GRADIENTS --\x3e\n      <defs>\n        <linearGradient id="gradientHP" x1="0" x2="0" y1="0" y2="1">\n          <stop offset="0%" stop-color="${COLORS.fillHP}" stop-opacity="0.8"/>\n          <stop offset="100%" stop-color="${COLORS.background}" stop-opacity="0"/>\n        </linearGradient>\n        <linearGradient id="gradientTQ" x1="0" x2="0" y1="0" y2="1">\n          <stop offset="0%" stop-color="${COLORS.fillTQ}" />\n          <stop offset="100%" stop-color="${COLORS.background}" stop-opacity="0" />\n        </linearGradient>\n      </defs>\n\n      \x3c!-- HORIZONTAL LINES - TQ --\x3e\n      <g aria-hidden="true" class="horizontal-lines">\n        ${plotHorizontalLines(valuesTQ, conversionFactor)}\n      </g>\n\n      \x3c!-- HORSEPOWER --\x3e\n      <g aria-hidden="true">\n        <g aria-hidden="true">\n\n        \x3c!-- FILL --\x3e\n        <path\n          fill="url(#gradientHP)"\n          d="\n            ${plotLine(realPositionsOnAxisX, valuesHP)}\n            L ${realPositionsOnAxisX[realPositionsOnAxisX.length - 1]} ${lineChartHeight}\n            L ${chartMargins[0]} ${lineChartHeight}\n            Z\n          "\n          opacity="${FILL.opacity}"\n        >\n        </path>\n\n        \x3c!-- STROKE --\x3e\n        <path fill="none"\n          d="\n            ${plotLine(realPositionsOnAxisX, valuesHP)}\n          "\n          stroke="${COLORS.lineHP}"\n          stroke-width="${STROKE.width}"\n          opacity="${STROKE.opacity}"\n        >\n        </path>\n      </g>\n\n      \x3c!-- TORQUE --\x3e\n      <g aria-hidden="true">\n      \n        \x3c!-- FILL --\x3e\n        <path\n          fill="url(#gradientTQ)"\n          d="\n            ${plotLine(realPositionsOnAxisX, adjustedTQValues)}\n            L ${realPositionsOnAxisX[realPositionsOnAxisX.length - 1]} ${lineChartHeight}\n            L ${chartMargins[0]} ${lineChartHeight}\n            Z\n          "\n          opacity="${FILL.opacity}"\n        >\n        </path>\n\n        \x3c!-- STROKE --\x3e\n        <path\n            fill="none"\n            d="\n              ${plotLine(realPositionsOnAxisX, adjustedTQValues)}\n            "\n            stroke="${COLORS.lineTQ}"\n            stroke-width="${STROKE.width}"\n            opacity="${STROKE.opacity}"\n          >\n        </path>\n      </g>\n    </g>\n\n    \x3c!-- PEAK LABELS --\x3e\n    <g\n      aria-hidden="true"\n      style="transform: translate(${device.translate[0]}px, ${device.translate[1]}px);)"\n    >\n      ${buildPeakLabel(adjustedTQValues, realPositionsOnAxisX, \'TQ\', device, torquePeak)}\n      ${buildPeakLabel(valuesHP, realPositionsOnAxisX, \'HP\', device, hpPeak)}\n    </g>\n\n    \x3c!-- HORIZONTAL VALUES - RPM --\x3e\n    <g\n      aria-hidden="true"\n      class="chart-label-numbers ${valuesRPM.length > 20 ? \'display-less-values\' : \'\'}"\n    >\n      ${getHorizontalLabels(regularPositionsOnAxisX, regularValuesOnAxisX)}\n      <text \n        x="${totalWidthChart / 2}"\n        y="${totalHeightChart}"\n        class="chart-label-text"\n        text-anchor="middle"\n      >\n        ${TEXT.bottom}\n      </text>\n    </g>\n\n    \x3c!-- VERTICAL VALUES - TQ --\x3e\n    <g aria-hidden="true">\n      ${getVerticalLabels(valuesTQ, \'tq\', conversionFactor)}\n      <text \n        x="${25}"\n        y="-15%"\n        class="chart-label-text"\n        text-anchor="start"\n      >\n        ${TEXT.unitTQ}\n      </text>\n    </g>\n\n    \x3c!-- VERTICAL VALUES - HP --\x3e\n    <g aria-hidden="true">\n      ${getVerticalLabels(valuesHP, \'hp\')}\n      <text \n        x="${totalWidthChart - 55}"\n        y="-15%"\n        class="chart-label-text"\n        text-anchor="end"\n      >\n        ${TEXT.unitHP}\n      </text>\n    </g>\n  </svg>\n`;\n  return svg;\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (getPerformanceChart);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/engine-specifications/performance-chart.js?\n}')},"./blocks/footer/footer.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_async_dependencies_result__[0];\n\n\n\nfunction addScrollToTopButton(mainEl) {\n  const scrollToTopButton = document.createRange().createContextualFragment(`\n    <div class=\"scroll-to-top-container\">\n      <a href=\"#\" class=\"scroll-to-top\" title=${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('footer:go_to_top')}>\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M11.9999 20C11.7237 20 11.4999 19.7761 11.4999 19.5L11.4999 5.70711L6.35341 10.8536C6.15815 11.0488 5.84157 11.0488 5.6463 10.8536C5.45104 10.6583 5.45104 10.3417 5.6463 10.1464L11.6463 4.14645C11.8416 3.95119 12.1581 3.95118 12.3534 4.14644L18.3535 10.1464C18.5488 10.3417 18.5488 10.6583 18.3536 10.8535C18.1583 11.0488 17.8417 11.0488 17.6465 10.8536L12.4999 5.70709L12.4999 19.5C12.4999 19.7761 12.276 20 11.9999 20Z\" fill=\"currentColor\"/>\n        </svg>\n      </a>\n    </div>\n  `);\n  mainEl.append(scrollToTopButton);\n}\n\n/**\n * loads and decorates the footer\n * @param {Element} block The header block element\n */\nasync function decorate(block) {\n  const cfg = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.readBlockConfig)(block);\n  block.textContent = '';\n  let footerPath = cfg.footer || `${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getLanguagePath)()}footer`;\n  const isCustomFooter = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.getMetadata)('custom-footer');\n  if (isCustomFooter) {\n    footerPath = cfg.footer || `${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getLanguagePath)()}${isCustomFooter}`;\n  }\n\n  const resp = await fetch(`${footerPath}.plain.html`);\n  const html = await resp.text();\n  const footer = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: 'footer-container' });\n  footer.innerHTML = html.replaceAll('{year}', new Date().getFullYear());\n\n  // for custom footer we don't need the external link section,\n  // so check if columns block exist\n  const columnsWrapper = footer.querySelector('.columns');\n  let footerBar = footer.children[1];\n  let footerCopyright = footer.children[2];\n  let mainLinkWrapper;\n\n  const headings = footer.querySelectorAll('h1, h2, h3, h4, h5, h6');\n  [...headings].forEach((heading) => heading.classList.add('footer__title'));\n\n  openExternalLinksInNewTab(footer);\n\n  if (columnsWrapper) {\n    mainLinkWrapper = columnsWrapper.parentElement;\n    wrapSocialMediaLinks(mainLinkWrapper);\n    mainLinkWrapper.classList.add('footer-links-wrapper');\n    // in Word, it is edited like a column block, but we style it differently\n    mainLinkWrapper.firstElementChild.classList.remove('columns');\n    mainLinkWrapper.querySelectorAll('.footer__title').forEach((title) => {\n      const heading = title.firstElementChild;\n      const [text, icon] = heading.childNodes;\n      const spanEle = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('span');\n      spanEle.textContent = text.textContent;\n\n      title.append(spanEle);\n      title.append(icon);\n      heading.remove();\n\n      title.parentElement.classList.add('footer-list');\n      title.parentElement.parentElement.classList.add('footer-list-wrapper');\n      title.nextElementSibling?.classList.add('footer-list-item');\n\n      title.addEventListener('click', (e) => toggleExpand(e.currentTarget));\n    });\n  } else {\n    [footerBar, footerCopyright] = footer.children;\n  }\n\n  const copyrightWrapper = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: 'footer-copyright-wrapper' });\n  const copyrightContainer = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: 'footer-copyright-container' });\n\n  copyrightWrapper.append(copyrightContainer);\n\n  if (footerBar) {\n    const list = footerBar.firstElementChild;\n    list?.classList.add('footer-bar');\n    copyrightContainer.appendChild(list);\n    footerBar.remove();\n  }\n\n  if (footerCopyright) {\n    copyrightContainer.appendChild(footerCopyright);\n    footerCopyright?.classList.add('footer-copyright');\n  }\n\n  footer.appendChild(copyrightWrapper);\n  await (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.decorateIcons)(footer);\n  block.append(footer);\n  const noScrollToTopMobile = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.getMetadata)('no-scroll-to-top-mobile') === 'true';\n  if (noScrollToTopMobile) {\n    block.classList.add('no-scroll-to-top-mobile');\n  }\n  addScrollToTopButton(block);\n}\n\nfunction wrapSocialMediaLinks(footer) {\n  footer.querySelectorAll('.icon-newtab').forEach((icon) => {\n    const textIconWrapper = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('span', { classes: 'footer-text-icon-wrapper' });\n    const anchor = icon.parentElement;\n    textIconWrapper.append(icon.previousSibling);\n    textIconWrapper.append(icon);\n    anchor.append(textIconWrapper);\n  });\n}\n\nfunction openExternalLinksInNewTab(footer) {\n  footer.querySelectorAll('a').forEach((anchor) => {\n    try {\n      const { origin } = new URL(anchor.href, window.location.href);\n      if (origin && origin !== window.location.origin) {\n        anchor.setAttribute('target', '_blank');\n      }\n    } catch (e) {\n      console.warn(`Invalid link ${anchor.href}: ${e}`);\n    }\n  });\n}\n\nfunction findList(headingElement) {\n  let nextElement = headingElement.nextElementSibling;\n  while (nextElement && !nextElement.classList.contains('footer-list-item')) {\n    nextElement = nextElement.nextElementSibling;\n  }\n  return nextElement;\n}\n\nfunction toggleExpand(headingElement) {\n  const isExpanded = headingElement.classList.contains('expand');\n  const wrapper = headingElement.closest('.footer-list-wrapper');\n  const columns = wrapper.querySelectorAll('.footer-list');\n\n  const content = findList(headingElement);\n\n  columns.forEach((column) => {\n    const headingElements = column.querySelectorAll('.footer__title');\n    headingElements.forEach((heading) => {\n      const columnContent = findList(heading);\n      if (heading === headingElement && !isExpanded) {\n        heading.classList.add('expand');\n        content.style.maxHeight = `${content.scrollHeight}px`;\n      } else if (heading === headingElement && isExpanded) {\n        heading.classList.remove('expand');\n        content.style.maxHeight = null;\n      } else {\n        heading.classList.remove('expand');\n        columnContent.style.maxHeight = null;\n      }\n    });\n  });\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/footer/footer.js?\n}")},"./blocks/fragment/fragment.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/scripts.js */ \"./scripts/scripts.js\");\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__]);\n([_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n/*\n * Fragment Block\n * Include content from one Helix page in another.\n * https://www.hlx.live/developer/block-collection/fragment\n */\n\n\n\n\n\n/**\n * Loads a fragment.\n * @param {string} path The path to the fragment\n * @returns {HTMLElement} The root element of the fragment\n */\nasync function loadFragment(path) {\n  if (path && path.startsWith('/')) {\n    const resp = await fetch(`${path}.plain.html`);\n    if (resp.ok) {\n      const main = document.createElement('main');\n      main.innerHTML = await resp.text();\n      (0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.decorateMain)(main, main);\n      await (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_2__.loadSections)(main);\n      return main;\n    }\n  }\n  return null;\n}\n\nasync function decorate(block) {\n  const language = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getLanguagePath)();\n  const link = block.querySelector('a');\n  const path = link ? link.getAttribute('href') : block.textContent.trim();\n  const localisedPath = (language + path).replace(/\\/+/g, '/');\n  const fragment = await loadFragment(localisedPath);\n  if (fragment) {\n    const fragmentSection = fragment.querySelector(':scope .section');\n    if (fragmentSection) {\n      block.closest('.section').classList.add(...fragmentSection.classList);\n      block.closest('.fragment-wrapper').replaceWith(...fragmentSection.childNodes);\n    }\n  }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/fragment/fragment.js?\n}")},"./blocks/header/header.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\n\nconst blockClass = 'header';\n\n// check if the header has to have a login and/or a search button\nconst { SEARCH_DISABLED } = _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.HEADER_CONFIGS;\n\nconst desktopMQ = window.matchMedia('(min-width: 1200px)');\n\nconst createLogo = (logoWrapper) => {\n  const logoImage = logoWrapper.querySelector('span.icon');\n  let logoLink = null;\n\n  if (logoImage.parentElement.tagName === 'A') {\n    logoLink = logoImage.parentElement;\n    logoLink.classList.add(`${blockClass}__logo-link`);\n    const logoLinkText = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('span', { classes: ['screenreader'] });\n    logoLinkText.append('Go to Volvo Trucks homepage');\n\n    logoLink.append(logoLinkText);\n  }\n\n  logoImage.classList.add(`${blockClass}__logo-image`);\n\n  return logoLink || logoImage;\n};\n\nconst createMainLinks = (mainLinksWrapper) => {\n  const list = mainLinksWrapper.querySelector('ul');\n  if (list) {\n    list.setAttribute('id', 'header-main-nav');\n    list.classList.add(`${blockClass}__main-nav`);\n    list.querySelectorAll('li').forEach((listItem) => {\n      listItem.classList.add(`${blockClass}__main-nav-item`);\n      const accordionContainer = document.createRange().createContextualFragment(`\n        <div class=\"${blockClass}__accordion-container\">\n          <div class=\"${blockClass}__accordion-content-wrapper\">\n          </div>\n        </div>\n      `);\n      listItem.append(accordionContainer);\n    });\n\n    list.querySelectorAll('li > a').forEach((link) => {\n      link.classList.add(`${blockClass}__main-nav-link`, `${blockClass}__link`, `${blockClass}__link-accordion`);\n    });\n    return list;\n  }\n  return null;\n};\n\nconst createActions = (actionsWrapper) => {\n  const list = actionsWrapper.querySelector('ul');\n\n  list.setAttribute('id', 'header-actions-list');\n  list.classList.add(`${blockClass}__actions-list`);\n  list.querySelectorAll('li').forEach((listItem) => {\n    listItem.classList.add(`${blockClass}__action-item`);\n  });\n\n  list.querySelectorAll('li > a').forEach((link) => {\n    link.classList.add(`${blockClass}__action-link`, `${blockClass}__link`);\n    // wrapping text nodes into spans &\n    // adding aria labels (because text labels are hidden on mobile)\n    [...link.childNodes]\n      .filter((node) => node.nodeType === Node.TEXT_NODE)\n      .forEach((textNode) => {\n        const spanWrapper = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('span', { classes: [`${blockClass}__action-link-text`] });\n\n        textNode.replaceWith(spanWrapper);\n        spanWrapper.append(textNode);\n        link.setAttribute('aria-label', textNode.textContent);\n      });\n  });\n\n  const closeMenuLabel = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('header:close_menu');\n  const closeIcon = document.createRange().createContextualFragment(`\n    <li class=\"${blockClass}__action-item ${blockClass}__action-item--close-menu\">\n      <button\n        aria-label=\"${closeMenuLabel}\"\n        class=\"${blockClass}__close-menu\"\n        aria-expanded=\"false\"\n        aria-controls=\"header-main-nav, header-actions-list\"\n      >\n        <span class=\"icon icon-close\" aria-hidden=\"true\" />\n      </button>\n    </li>\n  `);\n\n  list.append(closeIcon);\n\n  return list;\n};\n\nconst mobileActions = () => {\n  const mobileActionsEl = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { classes: [`${blockClass}__mobile-actions`] });\n  const searchLabel = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('header:search');\n  const openMenuLabel = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('header:open_menu');\n  const searchResults = `${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getLanguagePath)()}search-results`;\n\n  const searchEl = `<a href=\"${searchResults}\" aria-label=\"${searchLabel}\" class=\"${blockClass}__search-button ${blockClass}__action-link ${blockClass}__link\">\n    <span class=\"icon icon-search-icon\" aria-hidden=\"true\"></span>\n  </a>`;\n\n  const actions = document.createRange().createContextualFragment(`\n    ${!SEARCH_DISABLED || SEARCH_DISABLED.toLowerCase() === 'true' ? '' : searchEl}\n    <button\n      aria-label=\"${openMenuLabel}\"\n      class=\"${blockClass}__hamburger-menu ${blockClass}__action-link ${blockClass}__link\"\n      aria-expanded=\"false\"\n      aria-controls=\"header-main-nav, header-actions-list\"\n    >\n      <span class=\"icon icon-hamburger-icon\" aria-hidden=\"true\"></span>\n    </button>\n  `);\n\n  mobileActionsEl.append(...actions.childNodes);\n\n  return mobileActionsEl;\n};\n\nconst addHeaderScrollBehaviour = (header) => {\n  let prevPosition = 0;\n\n  window.addEventListener('scroll', () => {\n    if (window.scrollY > prevPosition && !document.body.classList.contains('disable-scroll')) {\n      header.classList.add(`${blockClass}--hidden`);\n    } else {\n      header.classList.remove(`${blockClass}--hidden`);\n    }\n\n    // on Safari the window.scrollY can be negative so `> 0` check is needed\n    prevPosition = window.scrollY > 0 ? window.scrollY : 0;\n  });\n};\n\nconst createOverviewLink = (linkToCopy, parent) => {\n  const overview = linkToCopy.cloneNode(true);\n  overview.classList.add(`${blockClass}__overview-link`);\n  const link = overview.querySelector('a');\n  link.classList.add(`${blockClass}__link`);\n  link.textContent = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('header:overview');\n  parent.prepend(overview);\n};\n\nconst rebuildCategoryItem = (item) => {\n  item.classList.add(`${blockClass}__category-item`);\n\n  [...item.childNodes].forEach((el) => {\n    // removing new lines\n    if (el.tagName === 'BR') {\n      el.remove();\n    }\n\n    // wrapping orphan text\n    if (el.nodeType === Node.TEXT_NODE) {\n      const textContent = el.textContent.trim();\n\n      // removing empty text nodes\n      if (!textContent.length) {\n        el.remove();\n        return;\n      }\n\n      const textNode = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('span', { classes: `${blockClass}__link-description` });\n      textNode.textContent = textContent;\n      el.replaceWith(textNode);\n    }\n  });\n};\n\nconst optimiseImage = (picture) => {\n  const img = picture.querySelector('img');\n  const newPicture = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_1__.createOptimizedPicture)(img.src, img.alt, false, [\n    { media: '(min-width: 1200px) and (min-resolution: 2x)', width: '320' },\n    { media: '(min-width: 1200px)', width: '180' },\n  ]);\n\n  picture.replaceWith(newPicture);\n};\n\nconst buildMenuContent = (menuData, navEl) => {\n  menuData.querySelectorAll('picture').forEach(optimiseImage);\n\n  const menus = [...menuData.querySelectorAll('.menu')];\n  const navLinks = [...navEl.querySelectorAll(`.${blockClass}__main-nav-link`)];\n\n  menus.forEach((menuItemData) => {\n    const tabName = menuItemData.querySelector(':scope > div > div');\n    const categories = [...menuItemData.querySelectorAll(':scope > div > div')].slice(1);\n    const navLink = navLinks.find((el) => el.textContent.trim() === tabName.textContent.trim());\n    const accordionContentWrapper = navLink?.closest(`.${blockClass}__main-nav-item`).querySelector(`.${blockClass}__accordion-content-wrapper`);\n\n    const onAccordionItemClick = (el) => {\n      // on desktop only main nav links works as accordions\n      if (desktopMQ.matches && !el.target.classList.contains(`${blockClass}__main-nav-link`)) {\n        return;\n      }\n\n      el.preventDefault();\n      const menuEl = el.target.parentElement;\n      menuEl.classList.toggle(`${blockClass}__menu-open`);\n      const isExpanded = menuEl.classList.contains(`${blockClass}__menu-open`);\n      el.target.setAttribute('aria-expanded', isExpanded);\n\n      // closing other open menus - on desktop\n      if (desktopMQ.matches && menuEl.classList.contains(`${blockClass}__main-nav-item`)) {\n        const openMenus = document.querySelectorAll(`.${blockClass}__menu-open`);\n        navEl.parentElement.classList.toggle(`${blockClass}--menu-open`, isExpanded);\n\n        [...openMenus]\n          .filter((menu) => menu !== menuEl)\n          .forEach((menu) => {\n            menu.classList.remove(`${blockClass}__menu-open`);\n            menu.querySelector(':scope > a').setAttribute('aria-expanded', false);\n          });\n      }\n\n      // disabling scroll when menu is open\n      document.body.classList[isExpanded ? 'add' : 'remove']('disable-scroll');\n      document.querySelectorAll('footer, main').forEach((elmt) => {\n        if (isExpanded) {\n          elmt.setAttribute('inert', 'inert');\n        } else {\n          elmt.removeAttribute('inert');\n        }\n      });\n    };\n    // creating overview link - visible only on mobile\n    createOverviewLink(tabName, accordionContentWrapper);\n\n    categories.forEach((cat) => {\n      const title = cat.querySelector(':scope > p > a');\n      const list = cat.querySelector(':scope > ul');\n      const isImagesList = !!cat.querySelector('img');\n      let extraClasses = '';\n\n      if (isImagesList) {\n        extraClasses += `${blockClass}__category--images-list`;\n        accordionContentWrapper.classList.add(`${blockClass}__accordion-content-wrapper--with-images`);\n      }\n\n      title.classList.add(`${blockClass}__link`, `${blockClass}__link-accordion`, `${blockClass}__menu-heading`);\n      list.classList.add(`${blockClass}__category-items`);\n      [...list.querySelectorAll('li')].forEach(rebuildCategoryItem);\n      [...list.querySelectorAll('a')].forEach((el) => el.classList.add(`${blockClass}__link`));\n\n      const menuContent = document.createRange().createContextualFragment(`\n        <div class=\"${blockClass}__menu-content ${extraClasses}\">\n          ${title.outerHTML}\n          <div class=\"${blockClass}__category-content ${blockClass}__accordion-container\">\n            <div class=\"${blockClass}__accordion-content-wrapper inner-accordion\">\n              ${list.outerHTML}\n            </div>\n          </div>\n        </div>\n      `);\n\n      menuContent.querySelector(`.${blockClass}__link-accordion`).addEventListener('click', onAccordionItemClick);\n      accordionContentWrapper.append(menuContent);\n    });\n\n    navLink?.addEventListener('click', onAccordionItemClick);\n  });\n};\n\nconst decorateCTA = (wrapper) => {\n  const anchorTags = wrapper.querySelectorAll('a');\n  anchorTags.forEach((link) => {\n    link.classList.add(`${blockClass}__custom-button`);\n    wrapper.appendChild(link);\n  });\n  wrapper.firstElementChild.remove();\n  return wrapper;\n};\n\n/**\n * decorates the header, mainly the nav\n * @param {Element} block The header block element\n */\nasync function decorate(block) {\n  // clear the block\n  block.textContent = '';\n\n  // fetch nav content\n  let navPath = `${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getLanguagePath)()}nav`;\n  const isCustomHeader = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_1__.getMetadata)('custom-header');\n  if (isCustomHeader) {\n    navPath = `${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getLanguagePath)()}${isCustomHeader}`;\n    block.classList.add(`${blockClass}__custom`);\n  }\n  const resp = await fetch(`${navPath}.plain.html`);\n\n  if (!resp.ok) {\n    console.error(`Header is not loaded: ${resp.status}`);\n  }\n\n  // get the navigation text, turn it into html elements\n  const content = document.createRange().createContextualFragment(await resp.text());\n  const [logoContainer, navigationContainer, actionsContainer, menuContent] = content.children;\n  const nav = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('nav', { classes: [`${blockClass}__nav`] });\n  const navContent = document.createRange().createContextualFragment(`\n    <div class=\"${blockClass}__menu-overlay\"></div>\n    ${createLogo(logoContainer).outerHTML}\n    ${\n      navigationContainer.children.length\n        ? `<div class=\"${blockClass}__main-links\">\n      ${createMainLinks(navigationContainer).outerHTML}\n    </div>`\n        : ''\n    }\n    <div class=\"${blockClass}__actions\">\n      ${isCustomHeader ? '' : mobileActions().outerHTML}\n      ${isCustomHeader ? decorateCTA(actionsContainer).outerHTML : createActions(actionsContainer).outerHTML}\n    </div>\n  `);\n\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.decorateIcons)(navContent);\n\n  const setAriaForMenu = (isMenuVisible) => {\n    nav.querySelectorAll(`.${blockClass}__close-menu, .${blockClass}__hamburger-menu`).forEach((control) => {\n      control.setAttribute('aria-expanded', isMenuVisible);\n    });\n    nav.querySelectorAll('#header-main-nav, #header-actions-list').forEach((item) => {\n      item.setAttribute('aria-hidden', !isMenuVisible);\n    });\n  };\n\n  const initAriaForAccordions = () => {\n    const menuPrefix = 'menu-accordion';\n    const accordionContainers = block.querySelectorAll(`.${blockClass}__link-accordion ~ .${blockClass}__accordion-container`);\n\n    [...accordionContainers].forEach((container) => {\n      const id = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.generateId)(menuPrefix);\n      const accordionLink = container.parentElement.querySelector(`.${blockClass}__link-accordion`);\n\n      container.setAttribute('id', id);\n      accordionLink.setAttribute('aria-controls', id);\n      accordionLink.setAttribute('aria-expanded', false);\n    });\n  };\n\n  const closeHamburgerMenu = () => {\n    block.classList.remove(`${blockClass}--menu-open`, `${blockClass}--hamburger-open`);\n    block.querySelectorAll(`.${blockClass}__menu-open`).forEach((el) => {\n      el.classList.remove(`${blockClass}__menu-open`);\n      el.querySelector(':scope [aria-expanded=\"true\"]').setAttribute('aria-expanded', false);\n    });\n    document.body.classList.remove('disable-scroll');\n    document.querySelectorAll('footer, main').forEach((el) => el.removeAttribute('inert'));\n    setAriaForMenu(false);\n  };\n\n  // add action for hamburger\n  navContent.querySelector(`.${blockClass}__hamburger-menu`)?.addEventListener('click', () => {\n    block.classList.add(`${blockClass}--menu-open`, `${blockClass}--hamburger-open`);\n    document.body.classList.add('disable-scroll');\n\n    setAriaForMenu(true);\n  });\n\n  navContent.querySelectorAll(`.${blockClass}__menu-overlay, .${blockClass}__close-menu`).forEach((el) => {\n    el.addEventListener('click', closeHamburgerMenu);\n  });\n\n  // hide the hamburger menu when switching to desktop\n  desktopMQ.addEventListener('change', closeHamburgerMenu);\n\n  addHeaderScrollBehaviour(block);\n\n  nav.append(navContent);\n  block.append(nav);\n\n  setAriaForMenu(false);\n\n  if (menuContent) {\n    buildMenuContent(menuContent, nav);\n    initAriaForAccordions();\n  }\n\n  // hide nav when clicking outside the menu on desktop\n  document.addEventListener('click', (event) => {\n    if (!desktopMQ.matches) {\n      return;\n    }\n\n    const isTargetOutsideMenu = !event.target.closest(`.${blockClass}__main-nav`);\n    const openMenu = block.querySelector(`.${blockClass}__main-nav-item.${blockClass}__menu-open`);\n\n    if (isTargetOutsideMenu && openMenu) {\n      block.classList.remove(`${blockClass}--menu-open`);\n      openMenu.classList.remove(`${blockClass}__menu-open`);\n      openMenu.querySelector(':scope > a').setAttribute('aria-expanded', false);\n      document.body.classList.remove('disable-scroll');\n    }\n  });\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/header/header.js?\n}")},"./blocks/hero/hero.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\nfunction decorate(block) {\n  // Hero block is rendered by script.js buildHeroBlock.\n  // The buildHeroBlock takes the first div and check if it contains all needed\n  // elements (pictures, h1, ...) and then render the auto hero block.\n  // In case when extra classes (variants) are needed the auto block can't be used,\n  // so the block needs to be added manually.\n  // The auto block will grab all the content of the manually added block,\n  // so the empty block should be removed.\n  if (block.innerText.trim() === '') {\n    block.remove();\n  }\n}\n\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/hero/hero.js?\n}")},"./blocks/iframe/iframe.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\nasync function decorate(block) {\n  const iframe = document.createElement('iframe');\n  const link = block.querySelector('a')?.getAttribute('href');\n  const fixedHeightClass = [...block.classList].find((el) => /[0-9]+px/.test(el));\n\n  if (fixedHeightClass) {\n    iframe.height = fixedHeightClass;\n  }\n  iframe.src = link;\n  iframe.setAttribute('frameborder', 0);\n  block.replaceChildren(iframe);\n}\n\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/iframe/iframe.js?\n}")},"./blocks/image-360/image-360.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\nasync function decorate(block) {\n  const controls = `<div class=\"controls\">\n        <i class=\"fa fa-caret-left\" aria-label=\"left\"></i>\n        <i class=\"fa fa-caret-right\" aria-label=\"right\"></i>\n    </div>`;\n  const pictures = block.querySelectorAll('picture');\n\n  block.innerHTML = controls;\n  block.append(...pictures);\n\n  pictures[0].classList.add('active');\n\n  block.querySelectorAll('.controls .fa').forEach((control) => {\n    control.addEventListener('click', () => {\n      const active = block.querySelector('.active');\n      active.classList.remove('active');\n      let next;\n      if (control.matches('.fa-caret-left')) {\n        next = active.previousElementSibling;\n        if (next.tagName !== 'PICTURE') {\n          next = block.querySelector('picture:last-of-type');\n        }\n      } else {\n        next = active.nextElementSibling;\n        if (!next) {\n          next = block.querySelector('picture:first-of-type');\n        }\n      }\n      next.classList.add('active');\n    });\n  });\n}\n\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/image-360/image-360.js?\n}")},"./blocks/image/image.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\nasync function decorate(block) {\n  const fullWidthClass = 'full-viewport';\n  const isFullWidth = block.classList.contains(fullWidthClass);\n\n  if (isFullWidth) {\n    block.closest('.image-wrapper')?.classList.add(fullWidthClass);\n  }\n}\n\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/image/image.js?\n}")},"./blocks/key-facts/key-facts.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/video-helper.js */ \"./scripts/video-helper.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__]);\n([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nfunction stripEmptyTags(main, child) {\n  if (child !== main && child.innerHTML.trim() === '') {\n    const parent = child.parentNode;\n    child.remove();\n    stripEmptyTags(main, parent);\n  }\n}\n\nconst blockName = 'key-facts';\nconst variantClasses = ['trailing-line'];\n\nconst keyFactsColumns = (el, v2) => {\n  el.classList.add(`${blockName}__key-item`);\n\n  // clearing empty paragraphs\n  const paragraphs = el.querySelectorAll('p');\n  paragraphs.forEach((paragraph) => {\n    stripEmptyTags(el, paragraph);\n  });\n\n  // v1 structure:\n  // 1st line: pretitle or icon\n  // 2nd line: plus/minus sign (optional),\n  //           number with units (no space between plus,\n  //           number and units) space character subtitle (subtitle is optional)\n  //     example: \"+8.5% per hour\"\n  // 3rd line: text (3rd line is optional)\n  if (!v2) {\n    // adding icon\n    const icon = el.querySelector('i, .icon');\n\n    // 1st line:\n    if (icon) {\n      el.prepend(icon);\n      icon.classList.add(`${blockName}__icon`);\n    }\n\n    const preSubheading = el.querySelector(':scope > :not(strong, i):first-child');\n    preSubheading?.classList.add('subtitle-2');\n\n    const value = el.querySelector('strong:only-child');\n\n    if (value) {\n      // 2nd line:\n      // find and split number/unit\n      // separate number and unit. e.g. up | +31% | Freight efficiency, or 120,000 | psi,\n      const [, prenumber, number, postnumber, text] = value.innerHTML.match('([\\\\+,\\\\-]*)([0-9,\\\\.,]+)([\\\\%]*) *(.*)');\n      const newValue = `\n        <span class=\"${blockName}__main-text\">\n          <span class=\"${blockName}__main-text--small\">${prenumber}</span>\n          ${number}\n          <span class=\"${blockName}__main-text--small\">${postnumber}</span>\n        </span>\n      `;\n\n      const numberFragment = document.createRange().createContextualFragment(newValue);\n      value.innerHTML = '';\n      value.append(...numberFragment.childNodes);\n      value.classList.add(`${blockName}__main-text-wrapper`);\n\n      // 3rd line:\n      if (text) {\n        const unit = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('strong', { classes: [`${blockName}__unit`, 'subtitle-2'] });\n        unit.innerText = text;\n        value.parentNode.append(unit);\n      }\n    }\n\n    // traing line variant\n    const div = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { classes: `${blockName}__trailing-line` });\n    el.append(div);\n  }\n\n  // v2 version\n  // 1st line: text - what's inside `strong` is renderd with larger font\n  // 2nd line: text - styled as subtitle\n  if (v2) {\n    const FONT_DECREASE_LENGTH = 12;\n    const mainText = el.querySelector('p');\n    mainText.classList.add(`${blockName}__main-text-wrapper`);\n\n    const text = mainText.textContent.trim();\n    if (text.length >= FONT_DECREASE_LENGTH) {\n      mainText.classList.add(`${blockName}__main-text-wrapper--small`);\n    }\n\n    mainText.childNodes.forEach((node) => {\n      if (node.nodeType === Node.TEXT_NODE) {\n        const textContent = node.textContent.trim();\n        // removing empty text nodes\n        if (!textContent.length) {\n          node.remove();\n          return;\n        }\n\n        // wrapping orphan text nodes\n        const newNode = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('span', { classes: `${blockName}__main-text--small` });\n        newNode.textContent = textContent;\n        node.replaceWith(newNode);\n      }\n\n      if (node.tagName === 'STRONG') {\n        node.classList.add(`${blockName}__main-text`);\n      }\n    });\n    const subtitle = el.querySelector('p:nth-child(2)');\n\n    subtitle?.classList.add('subtitle-2');\n  }\n};\n\nasync function decorate(block) {\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.variantsClassesToBEM)(block.classList, variantClasses, blockName);\n\n  Array.from(block.children).forEach((row) => {\n    row.classList.add(`${blockName}__row`);\n\n    Array.from(row.children).forEach(async (col) => {\n      const videoLinks = [...col.querySelectorAll('a')].filter(_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.isVideoLink);\n      const isVideoCell = videoLinks.length;\n      const isImageCell = !!col.querySelector('picture');\n\n      if (isVideoCell) {\n        block.classList.add(`${blockName}--with-media`);\n        row.classList.add(`${blockName}__row--with-media`);\n\n        const video = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.createVideo)(videoLinks[0].getAttribute('href'), `${blockName}__video`, {\n          muted: true,\n          autoplay: true,\n          loop: 'loop',\n          playsinline: true,\n        });\n        col.replaceWith(video);\n        videoLinks[0].remove();\n\n        return;\n      }\n\n      if (isImageCell) {\n        block.classList.add(`${blockName}--with-media`);\n        row.classList.add(`${blockName}__row--with-media`);\n        col.classList.add(`${blockName}__image-cell`);\n\n        return;\n      }\n\n      const v2 = block.classList.contains(`${blockName}--with-media`);\n      keyFactsColumns(col, v2);\n    });\n  });\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/key-facts/key-facts.js?\n}")},"./blocks/magazine-articles/magazine-articles.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _scripts_magazine_press_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/magazine-press.js */ \"./scripts/magazine-press.js\");\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\n/* harmony import */ var _scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../scripts/services/magazine.service.js */ \"./scripts/services/magazine.service.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_magazine_press_js__WEBPACK_IMPORTED_MODULE_1__, _scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_3__]);\n([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_magazine_press_js__WEBPACK_IMPORTED_MODULE_1__, _scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\nconst filterLists = { category: null, topic: null, truck: null };\nlet isFirstLoad = true;\nlet offsetMultiplier = 1;\nlet temporaryOffset = 0;\n// This value represents opensearch's article limit\nconst searchLimit = 100;\n\nconst extractFilters = (facets) => {\n  facets.forEach((facet) => {\n    const key = facet.field === 'ARTICLE' ? 'category' : facet.field.toLowerCase();\n    const uniqueItems = new Set(\n      facet.items.map((item) => {\n        const value = item.value.trim();\n        return value;\n      }),\n    );\n    filterLists[key] = [...uniqueItems];\n  });\n};\n\nconst processMagazineArticles = async (params = {}) => {\n  const rawData = await (0,_scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_3__.fetchMagazineArticles)(params);\n\n  if (!rawData) {\n    console.error('No data returned from fetchMagazineArticles');\n    return [];\n  }\n\n  const { items, count, facets: dataFacets } = rawData;\n\n  if (!items || items.length === 0) {\n    console.error('No items returned in raw data:', rawData);\n    return [];\n  }\n\n  const articles = items.map((item) => (0,_scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_3__.parseArticleData)(item)).filter(Boolean);\n\n  temporaryOffset = temporaryOffset + searchLimit < count ? searchLimit * offsetMultiplier : count - temporaryOffset + temporaryOffset;\n  offsetMultiplier++;\n\n  if ((temporaryOffset < count) & !params.limit) {\n    const moreArticles = await processMagazineArticles({\n      ...params,\n      offset: articles.length,\n    });\n    return articles.concat(moreArticles);\n  }\n\n  if (isFirstLoad) {\n    isFirstLoad = false;\n    extractFilters(dataFacets);\n  }\n\n  const sortedArticles = articles.sort((a, b) => new Date(b.publishDate) - new Date(a.publishDate));\n\n  return sortedArticles;\n};\n\nfunction buildMagazineArticle(entry) {\n  const { path, image, title, description, author, category, readingTime, publishDate, isDefaultImage } = entry;\n\n  const card = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('article');\n  const picture = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_2__.createOptimizedPicture)(image, title, false, [{ width: '380', height: '214' }]);\n  const pictureTag = picture.outerHTML;\n  const formattedDate = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getDateFromTimestamp)(publishDate);\n\n  card.innerHTML = `\n    <a href=\"${path}\" class=\"imgcover\">\n      ${pictureTag}\n    </a>\n    <div class=\"content\">\n      <ul>\n        <li>${formattedDate}</li>\n      ${category ? `<li>${category}</li>` : ''}\n      </ul>\n      <h3><a href=\"${path}\">${title}</a></h3>\n      <p>${description}</p>\n      <ul>\n        <li>${author}</li>\n        <li>${readingTime}</li>\n      </ul>\n    </div>\n  `;\n  card.querySelector('picture').classList.toggle('default-image', isDefaultImage);\n  return card;\n}\n\nfunction buildLatestMagazineArticle(entry) {\n  const { url, image, title, description, linkText } = entry;\n  const card = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('article');\n  const picture = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_2__.createOptimizedPicture)(image, title, false, [{ width: '590', height: '410' }]);\n  const pictureTag = picture.outerHTML;\n  const readMore = linkText || 'Read more...';\n  card.innerHTML = `\n    <a href=\"${url}\" class=\"imgcover\">\n      ${pictureTag}\n    </a>\n    <div class=\"content\">\n      <h3>${title}</h3>\n      <p>${description}</p>\n      <a href=\"${url}\" class=\"cta\">${readMore}</a>\n    </div>\n  `;\n  return card;\n}\n\nasync function filterArticles(articles, activeFilters) {\n  const { category, topic, truck, search } = activeFilters;\n  const filters = { category, topic, truck };\n  const haveFilters = [category, topic, truck].some((filter) => !!filter);\n  const hasSearch = !!search;\n\n  if (!haveFilters && !hasSearch) {\n    // If no filters are applied, return articles asynchronously\n    return Promise.resolve(articles);\n  }\n\n  // otherwise do a query again with any of these filters\n  const tags = {};\n  Object.entries(filters).forEach(([key, value]) => {\n    // values stored as facets are separated by a space, so if the url filter has a dash\n    // it has to be replaced by a space\n    value && (tags[key] = [value.replaceAll('-', ' ')]);\n  });\n\n  const filterOptions = {\n    ...(haveFilters && { tags }),\n    ...(search && { q: search }),\n  };\n\n  try {\n    const filteredArticles = await processMagazineArticles({\n      ...filterOptions,\n      limit: articles.length,\n      offset: 0,\n    });\n    return filteredArticles;\n  } catch (error) {\n    console.error('Error filtering articles:', error);\n    return [];\n  }\n}\n\nasync function createFilter(articles, activeFilters, createDropdown, createInputSearch) {\n  const searchText = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('magazine_articles:search');\n  const term = activeFilters.search || '';\n  const { category, topic, truck } = filterLists;\n  const search = await createInputSearch(searchText.toLowerCase(), term, searchText);\n  const categoryFilter = createDropdown(category, activeFilters.category, 'category', 'All Categories');\n  const topicFilter = createDropdown(topic, activeFilters.topic, 'topic', 'All Topics');\n  const truckFilter = createDropdown(truck, activeFilters.truck, 'truck', 'All Truck Series');\n\n  [categoryFilter, topicFilter, truckFilter].forEach((filter) => {\n    const select = filter.querySelector('select');\n    select.addEventListener('change', (e) => e.target.form.submit());\n  });\n\n  return [search, categoryFilter, topicFilter, truckFilter];\n}\n\nfunction createArticleList(block, articles, limit) {\n  (0,_scripts_magazine_press_js__WEBPACK_IMPORTED_MODULE_1__.createList)(articles, filterArticles, createFilter, buildMagazineArticle, limit, block);\n}\n\nasync function createLatestMagazineArticles(mainEl, magazineArticles) {\n  mainEl.innerHTML = '';\n  const articleCards = document.createElement('div');\n  articleCards.classList.add('latest-magazine-articles');\n  mainEl.appendChild(articleCards);\n  magazineArticles.forEach((entry) => {\n    const articleCard = buildLatestMagazineArticle(entry);\n    articleCards.appendChild(articleCard);\n  });\n}\n\nasync function decorate(block) {\n  const latest = block.classList.contains('latest');\n  const limit = latest ? 3 : undefined;\n  const magazineArticles = await processMagazineArticles({ limit, sort: 'PUBLISH_DATE_DESC' });\n  if (latest) {\n    createLatestMagazineArticles(block, magazineArticles);\n  } else {\n    const limitPerPage = 8;\n    createArticleList(block, magazineArticles, limitPerPage);\n  }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/magazine-articles/magazine-articles.js?\n}")},"./blocks/nhtsa-header/nhtsa-header.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\n// hide buttons for, content if they are from same origin\nfunction hideButtons(buttons) {\n  buttons.forEach((element) => {\n    if (element.classList.contains('tertiary')) {\n      element.classList.remove('button', 'tertiary');\n    }\n    if (element.href.match(/\\/recalls/)) {\n      element.classList.add('button', 'nhsta-header__langauge-switch');\n    } else if (element.href.match(/www.volvotrucks/)) {\n      element.target = '_blank';\n    }\n  });\n}\n\nasync function decorate(block) {\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.unwrapDivs)(block);\n  const anchorTags = block.querySelectorAll('a');\n  anchorTags.forEach((element) => {\n    block.insertBefore(element, element.parentNode);\n  });\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.removeEmptyTags)(block);\n  hideButtons(anchorTags);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/nhtsa-header/nhtsa-header.js?\n}")},"./blocks/press-releases/press-releases.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\n/* harmony import */ var _common_pagination_pagination_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/pagination/pagination.js */ \"./common/pagination/pagination.js\");\n/* harmony import */ var _scripts_services_press_release_service_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../scripts/services/press-release.service.js */ \"./scripts/services/press-release.service.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _common_pagination_pagination_js__WEBPACK_IMPORTED_MODULE_2__, _scripts_services_press_release_service_js__WEBPACK_IMPORTED_MODULE_3__]);\n([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _common_pagination_pagination_js__WEBPACK_IMPORTED_MODULE_2__, _scripts_services_press_release_service_js__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\nconst blockName = 'press-releases';\nconst PAGE_SIZE = 10;\nlet paginationCssOnce;\nconst pageDataCache = new Map();\n\nconst parsePressRelease = (item) => {\n  const isImageLink = (link) => `${link}`.split('?')[0].match(/\\.(jpeg|jpg|gif|png|svg|bmp|webp)$/) !== null;\n\n  const getDefaultImage = () => {\n    const logoImageURL = '/media/logo/media_10a115d2f3d50f3a22ecd2075307b4f4dcaedb366.jpeg';\n    return (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getOrigin)() + logoImageURL;\n  };\n\n  const { image } = item.metadata;\n\n  return {\n    ...item.metadata,\n    image: isImageLink(image) ? (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getOrigin)() + image : getDefaultImage(),\n    path: item.metadata?.url,\n    isDefaultImage: !isImageLink(image),\n  };\n};\n\nconst renderSearchBar = () => {\n  const searchBar = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { classes: `${blockName}__search-bar` });\n  searchBar.innerHTML = `\n    <input type=\"text\" name=\"search\" autocomplete=\"off\" placeholder=\"${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('press_releases:search_placeholder')}\"/>\n    <button type=\"submit\"><i class=\"fa fa-search\"></i></button>`;\n  return searchBar;\n};\n\nconst renderPressReleaseCard = (entry) => {\n  const { path, image, title, description, publishDate } = entry;\n  const card = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('article', { classes: `${blockName}__article` });\n  const picture = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_1__.createOptimizedPicture)(image, title, false, [{ width: '414' }]);\n  const formattedDate = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getDateFromTimestamp)(publishDate);\n\n  card.innerHTML = `\n    <a href=\"${path}\">\n      ${picture.outerHTML}\n    </a>\n    <div>\n      <span class=\"date\">${formattedDate}</span>\n      <h3><a href=\"${path}\">${title}</a></h3>\n      <p>${description}</p>\n    </div>`;\n\n  return card;\n};\n\nconst renderPressReleaseList = (block, pressReleases) => {\n  const list = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('ul', { classes: ['article-list'] });\n  pressReleases.forEach((pr) => {\n    list.append(renderPressReleaseCard(pr));\n  });\n  block.append(list);\n};\n\n/**\n * Ensures a reusable pagination content area exists on the block.\n *\n * @param {HTMLElement} block\n * @returns {HTMLElement}\n */\nconst getOrCreateContentArea = (block) => {\n  let contentArea = block.querySelector('.pagination-content');\n  if (!contentArea) {\n    contentArea = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { classes: ['pagination-content'] });\n    block.appendChild(contentArea);\n  }\n  return contentArea;\n};\n\n/**\n * Loads the pagination CSS exactly once.\n */\nconst loadPaginationCss = async () => {\n  if (!paginationCssOnce) {\n    const baseURL = window.location.origin;\n    paginationCssOnce = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_1__.loadCSS)(`${baseURL}/common/pagination/pagination.css`);\n  }\n  await paginationCssOnce;\n};\n\n/**\n * Returns a per-page loader function bound to the provided base params,\n * with a tiny in-memory cache to avoid refetching visited pages.\n *\n * @param {Object} baseParams\n * @returns {(pageIndex:number) => Promise<Array>}\n */\nconst makePageLoader =\n  (baseParams = {}) =>\n  async (pageIndex) => {\n    if (pageDataCache.has(pageIndex)) {\n      return pageDataCache.get(pageIndex);\n    }\n    const { items = [] } = await (0,_scripts_services_press_release_service_js__WEBPACK_IMPORTED_MODULE_3__.fetchPressReleases)({\n      ...baseParams,\n      sort: 'PUBLISH_DATE_DESC',\n      limit: PAGE_SIZE,\n      offset: pageIndex * PAGE_SIZE,\n    });\n    const parsed = items.map((item) => parsePressRelease(item));\n    pageDataCache.set(pageIndex, parsed);\n    return parsed;\n  };\n\n/**\n * Fetches the first page to compute totals and seed cache.\n *\n * @param {Object} baseParams\n * @returns {{ total:number, totalPages:number }}\n */\nconst fetchCountAndPrimeCache = async (baseParams = {}) => {\n  const first = await (0,_scripts_services_press_release_service_js__WEBPACK_IMPORTED_MODULE_3__.fetchPressReleases)({\n    ...baseParams,\n    sort: 'PUBLISH_DATE_DESC',\n    limit: PAGE_SIZE,\n    offset: 0,\n  });\n\n  const total = Number(first?.count || 0);\n  const totalPages = Math.max(1, Math.ceil(total / PAGE_SIZE));\n\n  if (first?.items?.length) {\n    pageDataCache.set(\n      0,\n      first.items.map((i) => parsePressRelease(i)),\n    );\n  }\n\n  return { total, totalPages };\n};\n\n/**\n * Initializes dynamic pagination with API-backed totalPages and per-page fetching.\n *\n * @param {HTMLElement} block\n * @param {Object} baseParams\n */\nconst initPressReleasesPagination = async (block, baseParams = {}) => {\n  const contentArea = getOrCreateContentArea(block);\n  await loadPaginationCss();\n\n  pageDataCache.clear();\n\n  const { total, totalPages } = await fetchCountAndPrimeCache(baseParams);\n  const loadPageData = makePageLoader(baseParams);\n\n  if (!total) {\n    contentArea.innerHTML = '';\n    const noResultsMsg = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('p', { classes: `${blockName}__no-results-message` });\n    const q = baseParams?.q || '';\n    noResultsMsg.textContent = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('press_releases:no_results').replace('$0', `\"${q}\"`);\n    contentArea.append(noResultsMsg);\n  } else {\n    (0,_common_pagination_pagination_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n      block,\n      contentArea,\n      totalPages,\n      renderItems: renderPressReleaseList,\n      loadPageData,\n      initialPage: 0,\n    });\n  }\n};\n\nconst addEventListeners = (block) => {\n  const searchInput = block.querySelector(`.${blockName}__search-bar input`);\n  const searchButton = block.querySelector(`.${blockName}__search-bar button`);\n\n  const applySearch = async () => {\n    const query = searchInput.value?.trim();\n    block.querySelector('.pagination-content')?.remove();\n    block.querySelector('.pagination-nav')?.remove();\n    await initPressReleasesPagination(block, query ? { q: query } : {});\n  };\n\n  searchButton.addEventListener('click', applySearch);\n  searchInput.addEventListener('keydown', (event) => {\n    if (event.key === 'Enter') {\n      applySearch();\n    }\n  });\n};\n\nasync function decorate(block) {\n  await (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getPlaceholders)();\n  block.append(renderSearchBar());\n  await initPressReleasesPagination(block);\n  addEventListeners(block);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/press-releases/press-releases.js?\n}")},"./blocks/related-articles/related-articles.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\n/* harmony import */ var _scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../scripts/services/magazine.service.js */ \"./scripts/services/magazine.service.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_2__]);\n([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\nconst buildRelatedMagazineArticle = (entry) => {\n  const {\n    metadata: {\n      url,\n      image,\n      title,\n      article: { author, readTime },\n      publishDate,\n    },\n  } = entry;\n\n  const card = document.createElement('article');\n  const picture = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_1__.createOptimizedPicture)(image, title, false, [{ width: '380', height: '214' }]);\n  const pictureTag = picture.outerHTML;\n  const formattedDate = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getDateFromTimestamp)(publishDate);\n  card.innerHTML = `\n    <a href=\"${url}\" class=\"imgcover\">${pictureTag}</a>\n    <div class=\"content\">\n      <ul><li>${formattedDate}</li></ul>\n      <h3><a href=\"${url}\">${title}</a></h3>\n      <ul>\n        <li>${author}</li>\n        <li>${readTime}</li>\n      </ul>\n    </div>\n  `;\n  return card;\n};\n\nconst filterArticles = (articles, filterTags, thisArticleTitle) => {\n  const processTags = (article) => {\n    const tags = [...(article.metadata.article.category || []), ...(article.metadata.article.topic || []), ...(article.metadata.article.truck || [])];\n    return tags.map((tag) => (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_1__.toClassName)(tag.trim()));\n  };\n\n  articles.forEach((article) => {\n    article.filterTag = processTags(article);\n  });\n\n  const sortedArticles = (0,_scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_2__.sortArticlesByDateField)(articles, 'publishDate');\n  const filteredArticles = sortedArticles.filter((article) => article.metadata.title !== thisArticleTitle).slice(0, 3);\n\n  return filteredArticles;\n};\n\nconst createRelatedMagazineArticles = async (mainEl, magazineArticles) => {\n  const metadataTags = ['article-category', 'topic', 'truck'];\n  const articleTags = metadataTags.reduce((acc, metaTag) => {\n    const metaContent = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_1__.getMetadata)(metaTag);\n    if (metaContent) {\n      acc.push(...metaContent.split(',').map((tag) => (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_1__.toClassName)(tag.trim())));\n    }\n    return acc;\n  }, []);\n  const articleTitle = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_1__.getMetadata)('og:title');\n  const filteredData = filterArticles(magazineArticles, articleTags, articleTitle);\n\n  mainEl.textContent = '';\n  const articleCards = document.createElement('div');\n  articleCards.classList.add('related-magazine-articles');\n  mainEl.appendChild(articleCards);\n  filteredData.forEach((entry) => {\n    const articleCard = buildRelatedMagazineArticle(entry);\n    articleCards.appendChild(articleCard);\n  });\n};\n\nasync function decorate(block) {\n  const allArticles = await (0,_scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_2__.fetchMagazineArticles)({ sort: 'PUBLISH_DATE_DESC' });\n  const articles = (0,_scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_2__.removeArticlesWithNoImage)(allArticles);\n\n  createRelatedMagazineArticles(block, articles);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/related-articles/related-articles.js?\n}")},"./blocks/search-results/search-results.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _templates_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./templates.js */ \"./blocks/search-results/templates.js\");\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\n\n\n\n// Implementation based on searchtax documentation https://www.searchstax.com/docs/searchstudio/searchstax-studio-searchjs-module/\nasync function decorate(block) {\n  block.innerHTML = `\n  <div class=\"search-input-wrapper\">\n    <div id=\"searchResultInput\"></div>\n  </div>\n\n  <div class=\"search-results-summary-options-wrapper\">\n    <div id=\"searchResultSummarySection\"></div>\n    <div id=\"searchOptionsSection\"></div>\n  </div>\n\n  <div class=\"search-results-wrapper\">\n    <div class=\"facet-container-wrapper\">\n      <div id=\"searchFacetSection\"></div>\n    </div>\n    <div class=\"result-container-wrapper\">\n      <div id=\"external-search-result-container\"></div>\n      <div id=\"searchResultsSection\"></div>\n      <div id=\"relatedSearchesSection\"></div>\n      <div id=\"paginationSection\"></div>\n    </div>\n  </div>\n  `;\n\n  function setCookie(name, value, days = 7, path = '/') {\n    const expires = new Date(Date.now() + days * 864e5).toUTCString();\n    document.cookie = `${name}=${encodeURIComponent(value)}; expires=${expires}; path=${path}`;\n  }\n\n  function getCookie(name) {\n    return document.cookie.split('; ').reduce((r, v) => {\n      const parts = v.split('=');\n      return parts[0] === name ? decodeURIComponent(parts[1]) : r;\n    }, '');\n  }\n\n  // generating random value for cookie when value is missing\n  function makeid(length) {\n    let result = '';\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    const charactersLength = characters.length;\n\n    for (let i = 0; i < length; i++) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n  }\n\n  function getOrSetCookie(name) {\n    let cookieID = getCookie(name);\n    if (cookieID == null) {\n      cookieID = makeid(25);\n      setCookie(name, cookieID);\n    }\n    return cookieID;\n  }\n\n  function formatDate(value) {\n    if (value != null) {\n      if (typeof value === 'undefined') {\n        return '';\n      }\n      const options = { year: 'numeric', month: 'long', day: 'numeric' };\n      return new Date(value).toLocaleDateString(undefined, options);\n    }\n    return value;\n  }\n\n  window.studioConfig = {\n    connector: {\n      url: 'https://ss705916-dy2uj8v7-us-east-1-aws.searchstax.com/solr/productionvolvotrucks-1157/emselect',\n      authentication: 'YXBwMTE1Ny1hcGk6Vm9sdm90cnVja3NAMjAyMw==',\n      apikey: '3Ixo3pslPZXcRt0PCJXaYSN1evQyD3tERt1RaAUaRNU',\n      select_auth_token: 'None',\n      suggester_auth_token: 'None',\n      search_auth_type: 'basic',\n      session: getOrSetCookie('searchcookie'),\n      fields: { description: 'meta_description_t', title: '_name', url: 'result_url_creation_s' },\n      suggester: 'https://ss705916-dy2uj8v7-us-east-1-aws.searchstax.com/solr/productionvolvotrucks-1157-suggester/emsuggest',\n      searchAPIKey: '25c0942a02ba3b11f3b1182ed398c4442d85d115',\n      language: 'en',\n      fieldFormatters: { date: formatDate },\n      searchAdditionalArgs: 'hl.fragsize=200',\n      hideUniqueKey: true,\n    },\n    searchResults: '#searchResultsSection',\n    searchInput: '#searchResultInput',\n    searchResultSummarySection: '#searchResultSummarySection',\n    facetSection: '#searchFacetSection',\n    searchOptionsSection: '#searchOptionsSection',\n    relatedSearchesSection: '#relatedSearchesSection',\n    paginationSection: '#paginationSection',\n    customSearchTemplate: '#search-template',\n    customSearchFeedbackTemplate: '#searchFeedback-template',\n    customPagingTemplate: '#paging-template',\n    customPaginationTemplate: '#paging-template',\n    customSearchOptionSectionTemplate: '#searchOptionSection-template',\n    customNoResultTemplate: '#noresult-template',\n    customFacetTemplate: '#facet-template',\n    hideBranding: false,\n    isGridLayout: true,\n    display: 'multi',\n    facet_pagination: 3,\n    customResultTemplate: '#result-template',\n    customRelatedSearchesTemplate: '#customRelatedSearches-template',\n    externalSearchResults: '#external-search-result-container',\n    customExternalPromotionsTemplate: '#external-search-result-template',\n    suggestAfterMinChars: 2,\n  };\n\n  // these functions required for searchstax\n  const scripts = [\n    {\n      inline: `\n      var _msq = _msq || []; //declare object\n      var analyticsBaseUrl = 'https://analytics-us.searchstax.com';\n      (function () {\n        var ms = document.createElement('script');\n        ms.type = 'text/javascript';\n        ms.src = 'https://static.searchstax.com/studio-js/v3.20/js/studio-analytics.js';\n        var s = document.getElementsByTagName('script')[0];\n        s.parentNode.insertBefore(ms, s);\n      })();\n    `,\n    },\n    {\n      inline: `\n      (function (w, d, s, o, f) {\n        w['sf-widget'] = o;\n        w[o] =\n          w[o] ||\n          function () {\n            (w[o].q = w[o].q || []).push(arguments);\n          };\n        js = d.createElement(s);\n        fjs = d.getElementsByTagName(s)[0];\n        js.src = f;\n        js.async = 1;\n        fjs.parentNode.insertBefore(js, fjs);\n      })(window, document, 'script', '_sf', 'https://static.searchstax.com/studio-js/v3.20/js/studio-feedback.js');\n      _sf('4kKviXTq4zCnoB4SuKAFhZHVRZTAokybcN6uMcS1HQ4');\n    `,\n    },\n  ];\n\n  // adding templates\n  const temps = document.createElement('div');\n  temps.innerHTML = _templates_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].join('');\n  document.body.appendChild(temps);\n\n  // loading scripts one by one to prevent inappropriate script execution order.\n\n  for (const script of scripts) {\n    const newScript = document.createElement('script');\n\n    newScript.setAttribute('type', 'text/javascript');\n\n    if (script.inline) {\n      newScript.innerHTML = script.inline;\n      document.body.append(newScript);\n    }\n  }\n\n  (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_1__.loadScript)('https://static.searchstax.com/studio-js/v3.20/js/studio-app.js', { type: 'text/javascript', charset: 'UTF-8' });\n  (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_1__.loadScript)('https://static.searchstax.com/studio-js/v3.20/js/studio-vendors.js', { type: 'text/javascript', charset: 'UTF-8' });\n}\n\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/search-results/search-results.js?\n}")},"./blocks/search-results/templates.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst templates = [\n  `\n  <script type="text/x-template" id="result-template">\n    <div class="card-searchstudio-js-custom" :class="{\'card-searchstudio-js-grid-layout\': isGridLayout, \'has-thumbnail\': thumbnail !== \'\'}">     <div class="card-searchstudio-jsClass">\n        <div class="card-searchstudio-js-body p-0">\n            <span class="badge" v-if="ribbon" v-html="ribbon" />\n            <div class="card-searchstudio-js-title">\n                <a class="stretched-link" v-if="url" :href="url" @click="navigate" v-html="title ? title : result[\'resulttitle_t\']" />\n                <span v-else v-html="title ? title : result[\'resulttitle_t\']" />\n            </div>\n            <span class="card-searchstudio-js-path" v-if="paths" v-html="paths" />\n            <span class="star elevated" v-if="promoted"> </span>\n            <div class="thumbnail" v-if="thumbnail"><span><img :src="thumbnail"></span></div>\n\n            <div class="card-searchstudio-js-body p-0" v-if="date || snippet">\n                <div v-if="date"><div class="card-searchstudio-js-text"><span v-html="date" /></div></div>\n                <div v-if="snippet"><div class="card-searchstudio-js-text"><span v-html="snippet" /></div></div> </div>\n                <div class="card-searchstudio-js-body p-0">\n                  <div v-for="(value, propertyName) in result" :key="propertyName">\n                    \x3c!-- Check if the value is "this_field" --\x3e\n                    <div v-if="value !== result[\'resulttitle_t\']">\n                      <div v-if="displayProperty(value, propertyName)">\n                        <div class="card-searchstudio-js-text" :class="propertyName">\n                          <span class="image" v-if="isImage(value)">\n                            <img :src="value" />\n                          </span>\n                          <span\n                            :class="valueClass(value)"\n                            v-html="extractedValue(propertyName, value)"\n                            v-else\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n            </div>\n        </div>\n      </div>\n    </div>\n  <\/script>\n  `,\n  `\n  <script type="text/x-template" id="searchFeedback-template">\n    <div class="search-feedback-filters-custom align-items-center333"\n          :class="{ active: hasResults }"\n          v-if="searchStore.searchFired && hasResults">\n        <div class="sf-filter-info">\n          <span v-if="searchStore.searchFired">\n            Showing <strong>{{ searchStore.startDoc + 1 }} - {{ searchStore.endDoc }} </strong> of <strong>{{ searchStore.totalResults }}</strong> results\n            <span v-if="searchStore.studioConnector.defaultQuery != searchStore.searchTerm && searchStore.searchTerm != \'\'">\n              for\n              <strong>"{{ searchStore.searchTerm }}"</strong>\n            </span>\n          </span>\n        </div>\n    </div>\n  <\/script>\n  `,\n  `\n    <script type="text/x-template" id="leave-feedback-template">\n    <div id="sf-widget-custom" class="sf-main">\n    <a href="#" class="sf-open-feedback" @click.prevent="toggleFeedback" >\n    [ - ] Search Feedback\n    </a>\n    <div class="sf-modal-content" v-bind:class="[feedback_open ? \'sf-open\' : \'sf-close\']">\n    <div class="sf-modal-header">\n    <h5 class="sf-title">Search Feedback</h5>\n    <button class="sf-modal-close" v-on:click.prevent="toggleFeedback"><span><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJDYXBhXzEiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDM4Ni42NjcgMzg2LjY2NyIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCAzODYuNjY3IDM4Ni42NjciIHdpZHRoPSI1MTIiIGNsYXNzPSIiPjxnPjxwYXRoIGQ9Im0zODYuNjY3IDQ1LjU2NC00NS41NjQtNDUuNTY0LTE0Ny43NyAxNDcuNzY5LTE0Ny43NjktMTQ3Ljc2OS00NS41NjQgNDUuNTY0IDE0Ny43NjkgMTQ3Ljc2OS0xNDcuNzY5IDE0Ny43NyA0NS41NjQgNDUuNTY0IDE0Ny43NjktMTQ3Ljc2OSAxNDcuNzY5IDE0Ny43NjkgNDUuNTY0LTQ1LjU2NC0xNDcuNzY4LTE0Ny43N3oiIGRhdGEtb3JpZ2luYWw9IiMwMDAwMDAiIGNsYXNzPSJhY3RpdmUtcGF0aCIgc3R5bGU9ImZpbGw6I0ZDNjczMCIgZGF0YS1vbGRfY29sb3I9IiMwMDAwMDAiPjwvcGF0aD48L2c+IDwvc3ZnPg==" /></span></button>\n    </div>\n    <form id="sf-rating-form">\n    <div class="sf-modal-body ">\n    <label>How would you rate your search experience?</label>\n    <div class="form-group">\n    <div class="sf-rate-experience">\n      <div class="sf-custom-control" v-for=\'index in 11\' :key=\'index\'>\n        <input type="radio" v-bind:id="\'sf-rate-\'+(index-1)" name="sf-rating" class="sf-custom-control-input" v-bind:value="index-1" v-model.number="sf.rating" v-on:change="validateFeedback">\n        <label :for="\'sf-rate-\'+(index-1)" class="sf-custom-control-label">{{index-1}}</label>\n      </div>\n    </div>\n    <div class="sf-rate">\n      <p><small>0 = Very Dissatisfied</small></p>\n      <p><small>10 = Very Satisfied</small></p>\n    </div>\n    <div class="sf-error-rating alert alert-danger" v-bind:class="[errors.rating ? \'sf-show\' : \'sf-hide\']">Please Rate your\n    experience.</div>\n    </div>\n    <div class="sf-comments sf-form-group">\n      <label for="sf-comments">Comments <small>({{computeCommentsLimit}} characters remaining)</small></label>\n      <textarea :maxlength="max_length" class="sf-form-control" id="sf-comments" placeholder="Enter any comments relating to your search experience" v-model="sf.comments"></textarea>\n    </div>\n    <div class="sf-email sf-form-group">\n      <label for="sf-email">Email</label>\n      <input class="sf-form-control" type="email" id="sf-email" placeholder="Enter an email address if you want a response" v-model="sf.email" v-on:input="validateFeedback">\n      <div class="sf-error-email alert alert-danger" v-bind:class="[errors.email ? \'sf-show\' : \'sf-hide\']" >Please enter a valid email id</div>\n    </div>\n    </div>\n    <div class="sf-modal-footer">\n    <a href="http://searchstax.com/" target="_blank" class="left">\n    <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI0LjIuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMzEuNSAzOS44IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMzEuNSAzOS44OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZDNjczMDt9Cgkuc3Qxe2ZpbGw6IzMzNDc1QTt9Cgkuc3Qye2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7fQo8L3N0eWxlPgo8Zz4KCTxnIGlkPSJsb2dvX3g1Rl9jb2xvcl8xXyI+CgkJPGc+CgkJCTxnPgoJCQkJPGcgaWQ9IlhNTElEXzhfIj4KCQkJCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMC4zLDMxLjhMMS44LDMxYzAuMS0wLjEsMC4zLTAuMSwwLjUsMGw3LjQsNC4yYzAuMSwwLjEsMC4zLDAuMSwwLjUsMGw3LjMtNC4yYzAuMi0wLjEsMC4zLTAuMSwwLjUsMAoJCQkJCQlsMS40LDAuOWMwLjMsMC4yLDAuMywwLjYsMCwwLjhsLTkuMiw1LjRjLTAuMSwwLjEtMC4zLDAuMS0wLjUsMGwtOS40LTUuNEMwLDMyLjUsMCwzMiwwLjMsMzEuOHoiLz4KCQkJCTwvZz4KCQkJCTxnIGlkPSJYTUxJRF83XyI+CgkJCQkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTAuMywyNi41bDEuNi0wLjljMC4xLTAuMSwwLjMtMC4xLDAuNSwwbDcuMiw0LjJjMC4xLDAuMSwwLjMsMC4xLDAuNSwwbDcuMy00LjJjMC4xLTAuMSwwLjItMC4yLDAuMi0wLjQKCQkJCQkJVjI0YzAtMC40LTAuNC0wLjYtMC43LTAuNGwtNi43LDMuOWMtMC4xLDAuMS0wLjMsMC4xLTAuNSwwTDAuMiwyMmMtMC4zLTAuMi0wLjMtMC42LDAtMC44bDkuMy01LjVjMC4xLTAuMSwwLjMtMC4xLDAuNSwwCgkJCQkJCWw1LjMsM2MwLjMsMC4yLDAuMywwLjYsMCwwLjhsLTEuNCwwLjljLTAuMiwwLjEtMC4zLDAuMS0wLjUsMGwtMy40LTJjLTAuMi0wLjEtMC4zLTAuMS0wLjUsMGwtNC40LDIuN2MtMC4zLDAuMi0wLjMsMC42LDAsMC44CgkJCQkJCWw0LjQsMi42YzAuMSwwLjEsMC4zLDAuMSwwLjUsMGw3LjMtNC4yYzAuMS0wLjEsMC4zLTAuMSwwLjUsMGwyLDEuMWMwLjIsMC4xLDAuMiwwLjIsMC4yLDAuNHY0LjdjMCwwLjItMC4xLDAuMy0wLjIsMC40CgkJCQkJCWwtOS42LDUuN2MtMC4xLDAuMS0wLjMsMC4xLTAuNSwwbC05LjQtNS41Qy0wLjEsMjcuMi0wLjEsMjYuNywwLjMsMjYuNXoiLz4KCQkJCTwvZz4KCQkJPC9nPgoJCQk8ZyBpZD0iRElOX3g1Rl9OZXh0X3g1Rl9MVF94NUZfUHJvX3g1Rl9MaWdodF94MEFfXzFfIj4KCQkJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNC45LDMxLjNjLTAuMS0wLjEtMC4xLTAuMiwwLTAuMmwwLjQtMC41YzAuMS0wLjEsMC4yLTAuMSwwLjIsMGMwLjcsMC42LDEuOSwxLjEsMy4yLDEuMQoJCQkJCWMxLjgsMCwyLjgtMC45LDIuOC0yLjJjMC0xLjEtMC42LTEuOS0yLjYtMi4xbC0wLjUtMC4xYy0yLjEtMC4zLTMuMi0xLjMtMy4yLTIuOWMwLTEuOSwxLjQtMy4xLDMuNS0zLjFjMS4yLDAsMi40LDAuNCwzLjEsMC45CgkJCQkJYzAuMSwwLDAuMSwwLjEsMCwwLjJsLTAuMywwLjVjLTAuMSwwLjEtMC4xLDAuMS0wLjIsMGMtMC45LTAuNS0xLjctMC44LTIuNy0wLjhjLTEuNiwwLTIuNSwwLjktMi41LDIuMWMwLDEuMSwwLjcsMS44LDIuNiwyLjEKCQkJCQlsMC41LDAuMWMyLjIsMC4zLDMuMiwxLjMsMy4yLDNjMCwxLjktMS4zLDMuMi0zLjksMy4yQzI3LjEsMzIuNiwyNS43LDMyLDI0LjksMzEuM3oiLz4KCQkJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0zNi42LDIxLjZjMC0wLjEsMC4xLTAuMiwwLjItMC4yaDYuM2MwLjEsMCwwLjIsMC4xLDAuMiwwLjJ2MC42YzAsMC4xLTAuMSwwLjItMC4yLDAuMmgtNQoJCQkJCWMtMC4zLDAtMC42LDAuMy0wLjYsMC42djNjMCwwLjMsMC4zLDAuNiwwLjYsMC42aDQuMmMwLjEsMCwwLjIsMC4xLDAuMiwwLjJ2MC42YzAsMC4xLTAuMSwwLjItMC4yLDAuMmgtNC4yCgkJCQkJYy0wLjMsMC0wLjYsMC4zLTAuNiwwLjZWMzFjMCwwLjMsMC4zLDAuNiwwLjYsMC42aDVjMC4xLDAsMC4yLDAuMSwwLjIsMC4ydjAuNmMwLDAuMS0wLjEsMC4yLTAuMiwwLjJoLTYuMwoJCQkJCWMtMC4xLDAtMC4yLTAuMS0wLjItMC4yVjIxLjZ6Ii8+CgkJCQk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNNTAuMSwyMS42YzAtMC4xLDAuMS0wLjIsMC4yLTAuMmgwLjZjMC4xLDAsMC4yLDAuMSwwLjIsMC4ybDMuOCwxMC43YzAsMC4xLDAsMC4yLTAuMSwwLjJoLTAuNwoJCQkJCWMtMC4xLDAtMC4yLDAtMC4yLTAuMkw1MywyOS45Yy0wLjEtMC4yLTAuMi0wLjMtMC40LTAuM2gtNC4xYy0wLjIsMC0wLjQsMC4xLTAuNCwwLjNsLTAuOSwyLjRjMCwwLjEtMC4xLDAuMi0wLjIsMC4yaC0wLjYKCQkJCQljLTAuMSwwLTAuMS0wLjEtMC4xLTAuMkw1MC4xLDIxLjZ6IE01MS45LDI4LjdjMC4zLDAsMC42LTAuMywwLjQtMC42TDUwLjUsMjNsMCwwbC0xLjgsNWMtMC4xLDAuMywwLjEsMC42LDAuNCwwLjZoMi44VjI4Ljd6IgoJCQkJCS8+CgkJCQk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNNjUsMzIuNGMtMC4xLDAtMC4xLDAtMC4yLTAuMWwtMi4zLTQuOGgtMC4ySDYwYy0wLjMsMC0wLjYsMC4zLTAuNiwwLjZ2NC4yYzAsMC4xLTAuMSwwLjItMC4yLDAuMmgtMC42CgkJCQkJYy0wLjEsMC0wLjItMC4xLTAuMi0wLjJWMjEuNmMwLTAuMSwwLjEtMC4yLDAuMi0wLjJoMy43YzIuMSwwLDMuNCwxLjIsMy40LDNjMCwxLjMtMC42LDIuMy0xLjgsMi44Yy0wLjMsMC4xLTAuNCwwLjQtMC4yLDAuNgoJCQkJCWwyLjEsNC40YzAuMSwwLjEsMCwwLjItMC4xLDAuMkg2NUw2NSwzMi40eiBNNjQuOCwyNC41YzAtMS40LTAuOS0yLjItMi40LTIuMkg2MGMtMC4zLDAtMC42LDAuMy0wLjYsMC42djMuMgoJCQkJCWMwLDAuMywwLjMsMC42LDAuNiwwLjZoMi4zQzYzLjksMjYuNiw2NC44LDI1LjksNjQuOCwyNC41eiIvPgoJCQkJPHBhdGggY2xhc3M9InN0MSIgZD0iTTY5LjYsMjYuOWMwLTAuOCwwLTEuNSwwLjEtMS45YzAuMi0yLjMsMi4zLTQuMSw0LjYtMy42YzEuMSwwLjIsMS45LDAuOSwyLjQsMS45YzAsMC4xLDAsMC4yLDAsMC4yCgkJCQkJbC0wLjUsMC4zYy0wLjEsMC0wLjIsMC0wLjItMC4xYy0wLjUtMC45LTEuMy0xLjYtMi41LTEuNmMtMS4zLDAtMi4yLDAuNi0yLjYsMS44Yy0wLjEsMC40LTAuMiwxLjEtMC4yLDNjMCwxLjgsMC4xLDIuNSwwLjIsMwoJCQkJCWMwLjQsMS4yLDEuMiwxLjgsMi42LDEuOGMxLjIsMCwyLTAuNiwyLjUtMS42YzAtMC4xLDAuMS0wLjEsMC4yLTAuMWwwLjUsMC4zYzAuMSwwLDAuMSwwLjEsMCwwLjJjLTAuNiwxLjMtMS44LDItMy4zLDIKCQkJCQljLTEuNywwLTIuOS0wLjgtMy41LTIuNUM2OS43LDI5LjYsNjkuNiwyOC44LDY5LjYsMjYuOXoiLz4KCQkJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik04MC42LDIxLjZjMC0wLjEsMC4xLTAuMiwwLjItMC4yaDAuNmMwLjEsMCwwLjIsMC4xLDAuMiwwLjJ2NC4yYzAsMC4zLDAuMywwLjYsMC42LDAuNmg0LjUKCQkJCQljMC4zLDAsMC42LTAuMywwLjYtMC42di00LjJjMC0wLjEsMC4xLTAuMiwwLjItMC4yaDAuNmMwLjEsMCwwLjIsMC4xLDAuMiwwLjJ2MTAuN2MwLDAuMS0wLjEsMC4yLTAuMiwwLjJoLTAuNgoJCQkJCWMtMC4xLDAtMC4yLTAuMS0wLjItMC4ydi00LjRjMC0wLjMtMC4zLTAuNi0wLjYtMC42aC00LjVjLTAuMywwLTAuNiwwLjMtMC42LDAuNnY0LjRjMCwwLjEtMC4xLDAuMi0wLjIsMC4yaC0wLjYKCQkJCQljLTAuMSwwLTAuMi0wLjEtMC4yLTAuMlYyMS42TDgwLjYsMjEuNnoiLz4KCQkJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik05Mi4zLDMxLjNjLTAuMS0wLjEtMC4xLTAuMiwwLTAuMmwwLjQtMC41YzAuMS0wLjEsMC4yLTAuMSwwLjIsMGMwLjcsMC42LDEuOSwxLjEsMy4yLDEuMQoJCQkJCWMxLjgsMCwyLjgtMC45LDIuOC0yLjJjMC0xLjEtMC42LTEuOS0yLjYtMi4xbC0wLjUtMC4xYy0yLjEtMC4zLTMuMi0xLjMtMy4yLTIuOWMwLTEuOSwxLjQtMy4xLDMuNS0zLjFjMS4yLDAsMi40LDAuNCwzLjEsMC45CgkJCQkJYzAuMSwwLDAuMSwwLjEsMCwwLjJsLTAuMywwLjVjLTAuMSwwLjEtMC4xLDAuMS0wLjIsMGMtMC45LTAuNS0xLjctMC44LTIuNy0wLjhjLTEuNiwwLTIuNSwwLjktMi41LDIuMWMwLDEuMSwwLjcsMS44LDIuNiwyLjEKCQkJCQlsMC41LDAuMWMyLjIsMC4zLDMuMiwxLjMsMy4yLDNjMCwxLjktMS4zLDMuMi0zLjksMy4yQzk0LjUsMzIuNiw5MywzMiw5Mi4zLDMxLjN6Ii8+CgkJCQk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTA2LjIsMzIuNGMtMC4xLDAtMC4yLTAuMS0wLjItMC4ydi05LjRjMC0wLjMtMC4zLTAuNi0wLjYtMC42aC0yLjdjLTAuMSwwLTAuMi0wLjEtMC4yLTAuMnYtMC42CgkJCQkJYzAtMC4xLDAuMS0wLjIsMC4yLTAuMmg3LjRjMC4xLDAsMC4yLDAuMSwwLjIsMC4yVjIyYzAsMC4xLTAuMSwwLjItMC4yLDAuMmgtMi43Yy0wLjMsMC0wLjYsMC4zLTAuNiwwLjZ2OS40CgkJCQkJYzAsMC4xLTAuMSwwLjItMC4yLDAuMkgxMDYuMkwxMDYuMiwzMi40eiIvPgoJCQkJPHBhdGggY2xhc3M9InN0MSIgZD0iTTExNS41LDIxLjZjMC0wLjEsMC4xLTAuMiwwLjItMC4yaDAuNmMwLjEsMCwwLjIsMC4xLDAuMiwwLjJsMy44LDEwLjdjMCwwLjEsMCwwLjItMC4xLDAuMmgtMC42CgkJCQkJYy0wLjEsMC0wLjIsMC0wLjItMC4ybC0wLjktMi40Yy0wLjEtMC4yLTAuMi0wLjMtMC40LTAuM0gxMTRjLTAuMiwwLTAuNCwwLjEtMC40LDAuM2wtMC45LDIuNGMwLDAuMS0wLjEsMC4yLTAuMiwwLjJoLTAuNgoJCQkJCWMtMC4xLDAtMC4xLTAuMS0wLjEtMC4yTDExNS41LDIxLjZ6IE0xMTcuNCwyOC43YzAuMywwLDAuNi0wLjMsMC40LTAuNkwxMTYsMjNsMCwwbC0xLjgsNS4xYy0wLjEsMC4zLDAuMSwwLjYsMC40LDAuNkgxMTcuNHoiCgkJCQkJLz4KCQkJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xMjkuOSwzMi40Yy0wLjEsMC0wLjIsMC0wLjItMC4xbC0yLjgtNC43bDAsMGwtMi44LDQuN2MwLDAuMS0wLjEsMC4xLTAuMiwwLjFoLTAuNwoJCQkJCWMtMC4xLDAtMC4xLTAuMS0wLjEtMC4ybDMuMi01LjNjMC4xLTAuMiwwLjEtMC4zLDAtMC41bC0yLjktNC44Yy0wLjEtMC4xLDAtMC4yLDAuMS0wLjJoMC43YzAuMSwwLDAuMiwwLDAuMiwwLjFsMi41LDQuMmwwLDAKCQkJCQlsMi41LTQuMmMwLjEtMC4xLDAuMS0wLjEsMC4yLTAuMWgwLjdjMC4xLDAsMC4xLDAuMSwwLjEsMC4ybC0yLjksNC44Yy0wLjEsMC4yLTAuMSwwLjMsMCwwLjVsMy4yLDUuM2MwLDAuMSwwLDAuMi0wLjEsMC4yCgkJCQkJSDEyOS45TDEyOS45LDMyLjR6Ii8+CgkJCTwvZz4KCQk8L2c+Cgk8L2c+Cgk8ZyBjbGFzcz0ic3QyIj4KCQk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMS40LDIuMUMyLDIsMi42LDEuOSwzLjUsMS45YzEsMCwxLjgsMC4yLDIuMywwLjdjMC40LDAuNCwwLjcsMSwwLjcsMS43QzYuNCw1LDYuMiw1LjYsNS44LDYKCQkJQzUuMyw2LjYsNC40LDYuOSwzLjMsNi45Yy0wLjMsMC0wLjYsMC0wLjgtMC4xVjEwaC0xVjIuMXogTTIuNSw2QzIuNyw2LDMsNiwzLjQsNmMxLjMsMCwyLTAuNiwyLTEuN2MwLTEuMS0wLjgtMS42LTEuOS0xLjYKCQkJYy0wLjUsMC0wLjgsMC0xLDAuMVY2eiIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xMi44LDcuMWMwLDIuMS0xLjUsMy4xLTIuOSwzLjFjLTEuNiwwLTIuOC0xLjItMi44LTNjMC0xLjksMS4zLTMuMSwyLjktMy4xQzExLjYsNC4xLDEyLjgsNS4zLDEyLjgsNy4xegoJCQkgTTguMSw3LjJjMCwxLjMsMC43LDIuMiwxLjgsMi4yYzEsMCwxLjgtMC45LDEuOC0yLjNjMC0xLTAuNS0yLjItMS43LTIuMkM4LjcsNC45LDguMSw2LDguMSw3LjJ6Ii8+CgkJPHBhdGggY2xhc3M9InN0MSIgZD0iTTE0LjQsNC4ybDAuOCwzYzAuMiwwLjYsMC4zLDEuMiwwLjQsMS44aDBjMC4xLTAuNiwwLjMtMS4yLDAuNS0xLjhsMC45LTNIMThsMC45LDIuOQoJCQljMC4yLDAuNywwLjQsMS4zLDAuNSwxLjloMGMwLjEtMC42LDAuMy0xLjIsMC40LTEuOWwwLjgtMi45aDFMMTkuOSwxMGgtMWwtMC45LTIuOGMtMC4yLTAuNi0wLjQtMS4yLTAuNS0xLjloMAoJCQljLTAuMSwwLjctMC4zLDEuMy0wLjUsMS45TDE2LjEsMTBoLTFsLTEuOC01LjhIMTQuNHoiLz4KCQk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMjMuMyw3LjNjMCwxLjQsMC45LDIsMiwyYzAuOCwwLDEuMi0wLjEsMS42LTAuM2wwLjIsMC44Yy0wLjQsMC4yLTEsMC40LTEuOSwwLjRjLTEuOCwwLTIuOS0xLjItMi45LTIuOQoJCQlzMS0zLjEsMi43LTMuMWMxLjksMCwyLjQsMS43LDIuNCwyLjdjMCwwLjIsMCwwLjQsMCwwLjVIMjMuM3ogTTI2LjQsNi42YzAtMC43LTAuMy0xLjctMS41LTEuN2MtMS4xLDAtMS41LDEtMS42LDEuN0gyNi40eiIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yOC43LDZjMC0wLjcsMC0xLjMsMC0xLjhoMC45bDAsMS4xaDBjMC4zLTAuOCwwLjktMS4zLDEuNi0xLjNjMC4xLDAsMC4yLDAsMC4zLDB2MWMtMC4xLDAtMC4yLDAtMC40LDAKCQkJYy0wLjcsMC0xLjMsMC42LTEuNCwxLjRjMCwwLjEsMCwwLjMsMCwwLjVWMTBoLTFWNnoiLz4KCQk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMzMuMSw3LjNjMCwxLjQsMC45LDIsMiwyYzAuOCwwLDEuMi0wLjEsMS42LTAuM2wwLjIsMC44Yy0wLjQsMC4yLTEsMC40LTEuOSwwLjRjLTEuOCwwLTIuOS0xLjItMi45LTIuOQoJCQlzMS0zLjEsMi43LTMuMWMxLjksMCwyLjQsMS43LDIuNCwyLjdjMCwwLjIsMCwwLjQsMCwwLjVIMzMuMXogTTM2LjIsNi42YzAtMC43LTAuMy0xLjctMS41LTEuN2MtMS4xLDAtMS41LDEtMS42LDEuN0gzNi4yeiIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik00My42LDEuNXY3YzAsMC41LDAsMS4xLDAsMS41aC0wLjlsMC0xaDBjLTAuMywwLjYtMSwxLjEtMiwxLjFjLTEuNCwwLTIuNS0xLjItMi41LTNjMC0xLjksMS4yLTMuMSwyLjYtMy4xCgkJCWMwLjksMCwxLjUsMC40LDEuOCwwLjloMFYxLjVINDMuNnogTTQyLjUsNi42YzAtMC4xLDAtMC4zLDAtMC40Yy0wLjItMC43LTAuNy0xLjItMS41LTEuMmMtMS4xLDAtMS43LDEtMS43LDIuMgoJCQljMCwxLjIsMC42LDIuMSwxLjcsMi4xYzAuNywwLDEuNC0wLjUsMS41LTEuM2MwLTAuMSwwLTAuMywwLTAuNVY2LjZ6Ii8+CgkJPHBhdGggY2xhc3M9InN0MSIgZD0iTTQ3LjgsMTBjMC0wLjQsMC0xLDAtMS41di03aDF2My42aDBjMC40LTAuNiwxLTEuMSwyLTEuMWMxLjQsMCwyLjUsMS4yLDIuNCwzYzAsMi4xLTEuMywzLjEtMi42LDMuMQoJCQljLTAuOCwwLTEuNS0wLjMtMS45LTEuMWgwbDAsMUg0Ny44eiBNNDguOSw3LjdjMCwwLjEsMCwwLjMsMCwwLjRjMC4yLDAuNywwLjgsMS4yLDEuNiwxLjJjMS4xLDAsMS44LTAuOSwxLjgtMi4yCgkJCWMwLTEuMi0wLjYtMi4yLTEuNy0yLjJjLTAuNywwLTEuNCwwLjUtMS42LDEuM2MwLDAuMS0wLjEsMC4zLTAuMSwwLjRWNy43eiIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik01NSw0LjJsMS4zLDMuNGMwLjEsMC40LDAuMywwLjgsMC40LDEuMmgwYzAuMS0wLjMsMC4yLTAuOCwwLjQtMS4ybDEuMi0zLjRoMS4xbC0xLjYsNC4xYy0wLjgsMi0xLjMsMy0yLDMuNgoJCQljLTAuNSwwLjUtMSwwLjYtMS4zLDAuN2wtMC4zLTAuOWMwLjMtMC4xLDAuNi0wLjMsMC45LTAuNWMwLjMtMC4yLDAuNi0wLjYsMC45LTEuMkM1NiwxMCw1Niw5LjksNTYsOS45YzAtMC4xLDAtMC4xLTAuMS0wLjMKCQkJbC0yLjEtNS4zSDU1eiIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik02MC4zLDUuMmMwLTAuNCwwLjMtMC44LDAuNy0wLjhjMC40LDAsMC43LDAuMywwLjcsMC44YzAsMC40LTAuMywwLjctMC43LDAuN0M2MC42LDUuOSw2MC4zLDUuNiw2MC4zLDUuMnoKCQkJIE02MC4zLDkuNGMwLTAuNCwwLjMtMC44LDAuNy0wLjhjMC40LDAsMC43LDAuMywwLjcsMC44YzAsMC40LTAuMywwLjctMC43LDAuN0M2MC42LDEwLjIsNjAuMyw5LjksNjAuMyw5LjR6Ii8+Cgk8L2c+CjwvZz4KPC9zdmc+Cg==" class="sf-foot-logo"></a>\n    <button class="sf-btn sf-btn-primary js-send-feedback" v-on:click.prevent="submitFeedback" v-if="!submitted" type="button">Send</button>\n    <span class="sf-btn sf-btn-sent sf-btn-success" v-else>&check; Sent</span>\n    </div>\n    </form>\n    </div>\n    </div>\n  <\/script>\n  `,\n\n  `\n  <script type="text/x-template" id="searchOptionSection-template">\n    <div class="ml-auto sf-filter-actions-custom">\n    <div v-if="searchStore.searchFired && hasResults">\n    <div class="d-flex flex-wrap justify-content-end">\n      \x3c!-- <div class="view-card-searchstudio-js-style mr-3" --\x3e\n            \x3c!-- v-if="searchStore.viewDisplay == \'multi\'"> --\x3e\n        \x3c!-- View Style --\x3e\n        \x3c!-- <a href="#" --\x3e\n            \x3c!-- :class="[searchStore.layoutGrid ? \'active\' : \'\']" --\x3e\n            \x3c!-- @click.prevent="layoutStyle"> --\x3e\n          \x3c!-- <span class="icon-grid" /> --\x3e\n          \x3c!-- <span class="icon-list" /> --\x3e\n        \x3c!-- </a> --\x3e\n      \x3c!-- </div> --\x3e\n      <div class="form-inline justify-content-end"\n            v-if="hasMostRecent">\n        <label class="ml-4 mr-2"\n                for="sort-by">Sort By</label>\n        <select class="custom-select-searchstudio-js"\n                id="sort-by"\n                v-model="searchStore.sort_method.selected"\n                @change="SearchHelper.search">\n          <option v-for="option in searchStore.sort_method.options"\n                  :value="option.key"\n                  :key="option.key">\n            {{ option.value }}\n          </option>\n        </select>\n      </div>\n    </div>\n    </div>\n    </div>\n  <\/script>\n  `,\n\n  `\n  <script type="text/x-template" id="search-template">\n    <div class="input-container-custom">\n    <div class="sf-header-searchstudio-js mb-5">\n    <div class="">\n      <div class="sf-form">\n        <div class="form-group">\n          <vue-autosuggest v-if="autoSuggest"\n                          class="form-control-suggest"\n                          :class="{\'ignore-branding\': storeState.studioConfig.hideBranding}"\n                          :value="storeState.searchTerm"\n                          :suggestions="storeState.searchSuggestions"\n                          :get-suggestion-value="getSuggestionValue"\n                          @input="onSuggestionInputChange"\n                          :limit="10"\n                          @keyup.enter.prevent="onSuggestionClick"\n                          :input-props="{ id: \'searchTerm\', placeholder: \'Search For...\', autofocus: true }">                <template slot-scope="{ suggestion }">\n              <div v-html="suggestion.item" />\n            </template>\n          </vue-autosuggest>\n          <input v-if="!autoSuggest"\n                class="form-control form-control-lg"\n                :class="{\'ignore-branding\': storeState.studioConfig.hideBranding}"\n                type="text"\n                id="searchTerm"\n                :value="storeState.searchTerm"\n                @change="searchWithNoAutoSuggest"\n                @keyup.enter.prevent="searchWithNoAutoSuggest"\n                @keydown="resetSearch"\n                placeholder="Search"\n                autofocus>\n        <span v-if="!storeState.loading">\n            <button type="button"\n                    class="btn text-primary search-close-button"\n                    @click="onSearchIconClick"\n                    v-if="searchTerm === storeState.searchTerm && searchTerm !== \'\'">\n              <span class="fa fa-search search-icon" />\n            </button>\n            <button type="submit"\n                    class="btn text-primary search-close-button"\n                    @click="onSearchIconClick"\n                    v-else>\n              <span class="fa fa-search search-icon" />\n            </button>\n          </span>\n          <div class="loader"\n              v-if="storeState.loading">\n            <div class="spinner-border">\n              <span class="sr-only">Loading...</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    </div>\n\n    </div>\n  <\/script>\n  `,\n\n  `\n  <script type="text/x-template" id="noresult-template">\n    <div>\n      <div class="search-feedback-filters-custom align-items-center"\n        :class="{ active: searchStore.searchFired && !hasResults && searchStore.externalSearchResults.length === 0  }"\n        v-if="searchStore.searchFired && !hasResults && searchStore.externalSearchResults.length === 0 ">\n        <div class="sf-filter-info-custom">\n          <span class="d-block no-result-msg">SORRY, YOUR SEARCH FOR "{{ searchStore.searchTerm }}" RETURNED NO RESULTS!\n          </span><br />\n          <span class="no-result-msg2">LET\'S REFINE, OR TRY SEARCHING BY DIFFERENT SEARCH KEYWORDS INSTEAD.</span>\n            <br />\n          <span class="text-primary-main" v-if="hasSpellingSuggestion">Did you mean <a href="#"\n            @click="onSpellingSuggestionClick"\n            class="text-primary">{{ searchStore.spellingSuggestion }}</a>?</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  <\/script>\n  `,\n\n  `\n    <script type="text/x-template" id="facet-template">\n    <div class="facet-template-container-custom"\n    >\n    <div class="pill-container">\n    <div @click="showMobileSideMenu= true"\n        class="pill ">Filter By <span class="pill-close filter-by"></span></div>\n    <div class="pill"\n        v-for="(facet, index) in facet_qs"\n        :key="facet"\n        :class="{\'last\':facet_qs.length -1 === index }"\n        @click="removeFacet(facet)">{{ showFacet(facet)}} <span class="pill-close"></span>\n    </div>\n    <div class="pill clear-filters"\n        @click="clearFilters"\n        v-if="facet_qs.length > 0">Clear Filters</div>\n    </div>\n    <div class="sidebar-background"\n      :class="{\'show-facet-overlay\': showMobileSideMenu}"></div>\n    <div class="sf-sidebar-container"\n      :class="{\'show-facet-overlay\': showMobileSideMenu}">\n    <div class="sf-mobile-header">\n      <div class="sf-mobile-header-text">Filter By</div>\n      <button type="button"\n              class="btn btn-custom text-primary"\n              @click="closeSideMenu">\n        <span class="search-close" />\n      </button>\n    </div>\n    <div class="sf-sidebar">\n      <ul class="list-group accordion"\n          id="search-facets">\n        <li class="list-group-item-searchstudio-js">\n          <div id="collapse-topics"\n              class="collapse show"\n              data-parent="#search-facets">\n            <ul class="list-unstyled">\n              <div id="ss-search-results">\n                <div class="filters"\n                    :class="{ \'d-none\': !faceting_enabled }">\n                  <form action="/"\n                        method="get">\n                    <div class="facet-list mb-4"\n                        v-for="(facet, index) in computedFacets"\n                        :key="index">\n                      <h4 class="sidebar-heading">\n                        <a href="#"\n                          class="text-uppercase"\n                          @click.prevent="toggleFacet(index)"\n                          :class="[facet.facet_toggle ? \'active\' : \'\']">{{ facet.facet_label }} </a>\n                      </h4>\n                      <div class="collapse"\n                          :class="[facet.facet_toggle ? \'show\' : \'\']">\n                        <ul class="list-unstyled pl-3">\n                          <li v-for="(row, i) in facet.facets"\n                              :key="i"\n                              :class="[row.show ? \'\' : \'d-none\']">\n                            <input type="checkbox"\n                                  :disabled="row.disabled"\n                                  :id="row.label"\n                                  :value="encodeURIComponent(facet.facet_name) + \':&quot;\' + encodeURIComponent(row.label) + \'&quot;\' "\n                                  v-model="facet_qs"\n                                  @change="doSearch">\n                            <label :for="row.label"\n                                  class="ml-1"\n                                  :class="{\'disabled\': row.disabled}">\n                                  <span class="facet-name" :title="row.label"\n                                      :ref="\'elipsisTooltip\'+i+index">\n                                          {{ cleanValue(getFieldValue(facet.facet_name, row.label)) }}\n                                    </span>\n                                    ({{ row.count }})\n                                    </label>\n                            <div v-if="$refs[\'elipsisTooltip\'+i+index] && addElipsisTracking(\'elipsisTooltip\'+i+index)"></div>\n                            <div  :id="\'elipsisTooltip\'+i+index"\n                                class="facet-tooltip-wrapper">\n\n                              <span class="facet-tooltip">\n                                {{ cleanValue(getFieldValue(facet.facet_name, row.label)) }} ({{ row.count }})\n                              </span>\n                            </div>\n                          </li>\n                        </ul>\n                        <div class="more-less"\n                            v-if="hasFacetPagination(index)">\n                          <a href="#"\n                            @click.prevent="doMoreFacets(index)"\n                            v-if="hasMoreFacets(index)">More</a>\n                          <a href="#"\n                            @click.prevent="doLessFacets(index)"\n                            v-else>Less</a>\n                        </div>\n                      </div>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </ul>\n          </div>\n        </li>\n      </ul>\n      <button type="button"\n              class="btn btn-custom close-button"\n              @click="closeSideMenu">Done</button>\n    </div>\n    </div>\n    </div>\n  <\/script>\n  `,\n\n  `\n  <script type="text/x-template" id="paging-template">\n    <div class="d-flex flex-wrap w-100 py-3 rl-search paging-container"\n    v-else-if="hasResults && !reloading"\n    :class="showEditPaging? \'show-edit\' : \'\'"\n    @mouseenter="mouseenterPaging"\n    @mouseleave="mouseleavePaging">\n    <div v-if="searchStore.builderConfig && hasResults"\n      class="edit-button"\n      @click="editResultsPaging">EDIT RESULT PAGING STYLE</div>\n    <div class="text-left col-xl-6 col-lg-8 col-md-8 pagination-wrap">\n    <ul class="pagination justify-content-end">\n      <li class="page-item"\n          :class="{\'disabled\' : searchStore.loading}">\n        <a href="#"\n          class="page-link-searchstudio-js"\n          v-if="searchStore.searchFired"\n          :disabled="searchStore.startDoc === 0 || searchStore.loading"\n          @click.prevent="searchStore.startDoc !== 0 && prevPage()"\n          variant="outline-primary"> &#60; Previous </a>\n      </li>\n      <li class="page-item">\n        <span class="page-link-searchstudio-js"\n              v-if="searchStore.searchFired">\n          <strong>{{ searchStore.startDoc + 1 }} &mdash; {{ searchStore.endDoc }} </strong> of <strong>{{ searchStore.totalResults }}</strong>\n        </span>\n      </li>\n      <li class="page-item"\n          :class="{\'disabled\' : searchStore.loading}">\n        <a href="#"\n          class="page-link-searchstudio-js"\n          v-if="searchStore.searchFired"\n          :disabled="searchStore.endDoc === searchStore.totalResults || searchStore.loading"\n          @click.prevent="searchStore.totalResults !== searchStore.endDoc && nextPage()"\n          variant="outline-primary"> Next &#62; </a>\n      </li>\n    </ul>\n    </div>\n    </div>\n  <\/script>\n  `,\n\n  `\n  <script type="text/x-template" id="customRelatedSearches-template">\n    <div\n    class="related-searches-container">\n    <div v-if="storeState.relatedSearches.length">\n\n    <b>Related searches:</b>\n    <span v-for="(value, index) in storeState.relatedSearches"\n    :key="index"\n    class="related-search">\n    <a @click="search(value, $event)"\n          class="related-search-item"\n    href="#">\n    {{ value }}<span v-if="index < storeState.relatedSearches.length - 1 ">,</span>\n    </a>\n    </span>\n    </div>\n    </div>\n  <\/script>\n  `,\n\n  `\n  <script type="text/x-template" id="external-search-result-template">\n    <div class="external-searches-container">\n    <div class="list-wrapper external-list-wrapper"\n      :key="externalResult.url"\n      v-for="externalResult in externalSearchResults">\n    <div class="card-searchstudio-js-custom">\n      <div class="card-searchstudio-jsClass">\n        <div class="card-searchstudio-js-body p-0">\n          <div class="card-searchstudio-js-title">\n            <a :href="externalResult.url"\n              @click.prevent="trackClick(externalResult, $event)"\n              class="stretched-link">{{ externalResult.name }}</a>\n          </div>\n          <div class="icon-elevated" />\n          <div class="card-searchstudio-js-body p-0">\n            <div class="card-searchstudio-js-text content">\n              <span class="SearchStax">{{ externalResult.description }}</span>\n            </div>\n          </div>\n          <div class="card-searchstudio-js-body p-0">\n            <div class="card-searchstudio-js-text content">\n              <span class="SearchStax">{{ externalResult.url }}</span>\n            </div>\n          </div>\n          <div class="card-searchstudio-js-body p-0" />\n        </div>\n      </div>\n    </div>\n    </div>\n    </div>\n  <\/script>\n  `,\n];\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (templates);\n\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/search-results/templates.js?\n}')},"./blocks/search/autosuggest.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchAutosuggest: () => (/* binding */ fetchAutosuggest),\n/* harmony export */   handleArrowDown: () => (/* binding */ handleArrowDown),\n/* harmony export */   handleArrowUp: () => (/* binding */ handleArrowUp)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _scripts_search_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/search-api.js */ \"./scripts/search-api.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_search_api_js__WEBPACK_IMPORTED_MODULE_1__]);\n([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_search_api_js__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst autoSuggestClass = 'autosuggest-results-item-highlighted';\n\nfunction fetchAutosuggest(term, autosuggestEle, rowEle, func, showSearchIcon, maxSuggestions) {\n  const fragmentRange = document.createRange();\n  const locale = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getLocale)();\n  const language = locale.split('-')[0].toUpperCase();\n\n  if (!_scripts_search_api_js__WEBPACK_IMPORTED_MODULE_1__.TENANT) {\n    console.error('%cTenant %cis not defined', 'color: red', 'color: default');\n    return;\n  }\n\n  (0,_scripts_search_api_js__WEBPACK_IMPORTED_MODULE_1__.fetchSearchData)({\n    query: (0,_scripts_search_api_js__WEBPACK_IMPORTED_MODULE_1__.autosuggestQuery)(),\n    variables: {\n      tenant: _scripts_search_api_js__WEBPACK_IMPORTED_MODULE_1__.TENANT,\n      term,\n      language,\n      sizeSuggestions: maxSuggestions || 5,\n    },\n  }).then(({ errors, data }) => {\n    if (errors) {\n      console.log('%cSomething went wrong', { errors });\n    } else {\n      const { edsWordPhraseSuggest: { terms } = {} } = data;\n      autosuggestEle.textContent = '';\n      autosuggestEle.classList.remove('show');\n\n      if (terms.length) {\n        terms.forEach((val) => {\n          const row = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)(rowEle.tag, { classes: rowEle.class, props: rowEle.props });\n          let suggestionContent = `<b>${val}</b>`;\n          if (showSearchIcon) {\n            suggestionContent = `\n              <span class=\"icon icon-search-icon\"></span>\n              <span>${val.replaceAll(term, `<b>${term}</b>`)}</span>\n            `;\n          }\n          const suggestFragment = fragmentRange.createContextualFragment(suggestionContent);\n          row.appendChild(suggestFragment);\n          row.onclick = () => func(val);\n          (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.decorateIcons)(row);\n          autosuggestEle.appendChild(row);\n          autosuggestEle.classList.add('show');\n        });\n      }\n    }\n  });\n}\n\nfunction handleArrowUp(props) {\n  let { liSelected, next, index } = props;\n  const { list } = props;\n  const listLen = list.length - 1;\n\n  if (liSelected) {\n    liSelected.classList.remove(autoSuggestClass);\n    index -= 1;\n\n    next = list[index];\n    if (next && index >= 0) {\n      liSelected = next;\n    } else {\n      index = list.length - 1;\n      liSelected = list[index];\n    }\n  } else {\n    index = 0;\n    liSelected = list[listLen];\n  }\n\n  liSelected.classList.add(autoSuggestClass);\n  return { liSelected, index, next };\n}\n\nfunction handleArrowDown(props) {\n  let { index, liSelected, next } = props;\n  const { list } = props;\n\n  index += 1;\n\n  if (liSelected) {\n    liSelected.classList.remove(autoSuggestClass);\n\n    next = list[index];\n    if (next && index < list.length) {\n      liSelected = next;\n    } else {\n      index = 0;\n      [liSelected] = list;\n    }\n  } else {\n    index = 0;\n    [liSelected] = list;\n  }\n\n  liSelected.classList.add(autoSuggestClass);\n  return { index, liSelected, next };\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/search/autosuggest.js?\n}")},"./blocks/search/search.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _templates_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./templates.js */ \"./blocks/search/templates.js\");\n/* harmony import */ var _scripts_search_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../scripts/search-api.js */ \"./scripts/search-api.js\");\n/* harmony import */ var _autosuggest_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./autosuggest.js */ \"./blocks/search/autosuggest.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_search_api_js__WEBPACK_IMPORTED_MODULE_2__, _autosuggest_js__WEBPACK_IMPORTED_MODULE_3__]);\n([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_search_api_js__WEBPACK_IMPORTED_MODULE_2__, _autosuggest_js__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\nconst PLACEHOLDERS = {\n  searchFor: (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('search:search_for'),\n  noResults: (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('search:no_results'),\n  refine: (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('search:refine'),\n  showingResults: (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('search:showing_results_for'), // searchResultSummarySection\n  sortBy: (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('search:sort_by'), // searchOptionsSection\n  sortFilter: (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('search:sort_filter'),\n  previous: (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('search:previous'),\n  next: (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('search:next'),\n};\n\nconst SEARCH_PARAMS = {\n  _q: 'q',\n  _start: 'start',\n  _sort: 'sort',\n  _article: 'article',\n  _topic: 'topic',\n  _truck: 'truck',\n  _category: 'category',\n};\n\nfunction decorate(block) {\n  const fragmentRange = document.createRange();\n  const locale = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getLocale)();\n  const language = locale.split('-')[0].toUpperCase();\n\n  // check if url has query params\n  const { _q, _start, _sort, _article, _topic, _truck, _category } = SEARCH_PARAMS;\n  const urlParams = new URLSearchParams(window.location.search);\n  const searchTerm = urlParams.get(_q);\n  const tenant = _scripts_search_api_js__WEBPACK_IMPORTED_MODULE_2__.TENANT;\n  let offset = urlParams.get(_start);\n  offset = offset ? Number(offset) : 0;\n  let resultCount = 0;\n  const limit = 25;\n  let nextOffset = offset + limit;\n  let hasResults = true;\n  let facetsFilters = [];\n\n  const mainTemplate = (0,_templates_js__WEBPACK_IMPORTED_MODULE_1__.getMainTemplate)(PLACEHOLDERS);\n  const mainFragment = fragmentRange.createContextualFragment(mainTemplate);\n  block.textContent = '';\n  block.appendChild(mainFragment);\n\n  // after insert the main template, these elements are present then\n  const searchBtn = block.querySelector('.sf-form > span');\n  const input = document.getElementById('searchTerm');\n  input.value = searchTerm;\n  const facetsWrapper = document.getElementById('searchFacetSection');\n  const resultsWrapper = document.getElementById('searchResultsSection');\n  const summary = document.getElementById('searchResultSummarySection');\n  const sortBy = document.getElementById('searchOptionsSection');\n  const listEl = block.querySelector('.autosuggest__results-container ul');\n\n  function searchResults(hideAutoSuggest = true) {\n    if (hideAutoSuggest) {\n      listEl.textContent = '';\n    }\n    offset = 0;\n\n    deleteUrlParam(_category);\n    insertUrlParam(_q, input.value);\n    insertUrlParam(_start, offset);\n\n    fetchResults();\n  }\n\n  searchBtn.onclick = () => searchResults();\n\n  const onClickHandler = (val) => {\n    input.value = val;\n    searchResults();\n  };\n\n  const delayFetchData = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.debounce)((term) =>\n    (0,_autosuggest_js__WEBPACK_IMPORTED_MODULE_3__.fetchAutosuggest)(\n      term,\n      listEl,\n      {\n        tag: 'li',\n        class: 'autosuggest__results-item',\n        props: {\n          role: 'option',\n          'data-section-name': 'default',\n        },\n      },\n      onClickHandler,\n    ),\n  );\n\n  let liSelected;\n  let next;\n  let index = -1;\n\n  input.onkeyup = (e) => {\n    const term = e.target.value;\n    const list = listEl.getElementsByTagName('li');\n\n    if (e.key === 'Enter') {\n      searchResults();\n    } else if (e.key === 'Escape') {\n      listEl.textContent = '';\n    } else if (['ArrowUp', 'ArrowDown'].includes(e.key)) {\n      let returnObj;\n\n      if (e.key === 'ArrowUp') {\n        returnObj = (0,_autosuggest_js__WEBPACK_IMPORTED_MODULE_3__.handleArrowUp)({\n          list,\n          liSelected,\n          index,\n          next,\n        });\n      } else {\n        returnObj = (0,_autosuggest_js__WEBPACK_IMPORTED_MODULE_3__.handleArrowDown)({\n          list,\n          liSelected,\n          index,\n          next,\n        });\n      }\n\n      liSelected = returnObj.liSelected;\n      index = returnObj.index;\n      next = returnObj.next;\n      input.value = liSelected.firstElementChild.textContent.replace(/[ ]{2,}/g, '');\n      searchResults(false);\n    } else {\n      delayFetchData(term);\n    }\n  };\n\n  // pagination events\n  const paginationContainer = block.querySelector('.search-pagination-container');\n  const countSpan = paginationContainer.querySelector('.count');\n  const resRange = paginationContainer.querySelector('.page-range');\n\n  const nextBtn = paginationContainer.querySelector('.next');\n  nextBtn.onclick = () => pagination('next');\n\n  const prevBtn = paginationContainer.querySelector('.prev');\n  prevBtn.onclick = () => pagination('prev');\n\n  const addMoreBtnToggleEvent = (e) => {\n    const facetList = e.target.parentElement.previousElementSibling;\n    const isMore = e.target.textContent.toLowerCase() === 'more';\n    e.target.textContent = isMore ? 'Less' : 'More';\n    [...facetList.children].forEach((li, i) => {\n      if (i <= 2) {\n        return;\n      }\n      li.classList.toggle('d-none', !isMore);\n    });\n  };\n\n  const addFacetTitlesToggleEvent = (e) => {\n    const titleList = e.target.closest('.sidebar-heading').nextElementSibling;\n    const isShown = titleList.classList.contains('show');\n    e.target.classList.toggle('active', !isShown);\n    titleList.classList.toggle('show', !isShown);\n  };\n\n  const addToggleOverlayEvent = (sidebar, overlay, isOpen = false) => {\n    const showClass = 'show-facet-overlay';\n    sidebar.classList.toggle(showClass, isOpen);\n    overlay.classList.toggle(showClass, isOpen);\n  };\n\n  // handle filters\n  const addFilterEvent = (e, form) => {\n    form.requestSubmit();\n  };\n\n  const updateFilterCheckbox = () => {\n    const form = block.querySelector('form');\n    [...form].forEach((field) => {\n      const isChecked = facetsFilters.find(({ value }) => value.includes(field.value));\n      if (isChecked) {\n        field.checked = true;\n      }\n    });\n  };\n\n  const addFilterSubmitEvent = (e) => {\n    e.preventDefault();\n    const form = e.target;\n    const inputsChecked = [];\n    [...form].forEach((field) => {\n      inputsChecked.push(field.id);\n\n      const facetIndex = facetsFilters.findIndex((item) => item.field === field.dataset.filter);\n\n      if (facetIndex > -1) {\n        facetsFilters[facetIndex].value = facetsFilters[facetIndex].value.filter((val) => val !== field.value);\n\n        if (field.checked) {\n          facetsFilters[facetIndex].value.push(field.value);\n        }\n        if (!facetsFilters[facetIndex].value.length) {\n          facetsFilters = facetsFilters.filter((item) => item.field !== field.dataset.filter);\n        }\n      } else if (field.checked) {\n        facetsFilters.push({\n          field: field.dataset.filter,\n          value: [field.value],\n        });\n      }\n    });\n    const filterParams = [_article, _topic, _truck, _category];\n\n    filterParams.forEach((item) => {\n      const filter = facetsFilters.find(({ field }) => field.toLowerCase() === item);\n\n      if (filter) {\n        insertUrlParam(item, filter.value);\n        return;\n      }\n      deleteUrlParam(item);\n    });\n    facetsFilters = [];\n    offset = 0;\n    insertUrlParam(_start, offset);\n    fetchResults();\n  };\n\n  const addFacetsEvents = (facets) => {\n    if (!facets) {\n      return;\n    }\n    const facetSidebar = facets.querySelector('.sf-sidebar-container');\n    const facetOverlay = facets.querySelector('.sidebar-background');\n    const closeBtns = facets.querySelectorAll('.search-close-button, .close-button');\n    const titles = facets.querySelectorAll('.sidebar-heading a');\n    const filtersForm = facets.querySelector('#facetsFilters');\n    if (titles.length > 0) {\n      [...titles].forEach((title) => {\n        title.onclick = addFacetTitlesToggleEvent;\n      });\n    }\n    const moreBtns = facets.querySelectorAll('.more-less a');\n    if (moreBtns.length > 0) {\n      [...moreBtns].forEach((btn) => {\n        btn.onclick = addMoreBtnToggleEvent;\n      });\n    }\n    const filterByBtn = facets.querySelector('.pill');\n    filterByBtn.onclick = () => {\n      addToggleOverlayEvent(facetSidebar, facetOverlay, true);\n    };\n\n    [...closeBtns].forEach((btn) => {\n      btn.onclick = () => addToggleOverlayEvent(facetSidebar, facetOverlay);\n    });\n\n    filtersForm.addEventListener('submit', addFilterSubmitEvent);\n    filtersForm.onchange = (e) => addFilterEvent(e, filtersForm);\n\n    if (facetsFilters.length) {\n      updateFilterCheckbox();\n    }\n  };\n\n  // handle sort\n  const sortResults = block.querySelector('.custom-select-searchstudio-js');\n  const sort = urlParams.get(_sort);\n  if (sort) {\n    sortResults.value = sort;\n  }\n  sortResults.onchange = (e) => {\n    insertUrlParam(_sort, e.target.value);\n    fetchResults();\n  };\n\n  function showResults(data) {\n    const { items, count, facets } = data;\n    const queryTerm = (0,_scripts_search_api_js__WEBPACK_IMPORTED_MODULE_2__.sanitizeQueryTerm)(input.value);\n    let resultsText = '';\n    let facetsText = null;\n    if (items.length > 0) {\n      // items by query: 25, count has the total\n      paginationContainer.classList.add('show');\n      summary.parentElement.classList.remove('no-results');\n      resultsText = (0,_templates_js__WEBPACK_IMPORTED_MODULE_1__.getResultsItemsTemplate)({ items, queryTerm });\n      facetsText = (0,_templates_js__WEBPACK_IMPORTED_MODULE_1__.getFacetsTemplate)(facets);\n      resultCount = count;\n      hasResults = true;\n    } else {\n      const noResults = PLACEHOLDERS.noResults.replace('$0', `\"<span>${queryTerm.trim() === '' ? ' ' : queryTerm}</span>\"`);\n      summary.parentElement.classList.add('no-results');\n      resultsText = (0,_templates_js__WEBPACK_IMPORTED_MODULE_1__.getNoResultsTemplate)({ noResults, refine: PLACEHOLDERS.refine });\n      hasResults = false;\n    }\n    const fragment = fragmentRange.createContextualFragment(resultsText);\n    summary.textContent = '';\n    resultsWrapper.textContent = '';\n    facetsWrapper.textContent = '';\n    if (hasResults) {\n      const newOffset = nextOffset > count ? count : nextOffset;\n      const showingResults = PLACEHOLDERS.showingResults\n        .replace('$0', `${count > 0 ? offset + 1 : 0}`)\n        .replace('$1', newOffset)\n        .replace('$2', count)\n        .replace('$3', queryTerm);\n      const showingResultsText = (0,_templates_js__WEBPACK_IMPORTED_MODULE_1__.getShowingResultsTemplate)(showingResults);\n      const summaryFragment = fragmentRange.createContextualFragment(showingResultsText);\n      const facetsFragment = fragmentRange.createContextualFragment(facetsText);\n      resultsWrapper.appendChild(fragment);\n      summary.appendChild(summaryFragment);\n      facetsWrapper.appendChild(facetsFragment);\n      addFacetsEvents(facetsWrapper);\n    } else {\n      summary.appendChild(fragment);\n      paginationContainer.classList.remove('show');\n    }\n    sortBy.classList.toggle('hide', !hasResults);\n  }\n\n  function deleteUrlParam(key) {\n    if (window.history.pushState) {\n      const searchUrl = new URL(window.location.href);\n      searchUrl.searchParams.delete(key);\n      window.history.pushState({}, '', searchUrl.toString());\n    }\n  }\n\n  function insertUrlParam(key, value) {\n    if (window.history.pushState) {\n      const searchUrl = new URL(window.location.href);\n      searchUrl.searchParams.set(key, value);\n      window.history.pushState({}, '', searchUrl.toString());\n    }\n  }\n\n  function updatePaginationDOM(data) {\n    let isPrevDisabled = false;\n    let isNextDisabled = false;\n    const rangeText = `${offset + 1}-${nextOffset >= resultCount ? resultCount : nextOffset}`;\n\n    // disable the prev , next buttons\n    if (offset === 0) {\n      isPrevDisabled = 'disabled';\n    }\n    if (nextOffset >= data.count) {\n      isNextDisabled = 'disabled';\n    }\n    prevBtn.setAttribute('disabled', isPrevDisabled);\n    nextBtn.setAttribute('disabled', isNextDisabled);\n    resRange.innerText = rangeText;\n  }\n\n  async function fetchResults() {\n    const searchParams = new URLSearchParams(window.location.search);\n    const queryTerm = (0,_scripts_search_api_js__WEBPACK_IMPORTED_MODULE_2__.sanitizeQueryTerm)(searchParams.get(_q));\n    const offsetVal = Number(searchParams.get(_start));\n    const sortVal = searchParams.get(_sort) || 'BEST_MATCH';\n\n    const filters = {\n      category: { field: 'CATEGORY', value: _category },\n      article: { field: 'ARTICLE', value: _article },\n      topic: { field: 'TOPIC', value: _topic },\n      truck: { field: 'TRUCK', value: _truck },\n    };\n    const objectFilters = Object.keys(filters);\n\n    const variables = {\n      q: queryTerm,\n      language,\n      limit,\n      offset: offsetVal,\n      sort: sortVal,\n      tenant,\n      facets: [...objectFilters.map((key) => filters[key].field)],\n      article: {},\n    };\n\n    objectFilters.forEach((key) => {\n      // check for filters in the url ...\n      const value = searchParams.get(filters[key].value);\n      // updates the variables object ...\n      if (value) {\n        const splittedValue = value.split(',');\n        if (key === 'category') {\n          variables[key] = splittedValue;\n        } else {\n          const articleKey = key === 'article' ? 'category' : key;\n          variables.article[articleKey] = splittedValue;\n        }\n        // and updates the facetsFilters to be used to update the checkboxes\n        facetsFilters.push({\n          field: filters[key].field,\n          value: splittedValue,\n        });\n      }\n    });\n\n    if (!tenant) {\n      console.error('%cTenant %cis not defined', 'color: red', 'color: default');\n      return;\n    }\n\n    (0,_scripts_search_api_js__WEBPACK_IMPORTED_MODULE_2__.fetchSearchData)({\n      query: (0,_scripts_search_api_js__WEBPACK_IMPORTED_MODULE_2__.searchQuery)(),\n      variables,\n    }).then(({ errors, data }) => {\n      if (errors) {\n        console.log('%cSomething went wrong', errors);\n      } else {\n        const { edssearch } = data;\n        nextOffset = offset + limit;\n        countSpan.innerText = edssearch.count;\n        showResults(edssearch);\n        updatePaginationDOM(edssearch);\n      }\n    });\n  }\n\n  function getNextOffset(isNext = false) {\n    if (isNext) {\n      return nextOffset <= resultCount ? nextOffset : offset;\n    }\n    const temp = offset - limit;\n    return temp > 0 ? temp : 0;\n  }\n\n  function pagination(type) {\n    offset = getNextOffset(type === 'next');\n    insertUrlParam(_start, offset);\n    fetchResults();\n  }\n\n  // hide autocomplete, click was outside container.\n  const containingElement = document.querySelector('#searchInput');\n\n  document.body.addEventListener('click', (event) => {\n    if (!containingElement.contains(event.target)) {\n      listEl.textContent = '';\n    }\n  });\n\n  if (searchTerm) {\n    fetchResults();\n  }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/search/search.js?\n}")},"./blocks/search/templates.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getFacetsTemplate: () => (/* binding */ getFacetsTemplate),\n/* harmony export */   getMainTemplate: () => (/* binding */ getMainTemplate),\n/* harmony export */   getNoResultsTemplate: () => (/* binding */ getNoResultsTemplate),\n/* harmony export */   getResultsItemsTemplate: () => (/* binding */ getResultsItemsTemplate),\n/* harmony export */   getShowingResultsTemplate: () => (/* binding */ getShowingResultsTemplate)\n/* harmony export */ });\nconst getMainTemplate = (PLACEHOLDERS) => {\n  const [relevance, newest, oldest] = PLACEHOLDERS.sortFilter.split(\',\');\n  return `\n  <div class="search-input-wrapper">\n    <div id="searchInput" class="input-container-custom">\n      <div class="sf-header-searchstudio-js mb-5">\n        <div class="sf-form">\n          <div id="autosuggest" class="form-control-suggest">\n            <div role="combobox" aria-expanded="false" aria-haspopup="listbox"\n              aria-owns="autosuggest-autosuggest__results">\n              <input type="text" autocomplete="off" aria-autocomplete="list" id="searchTerm"\n                aria-controls="autosuggest-autosuggest__results"\n                placeholder="${PLACEHOLDERS.searchFor}..." autofocus="autofocus">\n            </div>\n            <div id="autosuggest-autosuggest__results" class="autosuggest__results-container">\n              <div aria-labelledby="autosuggest" class="autosuggest__results"> \n                <ul role="listbox"></ul>\n              </div>\n            </div>\n          </div>\n          <span>\n            <button type="submit" class="btn text-primary search-close-button">\n              <span class="fa fa-search search-icon"></span>\n            </button>\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="search-results-summary-options-wrapper">\n    <div id="searchResultSummarySection"></div>\n    <div id="searchOptionsSection" class="hide">\n      <div class="sf-filter-actions-wrapper">\n        <div class="ml-auto sf-filter-actions-custom">\n          <div class="form-inline justify-content-end">\n            <label for="sort-by" class="ml-4 mr-2">${PLACEHOLDERS.sortBy}</label>\n            <select id="order-by" class="custom-select-searchstudio-js">\n              <option value="BEST_MATCH">${relevance}</option>\n              <option value="PUBLISH_DATE_DESC">${newest}</option>\n              <option value="PUBLISH_DATE_ASC">${oldest}</option>\n            </select>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="search-results-wrapper">\n    <div class="facet-container-wrapper">\n      <div id="searchFacetSection" class="facet-wrapper facet-container-holder"></div>\n    </div>\n    <div class="result-container-wrapper">\n      <div id="searchResultsSection"></div>\n      <div id="paginationSection">\n        <div class="search-pagination-container">\n          <ul class="pagination">\n            <li class="page-item">\n              <a variant="outline-primary" class="page-link-searchstudio-js prev"> &lt; ${PLACEHOLDERS.previous} </a>\n            </li>\n            <li class="page-item">\n              <span class="page-link-searchstudio-js page-number"><strong class="page-range">1  25 </strong> of <strong class="count">113</strong></span>\n            </li>\n            <li class="page-item">\n              <a variant="outline-primary" class="page-link-searchstudio-js next">  ${PLACEHOLDERS.next}  &gt; </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n`;\n};\n\nconst getNoResultsTemplate = ({ noResults, refine }) => `\n  <div class="search-feedback-filters-wrapper">\n    <div class="search-feedback-filters-custom">\n      <div class="sf-filter-info-custom">\n        <span class="no-result-msg">${noResults}</span>\n        <br />\n        <span class="no-result-msg2">${refine}</span>\n      </div>\n    </div>\n  </div>\n`;\n\nconst addEmTag = (text, value) => {\n  const words = text.split(\' \');\n  const result = words.map((word) => (word.toLowerCase() === value.toLowerCase() ? `<em>${word}</em>` : word));\n  return result.join(\' \');\n};\n\nconst getResultsItemsTemplate = ({ items, queryTerm }) => {\n  let result = \'\';\n  items.forEach((item) => {\n    const { description, title, url } = item.metadata;\n    const emDescription = description ? addEmTag(description, queryTerm) : \'\';\n    const emTitle = title ? addEmTag(title, queryTerm) : \'\';\n    result += `\n      <div class="list-wrapper">\n        <div class="card-searchstudio-js-custom">\n          <div class="card-searchstudio-jsClass">\n            <div class="card-searchstudio-js-body p-0">\n              <div class="card-searchstudio-js-title">\n                <a href="${url}" target="_blank" class="stretched-link">\n                  <h4>${emTitle}</h4>\n                </a>\n              </div>\n              <div class="card-searchstudio-js-body p-0">\n                <div class="card-searchstudio-js-text article_promo_short_overview_t">\n                  <p class="Find">${emDescription}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n  });\n  return `\n    <div id="searchContainer">\n      <div class="container">\n        <div class="result-edit">\n          <div class="sf-lists active layout-list">\n            <div class="row reset-row">\n              <div class="sf-list w-100 p-0 d-flex flex-wrap position-relative">\n                ${result}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;\n};\n\nconst getShowingResultsTemplate = (text) => `\n  <div class="search-feedback-filters-wrapper-container">\n    <div class="search-feedback-filters-wrapper">\n      <div class="search-feedback-filters-custom align-items-center333">\n        <div class="sf-filter-info">\n          <span>${text}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n`;\n\nconst sanitizeString = (string) => string.replaceAll(\' \', \'-\');\n\nconst getItemsList = (items, filter) =>\n  items\n    .map((item, i) => {\n      const sanitizedValue = sanitizeString(item.value);\n      return `\n    <li ${i > 2 ? \'class="d-none"\' : \'\'}>\n      <input type="checkbox" id="${sanitizedValue}" data-filter="${filter}" value="${item.value}" />\n      <label for="${sanitizedValue}" class="ml-1">\n      <span class="facet-name" title="${sanitizedValue}"> ${item.value} </span> (${item.count}) </label>\n    </li>\n  `;\n    })\n    .join(\'\');\n\nconst getFacetsTemplate = (facets) => {\n  const [truck, topic, article, category] = facets;\n  const categoryItemsText = getItemsList(category.items, \'CATEGORY\');\n  const articleItemsText = getItemsList(article.items, \'ARTICLE\');\n  const topicItemsText = getItemsList(topic.items, \'TOPIC\');\n  const truckItemsText = getItemsList(truck.items, \'TRUCK\');\n\n  return `\n    <div class="facet-template-container-custom">\n      <div class="pill-container">\n        <div class="pill">Filter By <span class="pill-close filter-by"></span></div>\n      </div>\n      <div class="sidebar-background"></div>\n      <div class="sf-sidebar-container">\n        <div class="sf-mobile-header">\n          <div class="sf-mobile-header-text">Filter By</div>\n          <button type="button" class="btn btn-custom text-primary search-close-button fa fa-close">\n          </button>\n        </div>\n        <div class="sf-sidebar">\n          <ul id="search-facets" class="list-group accordion">\n            <li class="list-group-item-searchstudio-js">\n              <div id="collapse-topics" data-parent="#search-facets" class="collapse show">\n                <ul class="list-unstyled">\n                  <div id="ss-search-results">\n                    <div class="filters">\n                      <form id="facetsFilters">\n                        ${\n                          category.items.length > 0\n                            ? `\n                        <div class="facet-list mb-4">\n                          <h4 class="sidebar-heading">\n                            <a href="#" class="text-uppercase active">Page Categories </a>\n                          </h4>\n                          <div class="collapse show">\n                            <ul class="list-unstyled pl-3">\n                              ${categoryItemsText}\n                            </ul>\n                            ${\n                              category.items.length > 3\n                                ? `\n                            <div class="more-less">\n                              <a href="#">More</a>\n                            </div>`\n                                : \'\'\n                            }\n                          </div>\n                        </div>`\n                            : \'\'\n                        }\n                        ${\n                          article.items.length > 0\n                            ? `\n                        <div class="facet-list mb-4">\n                          <h4 class="sidebar-heading">\n                            <a href="#" class="text-uppercase active">Article Categories </a>\n                          </h4>\n                          <div class="collapse show">\n                            <ul class="list-unstyled pl-3">\n                              ${articleItemsText}\n                            </ul>\n                            ${\n                              article.items.length > 3\n                                ? `\n                            <div class="more-less">\n                              <a href="#">More</a>\n                            </div>`\n                                : \'\'\n                            }\n                          </div>\n                        </div>`\n                            : \'\'\n                        }\n                        ${\n                          topic.items.length > 0\n                            ? `\n                        <div class="facet-list mb-4">\n                          <h4 class="sidebar-heading">\n                            <a href="#" class="text-uppercase active">Topics </a>\n                          </h4>\n                          <div class="collapse show">\n                            <ul class="list-unstyled pl-3">\n                              ${topicItemsText}\n                            </ul>\n                            ${\n                              topic.items.length > 3\n                                ? `\n                            <div class="more-less">\n                              <a href="#">More</a>\n                            </div>`\n                                : \'\'\n                            }\n                          </div>\n                        </div>`\n                            : \'\'\n                        }\n                        ${\n                          truck.items.length > 0\n                            ? `\n                        <div class="facet-list mb-4">\n                          <h4 class="sidebar-heading">\n                            <a href="#" class="text-uppercase active">Trucks </a>\n                          </h4>\n                          <div class="collapse show">\n                            <ul class="list-unstyled pl-3">\n                              ${truckItemsText}\n                            </ul>\n                            ${\n                              truck.items.length > 3\n                                ? `\n                            <div class="more-less">\n                              <a href="#">More</a>\n                            </div>`\n                                : \'\'\n                            }\n                          </div>\n                        </div>`\n                            : \'\'\n                        }\n                      </form>\n                    </div>\n                  </div>\n                </ul>\n              </div>\n            </li>\n          </ul>\n          <button type="button" class="btn btn-custom close-button">Done</button>\n        </div>\n      </div>\n    </div>\n  `;\n};\n\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/search/templates.js?\n}')},"./blocks/specifications/specifications.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\nfunction newId() {\n  return (Math.random() + 1).toString(36).substring(7);\n}\n\nfunction calcScrollHeight(rowgroup) {\n  return [...rowgroup.children].map((child) => child.clientHeight).reduce((l, r) => l + r, 0);\n}\n\nfunction expand(event) {\n  const button = event.target.closest('button');\n  const rowgroup = button.nextElementSibling;\n  if (button.ariaExpanded === 'true') {\n    rowgroup.style.height = 0;\n    rowgroup.ariaHidden = true;\n    button.ariaExpanded = false;\n  } else {\n    rowgroup.style.height = `${rowgroup.scrollHeight}px`;\n    rowgroup.ariaHidden = false;\n    button.ariaExpanded = true;\n  }\n}\n\nfunction normalizeCells(cells, rowheaderRole = 'rowheader', cellRole = 'cell') {\n  [...cells].forEach((cell, j) => {\n    cell.normalize();\n    // remove any blank text nodes\n    if (cell.firstChild && cell.firstChild.nodeType === 3 && cell.firstChild.nodeValue.trim() === '') {\n      cell.firstChild.remove();\n    }\n    if (cell.lastChild && cell.lastChild.nodeType === 3 && cell.lastChild.nodeValue.trim() === '') {\n      cell.lastChild.remove();\n    }\n    // remove leading or trailing breaks\n    if (cell.firstChild && cell.firstChild.tagName === 'BR') {\n      cell.firstChild.remove();\n    }\n    if (cell.lastChild && cell.lastChild.tagName === 'BR') {\n      cell.lastChild.remove();\n    }\n    // wrap text-only cells with a <p>\n    if (!cell.querySelector('p') && cell.textContent !== '') {\n      cell.innerHTML = `<p>${cell.innerHTML}</p>`;\n    }\n    if (j === 0 && cells.length > 1) {\n      cell.role = rowheaderRole;\n    } else {\n      cell.role = cellRole;\n    }\n    cell.className = 'cell';\n  });\n}\n\nfunction activateMobileColumn(block, index) {\n  block.querySelectorAll('.cell.expand').forEach((cell) => cell.classList.remove('expand'));\n  block\n    .querySelectorAll(`.image-header .cell:nth-child(${index}),.row .cell:nth-child(${index + 1})`)\n    .forEach((cell) => cell.classList.add('expand'));\n  // adjust the height of all expanded rowgroups\n  block.querySelectorAll('[role=\"rowgroup\"][aria-hidden=\"false\"]').forEach((rowgroup) => {\n    rowgroup.style.height = `${calcScrollHeight(rowgroup)}px`;\n  });\n}\n\nfunction changeMobileColumn(event) {\n  activateMobileColumn(event.target.closest('.block'), parseInt(event.target.value, 10));\n}\n\nasync function decorate(block) {\n  block.role = 'table';\n\n  const colCount = block.firstElementChild.children.length;\n  block.style.setProperty('--grid-col-count', colCount);\n  const header = block.firstElementChild;\n  let firstRowIndex = 0;\n\n  // create a table header only if there are multiple columns in the first row\n  if (header.children.length > 1) {\n    const pictures = header.querySelectorAll('picture');\n    if (pictures.length > 0) {\n      const row = document.createElement('div');\n      row.className = 'image-header';\n      pictures.forEach((picture) => {\n        const cell = document.createElement('div');\n        cell.className = 'cell';\n        cell.appendChild(picture);\n        row.appendChild(cell);\n      });\n      header.insertAdjacentElement('beforebegin', row);\n      normalizeCells(row.children, 'cell');\n      firstRowIndex += 1;\n    }\n\n    header.className = 'column-header';\n    normalizeCells(header.children, 'rowheader', 'columnheader');\n    const mobileColumnHeader = document.createElement('div');\n    mobileColumnHeader.className = 'column-header-mobile';\n    mobileColumnHeader.innerHTML = `<select>\n      ${[...header.querySelectorAll('[role=\"columnheader\"]')]\n        .map((columnHeader, i) => `<option value=\"${i + 1}\">${columnHeader.textContent}</option>`)\n        .join('')}\n      </select>`;\n    mobileColumnHeader.firstElementChild.addEventListener('change', changeMobileColumn);\n    header.insertAdjacentElement('afterend', mobileColumnHeader);\n    firstRowIndex += 2;\n  }\n\n  // rowgroups and rows\n  const rows = [...block.children];\n  let rowCount = 0;\n  // special case: if all rows are single column (accordion style) the rowgroup headings must be\n  // bold\n  let singleColumn = true;\n  for (let i = firstRowIndex; i < rows.length && singleColumn; i += 1) {\n    singleColumn = rows[i].children.length === 1;\n  }\n  for (let i = firstRowIndex, rowgroup = null; i < rows.length; i += 1) {\n    const row = rows[i];\n    const cells = row.children;\n    const firstChild = (cells[0].firstElementChild && cells[0].firstElementChild.firstElementChild) || cells[0].firstElementChild;\n    const isWrappedByStrong = cells[0].children.length === 1 && firstChild && firstChild.tagName === 'STRONG';\n    const isHeader = cells.length === 1 && (!singleColumn || isWrappedByStrong);\n\n    if (isHeader) {\n      const button = document.createElement('button');\n      button.className = 'rowgroup-header';\n      button.type = 'button';\n      button.appendChild(cells[0]);\n      button.addEventListener('click', expand);\n      button.ariaExpanded = false;\n      row.insertAdjacentElement('beforebegin', button);\n\n      rowgroup = row;\n      rowgroup.role = 'rowgroup';\n      rowgroup.id = newId();\n      rowgroup.ariaHidden = true;\n      button.setAttribute('aria-controls', rowgroup.id);\n    } else {\n      row.className = 'row';\n      row.role = 'row';\n      rowCount += 1;\n      if (rowgroup) {\n        rowgroup.appendChild(row);\n      }\n      normalizeCells(cells);\n    }\n  }\n\n  block.ariaRowCount = rowCount;\n  block.ariaColCount = colCount;\n\n  activateMobileColumn(block, 1);\n}\n\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/specifications/specifications.js?\n}")},"./blocks/sub-nav/sub-nav.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/scripts.js */ \"./scripts/scripts.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\nfunction handleActiveClick(ul, event) {\n  // on mobile we expand the navigation\n  if (document.documentElement.clientWidth < 992) {\n    if (ul.style.height) {\n      ul.style.height = '';\n      ul.classList.remove('expand');\n    } else {\n      const navHeight = [...ul.children].reduce((sum, el) => sum + el.offsetHeight, 0);\n      ul.style.height = `${navHeight}px`;\n      ul.classList.add('expand');\n    }\n    event.preventDefault();\n  }\n}\n\nasync function createSubNav(block, ref) {\n  const resp = await fetch(`${ref}.plain.html`);\n  if (resp.ok) {\n    const { pathname } = window.location;\n    const text = await resp.text();\n    const fragment = document.createRange().createContextualFragment(text);\n    const ul = fragment.querySelector('ul');\n\n    ul.querySelectorAll('picture').forEach((picture) => {\n      const pictureContainer = picture.parentElement;\n      const a = pictureContainer.querySelector('a');\n      if (a) {\n        const caption = document.createElement('span');\n        caption.className = 'caption';\n        caption.innerText = a.innerText;\n        a.replaceChildren(picture, caption);\n        pictureContainer.replaceChildren(a);\n      }\n    });\n\n    // move the active link to the top\n    const currentPathname = pathname.endsWith('/') ? pathname : `${pathname}/`;\n    let activeLink = [...ul.querySelectorAll('li a')].find((a) => {\n      let linkPathname = new URL(a.href).pathname;\n      linkPathname = linkPathname.endsWith('/') ? linkPathname : `${linkPathname}/`;\n\n      return linkPathname === currentPathname;\n    });\n\n    if (activeLink) {\n      activeLink.closest('li').classList.add('active');\n    } else {\n      // if there is no active link, create one for the current page for mobile\n      const [title] = document.title.split('|');\n      ul.firstElementChild.insertAdjacentHTML('afterend', `<li class=\"active synthetic\"><a href=\"#\">${title}</a></li>`);\n      activeLink = ul.querySelector('.active');\n    }\n\n    // create an overview link for mobile\n    const lastSlash = (pathname.endsWith('/') ? pathname.substring(0, pathname.length - 1) : pathname).lastIndexOf('/');\n    if (lastSlash > 0) {\n      const parentLink = `${pathname.substring(0, lastSlash)}/`;\n      ul.firstElementChild.insertAdjacentHTML('afterend', `<li class=\"overview\"><a href=\"${parentLink}\">Overview</a></li>`);\n    }\n\n    const nav = document.createElement('nav');\n    nav.appendChild(ul);\n    (0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.decorateLinks)(nav);\n    block.replaceChildren(nav);\n\n    // attach click listner for mobile\n    (activeLink || ul.querySelector('a')).addEventListener('click', handleActiveClick.bind(null, ul));\n\n    window.addEventListener('scroll', () => {\n      const navHeight = block.previousElementSibling.clientHeight;\n      if (document.documentElement.scrollTop >= navHeight) {\n        block.classList.add('sticky');\n      } else {\n        block.classList.remove('sticky');\n      }\n    });\n\n    document.addEventListener('click', (event) => {\n      if (!block.contains(event.target)) {\n        const openItem = block.querySelector('.expand');\n        if (openItem) {\n          handleActiveClick(openItem, event);\n        }\n      }\n    });\n  }\n}\n\nasync function decorate(block) {\n  const { content } = document.head.querySelector('meta[name=\"sub-navigation\"]');\n  createSubNav(block, content);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/sub-nav/sub-nav.js?\n}")},"./blocks/tabbed-accordion/tabbed-accordion.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\nfunction buildTabNavigation(tabItems, clickHandler) {\n  const tabNavigation = document.createElement('ul');\n  [...tabItems].forEach((tabItem, i) => {\n    const listItem = document.createElement('li');\n    if (!i) {\n      listItem.classList.add('active');\n    }\n    const button = document.createElement('button');\n    const tabContent = tabItem.querySelector(':scope > div, :scope > p > div');\n    if (tabContent) {\n      button.addEventListener('click', () => clickHandler.call(this, tabContent, tabNavigation, listItem));\n      button.innerHTML = tabContent.dataset.accordion;\n    }\n    listItem.append(button);\n    tabNavigation.append(listItem);\n  });\n  tabNavigation.className = 'tab-navigation';\n  return tabNavigation;\n}\n\nfunction decorate(block) {\n  const tabContainer = block.querySelector(':scope > div, :scope > p > div');\n  tabContainer.classList.add('accordion-container');\n  const tabItems = block.querySelectorAll(':scope > div > div');\n  const tabNavigation = buildTabNavigation(tabItems, (tabContent, nav, listItem) => {\n    const currentActiveTabContent = tabContainer.querySelector('.is-active');\n    if (currentActiveTabContent !== tabContent) {\n      currentActiveTabContent.classList.remove('is-active');\n    }\n    tabContent.parentElement.parentElement.classList.add('is-active');\n\n    const currentActiveNavigationItem = nav.querySelector('.active');\n    if (currentActiveNavigationItem !== listItem) {\n      currentActiveNavigationItem.classList.remove('active');\n    }\n    listItem.classList.add('active');\n  });\n  tabItems.forEach((tabItem, i) => {\n    tabItem.classList.add('accordion-item');\n    const accordionContent = tabItem.querySelector(':scope > div, :scope > p > div');\n    accordionContent.classList.add('accordion-collapse');\n    const accordionHeader = document.createElement('div');\n    accordionHeader.classList.add('accordion-header');\n    if (!i) {\n      tabItem.classList.add('is-active');\n    }\n    const button = document.createElement('button');\n    button.innerHTML = accordionContent.dataset.accordion;\n    accordionHeader.append(button);\n    button.addEventListener('click', () => {\n      tabItem.classList.toggle('is-active');\n    });\n    tabItem.prepend(accordionHeader);\n  });\n  block.parentElement.prepend(tabNavigation);\n}\n\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/tabbed-accordion/tabbed-accordion.js?\n}")},"./blocks/tabbed-carousel/tabbed-carousel.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\nconst debounceDelay = 30;\n\nfunction stripEmptyTags(main, child) {\n  if (child !== main && child.innerHTML.trim() === '') {\n    const parent = child.parentNode;\n    child.remove();\n    stripEmptyTags(main, parent);\n  }\n}\n\nfunction setActive(tabNavigation, tabContainer, index) {\n  if (!tabNavigation.children[index].classList.contains('active')) {\n    [tabNavigation, tabContainer].forEach((c) => c.querySelectorAll('.active').forEach((i) => i.classList.remove('active')));\n\n    handlingVideo(tabContainer, index);\n    tabNavigation.children[index].classList.add('active');\n    tabContainer.children[index].classList.add('active');\n  }\n}\n\nfunction buildTabNavigation(tabItems, clickHandler) {\n  const tabNavigation = document.createElement('ul');\n  [...tabItems].forEach((tabItem, i) => {\n    const listItem = document.createElement('li');\n    const button = document.createElement('button');\n    button.addEventListener('click', () => clickHandler.call(this, tabNavigation, tabItem, i));\n    const tabContent = tabItem.querySelector(':scope > div');\n    button.innerHTML = tabContent.dataset.carousel;\n    listItem.append(button);\n    tabNavigation.append(listItem);\n  });\n  tabNavigation.className = 'tab-navigation';\n  return tabNavigation;\n}\n\nfunction handlingVideo(carouselContainer, activeIndex) {\n  carouselContainer.querySelectorAll('.tab-item').forEach((tab, index) => {\n    const video = tab.querySelector('video');\n\n    if (video) {\n      if (index === activeIndex) {\n        video.play();\n      } else {\n        video.pause();\n      }\n    }\n  });\n}\n\nfunction decorate(block) {\n  const tabContainer = block.querySelector(':scope > div');\n  tabContainer.classList.add('tab-container');\n  const tabItems = block.querySelectorAll(':scope > div > div');\n\n  tabItems.forEach((tabItem) => {\n    const firstChildParagraph = tabItem.querySelector(':scope > p');\n    if (firstChildParagraph) {\n      tabItem.innerHTML = firstChildParagraph.innerHTML;\n    }\n  });\n\n  const tabNavigation = buildTabNavigation(tabItems, (nav, tabItem, index) => {\n    tabContainer.scrollTo({\n      top: 0,\n      left: tabItem.offsetLeft - tabItem.parentNode.offsetLeft,\n      behavior: 'smooth',\n    });\n\n    setActive(tabNavigation, tabContainer, index);\n  });\n  tabItems.forEach((tabItem) => {\n    tabItem.classList.add('tab-item');\n    const tabContent = tabItem.querySelector(':scope > div');\n    const picture = tabItem.querySelector('picture');\n\n    if (picture) {\n      tabContent.prepend(picture);\n    }\n\n    tabContent.querySelectorAll('p, div').forEach((item) => {\n      stripEmptyTags(tabContent, item);\n    });\n  });\n  block.parentElement.prepend(tabNavigation);\n\n  // update the button indicator on scroll\n  let scrollTimeout;\n  tabContainer.addEventListener('scroll', () => {\n    if (scrollTimeout) {\n      clearTimeout(scrollTimeout);\n    }\n    scrollTimeout = setTimeout(() => {\n      const { scrollLeft } = tabContainer;\n      const { clientWidth } = tabContainer.firstElementChild;\n      const activeIndex = Math.floor(scrollLeft / clientWidth);\n      setActive(tabNavigation, tabContainer, activeIndex);\n    }, debounceDelay);\n  });\n\n  setActive(tabNavigation, tabContainer, 0);\n}\n\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/tabbed-carousel/tabbed-carousel.js?\n}")},"./blocks/teaser-cards/teaser-cards.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/video-helper.js */ \"./scripts/video-helper.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\nfunction decorate(block) {\n  const cols = block.firstElementChild.children.length;\n  block.parentElement.classList.add(`teaser-cards-${cols}`);\n  // go through all teasers\n  [...block.children].forEach((row) =>\n    [...row.children].forEach((elem) => {\n      // add teaser class for each entry\n      elem.classList.add('teaser');\n      if (elem.querySelector('.cta-list')) {\n        elem.classList.add('with-cta-list');\n      }\n      // give p containing the image a specific class\n      const picture = elem.querySelector('picture');\n      if (picture && picture.closest('p')) {\n        picture.closest('p').classList.add('image');\n      }\n\n      const links = elem.querySelectorAll('a');\n      const videos = [...links].filter((link) => (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.isVideoLink)(link));\n\n      if (videos.length) {\n        // display image as link with play icon\n        const selectedLink = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.selectVideoLink)(videos);\n\n        if (selectedLink) {\n          picture.after(selectedLink);\n          (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.wrapImageWithVideoLink)(selectedLink, picture);\n        }\n\n        // removing all of the videos links excluding the selected one\n        videos.forEach((link) => link !== selectedLink && link.parentElement.remove());\n      }\n\n      // give all the remainig p a text class\n      elem.querySelector('p:not(.image, .button-container)')?.classList.add('text');\n\n      // give cta's link(s) a specific class name\n      const ctaLinks = elem.querySelectorAll('.button-container a.button');\n      ctaLinks.forEach((cta) => {\n        cta.classList.add('cta');\n      });\n    }),\n  );\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/teaser-cards/teaser-cards.js?\n}")},"./blocks/teaser-grid/teaser-grid.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/video-helper.js */ \"./scripts/video-helper.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\nfunction decorate(block) {\n  // apply modifiers to the wrapper as well\n  const gapCls = [...block.classList].filter((cls) => cls.indexOf('gap') >= 0);\n  if (gapCls.length) {\n    block.parentElement.classList.add(gapCls);\n  }\n  // Formats a table and applies background images. Generally, each item should be in a table cell.\n  // When a cell is empty, the cells are merged vertically.\n  const columns = [...block.firstElementChild.children];\n\n  // convert new format to old format: cells in each column are moved into the first row as <li>\n  block.querySelectorAll(':scope > div').forEach((row, rowIndex) => {\n    row.querySelectorAll(':scope > div').forEach((cell, columnIndex) => {\n      wrapContentInList(cell);\n\n      // make sure it's not rendered as a button\n      cell.querySelector('a')?.classList.remove('button');\n\n      if (rowIndex > 0) {\n        // move to first row\n        cell.querySelectorAll('li').forEach((li) => {\n          if (li.childElementCount) {\n            columns[columnIndex].querySelector('ul').append(li);\n          }\n        });\n        cell.remove();\n      }\n    });\n    if (rowIndex > 0) {\n      row.remove();\n    }\n  });\n  removeEmptyLi(block);\n\n  const grid = document.createElement('ul');\n\n  const colCount = columns.length;\n  // get the max of list items per column, remove empty ones\n  const rowCount = columns\n    .map(\n      (col) =>\n        [...col.querySelectorAll('li')].filter((li) => {\n          if (li.innerHTML.trim() === '') {\n            li.remove();\n          }\n          return !!li.parentElement;\n        }).length,\n    )\n    .reduce((l, r) => Math.max(l, r), 0);\n\n  grid.style.setProperty('--grid-row-count', rowCount);\n  grid.style.setProperty('--grid-col-count', colCount);\n\n  columns.forEach((column) => {\n    const lis = column.querySelectorAll(':scope > ul > li');\n    const liCount = lis.length;\n    lis.forEach((li, i) => {\n      const contentContainer = document.createElement('div');\n      contentContainer.innerHTML = li.innerHTML;\n      li.innerHTML = '';\n\n      const links = contentContainer.querySelectorAll('a');\n      const image = contentContainer.querySelector('picture');\n      let selectedLink = links[0];\n\n      if (links.length && (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.isVideoLink)(links[0])) {\n        selectedLink = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.selectVideoLink)(links);\n\n        // remove other video links\n        links.forEach((link) => link !== selectedLink && link.remove());\n      }\n\n      if (image && selectedLink) {\n        // wrap the image with the link, remove the link from the content container\n        selectedLink.innerText = '';\n        selectedLink.appendChild(image);\n        selectedLink.remove();\n      }\n\n      li.appendChild(selectedLink ?? image);\n\n      const textItems = contentContainer.innerHTML.split('<br>').filter((text) => text.trim() !== '');\n      if (textItems.length) {\n        let html = `<h3>${textItems[0]}</h3>`;\n        if (textItems.length > 1) {\n          html += `<p>${textItems.slice(1).join('</p><p>')}</p>`;\n        }\n        contentContainer.innerHTML = html;\n        li.appendChild(contentContainer);\n      }\n\n      // first item spans multiple rows\n      if (i === 0 && liCount < rowCount) {\n        li.style.setProperty('--grid-row-span', rowCount - liCount + 1);\n      }\n\n      grid.appendChild(li);\n    });\n  });\n\n  block.innerHTML = grid.outerHTML;\n\n  // iterating through the list after the HTML manipulation\n  const links = [...block.querySelectorAll('a')];\n\n  links\n    .filter((link) => (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.isVideoLink)(link))\n    .forEach((link) => {\n      (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.addVideoShowHandler)(link);\n      (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.wrapImageWithVideoLink)(link, link.querySelector('picture'));\n    });\n}\n\n/**\n * make sure there is an <ul>, move any content into an <li>\n */\nfunction wrapContentInList(cell) {\n  const nonListContent = [...cell.childNodes].filter((el) => el.nodeName !== 'UL');\n\n  let ul = cell.querySelector(':scope > ul');\n  if (!ul) {\n    ul = document.createElement('ul');\n    cell.append(ul);\n  }\n\n  if (nonListContent.length) {\n    const li = document.createElement('li');\n    if (cell.dataset.align) {\n      li.dataset.align = cell.dataset.align;\n    }\n    li.append(...nonListContent);\n    ul.append(li);\n  }\n}\n\nfunction removeEmptyLi(cell) {\n  cell.querySelectorAll('li').forEach((li) => {\n    if (li.innerHTML.trim() === '') {\n      li.remove();\n    }\n  });\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/teaser-grid/teaser-grid.js?\n}")},"./blocks/text/text.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/**\n * Add text-alignment or special styling to text blocks, as some stylings are stripped from the\n * Word document.\n * @param block\n */\nfunction decorate(block) {\n  // unwrap empty divs that represent the row in the Word document.\n  // leaving the column-div to ensure that each row is a block.\n  [...block.children]\n    .filter((e) => e.tagName === 'DIV')\n    .filter((e) => e.attributes.length === 0)\n    .forEach((node) => {\n      // Move all children nodes to the parent\n      while (node.firstChild) {\n        block.insertBefore(node.firstChild, node);\n      }\n\n      // node becomes an empty element\n      node.remove();\n    });\n}\n\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/text/text.js?\n}")},"./blocks/v2-accordion/v2-accordion.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ decorate)\n/* harmony export */ });\n/**\n * Builds a <vcdk-accordion> item.\n * Compliant with Volvo VCDK slot structure.\n * @param {string} title\n * @param {string} bodyHTML\n * @returns {DocumentFragment}\n */\nconst renderAccordionItem = (title, bodyHTML) => {\n  const html = `\n    <vcdk-accordion>\n      <span slot="title" class="accordion__title">${title}</span>\n      <div class="accordion__content">${bodyHTML}</div>\n    </vcdk-accordion>\n  `;\n  return document.createRange().createContextualFragment(html);\n};\n\n/**\n * Returns authoring rows with [title, content].\n * @param {HTMLElement} block\n * @returns {HTMLElement[]}\n */\nconst getRows = (block) =>\n  [...block.children].filter((row) => row.children?.length >= 2);\n\n/**\n * Enables single-open mode:\n * When one accordion opens, all others close.\n * @param {HTMLElement} block\n */\nconst enableSingleOpenBehavior = (block) => {\n  const items = [...block.querySelectorAll(\'vcdk-accordion\')];\n  if (items.length <= 1) {return;}\n\n  items.forEach((item) => {\n    item.addEventListener(\'vcdk-toggle\', () => {\n      const willOpen = !item.open;\n      if (!willOpen) {return;}\n\n      items.forEach((other) => {\n        if (other !== item && other.open) {\n          other.open = false;\n        }\n      });\n    });\n  });\n};\n\nfunction decorate(block) {\n  const fragment = document.createDocumentFragment();\n\n  getRows(block).forEach((row) => {\n    const [titleEl, bodyEl] = row.children;\n    const item = renderAccordionItem(\n      titleEl.textContent.trim(),\n      bodyEl.innerHTML.trim(),\n    );\n    fragment.append(item);\n  });\n\n  block.innerHTML = \'\';\n  block.append(fragment);\n\n  enableSingleOpenBehavior(block);\n}\n\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-accordion/v2-accordion.js?\n}')},"./blocks/v2-applications-carousel/v2-applications-carousel.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\nconst blockName = 'v2-applications-carousel';\n\n/**\n * Creates a card element for carousel navigation and appends it to a parent.\n * @param {HTMLElement} parentElement - The parent element where the card will be appended.\n * @param {string} cardTitle - The title of the navigation card.\n * @param {number} cardIndex - The index of the card.\n * @param {boolean} isActive - Whether the card is selected.\n * @param {string} [cardIconMarkup] - Optional markup for the icon.\n */\nconst createCarouselCard = (parentElement, cardTitle, cardIndex, isActive, cardIconMarkup) => {\n  const cardHTML = `\n    <li class=\"${blockName}__card\"\n        role=\"tab\"\n        aria-selected=\"${isActive}\"\n        tabindex=\"${isActive ? '0' : '-1'}\"\n        aria-controls=\"${blockName}-image-${cardIndex}\"\n        data-${blockName}-image-index=\"${cardIndex}\">\n      ${cardIconMarkup || ''}\n      <span class=\"${blockName}__card-title\">${cardTitle}</span>\n    </li>\n  `;\n  parentElement.insertAdjacentHTML('beforeend', cardHTML);\n};\n\n/**\n * Creates responsive image configuration for use in picture elements.\n * @param {string} mobileSrc - The mobile image source.\n * @param {string} desktopSrc - The desktop image source.\n * @returns {Array<Object>} - The responsive image configuration.\n */\nconst createResponsiveImageConfig = (mobileSrc, desktopSrc) => [\n  {\n    src: mobileSrc,\n    breakpoints: [\n      {\n        media: '(max-width: 743px)',\n        width: 750,\n      },\n    ],\n  },\n  {\n    src: desktopSrc,\n    breakpoints: [\n      {\n        media: '(min-width: 744px)',\n        width: 750,\n      },\n      {\n        media: '(min-width: 1200px)',\n        width: 1200,\n      },\n      {\n        media: '(min-width: 1440px)',\n        width: 1440,\n      },\n      {\n        media: '(min-width: 1920px)',\n        width: 1920,\n      },\n    ],\n  },\n];\n\n/**\n * Creates the image carousel container.\n * @param {Array<Object>} carouselCardsData - The processed card data.\n * @returns {HTMLElement} - The image carousel container element.\n */\nconst createImageCarousel = (carouselCardsData) => {\n  const imagesContainer = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', {\n    classes: `${blockName}__images`,\n  });\n  const fragment = document.createDocumentFragment();\n\n  carouselCardsData.forEach(({ mobileImageUrl = '', desktopImageUrl = '', title = '', index, isActive = false }) => {\n    const imageConfig = createResponsiveImageConfig(mobileImageUrl, desktopImageUrl);\n    const responsivePicture = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createResponsivePicture)(imageConfig, true, title, `${blockName}__image-display`);\n\n    const imageWrapper = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', {\n      classes: `${blockName}__image`,\n      props: {\n        id: `${blockName}-image-${index}`,\n        [`data-${blockName}-index`]: index,\n        'aria-hidden': isActive ? 'false' : 'true',\n        role: 'tabpanel',\n        tabindex: isActive ? '0' : '-1',\n      },\n    });\n\n    imageWrapper.appendChild(responsivePicture);\n    fragment.appendChild(imageWrapper);\n  });\n\n  imagesContainer.appendChild(fragment);\n  return imagesContainer;\n};\n\n/**\n * Extracts card data for the carousel.\n * @param {NodeListOf<HTMLElement> | HTMLElement[]} cardElements - The card elements.\n * @returns {Array<Object>} - The parsed card data.\n */\nconst extractCarouselCardData = (cardElements) =>\n  cardElements.map((card, index) => {\n    if (!card) {\n      return null;\n    }\n\n    return {\n      index,\n      title: card.querySelector('div > p')?.textContent?.trim() || '',\n      iconMarkup: card.querySelector('.icon')?.outerHTML || '',\n      mobileImageUrl: card.querySelector('div > div > p:first-of-type picture img')?.src?.split('?')[0] || '',\n      desktopImageUrl: card.querySelector('div > div > p:last-of-type picture img')?.src?.split('?')[0] || '',\n      isActive: index === 0,\n    };\n  });\n\n/**\n * Creates the navigation container for the carousel.\n * @param {Array<Object>} carouselCardsData - The processed card data.\n * @returns {HTMLElement} - The navigation container element.\n */\nconst createCarouselCardsContainer = (carouselCardsData) => {\n  const navigation = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('nav', {\n    classes: `${blockName}__cards`,\n    props: {\n      role: 'tablist',\n      'aria-label': 'Applications Carousel Navigation',\n    },\n  });\n  const cardList = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('ul', {\n    classes: `${blockName}__cards-list`,\n  });\n\n  carouselCardsData.forEach(({ title, index, isActive, iconMarkup }) => {\n    createCarouselCard(cardList, title, index, isActive, iconMarkup);\n  });\n\n  navigation.appendChild(cardList);\n  return navigation;\n};\n\n/**\n * Updates the CSS variable for --inpage-nav-height if the navigation wrapper exists.\n */\nconst updateInpageNavHeight = () => {\n  const inpageNavWrapper = document.querySelector('.v2-inpage-navigation-wrapper');\n  const root = document.documentElement;\n\n  if (inpageNavWrapper) {\n    const inpageNavHeight = `${inpageNavWrapper.offsetHeight}px`;\n    root.style.setProperty('--inpage-nav-height', inpageNavHeight);\n  } else {\n    root.style.setProperty('--inpage-nav-height', '0px');\n  }\n};\n\n/**\n * Initializes the carousel scroll functionality for a vertical-to-horizontal scrolling carousel.\n */\nconst initializeCarouselScroll = () => {\n  const carouselElement = document.querySelector(`.${blockName}`);\n  const cardContainer = document.querySelector(`.${blockName}__cards-list`);\n  const cardElements = Array.from(document.querySelectorAll(`.${blockName}__card`));\n  const imageElements = Array.from(document.querySelectorAll(`.${blockName}__image`));\n\n  if (!carouselElement || !cardContainer || cardElements.length === 0 || imageElements.length === 0) {\n    console.warn('Carousel elements are missing or not initialized correctly.');\n    return;\n  }\n\n  let touchStartX = 0;\n  let initialScrollLeft = 0;\n  const SLIDE_SCROLL_DISTANCE = 500;\n\n  /**\n   * Dynamically sets the height of the carousel container based on slide scroll distance and viewport height.\n   */\n  const adjustCarouselHeight = () => {\n    const viewportHeight = window.innerHeight;\n    carouselElement.style.height = `${SLIDE_SCROLL_DISTANCE * cardElements.length + viewportHeight}px`;\n  };\n\n  /**\n   * Updates the active card and its corresponding image based on the provided index.\n   * @param {number} activeIndex - The index of the active card.\n   */\n  const setActiveCardAndImage = (activeIndex) => {\n    cardElements.forEach((card, index) => {\n      card.setAttribute('aria-selected', index === activeIndex ? 'true' : 'false');\n      card.setAttribute('tabindex', index === activeIndex ? '0' : '-1');\n    });\n    imageElements.forEach((image, index) => {\n      image.setAttribute('aria-hidden', index === activeIndex ? 'false' : 'true');\n      image.setAttribute('tabindex', index === activeIndex ? '0' : '-1');\n    });\n  };\n\n  /**\n   * Calculates the active card index based on the current scroll position.\n   * @param {number} scrollPosition - The current scroll position.\n   * @returns {number} - The calculated active index.\n   */\n  const getActiveCardIndex = (scrollPosition) => {\n    const adjustedScroll = Math.max(0, scrollPosition);\n    return Math.min(cardElements.length - 1, Math.floor(adjustedScroll / SLIDE_SCROLL_DISTANCE));\n  };\n\n  /**\n   * Handles the scroll event to update the carousel's active card and scroll position.\n   */\n  const onScrollUpdate = () => {\n    const currentScrollY = window.scrollY;\n    const containerRect = carouselElement.getBoundingClientRect();\n    const scrollPosition = currentScrollY - carouselElement.offsetTop;\n\n    if (containerRect.top < window.innerHeight && containerRect.bottom > 0) {\n      const activeIndex = getActiveCardIndex(scrollPosition);\n      const activeCard = cardElements[activeIndex];\n      const cardOffset = activeCard.offsetLeft;\n      const containerScrollWidth = cardContainer.scrollWidth - cardContainer.clientWidth;\n      const targetScrollLeft = Math.max(0, Math.min(cardOffset, containerScrollWidth));\n      cardContainer.scrollLeft = targetScrollLeft;\n      setActiveCardAndImage(activeIndex);\n    }\n  };\n\n  /**\n   * Handles touchstart event for swipe gestures.\n   * @param {TouchEvent} e - The touch event.\n   */\n  const onTouchStart = (e) => {\n    touchStartX = e.touches[0].pageX;\n    initialScrollLeft = cardContainer.scrollLeft;\n  };\n\n  /**\n   * Handles touchmove event for swipe gestures.\n   * @param {TouchEvent} e - The touch event.\n   */\n  const onTouchMove = (e) => {\n    const deltaX = touchStartX - e.touches[0].pageX;\n    cardContainer.scrollLeft = initialScrollLeft + deltaX;\n  };\n\n  /**\n   * Initializes the carousel by setting up dynamic height, event listeners, and default states.\n   */\n  const initializeCarousel = () => {\n    adjustCarouselHeight();\n    window.addEventListener('scroll', onScrollUpdate, { passive: true });\n    window.addEventListener('resize', adjustCarouselHeight);\n    cardContainer.addEventListener('touchstart', onTouchStart);\n    cardContainer.addEventListener('touchmove', onTouchMove, { passive: true });\n    setActiveCardAndImage(0);\n  };\n\n  initializeCarousel();\n};\n\n/**\n * Decorates the block element by creating and appending the carousel elements.\n * @param {HTMLElement} block - The block element to decorate.\n */\nasync function decorate(block) {\n  const allElements = [...block.querySelectorAll(':scope > div')];\n  if (!allElements.length) {\n    return;\n  }\n  const header = allElements[0];\n  header.classList.add(`${blockName}__header`);\n  const cardElements = allElements.slice(1);\n  const carouselCardsData = extractCarouselCardData(cardElements);\n  const fragment = document.createDocumentFragment();\n  const stickyContent = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { classes: `${blockName}__sticky-content` });\n  const navigationContainer = createCarouselCardsContainer(carouselCardsData);\n  const imageContainer = createImageCarousel(carouselCardsData);\n  stickyContent.append(navigationContainer, imageContainer);\n  fragment.appendChild(stickyContent);\n  block.appendChild(fragment);\n  cardElements.forEach((card) => card.remove());\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.unwrapDivs)(block);\n  updateInpageNavHeight();\n  initializeCarouselScroll();\n  window.addEventListener(\n    'resize',\n    (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.debounce)(() => {\n      updateInpageNavHeight();\n    }, 150),\n  );\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-applications-carousel/v2-applications-carousel.js?\n}")},"./blocks/v2-article-cards/v2-article-cards.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\n/* harmony import */ var _scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../scripts/services/magazine.service.js */ \"./scripts/services/magazine.service.js\");\n/* harmony import */ var _common_pagination_pagination_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/pagination/pagination.js */ \"./common/pagination/pagination.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_2__, _common_pagination_pagination_js__WEBPACK_IMPORTED_MODULE_3__]);\n([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_2__, _common_pagination_pagination_js__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\nconst blockName = 'v2-article-cards';\nlet paginationCssOnce;\nconst pageDataCache = new Map();\n\n/**\n * Safely extracts the pathname from a URL string.\n *\n * @param {string} u - URL string.\n * @returns {string|null} - Pathname or null if invalid.\n */\nconst getPathname = (u) => {\n  try {\n    return u ? new URL(u).pathname : null;\n  } catch (e) {\n    console.warn(`Invalid URL: ${u}`, e);\n    return null;\n  }\n};\n\n/**\n * Returns the block page size and whether a total-cap limit is present.\n * If a class \"limit-x\" exists, x is used; otherwise defaults to 9.\n *\n * @param {HTMLElement} block\n * @returns {{ pageSize:number, hasLimitVariant:boolean }}\n */\nconst getLimitConfig = (block) => {\n  const classes = [...block.classList];\n  let limitAmount = null;\n\n  classes.forEach((el) => {\n    if (el.includes('limit')) {\n      const parts = el.split('-');\n      limitAmount = Number(parts[parts.length - 1]);\n    }\n  });\n\n  const hasLimitVariant = Number.isFinite(limitAmount) && limitAmount > 0;\n  const pageSize = hasLimitVariant ? limitAmount : 9;\n\n  return { pageSize, hasLimitVariant };\n};\n\n/**\n * Generates a stable cache key for the current loader request.\n *\n * @param {Object} baseParams\n * @param {number} pageSize\n * @param {number} pageIndex\n * @param {Set<string>} excludeUrlPaths\n * @returns {string}\n */\nconst makeCacheKey = (baseParams, pageSize, pageIndex, excludeUrlPaths) => {\n  const excludeKey = excludeUrlPaths && excludeUrlPaths.size ? [...excludeUrlPaths].join('|') : '';\n  return `${pageSize}:${pageIndex}:${excludeKey}:${JSON.stringify(baseParams)}`;\n};\n\nconst renderArticleCard = (article) => {\n  const { url, image, title, publishDate, button = false } = article;\n\n  const shortTitle = title.split('|')[0];\n  const card = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('a', { classes: `${blockName}__article-card`, props: { href: url } });\n  const picture = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_1__.createOptimizedPicture)(image, shortTitle, false);\n  const pictureTag = picture.outerHTML;\n  const formattedDate = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getDateFromTimestamp)(publishDate);\n  const cardContent = document.createRange().createContextualFragment(`\n    <div class=\"${blockName}__image-wrapper\">\n      ${pictureTag}\n    </div>\n    <div class=\"${blockName}__texts-wrapper\">\n      <p class=\"${blockName}__card-date\">\n        ${formattedDate}\n      </p>\n      <h4 class=\"${blockName}__card-heading\">\n        ${shortTitle}\n      </h4>\n    </div>\n  `);\n  const textWrapper = cardContent.querySelector(`.${blockName}__texts-wrapper`);\n\n  if (button) {\n    button.classList.add(`${blockName}__card-button`);\n    textWrapper.appendChild(button);\n  } else {\n    const newButton = document.createRange().createContextualFragment(`\n      <div class=\"button-container ${blockName}__card-button\">\n        <a class=\"button tertiary\">\n          ${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('v2_article_cards:read_more')}\n        </a>\n      </div>\n    `);\n    textWrapper.appendChild(newButton);\n  }\n  card.appendChild(cardContent);\n  return card;\n};\n\nconst renderArticleList = (block, articles = null, amount = null) => {\n  const articleList = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { classes: `${blockName}__article-list` });\n  articles.forEach((art) => {\n    const card = renderArticleCard(art);\n    articleList.append(card);\n  });\n  block.append(articleList);\n  if (amount) {\n    articleList.classList.add(`${blockName}--featured-articles`);\n    articleList.classList.add(`${blockName}--${amount}-articles`);\n  } else {\n    articleList.classList.add(`${blockName}--dynamic-articles`);\n  }\n};\n\nconst getQueryOptionsFromURL = () => {\n  const currentURL = new URL(window.location);\n  const params = new URLSearchParams(currentURL.search);\n  const searchQuery = params.get('search');\n  const filters = ['truck', 'category', 'topic'];\n  const tags = {};\n  const options = { sort: 'PUBLISH_DATE_DESC' };\n\n  if (searchQuery) {\n    options.q = searchQuery;\n  }\n\n  if (filters.some((filter) => params.get(filter))) {\n    filters.forEach((filter) => {\n      const filterParam = params.get(filter);\n      if (filterParam) {\n        tags[filter] = filterParam.split(',').map((item) => item.trim().replaceAll('-', ' '));\n      }\n    });\n\n    options.tags = tags;\n  }\n\n  return options;\n};\n\nconst hasQueryFilters = () => {\n  const currentURL = new URL(window.location);\n  const params = new URLSearchParams(currentURL.search);\n  const searchQuery = params.get('search');\n  const filters = ['truck', 'category', 'topic'];\n  return Boolean(searchQuery || filters.some((filter) => params.get(filter)));\n};\n\n/**\n * Ensures a reusable pagination content area exists on the block.\n *\n * @param {HTMLElement} block\n * @returns {HTMLElement}\n */\nconst getOrCreateContentArea = (block) => {\n  let contentArea = block.querySelector('.pagination-content');\n  if (!contentArea) {\n    contentArea = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { classes: ['pagination-content'] });\n    block.appendChild(contentArea);\n  }\n  return contentArea;\n};\n\n/**\n * Loads the pagination CSS exactly once.\n */\nconst loadPaginationCssOnce = async () => {\n  if (!paginationCssOnce) {\n    const baseURL = window.location.origin;\n    paginationCssOnce = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_1__.loadCSS)(`${baseURL}/common/pagination/pagination.css`);\n  }\n  await paginationCssOnce;\n};\n\n/**\n * Returns a per-page loader function bound to the provided base params.\n * Excludes any URL paths present in `excludeUrlPaths` and performs a\n * top-up loop to keep pages full (when possible). Uses a stable cache key.\n *\n * @param {Object} baseParams\n * @param {number} pageSize\n * @param {Set<string>} excludeUrlPaths\n * @param {number} totalCount\n * @returns {(pageIndex:number) => Promise<Array>}\n */\nconst makePageLoader =\n  (baseParams = {}, pageSize, excludeUrlPaths, totalCount = Infinity) =>\n  async (pageIndex) => {\n    const key = makeCacheKey(baseParams, pageSize, pageIndex, excludeUrlPaths);\n    if (pageDataCache.has(key)) {\n      return pageDataCache.get(key);\n    }\n\n    const page = [];\n    let fetchOffset = pageIndex * pageSize;\n    const maxIterations = 10; // safety guard to avoid excessive loops\n\n    for (let iter = 0; iter < maxIterations && page.length < pageSize; iter += 1) {\n      if (fetchOffset >= totalCount) {\n        break;\n      }\n\n      const { items = [] } = await (0,_scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_2__.fetchMagazineArticles)({\n        ...baseParams,\n        sort: 'PUBLISH_DATE_DESC',\n        limit: pageSize,\n        offset: fetchOffset,\n      });\n\n      if (!items.length) {\n        break;\n      }\n\n      const parsed = items.map((it) => (0,_scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_2__.parseArticleData)(it)).filter(Boolean);\n\n      parsed.forEach((art) => {\n        if (page.length >= pageSize) {\n          return;\n        }\n        const p = getPathname(art?.url);\n        if (!p || !excludeUrlPaths || !excludeUrlPaths.has(p)) {\n          page.push(art);\n        }\n      });\n\n      fetchOffset += pageSize;\n    }\n\n    pageDataCache.set(key, page);\n    return page;\n  };\n\n/**\n * Fetches total count (without applying exclusions).\n *\n * @param {Object} baseParams\n * @param {number} pageSize\n * @returns {{ total:number }}\n */\nconst fetchCountAndPrimeCache = async (baseParams = {}, pageSize) => {\n  const first = await (0,_scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_2__.fetchMagazineArticles)({\n    ...baseParams,\n    sort: 'PUBLISH_DATE_DESC',\n    limit: pageSize,\n    offset: 0,\n  });\n\n  const total = Number(first?.count || 0);\n  return { total };\n};\n\n/**\n * Extracts paths from button links within the block and maps path -> button element.\n *\n * @param {HTMLElement} block\n * @returns {{ targets:Set<string>, buttonByPath:Map<string,HTMLElement> }}\n */\nconst collectFeaturedTargets = (block) => {\n  const buttons = block.querySelectorAll('.button-container');\n  const targets = new Set();\n  const buttonByPath = new Map();\n\n  [...buttons].forEach((btn) => {\n    const href = btn.querySelector('a')?.href;\n    const path = getPathname(href);\n    if (path) {\n      targets.add(path);\n      buttonByPath.set(path, btn);\n    }\n  });\n\n  return { targets, buttonByPath };\n};\n\n/**\n * Resolves \"featured\" articles defined via button links in the block.\n * Fetches batches until all targets are found or results are exhausted.\n * Preserves the visual order of buttons in the block.\n *\n * @param {HTMLElement} block\n * @param {Object} baseParams\n * @returns {Promise<Array>}\n */\nconst resolveFeaturedArticles = async (block, baseParams = {}) => {\n  const { targets, buttonByPath } = collectFeaturedTargets(block);\n\n  if (targets.size === 0) {\n    return [];\n  }\n\n  // Keep the paths in the same order as the buttons appear in the DOM\n  const buttonPathsInOrder = [...buttonByPath.keys()];\n  const foundByPath = new Map();\n\n  const batchSize = 100; // OpenSearch limit\n  let offset = 0;\n  let total = Infinity;\n\n  while (offset < total && targets.size > 0) {\n    const resp = await (0,_scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_2__.fetchMagazineArticles)({\n      ...baseParams,\n      sort: 'PUBLISH_DATE_DESC',\n      limit: batchSize,\n      offset,\n    });\n\n    total = Number(resp?.count || 0);\n    const items = (resp?.items || []).map((it) => (0,_scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_2__.parseArticleData)(it)).filter(Boolean);\n\n    items.forEach((art) => {\n      const p = getPathname(art?.url);\n      if (p && targets.has(p)) {\n        const button = buttonByPath.get(p);\n        if (button) {\n          art.button = button;\n        }\n        foundByPath.set(p, art);\n        targets.delete(p);\n      }\n    });\n\n    offset += batchSize;\n  }\n\n  // Return in the same order as the buttons appear in the block\n  return buttonPathsInOrder.map((p) => foundByPath.get(p)).filter(Boolean);\n};\n\n/**\n * Fetches additional non-featured articles until we fill `needed` items\n * or run out of results. Used for total-cap (limit-x) variant.\n *\n * @param {Object} baseParams\n * @param {Set<string>} excludeUrlPaths\n * @param {number} needed\n * @returns {Promise<Array>}\n */\nconst fetchFillArticles = async (baseParams = {}, excludeUrlPaths, needed) => {\n  const result = [];\n  const batchSize = 100;\n  let offset = 0;\n  let total = Infinity;\n\n  while (result.length < needed && offset < total) {\n    const resp = await (0,_scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_2__.fetchMagazineArticles)({\n      ...baseParams,\n      sort: 'PUBLISH_DATE_DESC',\n      limit: batchSize,\n      offset,\n    });\n\n    total = Number(resp?.count || 0);\n    const items = (resp?.items || []).map((it) => (0,_scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_2__.parseArticleData)(it)).filter(Boolean);\n\n    items.forEach((art) => {\n      if (result.length >= needed) {\n        return;\n      }\n      const p = getPathname(art?.url);\n      if (!p || !excludeUrlPaths || !excludeUrlPaths.has(p)) {\n        result.push(art);\n      }\n    });\n\n    offset += batchSize;\n  }\n\n  return result;\n};\n\n/**\n * Removes any existing pagination content and nav (safe no-ops if absent).\n *\n * @param {HTMLElement} block\n */\nconst removePaginationUI = (block) => {\n  block.querySelector('.pagination-content')?.remove();\n  block.querySelector('.pagination-nav')?.remove();\n};\n\n/**\n * Renders the featured section (if any), replacing any previous content area.\n *\n * @param {HTMLElement} block\n * @param {Array} featuredArticles\n * @param {number} featuredLinkCount\n */\nconst renderFeaturedSection = (block, featuredArticles, featuredLinkCount) => {\n  if (featuredArticles.length > 0) {\n    removePaginationUI(block);\n    renderArticleList(block, featuredArticles, featuredLinkCount);\n  }\n};\n\n/**\n * Handles the total-cap (limit-x) variant: featured first, then fill up to cap. No pagination.\n *\n * @param {HTMLElement} block\n * @param {Array} featuredArticles\n * @param {number} pageSize\n * @param {Object} queryOptions\n * @param {number} featuredLinkCount\n */\nconst renderTotalCapVariant = async (block, featuredArticles, pageSize, queryOptions, featuredLinkCount) => {\n  const featuredUrlPaths = new Set(featuredArticles.map((a) => getPathname(a?.url)).filter(Boolean));\n  const remaining = Math.max(0, pageSize - featuredArticles.length);\n  let filler = [];\n  if (remaining > 0) {\n    filler = await fetchFillArticles(queryOptions, featuredUrlPaths, remaining);\n  }\n\n  removePaginationUI(block);\n  renderArticleList(block, [...featuredArticles, ...filler], featuredLinkCount);\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.unwrapDivs)(block);\n};\n\n/**\n * Initializes the paginated (non-limit) variant beneath any featured section.\n *\n * @param {HTMLElement} block\n * @param {Object} queryOptions\n * @param {number} pageSize\n * @param {Array} featuredArticles\n * @param {number} featuredLinkCount\n */\nconst initPaginatedVariant = async (block, queryOptions, pageSize, featuredArticles, featuredLinkCount) => {\n  renderFeaturedSection(block, featuredArticles, featuredLinkCount);\n\n  const contentArea = getOrCreateContentArea(block);\n  await loadPaginationCssOnce();\n\n  const featuredUrlPaths = new Set(featuredArticles.map((a) => getPathname(a?.url)).filter(Boolean));\n\n  pageDataCache.clear();\n  const { total } = await fetchCountAndPrimeCache(queryOptions, pageSize);\n  const totalPages = Math.max(1, Math.ceil(total / pageSize));\n\n  const loadPageData = makePageLoader(queryOptions, pageSize, featuredUrlPaths, total);\n\n  if (total > 0) {\n    (0,_common_pagination_pagination_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n      block,\n      contentArea,\n      totalPages,\n      renderItems: (area, articles) => renderArticleList(area, articles, null),\n      loadPageData,\n      initialPage: 0,\n    });\n  } else if (featuredArticles.length === 0) {\n    contentArea.innerHTML = '';\n    const noResultsMsg = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('p', { classes: `${blockName}__no-results-message` });\n    noResultsMsg.textContent = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('v2_article_cards:no_results').replace('$0', '');\n    contentArea.append(noResultsMsg);\n  }\n\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.unwrapDivs)(block);\n};\n\nasync function decorate(block) {\n  const options = getQueryOptionsFromURL();\n  const hasFilters = hasQueryFilters();\n\n  if (hasFilters) {\n    block.innerText = '';\n  }\n\n  const { pageSize, hasLimitVariant } = getLimitConfig(block);\n  const featuredLinkCount = block.children.length;\n  const hasFeaturedVariant = featuredLinkCount > 0;\n  const featuredArticles = hasFeaturedVariant ? await resolveFeaturedArticles(block, options) : [];\n\n  if (hasLimitVariant) {\n    await renderTotalCapVariant(block, featuredArticles, pageSize, options, hasFeaturedVariant ? featuredLinkCount : null);\n    return;\n  }\n\n  await initPaginatedVariant(block, options, pageSize, featuredArticles, featuredLinkCount);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-article-cards/v2-article-cards.js?\n}")},"./blocks/v2-article-search/v2-article-search.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _scripts_search_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/search-api.js */ \"./scripts/search-api.js\");\n/* harmony import */ var _search_autosuggest_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../search/autosuggest.js */ \"./blocks/search/autosuggest.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_search_api_js__WEBPACK_IMPORTED_MODULE_1__, _search_autosuggest_js__WEBPACK_IMPORTED_MODULE_2__]);\n([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_search_api_js__WEBPACK_IMPORTED_MODULE_1__, _search_autosuggest_js__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\nconst blockName = 'v2-article-search';\nconst filterContainerClass = `${blockName}__filter-container`;\nconst dropdownClass = `${blockName}__filter-dropdown`;\nconst dropdownOpen = `${blockName}__filter-dropdown--open`;\nconst filterListOpen = `${blockName}__filter-list-wrapper--open`;\nconst searchInputExpanded = `${blockName}__search-input--expanded`;\nconst blockVariants = ['black', 'gray'];\n\nawait (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getPlaceholders)();\nconst filterDefault = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('v2_article_search:default_filter');\nconst searchPlaceholder = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('v2_article_search:search_placeholder');\nconst clearPlaceholder = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('v2_article_search:clear');\n\nconst locale = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getLocale)();\nconst language = locale.split('-')[0].toUpperCase();\nconst languagePath = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getLanguagePath)();\nconst currentURL = new URL(window.location.href);\nconst { MAGAZINE_PATH } = _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.MAGAZINE_CONFIGS;\nconst magazinePath = `${languagePath}${MAGAZINE_PATH}`;\nconst magazineParam = '?search=&category=&topic=&truck=';\ncurrentURL.pathname = magazinePath;\ncurrentURL.search = magazineParam;\n\nconst getTopics = async (props = {}) => {\n  const { limit = 1, offset = 0, article = {} } = props;\n  const variables = {\n    tenant: _scripts_search_api_js__WEBPACK_IMPORTED_MODULE_1__.TENANT,\n    language,\n    limit,\n    offset,\n    category: 'Magazine',\n    article,\n    sort: 'BEST_MATCH',\n    facets: ['ARTICLE', 'TOPIC', 'TRUCK'],\n  };\n\n  try {\n    if (!_scripts_search_api_js__WEBPACK_IMPORTED_MODULE_1__.TENANT) {\n      throw new Error('TENANT not defined');\n    }\n\n    const rawData = await (0,_scripts_search_api_js__WEBPACK_IMPORTED_MODULE_1__.fetchSearchData)({\n      query: (0,_scripts_search_api_js__WEBPACK_IMPORTED_MODULE_1__.topicSearchQuery)(),\n      variables,\n    });\n\n    const querySuccess = rawData && rawData.data && rawData.data.edsrecommend;\n\n    if (!querySuccess) {\n      return [];\n    }\n\n    const [trucks, topics, articles] = querySuccess.facets;\n    return [\n      ...new Set(trucks.items.map((item) => ({ key: 'truck', value: item.value.trim() }))),\n      ...new Set(topics.items.map((item) => ({ key: 'topic', value: item.value.trim() }))),\n      ...new Set(articles.items.map((item) => ({ key: 'category', value: item.value.trim() }))),\n    ].sort((a, b) => a.value.localeCompare(b.value));\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    throw error;\n  }\n};\n\nconst buildFilterElement = () =>\n  document.createRange().createContextualFragment(`\n  <div class=\"${blockName}__filter-container\">\n    <form class=\"${blockName}__filter\">\n      <fieldset class=\"${blockName}__fieldset\">\n        <div class=\"${blockName}__filter-dropdown\">\n          ${filterDefault} <span class=\"${blockName}__filter-dropdown-icon\">\n            <span class=\"icon icon-chevron-down\"></span>\n          </span>\n        </div>\n        <div class=\"${blockName}__filter-input\">\n          <div id=\"autosuggest-magazine\"  aria-expanded=\"false\" class=\"${blockName}__input-container\">\n            <span class=\"icon icon-search-icon\"></span>\n            <input aria-haspopup=\"listbox\" autocomplete=\"off\" aria-autocomplete=\"list\" \n              aria-controls=\"autosuggest-autosuggest__results\" type=\"text\" id=\"search\"\n              name=\"search\" placeholder=\"${searchPlaceholder}\" />\n            <label for=\"search\" class=\"${blockName}__input-label\">${searchPlaceholder}</label>\n            <button type=\"button\" class=\"${blockName}__clear-button\" aria-label=\"${clearPlaceholder}\">${clearPlaceholder}</button>\n            <span class=\"icon icon-close\"></span>\n          </div>\n          <div id=\"autosuggest-autosuggest__results\" class=\"autosuggest__results-container\">\n            <div aria-labelledby=\"autosuggest-magazine\" class=\"autosuggest__results\"> \n              <ul role=\"listbox\"></ul>\n            </div>\n          </div>\n        </div>\n      </fieldset>\n    </form>\n    <div class=\"${blockName}__filter-list-wrapper\"></div>\n  </div>\n`);\n\nconst buildBulletList = (allTopics) =>\n  allTopics\n    .map((item) => {\n      const param = item.value.replace(/\\s/g, '-');\n      currentURL.search = magazineParam;\n      currentURL.searchParams.set(item.key, param);\n      return `<li class=\"${blockName}__filter-item\">\n    <a href=\"${currentURL.href.replace('#', '')}\"\n      class=\"${blockName}__filter-link\">${item.value}</a>\n  </li>`;\n    })\n    .join('');\n\nconst buildFilterList = async () => {\n  const allTopics = await getTopics();\n  return document.createRange().createContextualFragment(`\n    <ul class=\"${blockName}__filter-list\">\n      ${buildBulletList(allTopics)}\n    </ul>\n  `);\n};\n\nconst addDropdownHandler = (filter) => {\n  filter.addEventListener('click', (e) => {\n    const dropdown = e.target.tagName === 'svg' ? e.target.closest(`.${dropdownClass}`) : e.target;\n    const filterContainer = dropdown.closest(`.${filterContainerClass}`);\n    const filterList = filterContainer.querySelector(`.${blockName}__filter-list-wrapper`);\n    dropdown.classList.toggle(dropdownOpen);\n    filterList.classList.toggle(filterListOpen);\n  });\n};\n\n/**\n * Adds an event handler to the close icon to collapse the search container\n * and filter list when clicked, hiding the clear button as well.\n *\n * @param {HTMLElement} closeIcon - The close icon element that triggers the collapse.\n */\nconst addCloseHandler = (closeIcon) => {\n  closeIcon.addEventListener('click', (e) => {\n    e.stopPropagation();\n    const filterContainer = e.target.closest(`.${filterContainerClass}`);\n    const filterListWrapper = filterContainer.querySelector(`.${blockName}__filter-list-wrapper`);\n    const dropdown = filterContainer.querySelector(`.${dropdownClass}`);\n    const searchContainer = filterContainer.closest(`.${blockName}__filter-container`);\n\n    if (filterListWrapper && filterListWrapper.classList.contains(filterListOpen)) {\n      filterListWrapper.classList.remove(filterListOpen);\n      dropdown.classList.remove(dropdownOpen);\n    }\n\n    if (searchContainer) {\n      const searchInput = searchContainer.querySelector('input[type=\"text\"]');\n      const clearButton = searchContainer.querySelector(`.${blockName}__clear-button`);\n      searchContainer.classList.remove(searchInputExpanded);\n      searchInput.value = '';\n      clearButton.classList.remove('active');\n    }\n  });\n};\n\n/**\n * Initializes the search input handlers, including expand/collapse behavior,\n * input clearing, and the clear button visibility toggle.\n * @param {HTMLElement} searchContainer - The main container element that wraps the search input.\n */\nconst initializeSearchHandlers = (searchContainer) => {\n  const searchInputWrapper = searchContainer.querySelector(`.${blockName}__filter-input`);\n  const searchInput = searchContainer.querySelector('input[type=\"text\"]');\n  const clearButton = searchContainer.querySelector(`.${blockName}__clear-button`);\n  const formElement = searchContainer.querySelector('form');\n  const listEl = searchContainer.querySelector('.autosuggest__results-container ul');\n  const input = document.getElementById('search');\n\n  const toggleClearButton = () => {\n    clearButton.classList.toggle('active', !!searchInput.value);\n  };\n\n  let liSelected;\n  let next;\n  let index = -1;\n  const MAX_SUGGESTIONS = 6;\n\n  const delayFetchData = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.debounce)((term) =>\n    (0,_search_autosuggest_js__WEBPACK_IMPORTED_MODULE_2__.fetchAutosuggest)(\n      term,\n      listEl,\n      {\n        tag: 'li',\n        class: 'autosuggest__results-item',\n        props: {\n          role: 'option',\n          'data-section-name': 'default',\n        },\n      },\n      searchArticles,\n      true,\n      MAX_SUGGESTIONS,\n    ),\n  );\n\n  const clearAutosuggestions = () => {\n    listEl.textContent = '';\n  };\n\n  const showAutoSuggestions = (e) => {\n    const term = e.target.value;\n    const MIN_SEARCH_LENGTH = 2;\n\n    if (term.trim().length < MIN_SEARCH_LENGTH) {\n      clearAutosuggestions();\n      return;\n    }\n\n    const list = listEl.getElementsByTagName('li');\n    if (e.key === 'Enter') {\n      submitSearchTerm(e);\n    } else if (e.key === 'Escape') {\n      clearAutosuggestions();\n    } else if (['ArrowUp', 'ArrowDown'].includes(e.key)) {\n      let returnObj;\n\n      if (e.key === 'ArrowUp') {\n        returnObj = (0,_search_autosuggest_js__WEBPACK_IMPORTED_MODULE_2__.handleArrowUp)({\n          list,\n          liSelected,\n          index,\n          next,\n        });\n      } else {\n        returnObj = (0,_search_autosuggest_js__WEBPACK_IMPORTED_MODULE_2__.handleArrowDown)({\n          list,\n          liSelected,\n          index,\n          next,\n        });\n      }\n\n      liSelected = returnObj.liSelected;\n      index = returnObj.index;\n      next = returnObj.next;\n      input.value = liSelected.textContent.replace(/[ ]{2,}/g, '');\n    } else {\n      delayFetchData(term);\n    }\n  };\n\n  const clearInput = () => {\n    searchInput.value = '';\n    toggleClearButton();\n    searchInput.focus();\n    clearAutosuggestions();\n  };\n\n  const handleOutsideClick = (event) => {\n    if (!searchContainer.contains(event.target)) {\n      collapseSearchContainer();\n    }\n    clearAutosuggestions();\n  };\n\n  const collapseSearchContainer = () => {\n    searchContainer.classList.remove(searchInputExpanded);\n    searchInput.value = ''; // Clear the input value\n    clearButton.classList.remove('active'); // Hide the clear button\n    document.removeEventListener('click', handleOutsideClick, { capture: true });\n  };\n\n  const expandSearchContainer = () => {\n    searchContainer.classList.add(searchInputExpanded);\n    searchInput.focus();\n    document.addEventListener('click', handleOutsideClick, { capture: true });\n  };\n\n  const searchArticles = (term) => {\n    currentURL.search = magazineParam;\n    currentURL.searchParams.set('search', term);\n    window.location.href = currentURL.href;\n    collapseSearchContainer();\n  };\n\n  const submitSearchTerm = (event) => {\n    event.preventDefault();\n    const searchTerm = searchInput.value.trim();\n    if (searchTerm) {\n      searchArticles(searchTerm);\n    }\n  };\n\n  if (searchInputWrapper && searchInput && clearButton && formElement) {\n    searchInputWrapper.addEventListener('click', expandSearchContainer);\n    searchInput.addEventListener('input', toggleClearButton);\n    searchInput.addEventListener('keyup', showAutoSuggestions);\n    clearButton.addEventListener('click', clearInput);\n    formElement.addEventListener('submit', submitSearchTerm);\n\n    // Find the close icon and add its collapse functionality\n    const closeIcon = searchContainer.querySelector('.icon-close');\n    if (closeIcon) {\n      addCloseHandler(closeIcon);\n    }\n  }\n};\n\nconst decorateArticleSearch = async (block) => {\n  const filter = buildFilterElement();\n  const filterList = await buildFilterList();\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.variantsClassesToBEM)(block.classList, blockVariants, blockName);\n  filter.querySelector(`.${blockName}__filter-list-wrapper`).append(filterList);\n  block.prepend(filter);\n  addDropdownHandler(block.querySelector(`.${blockName}__filter-dropdown`));\n  addCloseHandler(block.querySelector('.icon-close'));\n  const filterContainer = block.querySelector(`.${blockName}__filter-container`);\n  if (filterContainer) {\n    initializeSearchHandlers(filterContainer);\n  }\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.decorateIcons)(block);\n};\n\nasync function decorate(block) {\n  decorateArticleSearch(block);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } }, 1);\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-article-search/v2-article-search.js?\n}")},"./blocks/v2-banner/v2-banner.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/video-helper.js */ \"./scripts/video-helper.js\");\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__]);\n([_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst checkVideoTime = (event) => {\n  const video = event.target;\n  if (video.currentTime > 3) {\n    video.pause();\n    video.removeEventListener('timeupdate', checkVideoTime);\n  }\n};\n\nconst variantClasses = ['top-center', 'left', 'top-left', 'bottom', 'dark'];\n\nasync function decorate(block) {\n  const blockName = 'v2-banner';\n\n  // add variant classnames\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.variantsClassesToBEM)(block.classList, variantClasses, blockName);\n\n  const picture = block.querySelector('picture');\n  const link = block.querySelector('a');\n  const isVideo = link ? (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.isVideoLink)(link) : false;\n  if (isVideo) {\n    const video = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.createVideo)(link.getAttribute('href'), `${blockName}__video`, {\n      muted: true,\n      autoplay: true,\n      loop: true,\n      playsinline: true,\n    });\n    block.prepend(video);\n    link.remove();\n\n    // prevent video to reproduce more than 3s\n    video.addEventListener('timeupdate', checkVideoTime);\n  }\n\n  if (picture) {\n    const img = picture.querySelector('img');\n    img.classList.add(`${blockName}__image`);\n    if (picture.parentElement.tagName === 'P') {\n      picture.parentElement.remove();\n    }\n    block.prepend(picture);\n  }\n\n  const contentWrapper = block.querySelector(':scope > div:last-of-type');\n  contentWrapper.classList.add(`${blockName}__content-wrapper`);\n\n  const content = block.querySelector(':scope > div > div');\n  content.classList.add(`${blockName}__content`);\n\n  // convert all headings to h1\n  const headings = [...content.querySelectorAll('h1, h2, h3, h4, h5, h6')];\n  headings.forEach((heading) => heading.classList.add(`${blockName}__title`));\n\n  const buttonsWrapper = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: `${blockName}__buttons-wrapper` });\n  const ctaButtons = content.querySelectorAll('.button-container > a');\n  [...ctaButtons].forEach((b) => {\n    if (block.classList.contains(`${blockName}--dark`)) {\n      b.classList.add('dark');\n    }\n\n    b.parentElement.remove();\n    buttonsWrapper.appendChild(b);\n  });\n  content.appendChild(buttonsWrapper);\n\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.removeEmptyTags)(content);\n\n  block.parentElement.classList.add('full-width');\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-banner/v2-banner.js?\n}")},"./blocks/v2-content-card/v2-content-card.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../scripts/video-helper.js */ \"./scripts/video-helper.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__, _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_2__]);\n([_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__, _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\nconst blockName = 'v2-content-card';\nconst variantClasses = ['images-grid', 'images-grid-masonry', 'editorial', 'with-button', 'centered'];\n\nconst handleVideoLinks = (videoLinks) => {\n  videoLinks.forEach((videoLink) => {\n    const article = videoLink.closest('article');\n\n    requestAnimationFrame(() => {\n      const videoElement = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_2__.createVideo)(videoLink.getAttribute('href'), `${blockName}__media`, {\n        muted: true,\n        autoplay: true,\n        loop: true,\n        playsinline: true,\n      });\n\n      article.prepend(videoElement);\n      videoLink.parentElement.remove();\n      (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_2__.getDynamicVideoHeight)(videoElement);\n    });\n  });\n};\n\nasync function decorate(block) {\n  // add Hero variant classnames\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.variantsClassesToBEM)(block.classList, variantClasses, blockName);\n\n  // replace <div> with <ul> to maintain DOM tree depth\n  const ul = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('ul', { classes: block.classList });\n  block.replaceWith(ul);\n\n  [...block.querySelectorAll(':scope > div > div')].forEach((cell) => {\n    // If cell contain any element, we add them in the ul\n    if (cell.childElementCount) {\n      const li = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('li', { classes: [`${blockName}__item`] });\n      li.append(...cell.childNodes);\n      ul.append(li);\n    }\n    cell.remove();\n  });\n\n  // give format to the list items\n  [...ul.children].forEach(async (li) => {\n    const section = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('article');\n    const headings = li.querySelectorAll('h1, h2, h3, h4, h5, h6');\n    let picture = li.querySelector('picture');\n\n    [...headings].forEach((heading) => heading.classList.add(`${blockName}__title`));\n    (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.adjustPretitle)(li);\n\n    if (picture) {\n      const img = picture.lastElementChild;\n      const newPicture = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.createOptimizedPicture)(img.src, img.alt, false);\n      picture.replaceWith(newPicture);\n      picture = newPicture;\n      picture.querySelector('img').classList.add(`${blockName}__media`);\n      section.prepend(picture);\n    }\n\n    const container = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: `${blockName}__content` });\n    container.innerHTML = li.innerHTML;\n    li.innerHTML = '';\n    section.append(container);\n    li.append(section);\n  });\n\n  const videoLinks = [...ul.querySelectorAll('a')].filter(_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_2__.isVideoLink);\n\n  if (videoLinks.length > 0) {\n    handleVideoLinks(videoLinks);\n  }\n\n  // remove empty tags\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.removeEmptyTags)(ul);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-content-card/v2-content-card.js?\n}")},"./blocks/v2-content-carousel/v2-content-carousel.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/video-helper.js */ \"./scripts/video-helper.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__]);\n([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst blockName = 'v2-content-carousel';\nlet desktopCardsPerClick = 1;\n\n/**\n * Compute the index of the left-most slot (card) in a horizontal scroller.\n * Uses the first cards width plus the containers CSS gap.\n * @param {HTMLElement} container\n * @param {string} itemSelector - e.g. '.v2-content-carousel__media-item'\n * @returns {number}\n */\nconst getFirstSlotIndex = (container, itemSelector) => {\n  const items = container.querySelectorAll(itemSelector);\n  if (!items.length) {\n    return 0;\n  }\n\n  const firstItem = items[0];\n  const gap = parseFloat(getComputedStyle(container).gap) || 0;\n  const slotWidth = firstItem.offsetWidth + gap || container.scrollWidth / items.length || 1;\n  const rawIndex = Math.floor((container.scrollLeft + Number.EPSILON) / slotWidth);\n  const clampedIndex = Math.max(0, Math.min(items.length - 1, rawIndex));\n  return clampedIndex;\n};\n\n/**\n * Autoplay the video in the left-most slot on mobile/tablet; pause others.\n * @param {HTMLElement} container\n * @param {string} itemSelector\n * @param {string} videoItemClass - e.g. 'v2-content-carousel__media-item--video'\n */\nconst updateMobileOrTabletAutoplay = (container, itemSelector, videoItemClass) => {\n  const items = container.querySelectorAll(itemSelector);\n  if (!items.length) {\n    return;\n  }\n\n  const activeIndex = getFirstSlotIndex(container, itemSelector);\n\n  items.forEach((item, index) => {\n    if (!item.classList.contains(videoItemClass)) {\n      return;\n    }\n    const player = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.queryVideoEl)(item);\n    if (!player) {\n      return;\n    }\n    if (index === activeIndex) {\n      (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.playMutedInline)(player);\n    } else {\n      (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.pausePlayback)(player);\n    }\n  });\n};\n\n/**\n * Bind desktop hover playback: play on pointer enter, pause on pointer leave.\n * Attaches listeners to items matching `${itemSelector}.${videoItemClass}`.\n * Returns a teardown function to remove the listeners, or `undefined` if no targets are found.\n *\n * @param {HTMLElement} root - Container to search within.\n * @param {string} itemSelector - Selector for carousel items (e.g., '.v2-content-carousel__media-item').\n * @param {string} videoItemClass - Modifier class indicating video items (e.g., 'v2-content-carousel__media-item--video').\n * @returns {(() => void) | undefined} Teardown function, or `undefined` when nothing was bound.\n */\nconst setupDesktopHover = (root, itemSelector, videoItemClass) => {\n  const items = root.querySelectorAll(`${itemSelector}.${videoItemClass}`);\n  if (!items.length) {\n    return;\n  }\n\n  const listeners = [];\n  items.forEach((item) => {\n    const player = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.queryVideoEl)(item);\n    if (!player) {\n      return;\n    }\n    const onEnter = () => (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.playMutedInline)(player);\n    const onLeave = () => (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.pausePlayback)(player);\n    item.addEventListener('pointerenter', onEnter);\n    item.addEventListener('pointerleave', onLeave);\n    listeners.push({ item, onEnter, onLeave });\n  });\n\n  return () => {\n    listeners.forEach(({ item, onEnter, onLeave }) => {\n      item.removeEventListener('pointerenter', onEnter);\n      item.removeEventListener('pointerleave', onLeave);\n    });\n  };\n};\n\n/**\n * Observe container visibility and invoke handlers.\n * Uses IntersectionObserver; \"visible\" means intersecting with\n * intersectionRatio >= `threshold`. You can offset for a sticky header\n * via `rootMargin` (e.g., '-52px 0px 0px 0px').\n *\n * @param {HTMLElement} container - Element to observe.\n * @param {() => void} onVisible - Called when container is considered visible.\n * @param {() => void} onHidden  - Called when container is considered hidden.\n * @param {{ threshold?: number, rootMargin?: string }} [opts] - Observer options.\n * @param {number}  [opts.threshold=0.25] - Visibility ratio (01) to treat as visible.\n * @param {string}  [opts.rootMargin='0px'] - Root margin in CSS shorthand.\n * @returns {(() => void) | undefined} Teardown function to disconnect, or `undefined`\n * if IntersectionObserver is unavailable or container is falsy.\n */\nconst setupViewportGate = (container, onVisible, onHidden, { threshold = 0.25, rootMargin = '0px' } = {}) => {\n  if (!container || typeof IntersectionObserver === 'undefined') {\n    return;\n  }\n\n  const observer = new IntersectionObserver(\n    ([entry]) => {\n      const visible = entry.isIntersecting && entry.intersectionRatio >= threshold;\n      (visible ? onVisible : onHidden)();\n    },\n    { threshold: [0, threshold, 1], rootMargin },\n  );\n\n  observer.observe(container);\n  return () => observer.disconnect();\n};\n\n/**\n * Get the height (in pixels) of the first element matching `selector`.\n * Useful to compute a negative top rootMargin for a sticky header.\n *\n * @param {string} [selector='header'] - CSS selector for the header element.\n * @returns {number} Pixel height, or 0 if not found.\n */\nconst getHeaderHeight = (selector = 'header') => document.querySelector(selector)?.getBoundingClientRect().height || 0;\n\n/**\n * Pause all videos in a container.\n * @param {HTMLElement} container\n * @param {string} itemSelector\n */\nconst pauseAllInContainer = (container, itemSelector) => {\n  container.querySelectorAll(itemSelector).forEach((item) => {\n    const player = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.queryVideoEl)(item);\n    if (player) {\n      (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.pausePlayback)(player);\n    }\n  });\n};\n\n/**\n * Mobile/Tablet setup:\n * - Mobile (744px): only the left-most fully visible video plays (others pause).\n * - Tablet (7681199px): all video items that are at least `TABLET_VISIBLE` visible play (others pause).\n * Visibility is gated by the container being on-screen, adjusted for a sticky header via rootMargin.\n *\n * @param {HTMLElement} container - The horizontal scroller element.\n * @param {string} itemSelector - Selector for each carousel item.\n * @param {string} videoItemClass - Class indicating items that contain a video.\n * @returns {() => void} Teardown function.\n */\nconst setupMobileOrTabletAutoplay = (container, itemSelector, videoItemClass) => {\n  const FULLY_VISIBLE = 0.98;\n  const TABLET_VISIBLE = 0.5;\n  const headerOffset = getHeaderHeight();\n\n  let containerVisible = false;\n  let activeObserver = null; // mobile: observe the active item\n  let multiObserver = null; // tablet: observe all video items\n\n  const disconnectActive = () => {\n    activeObserver?.disconnect();\n    activeObserver = null;\n  };\n\n  const disconnectMulti = () => {\n    multiObserver?.disconnect();\n    multiObserver = null;\n  };\n\n  const onVisible = () => {\n    containerVisible = true;\n\n    if ((0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.isTabletOnlyViewport)()) {\n      disconnectActive();\n\n      if (!multiObserver) {\n        multiObserver = new IntersectionObserver(\n          (entries) => {\n            if (!containerVisible) {\n              return;\n            }\n            entries.forEach(({ target, isIntersecting, intersectionRatio }) => {\n              const player = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.queryVideoEl)(target);\n              if (!player) {\n                return;\n              }\n              if (isIntersecting && intersectionRatio >= TABLET_VISIBLE) {\n                (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.playMutedInline)(player);\n              } else {\n                (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.pausePlayback)(player);\n              }\n            });\n          },\n          { threshold: [0, TABLET_VISIBLE], rootMargin: `-${headerOffset}px 0px 0px 0px` },\n        );\n      }\n\n      const items = container.querySelectorAll(`${itemSelector}.${videoItemClass}`);\n      items.forEach((item) => multiObserver.observe(item));\n    } else {\n      // mobile mode (left-most only)\n      disconnectMulti();\n      updateMobileOrTabletAutoplay(container, itemSelector, videoItemClass);\n\n      const items = container.querySelectorAll(itemSelector);\n      if (!items.length) {\n        return;\n      }\n\n      const activeIndex = getFirstSlotIndex(container, itemSelector);\n      const activeItem = items[activeIndex];\n\n      disconnectActive();\n      activeObserver = new IntersectionObserver(\n        ([entry]) => {\n          if (!containerVisible) {\n            return;\n          }\n          if (entry.isIntersecting && entry.intersectionRatio >= FULLY_VISIBLE) {\n            updateMobileOrTabletAutoplay(container, itemSelector, videoItemClass);\n          } else {\n            const player = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.queryVideoEl)(activeItem);\n            if (player) {\n              (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.pausePlayback)(player);\n            }\n          }\n        },\n        { threshold: [FULLY_VISIBLE, 1], rootMargin: `-${headerOffset}px 0px 0px 0px` },\n      );\n      activeObserver.observe(activeItem);\n    }\n  };\n\n  const onHidden = () => {\n    containerVisible = false;\n    disconnectActive();\n    disconnectMulti();\n    pauseAllInContainer(container, `${itemSelector}.${videoItemClass}`);\n  };\n\n  const teardownIO = setupViewportGate(container, onVisible, onHidden, {\n    threshold: 0,\n    rootMargin: `-${headerOffset}px 0px 0px 0px`,\n  });\n\n  const refresh = () => {\n    if (!containerVisible) {\n      return;\n    }\n    onVisible();\n  };\n\n  onVisible();\n  container.addEventListener('scroll', refresh, { passive: true });\n  window.addEventListener('resize', refresh);\n\n  return () => {\n    teardownIO?.();\n    disconnectActive();\n    disconnectMulti();\n    container.removeEventListener('scroll', refresh);\n    window.removeEventListener('resize', refresh);\n    onHidden();\n  };\n};\n\n/**\n * Responsive wrapper: bind desktop or mobile behavior and rebind on breakpoint change.\n * Returns teardown.\n * @param {HTMLElement} blockRoot\n * @param {HTMLElement} container\n * @param {string} itemSelector\n * @param {string} videoItemClass\n * @returns {() => void}\n */\nconst setupResponsivePlayback = (blockRoot, container, itemSelector, videoItemClass) => {\n  const computeMode = () => ((0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.isMobileOrTabletViewport)() ? 'mobileOrTablet' : 'desktop');\n\n  let mode = computeMode();\n  let unbind =\n    mode === 'mobileOrTablet'\n      ? setupMobileOrTabletAutoplay(container, itemSelector, videoItemClass)\n      : setupDesktopHover(blockRoot, itemSelector, videoItemClass);\n\n  const onResize = () => {\n    const nextMode = computeMode();\n    if (nextMode !== mode) {\n      unbind?.();\n      unbind =\n        nextMode === 'mobileOrTablet'\n          ? setupMobileOrTabletAutoplay(container, itemSelector, videoItemClass)\n          : setupDesktopHover(blockRoot, itemSelector, videoItemClass);\n      mode = nextMode;\n    } else if ((0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.isMobileViewport)()) {\n      updateMobileOrTabletAutoplay(container, itemSelector, videoItemClass);\n    }\n  };\n\n  window.addEventListener('resize', onResize);\n\n  return () => {\n    window.removeEventListener('resize', onResize);\n    unbind?.();\n  };\n};\n\nfunction numberCardsToNavigate() {\n  const isMobileOrTablet = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.isMobileOrTabletViewport)();\n\n  if (isMobileOrTablet) {\n    return 1;\n  }\n\n  return desktopCardsPerClick;\n}\n\nconst navigate = (carousel, direction) => {\n  const isMobileOrTablet = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.isMobileOrTabletViewport)();\n  let numberCardsToNavigatePerClick = numberCardsToNavigate();\n\n  if (isMobileOrTablet) {\n    numberCardsToNavigatePerClick = 1;\n  } else {\n    const isInteractive = carousel.closest(`.${blockName}`)?.classList.contains('interactive');\n    numberCardsToNavigatePerClick = isInteractive ? 2 : 1;\n  }\n\n  const scrollContainer = carousel;\n  let newScrollLeft = scrollContainer.scrollLeft;\n  const numberItems = carousel.querySelectorAll(`.${blockName}__media-item`)?.length || 1;\n  const scrollContainerScrollWidth = scrollContainer.scrollWidth;\n  const itemWidth = scrollContainerScrollWidth / numberItems;\n  const style = window.getComputedStyle(scrollContainer);\n  const gap = parseFloat(style.gap) || 0;\n  const paddingLeft = parseFloat(style.paddingLeft);\n  const marginLeft = parseFloat(style.marginLeft);\n\n  if (isMobileOrTablet) {\n    const isInteractiveVariant = carousel.closest(`.${blockName}`)?.classList.contains('interactive');\n    const atStart = newScrollLeft <= paddingLeft + marginLeft + gap;\n    const atEnd = scrollContainer.clientWidth + scrollContainer.scrollLeft >= scrollContainerScrollWidth;\n\n    if (isInteractiveVariant) {\n      // logic to loop the carousel (interactive only)\n      if (direction === 'left') {\n        if (atStart) {\n          newScrollLeft = scrollContainerScrollWidth;\n        } else {\n          newScrollLeft = scrollContainer.scrollLeft - itemWidth * numberCardsToNavigatePerClick;\n        }\n      } else {\n        if (atEnd) {\n          newScrollLeft = 0;\n        } else {\n          newScrollLeft = scrollContainer.scrollLeft + itemWidth * numberCardsToNavigatePerClick;\n        }\n      }\n    } else {\n      // default variant on mobile: clamp + update arrows\n      if (direction === 'left') {\n        newScrollLeft = atStart ? scrollContainer.scrollLeft : scrollContainer.scrollLeft - itemWidth * numberCardsToNavigatePerClick;\n      } else {\n        newScrollLeft = atEnd ? scrollContainer.scrollLeft : scrollContainer.scrollLeft + itemWidth * numberCardsToNavigatePerClick;\n      }\n\n      if (scrollContainer.clientWidth + newScrollLeft >= scrollContainerScrollWidth) {\n        carousel.nextElementSibling?.querySelector(`button.${blockName}__button-next`)?.setAttribute('disabled', 'true');\n      } else {\n        carousel.nextElementSibling?.querySelector(`button.${blockName}__button-next`)?.removeAttribute('disabled');\n      }\n\n      if (newScrollLeft <= paddingLeft + marginLeft + gap) {\n        carousel.nextElementSibling?.querySelector(`button.${blockName}__button-prev`)?.setAttribute('disabled', 'true');\n      } else {\n        carousel.nextElementSibling?.querySelector(`button.${blockName}__button-prev`)?.removeAttribute('disabled');\n      }\n    }\n  } else {\n    if (direction === 'left') {\n      newScrollLeft = scrollContainer.scrollLeft - itemWidth * numberCardsToNavigatePerClick;\n    } else {\n      newScrollLeft = scrollContainer.scrollLeft + itemWidth * numberCardsToNavigatePerClick;\n    }\n\n    if (scrollContainer.clientWidth + newScrollLeft >= scrollContainerScrollWidth) {\n      // disable next button\n      carousel.nextElementSibling?.querySelector(`button.${blockName}__button-next`)?.setAttribute('disabled', 'true');\n    } else {\n      carousel.nextElementSibling?.querySelector(`button.${blockName}__button-next`)?.removeAttribute('disabled');\n    }\n\n    if (newScrollLeft <= paddingLeft + marginLeft + gap) {\n      // disable prev button\n      carousel.nextElementSibling?.querySelector(`button.${blockName}__button-prev`)?.setAttribute('disabled', 'true');\n    } else {\n      carousel.nextElementSibling?.querySelector(`button.${blockName}__button-prev`)?.removeAttribute('disabled');\n    }\n  }\n\n  scrollContainer.scrollLeft = newScrollLeft;\n  if ((0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.isMobileViewport)()) {\n    updateMobileOrTabletAutoplay(scrollContainer, `.${blockName}__media-item`, `${blockName}__media-item--video`);\n  }\n};\n\nconst createArrowControls = (carousel, isInteractive) => {\n  const isMobileOrTablet = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.isMobileOrTabletViewport)();\n  const arrowControls = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('ul', { classes: [`${blockName}__arrowcontrols`] });\n  const arrows = document.createRange().createContextualFragment(`\n    <li>\n      <button aria-label=\"Previous\" class=\"${blockName}__button ${blockName}__button-prev\">\n        <span class=\"icon icon-arrow-left\" aria-hidden=\"true\" />\n      </button>\n    </li>\n    <li>\n      <button aria-label=\"Next\" class=\"${blockName}__button ${blockName}__button-next\">\n        <span class=\"icon icon-arrow-right\" aria-hidden=\"true\" />\n      </button>\n    </li>\n  `);\n  arrowControls.append(...arrows.children);\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.decorateIcons)(arrowControls);\n  carousel.insertAdjacentElement('afterend', arrowControls);\n\n  const [prevButton, nextButton] = arrowControls.querySelectorAll(':scope button');\n  prevButton.addEventListener('click', () => navigate(carousel, 'left'));\n  nextButton.addEventListener('click', () => navigate(carousel, 'right'));\n\n  if (!isMobileOrTablet || (isMobileOrTablet && !isInteractive)) {\n    // disable prev button on load\n    prevButton.setAttribute('disabled', 'true');\n  }\n\n  return arrowControls;\n};\n\n/**\n * Collect caption nodes from a figure (after its picture), excluding given nodes.\n *\n * @param {HTMLElement} figureEl\n * @param {HTMLPictureElement|null} pictureEl\n * @param {Node[]} [exclude=[]]\n * @returns {DocumentFragment}\n */\nconst collectCaption = (figureEl, pictureEl, exclude = []) => {\n  const frag = document.createDocumentFragment();\n  const omit = new Set(exclude.filter(Boolean));\n  let node = pictureEl ? pictureEl.nextSibling : figureEl.firstChild;\n\n  while (node) {\n    const next = node.nextSibling;\n    if (!omit.has(node) && !(node.nodeType === Node.TEXT_NODE && !node.nodeValue.trim())) {\n      frag.appendChild(node);\n    }\n    node = next;\n  }\n  return frag;\n};\n\n/**\n * Mounts a video player into the carousel item and appends any remaining caption content.\n * Replaces the video link with the created player (or inserts player at the top of the figure).\n *\n * @param {HTMLElement} el - The <li> media item element.\n * @param {HTMLElement} figure - The <figure> wrapper inside the media item.\n * @param {HTMLPictureElement | null} picture - The poster <picture> (if available).\n * @param {HTMLElement} figCaption - The <figcaption> element to receive caption content.\n * @param {HTMLAnchorElement} videoLink - The anchor element pointing to the video URL.\n * @returns {void}\n */\nconst mountVideoItem = (el, figure, picture, figCaption, videoLink) => {\n  el.classList.add(`${blockName}__media-item--video`);\n  const captionFragment = collectCaption(figure, picture, [videoLink, picture]);\n  const player = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.createVideo)(videoLink, `${blockName}__video`, { controls: false, playsinline: true, muted: true, autoplay: false, loop: true });\n\n  if (videoLink.parentElement) {\n    videoLink.replaceWith(player);\n  } else {\n    figure.insertBefore(player, figure.firstChild);\n  }\n\n  if (captionFragment.hasChildNodes()) {\n    figCaption.appendChild(captionFragment);\n    figure.appendChild(figCaption);\n  }\n};\n\n/**\n * Marks the media item as an image variant and appends the caption content (if any).\n *\n * @param {HTMLElement} el - The <li> media item element.\n * @param {HTMLElement} figure - The <figure> wrapper inside the media item.\n * @param {HTMLPictureElement | null} picture - The <picture> element to exclude from caption collection.\n * @param {HTMLElement} figCaption - The <figcaption> element to receive caption content.\n * @returns {void}\n */\nconst mountImageItem = (el, figure, picture, figCaption) => {\n  el.classList.add(`${blockName}__media-item--image`);\n  if (!picture) {\n    return;\n  }\n\n  const captionFragment = collectCaption(figure, picture, [picture]);\n  if (captionFragment.hasChildNodes()) {\n    figCaption.appendChild(captionFragment);\n    figure.appendChild(figCaption);\n  }\n};\n\n/**\n * Sync prev/next button disabled state based on current scroll position.\n * Keeps both enabled on mobile/tablet for the interactive (looping) variant.\n * @param {HTMLElement} carousel\n */\nconst syncArrowButtons = (carousel) => {\n  const isMobileOrTablet = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.isMobileOrTabletViewport)();\n  const isInteractive = carousel.closest(`.${blockName}`)?.classList.contains('interactive');\n  const controls = carousel.nextElementSibling;\n  if (!controls) {\n    return;\n  }\n\n  const prevBtn = controls.querySelector(`button.${blockName}__button-prev`);\n  const nextBtn = controls.querySelector(`button.${blockName}__button-next`);\n  if (!prevBtn || !nextBtn) {\n    return;\n  }\n\n  if (isMobileOrTablet && isInteractive) {\n    prevBtn.removeAttribute('disabled');\n    nextBtn.removeAttribute('disabled');\n    return;\n  }\n\n  const EPS = 1; // guard for sub-pixel rounding\n  const style = window.getComputedStyle(carousel);\n  const gap = parseFloat(style.gap) || 0;\n  const paddingLeft = parseFloat(style.paddingLeft) || 0;\n  const marginLeft = parseFloat(style.marginLeft) || 0;\n\n  const atStart = carousel.scrollLeft <= paddingLeft + marginLeft + gap + EPS;\n  const atEnd = carousel.clientWidth + carousel.scrollLeft >= carousel.scrollWidth - EPS;\n\n  if (atStart) {\n    prevBtn.setAttribute('disabled', 'true');\n  } else {\n    prevBtn.removeAttribute('disabled');\n  }\n  if (atEnd) {\n    nextBtn.setAttribute('disabled', 'true');\n  } else {\n    nextBtn.removeAttribute('disabled');\n  }\n};\n\nasync function decorate(block) {\n  const rows = [...block.querySelectorAll(':scope > div')];\n  const isInteractive = block.classList.contains('interactive');\n  desktopCardsPerClick = isInteractive ? 2 : 1;\n\n  rows.forEach((row) => {\n    row.classList.add(`${blockName}__row`);\n  });\n\n  const cols = [...block.querySelectorAll(':scope > div > div')];\n  cols.forEach((col) => {\n    col.classList.add(`${blockName}__col`);\n    (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.adjustPretitle)(col);\n  });\n\n  const list = block.querySelector(':scope ul');\n  const mediaCol = list.closest(`.${blockName}__col`);\n  mediaCol?.classList.add(`${blockName}__media-col`);\n  mediaCol?.previousElementSibling?.classList.add(`${blockName}__text-col`);\n  list.classList.add(`${blockName}__media-list`);\n\n  [...list.querySelectorAll(':scope > li')].forEach(async (el) => {\n    const link = el.querySelector('a[href]');\n    const videoLink = link && (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.isVideoLink)(link) ? link : null;\n\n    el.classList.add(`${blockName}__media-item`);\n\n    const figure = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('figure', { classes: `${blockName}__figure` });\n    const figCaption = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('figcaption', { classes: `${blockName}__figure-text` });\n    const fragment = document.createDocumentFragment();\n\n    while (el.firstChild) {\n      fragment.appendChild(el.firstChild);\n    }\n\n    figure.appendChild(fragment);\n    el.appendChild(figure);\n\n    const picture = figure.querySelector('picture');\n\n    if (videoLink) {\n      mountVideoItem(el, figure, picture, figCaption, videoLink);\n    } else {\n      mountImageItem(el, figure, picture, figCaption);\n    }\n\n    if (isInteractive) {\n      const modalLink = figCaption.querySelector('a');\n      modalLink && el.appendChild(modalLink);\n    }\n  });\n\n  [...mediaCol.querySelectorAll('ul > li img')].forEach((img) => {\n    img.classList.add(`${blockName}__image`);\n  });\n\n  block.querySelectorAll('h1, h2, h3, h4, h5, h6').forEach((el) => el.classList.add(`${blockName}__heading`));\n\n  block.querySelectorAll('p').forEach((el) => {\n    el.classList.add(`${blockName}__text`);\n  });\n\n  const carousel = mediaCol.querySelector(`.${blockName}__media-list`);\n  createArrowControls(carousel, isInteractive);\n  syncArrowButtons(carousel);\n  carousel.addEventListener('scroll', () => syncArrowButtons(carousel), { passive: true });\n  window.addEventListener('resize', () => syncArrowButtons(carousel));\n  const itemSel = `.${blockName}__media-item`;\n  const videoModClass = `${blockName}__media-item--video`;\n  setupResponsivePlayback(block, carousel, itemSel, videoModClass);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-content-carousel/v2-content-carousel.js?\n}")},"./blocks/v2-custom-form/v2-custom-form.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _common_custom_dropdown_custom_dropdown_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/custom-dropdown/custom-dropdown.js */ \"./common/custom-dropdown/custom-dropdown.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__, _common_custom_dropdown_custom_dropdown_js__WEBPACK_IMPORTED_MODULE_2__]);\n([_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__, _common_custom_dropdown_custom_dropdown_js__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\nconst blockName = 'v2-custom-form';\nconst variantClasses = ['double-column', 'redirect-new-tab'];\n\nconst CLASSES = {\n  IGNORE_ON_FORM_SUBMIT: 'ignore-on-form-submit',\n};\n\nconst successMessage = (successTitle, successText) => `<h3 class='${blockName}__title ${blockName}__title--success'>${successTitle}</h3>\n<p class='${blockName}__text ${blockName}__text--success'>${successText}</p>\n`;\n\nconst errorMessage = (errorTitle, errorText) => `<h3 class='${blockName}__title ${blockName}__title--error'>${errorTitle}</h3>\n<p class='${blockName}__text ${blockName}__text--error'>${errorText}</p>\n`;\n\nwindow.__activeForms = window.__activeForms || new Set();\n\n/**\n * Get the message text from placeholder.json based on the success and title\n * @param {Boolean} isSuccess get the success message if true, otherwise the error message\n * @param {Boolean} isTitle get the title message if true, otherwise the text message\n * @returns {String} use the fn getTextLabel to get the message from placeholder.json\n */\nconst getMessageText = (isSuccess, isTitle) => {\n  const key = isSuccess ? 'successful' : 'error';\n  const type = isTitle ? 'title' : 'text';\n  return (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)(`v2_custom_form:${key}_submission_${type}`);\n};\n\n// Form Block identifies the submit endpoint via these rules and in order\n// 1. action property on the submit button\n// 2. SUBMIT_ACTION constant\n// 3. the path of the spreadsheet\nconst SUBMIT_ACTION = '';\n\n/**\n * Fetch the custom message from the thank you page fragment\n * @param {String} url the url of the thank you page fragment\n * @returns {String} the custom message from the thank you page fragment\n */\nasync function getCustomMessage(url) {\n  try {\n    const resp = await fetch(url);\n    if (resp.ok) {\n      return resp.text();\n    }\n  } catch (error) {\n    console.error('Error fetching custom message:', error);\n    return errorMessage(getMessageText(false, true), getMessageText(false, false));\n  }\n  return '';\n}\n\nfunction throwFormNotFound(form) {\n  console.error('Form with data-submitting=true not found', { form });\n}\n\nfunction tryRedirect(form, redirectKey, { warnLabel = redirectKey, redirectNewTab = false } = {}) {\n  if (!form) {\n    return false;\n  }\n\n  const redirectValue = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.normalizeUrlText)(form.dataset?.[redirectKey]);\n  if (!redirectValue || form.dataset.redirecting === 'true') {\n    return false;\n  }\n\n  try {\n    const resolvedUrl = new URL(redirectValue, window.location.href);\n    if ((0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.isHttp)(resolvedUrl.protocol)) {\n      form.dataset.redirecting = 'true';\n\n      if (redirectNewTab) {\n        window.open(resolvedUrl.href, '_blank', 'noopener,noreferrer');\n      } else {\n        window.location.assign(resolvedUrl.href);\n      }\n      return true;\n    }\n  } catch {\n    console.warn(`Invalid ${warnLabel} URL`);\n  }\n  return false;\n}\n\nasync function submissionSuccess(form, redirectNewTab = false) {\n  (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.sampleRUM)('form:submit');\n\n  if (!form) {\n    throwFormNotFound(form);\n    return;\n  }\n\n  if (tryRedirect(form, 'successRedirect', { redirectNewTab })) {\n    window.__activeForms.delete(form);\n    return;\n  }\n\n  const successDiv = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', {\n    classes: [`${blockName}--message`, `${blockName}__message--success`],\n  });\n  successDiv.innerHTML = successMessage(getMessageText(true, true), getMessageText(true, false));\n\n  const customMessageUrl = form.dataset.customMessage;\n\n  if (customMessageUrl) {\n    successDiv.innerHTML = await getCustomMessage(customMessageUrl);\n  }\n  form.setAttribute('data-submitting', 'false');\n  form.replaceWith(successDiv);\n  window.__activeForms.delete(form);\n}\n\nasync function submissionFailure(form, redirectNewTab = false) {\n  if (!form) {\n    throwFormNotFound(form);\n    return;\n  }\n\n  if (tryRedirect(form, 'errorRedirect', { warnLabel: 'errorRedirect', redirectNewTab })) {\n    console.log('redirecting to errorRedirect');\n    window.__activeForms.delete(form);\n    return;\n  } else {\n    console.log('no errorRedirect found, showing error message');\n  }\n\n  const errorDiv = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', {\n    classes: [`${blockName}--message`, `${blockName}__message--error`],\n  });\n  errorDiv.innerHTML = errorMessage(getMessageText(false, true), getMessageText(false, false));\n\n  form.setAttribute('data-submitting', 'false');\n  form.querySelector('button[type=\"submit\"]').disabled = false;\n  form.replaceWith(errorDiv);\n  window.__activeForms.delete(form);\n}\n\nwindow.showResult = function showResult(json) {\n  const activeForms = Array.from(window.__activeForms);\n  const form = activeForms.reverse().find((f) => f.dataset.submitting === 'true');\n\n  if (!form) {\n    console.warn('showResult: no active submitting form found');\n    return;\n  }\n\n  const block = form.closest(`.${blockName}`);\n  const redirectNewTab = block?.classList.contains(`${blockName}--redirect-new-tab`) || false;\n\n  if (json.result === 'success') {\n    submissionSuccess(form, redirectNewTab);\n  } else if (json.result === 'error') {\n    submissionFailure(form, redirectNewTab);\n  }\n\n  window.__activeForms.delete(form);\n  form.dataset.submitting = 'false';\n};\n\nfunction serialize(obj) {\n  const str = Object.keys(obj).map((key) => `${encodeURIComponent(key)}=${encodeURIComponent(obj[key])}`);\n  return str.join('&');\n}\n\nfunction generateUnique() {\n  return new Date().valueOf() + Math.random();\n}\n\nfunction constructPayload(form) {\n  const payload = { __id__: generateUnique() };\n  [...form.elements].forEach((fe) => {\n    if (fe.name && !fe.classList.contains(CLASSES.IGNORE_ON_FORM_SUBMIT)) {\n      if (fe.type === 'radio' && fe.checked) {\n        payload[fe.name] = fe.value;\n      } else if (fe.type === 'checkbox' && fe.checked) {\n        payload[fe.name] = payload[fe.name] ? `${payload[fe.name]},${fe.value}` : fe.value;\n      } else if (fe.type !== 'file' && fe.type !== 'checkbox' && fe.type !== 'radio') {\n        payload[fe.name] = fe.value;\n      }\n    }\n  });\n  payload.callback = 'showResult';\n  return { payload };\n}\n\nasync function prepareRequest(form) {\n  const { payload } = constructPayload(form);\n  const url = form.dataset.action;\n\n  const serializedData = serialize(payload);\n  (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.loadScript)(`${url}?${serializedData}`, { type: 'text/javascript', charset: 'UTF-8' });\n}\n\nasync function handleSubmit(form) {\n  if (form.getAttribute('data-submitting') !== 'true') {\n    form.setAttribute('data-submitting', 'true');\n    window.__activeForms.add(form);\n    await prepareRequest(form);\n  }\n}\n\nfunction setPlaceholder(element, fd) {\n  if (fd.Placeholder) {\n    element.setAttribute('placeholder', fd.Placeholder);\n  }\n}\n\nconst constraintsDef = Object.entries({\n  'email|text|textarea': [\n    ['Max', 'maxlength'],\n    ['Min', 'minlength'],\n    ['Pattern', 'pattern'],\n  ],\n  'number|range|date': ['Max', 'Min', 'Step'],\n  file: ['Accept', 'Multiple'],\n  fieldset: ['Max', 'Min'],\n}).flatMap(([types, constraintDef]) => types.split('|').map((type) => [type, constraintDef.map((cd) => (Array.isArray(cd) ? cd : [cd, cd]))]));\n\nconst constraintsObject = Object.fromEntries(constraintsDef);\n\nfunction setConstraints(element, fd) {\n  const constraints = constraintsObject[fd.Type];\n  if (constraints) {\n    constraints\n      .filter(([nm]) => fd[nm])\n      .forEach(([nm, htmlNm]) => {\n        element.setAttribute(htmlNm, htmlNm === 'pattern' ? fd[nm].replace(/^\\/|\\/$/g, '') : fd[nm]);\n      });\n  }\n}\n\nfunction createLabel(fd, tagName = 'label') {\n  const label = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)(tagName, {\n    classes: 'field-label',\n    props: {\n      for: fd.Id,\n    },\n  });\n  if (fd.tooltip) {\n    label.title = fd.tooltip;\n  }\n  if (fd.Label) {\n    label.textContent = fd.Label;\n  }\n  return label;\n}\n\nfunction createHelpText(fd) {\n  const div = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', {\n    classes: 'field-description',\n    props: {\n      'aria-live': 'polite',\n      id: `${fd.Id}-description`,\n    },\n  });\n  div.textContent = fd.Description;\n  return div;\n}\n\nfunction kebabName(name) {\n  return name\n    .replace(/\\s+/g, '-')\n    .replace(/([a-z0-9])([A-Z])/g, '$1-$2')\n    .toLowerCase();\n}\n\nfunction createFieldWrapper(fd, tagName = 'div') {\n  const nameStyle = fd.Name ? `form-${kebabName(fd.Name)}` : '';\n  let props = {};\n\n  if (tagName !== 'div') {\n    props = {\n      id: fd.Id,\n      name: fd.Name,\n    };\n  }\n\n  const fieldWrapper = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)(tagName, {\n    classes: [`form-${fd.Type}-wrapper`, 'field-wrapper'],\n    props,\n  });\n  if (fd.Mandatory && fd.Mandatory.toLowerCase() === 'true') {\n    fieldWrapper.setAttribute('required', 'required');\n  }\n  if (fd.Fieldset) {\n    fieldWrapper.dataset.fieldset = fd.Fieldset;\n  }\n  if (nameStyle) {\n    fieldWrapper.classList.add(nameStyle);\n  }\n  fieldWrapper.append(createLabel(fd));\n  return fieldWrapper;\n}\n\nfunction createButton(fd) {\n  const wrapper = createFieldWrapper(fd);\n  const button = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('button', {\n    classes: ['button', 'primary'],\n    props: {\n      type: fd.Type,\n      id: fd.Id,\n      name: fd.Name,\n    },\n  });\n  if (fd.Type === 'submit' && fd.Action) {\n    button.formAction = fd.Action;\n  }\n  if (fd.Extra) {\n    button.dataset.redirect = fd.Extra;\n  }\n  button.textContent = fd.Label;\n  wrapper.replaceChildren(button);\n  return wrapper;\n}\n\nfunction createSubmit(fd) {\n  const wrapper = createButton(fd);\n  return wrapper;\n}\n\nfunction createInput(fd) {\n  const input = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('input', {\n    props: {\n      type: fd.Type,\n    },\n  });\n  setPlaceholder(input, fd);\n  setConstraints(input, fd);\n  return input;\n}\n\nfunction formatDate(date) {\n  return date.toISOString().split('T')[0];\n}\n\nfunction excelDateToISO(serial) {\n  // Excel's day 1 = 1900-01-01, but it wrongly counts 1900 as a leap year\n  const excelEpoch = new Date(Date.UTC(1899, 11, 30));\n  const jsDate = new Date(excelEpoch.getTime() + serial * 86400000);\n\n  return jsDate.toISOString().split('T')[0]; // returns YYYY-MM-DD\n}\n\nfunction createDateInput(fd) {\n  const input = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('input', {\n    props: {\n      type: fd.Type,\n    },\n  });\n  setPlaceholder(input, fd);\n  setConstraints(input, fd);\n\n  if (fd['Custom Options'] && fd['Custom Options'] !== '') {\n    try {\n      const customOptions = fd['Custom Options'];\n      const customOptionsObj = JSON.parse(customOptions.replace(/(\\w+):/g, '\"$1\":'));\n\n      if (customOptionsObj.ignoreNonWorkingDays && customOptionsObj.ignoreNonWorkingDays === true) {\n        // Implement logic to restrict date picker to working days only\n        input.addEventListener('input', (e) => {\n          const selectedDate = new Date(e.target.value);\n          const day = selectedDate.getUTCDay();\n\n          const holidayDates = Object.values(_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.HOLIDAYS).map((date) => excelDateToISO(date));\n          const selectedDateISO = selectedDate.toISOString().split('T')[0];\n\n          // 0 = Sunday, 6 = Saturday\n          if (day === 0 || day === 6) {\n            const invalidFormWeekendDayLabel = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('v2_custom_form:invalid_form_weekend_day_label');\n\n            e.target.setCustomValidity(invalidFormWeekendDayLabel);\n          } else if (holidayDates.includes(selectedDateISO)) {\n            const invalidFormHolidayLabel = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('v2_custom_form:invalid_form_holiday_label');\n            e.target.setCustomValidity(invalidFormHolidayLabel);\n          } else {\n            e.target.setCustomValidity('');\n          }\n        });\n      }\n\n      if (customOptionsObj.minDay) {\n        const today = new Date();\n        const minDate = new Date();\n\n        minDate.setDate(today.getDate() + customOptionsObj.minDay);\n\n        input.min = formatDate(minDate);\n      }\n\n      if (customOptionsObj.maxDay) {\n        let maxDay = customOptionsObj.maxDay;\n\n        if (customOptionsObj.ignoreNonWorkingDays) {\n          // If ignoreNonWorkingDays is true, we need to know how many weekend days there are between today and maxDay\n          // or if customOptionsObj.minDay is set, between minDay and maxDay\n          // if that is the case we need to add those invalid days to the maxDay\n          const today = new Date();\n          const startDate = customOptionsObj.minDay ? new Date(today.setDate(today.getDate() + customOptionsObj.minDay)) : today;\n          let nonWorkingDays = 0;\n\n          for (let i = 0; i <= maxDay + nonWorkingDays; i++) {\n            const checkDate = new Date(startDate);\n            checkDate.setDate(startDate.getDate() + i);\n            const day = checkDate.getUTCDay();\n            const checkDateISO = checkDate.toISOString().split('T')[0];\n            const isHoliday = Object.values(_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.HOLIDAYS)\n              .map((date) => excelDateToISO(date))\n              .includes(checkDateISO);\n\n            if (day === 0 || day === 6 || isHoliday) {\n              nonWorkingDays += 1;\n            }\n          }\n\n          maxDay += nonWorkingDays;\n        }\n        const today = new Date();\n        const maxDate = new Date();\n\n        maxDate.setDate(today.getDate() + maxDay);\n\n        input.max = formatDate(maxDate);\n      }\n    } catch (error) {\n      console.error('Error parsing Custom Options JSON:', error);\n    }\n  }\n\n  return input;\n}\n\nconst withFieldWrapper = (element) => (fd) => {\n  const wrapper = createFieldWrapper(fd);\n  wrapper.append(element(fd));\n  return wrapper;\n};\n\nconst createTextArea = withFieldWrapper((fd) => {\n  const textArea = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('textarea');\n  setConstraints(textArea, fd);\n  setPlaceholder(textArea, fd);\n  return textArea;\n});\n\nconst createSelect = withFieldWrapper((fd) => {\n  const select = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('select');\n  if (fd.Placeholder) {\n    const ph = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('option', {\n      props: {\n        selected: '',\n        disabled: '',\n      },\n    });\n    ph.textContent = fd.Placeholder;\n    select.append(ph);\n  }\n  fd.Options.split(',').forEach((o) => {\n    const oTrimed = o.trim();\n    const option = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('option', {\n      props: {\n        value: oTrimed,\n      },\n    });\n    option.textContent = oTrimed;\n    select.append(option);\n  });\n  return select;\n});\n\nfunction checkboxHandler(e) {\n  if (e.type === 'keydown' && e.key !== 'Enter' && e.key !== ' ') {\n    return;\n  }\n  e.preventDefault();\n  const wrapper = e.currentTarget.closest('.field-wrapper');\n  const checkbox = wrapper.querySelector('input[type=\"checkbox\"]');\n  checkbox.checked = !checkbox.checked;\n  checkbox.dispatchEvent(new Event('change'));\n}\n\nfunction createCheckbox(fd) {\n  const wrapper = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', {\n    classes: [`form-${fd.Type}-wrapper`, 'field-wrapper', `form-${kebabName(fd.Name)}`],\n    props: {\n      id: fd.Id,\n      name: fd.Name,\n    },\n  });\n\n  if (fd.Mandatory?.toLowerCase() === 'true') {\n    wrapper.setAttribute('required', 'required');\n  }\n\n  const input = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('input', {\n    props: {\n      type: 'checkbox',\n      id: fd.Id,\n      name: fd.Name,\n      value: fd.Value || 'on',\n      tabindex: '-1',\n      ...(fd.Mandatory?.toLowerCase() === 'true' ? { required: true } : {}),\n    },\n  });\n\n  const label = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('label', {\n    props: {\n      for: fd.Id,\n      tabindex: '0',\n    },\n  });\n\n  const circle = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('span', {\n    classes: ['form-checkbox-circle'],\n  });\n\n  label.append(circle, document.createTextNode(fd.Label || fd.Name));\n  label.addEventListener('click', checkboxHandler);\n  label.addEventListener('keydown', checkboxHandler);\n  wrapper.append(input, label);\n  return wrapper;\n}\n\nfunction createRadio(fd) {\n  const wrapper = createRadioWrapper(fd);\n\n  const options = getRadioOptions(fd);\n  if (!options || options.length === 0) {\n    return wrapper;\n  }\n\n  options.forEach((option, index) => {\n    const radioOption = createRadioOption(option, index, fd);\n    wrapper.append(radioOption);\n  });\n\n  appendHelpText(wrapper, fd);\n\n  return wrapper;\n}\n\nfunction createRadioWrapper(fd) {\n  const isButtonVariant = fd.Type === 'buttons';\n  const classes = ['form-radio-wrapper', 'field-wrapper'];\n  if (isButtonVariant) {\n    classes.push('form-radio-wrapper--buttons');\n  }\n\n  const wrapper = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('fieldset', {\n    classes,\n    props: { name: fd.Name },\n  });\n\n  if (fd.Mandatory?.toLowerCase() === 'true') {\n    wrapper.setAttribute('required', 'required');\n  }\n\n  if (fd.Name) {\n    wrapper.classList.add(`form-${kebabName(fd.Name)}`);\n  }\n\n  const legend = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('legend', {\n    classes: ['form-radio-legend'],\n  });\n  legend.textContent = fd.Label || fd.Name;\n  wrapper.append(legend);\n\n  return wrapper;\n}\n\nfunction getRadioOptions(fd) {\n  if (!fd.Options) {\n    console.warn(`Missing \"Options\" for radio field: ${fd.Name}`);\n    return null;\n  }\n\n  const options = fd.Options.split(',')\n    .map((o) => o.trim())\n    .filter(Boolean);\n\n  if (options.length === 0) {\n    console.warn(`No valid options parsed for radio field: ${fd.Name}`);\n  }\n\n  return options;\n}\n\nfunction createRadioOption(option, index, fd) {\n  const radioId = `${fd.Id}-${index}`;\n  const radioWrapper = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', {\n    classes: ['form-radio-option'],\n  });\n\n  const input = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('input', {\n    classes: ['form-radio-input'],\n    props: {\n      type: 'radio',\n      id: radioId,\n      name: fd.Name,\n      value: option,\n      required: fd.Mandatory?.toLowerCase() === 'true',\n    },\n  });\n\n  const label = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('label', {\n    classes: ['form-radio-label'],\n    props: { for: radioId },\n  });\n\n  const visualCircle = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('span', {\n    classes: ['form-radio-circle'],\n  });\n\n  label.append(visualCircle, document.createTextNode(option));\n  radioWrapper.append(input, label);\n  return radioWrapper;\n}\n\nfunction appendHelpText(wrapper, fd) {\n  if (fd.Description) {\n    wrapper.append(createHelpText(fd));\n  }\n}\n\nconst createOutput = withFieldWrapper((fd) => {\n  const output = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('output', {\n    props: {\n      name: fd.Name,\n    },\n  });\n  if (fd.Fieldset) {\n    output.dataset.fieldset = fd.Fieldset;\n  }\n  output.textContent = fd.Value;\n  return output;\n});\n\nfunction createHidden(fd) {\n  const input = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('input', {\n    props: {\n      type: 'hidden',\n      id: fd.Id,\n      name: fd.Name,\n      value: fd.Value,\n    },\n  });\n  return input;\n}\n\nfunction createHiddenMeta(fd) {\n  let value = '';\n\n  // get the value from the head meta tag with the name === fd.Name\n  const meta = document.querySelector(`head meta[name=\"${fd.Name}\"]`);\n\n  if (meta) {\n    value = meta.content;\n  } else {\n    // if the meta tag doens't exist, create it and append it to the head\n    const newMeta = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('meta', {\n      props: {\n        name: fd.Name,\n        content: fd.Value || '',\n      },\n    });\n\n    document.head.append(newMeta);\n    value = fd.Value || '';\n  }\n\n  const inputField = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('input', {\n    props: {\n      type: 'hidden',\n      id: fd.Id,\n      name: fd.Name,\n      value,\n    },\n  });\n\n  // observe the head meta tag with the name === fd.Name and everytime the value changes, update the hidden input value\n  const observer = new MutationObserver((mutationsList) => {\n    for (const mutation of mutationsList) {\n      if (mutation.type === 'attributes' && mutation.attributeName === 'content') {\n        const newValue = mutation.target.content;\n        if (inputField) {\n          inputField.value = newValue;\n        }\n      }\n    }\n  });\n\n  if (meta) {\n    observer.observe(meta, { attributes: true });\n  }\n\n  return inputField;\n}\n\nfunction createLegend(fd) {\n  return createLabel(fd, 'legend');\n}\n\nfunction createFieldSet(fd) {\n  const wrapper = createFieldWrapper(fd, 'fieldset');\n  wrapper.name = fd.Name;\n  wrapper.replaceChildren(createLegend(fd));\n  if (fd.Repeatable && fd.Repeatable.toLowerCase() === 'true') {\n    setConstraints(wrapper, fd);\n    wrapper.dataset.repeatable = 'true';\n  }\n  return wrapper;\n}\n\nfunction groupFieldsByFieldSet(form) {\n  const fieldsets = form.querySelectorAll('fieldset');\n  fieldsets?.forEach((fieldset) => {\n    const fields = form.querySelectorAll(`[data-fieldset=\"${fieldset.name}\"`);\n    fields?.forEach((field) => {\n      fieldset.append(field);\n    });\n  });\n}\n\nfunction createPlainText(fd) {\n  const nameStyle = fd.Name ? `form-${kebabName(fd.Name)}` : '';\n  const paragraph = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('p', {\n    classes: nameStyle,\n  });\n  if (fd.Fieldset) {\n    paragraph.dataset.fieldset = fd.Fieldset;\n  }\n  paragraph.textContent = fd.Label;\n  return paragraph;\n}\n\nasync function createCustomDropdown(fd) {\n  const configFd = {\n    optionList: fd.Options.split(',').map((o) => o.trim()),\n    placeholder: fd.Placeholder,\n    id: fd.Id,\n    name: fd.Name,\n    mandatory: fd.Mandatory,\n  };\n\n  if (fd.onChangeCallback) {\n    configFd.onChangeCallback = (value) => fd.onChangeCallback({ value, name: fd.Name });\n  }\n\n  const customDropdown = await (0,_common_custom_dropdown_custom_dropdown_js__WEBPACK_IMPORTED_MODULE_2__.getCustomDropdown)(configFd);\n  const select = customDropdown.querySelector('select');\n  // since dropdown is async, it replaces a temporary select\n  // we need to set again the invalid listener\n  select.addEventListener('invalid', showError);\n  return customDropdown;\n}\n\nconst getId = (function getId() {\n  const ids = {};\n  return (name) => {\n    ids[name] = ids[name] || 0;\n    const idSuffix = ids[name] ? `-${ids[name]}` : '';\n    ids[name] += 1;\n    return `${name}${idSuffix}`;\n  };\n})();\n\nconst fieldRenderers = {\n  radio: createRadio,\n  buttons: createRadio,\n  checkbox: createCheckbox,\n  textarea: createTextArea,\n  select: createSelect,\n  button: createButton,\n  submit: createSubmit,\n  output: createOutput,\n  hidden: createHidden,\n  fieldset: createFieldSet,\n  plaintext: createPlainText,\n  date: createDateInput,\n  'custom-dropdown': createSelect, // create a select as a placeholder for the custom dropdown\n};\n\nfunction renderField(fd) {\n  const renderer = fieldRenderers[fd.Type];\n  let field;\n  if (fd.Type === 'date' && typeof renderer === 'function') {\n    field = createFieldWrapper(fd);\n    field.append(renderer(fd));\n  } else if (typeof renderer === 'function') {\n    field = renderer(fd);\n  } else {\n    field = createFieldWrapper(fd);\n    field.append(createInput(fd));\n  }\n  if (fd.Description) {\n    field.append(createHelpText(fd));\n  }\n  return field;\n}\n\nfunction renderTitle(config) {\n  const text = config.Label || '';\n  const tag = config.Name && ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'].includes(config.Name.toLowerCase()) ? config.Name.toLowerCase() : 'h2';\n  const title = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)(tag, {\n    classes: [`${blockName}__subtitle`],\n  });\n  title.textContent = text;\n\n  return title;\n}\n\nasync function fetchData(url) {\n  try {\n    const resp = await fetch(url);\n    const json = await resp.json();\n    return json.data.map((fd) => ({\n      ...fd,\n      Id: fd.Id || getId(fd.Name),\n      Value: fd.Value || '',\n    }));\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    return [];\n  }\n}\n\nasync function fetchForm(pathname) {\n  // get the main form\n  try {\n    const jsonData = await fetchData(pathname);\n    return jsonData;\n  } catch (error) {\n    console.error('Error fetching form data:', error);\n    return [];\n  }\n}\n\nfunction showError(evnt) {\n  const isHidden = !!evnt.currentTarget.closest('.hidden');\n  if (isHidden) {\n    return;\n  }\n\n  let field = evnt.target;\n  const fieldWrapper = field.closest('.field-wrapper');\n  fieldWrapper.classList.add('invalid');\n  let errorSpan = fieldWrapper.querySelector('span.error');\n  if (!errorSpan) {\n    errorSpan = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('span', { classes: 'error' });\n    fieldWrapper.append(errorSpan);\n  }\n  errorSpan.innerText = field.validationMessage;\n  if (fieldWrapper.classList.contains('form-custom-dropdown-wrapper')) {\n    field = fieldWrapper.querySelector('.custom-dropdown__button');\n  }\n  field.addEventListener('blur', hideError);\n}\n\nfunction hideError(evnt) {\n  const isCustomDropdown = evnt.target.classList.contains('custom-dropdown__button');\n  const field = isCustomDropdown ? evnt.target.parentNode.querySelector('select') : evnt.target;\n  const fieldWrapper = field.closest('.field-wrapper');\n  const isValid = field.checkValidity();\n  // to avoid showing error messages on blur\n  fieldWrapper.classList.toggle('invalid', !isValid);\n  const errorSpan = fieldWrapper.querySelector('span.error');\n  if (errorSpan && isValid) {\n    errorSpan.remove();\n  }\n}\n\nfunction decorateValidation(form) {\n  form.setAttribute('novalidate', '');\n  form.querySelectorAll('input,textarea,select').forEach((el) => {\n    el.addEventListener('invalid', showError);\n  });\n}\n\nfunction cleanErrorMessages(form) {\n  const spanErrors = form.querySelectorAll('span.error');\n  spanErrors.forEach((span) => {\n    const parentEl = span.closest('.field-wrapper.invalid');\n    if (!parentEl) {\n      span.remove();\n    }\n  });\n}\n\nfunction toggleNovalidateOnInput(element, novalidate = true) {\n  const inputField = element.querySelector('input,select,textarea');\n  if (inputField) {\n    if (novalidate) {\n      element.classList.add('hidden');\n      inputField.setAttribute('novalidate', '');\n      inputField.classList.add(CLASSES.IGNORE_ON_FORM_SUBMIT);\n      inputField.setAttribute('aria-invalid', 'false');\n      inputField.classList.remove('invalid');\n      inputField.disabled = true;\n    } else {\n      element.classList.remove('hidden');\n      inputField.classList.remove(CLASSES.IGNORE_ON_FORM_SUBMIT);\n      inputField.removeAttribute('novalidate');\n      inputField.setAttribute('aria-invalid', 'true');\n      inputField.classList.add('invalid');\n      inputField.disabled = false;\n    }\n  }\n}\n\nfunction validateSubmitButton(data) {\n  let hasAction = true;\n  let hasSubmit = false;\n  data.forEach((fd) => {\n    if (fd.Type === 'submit') {\n      hasSubmit = true;\n      if (!fd.Action || fd.Action.trim() === '') {\n        console.warn('%cSubmit button%c is missing an action attribute.', 'color: red;', 'color: inherit;');\n        hasAction = false;\n      }\n    }\n  });\n  if (!hasSubmit) {\n    console.warn('Form is missing a %csubmit button.%c No submit Type has been found', 'color: red;', 'color: inherit;');\n  }\n  return hasSubmit && hasAction;\n}\n\nasync function createForm(formURL) {\n  const { pathname } = new URL(formURL);\n  const data = await fetchForm(pathname);\n\n  if (data.length === 0) {\n    return (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', {\n      classes: 'custom-form__error',\n      content: 'Error fetching form data',\n    });\n  } else if (!validateSubmitButton(data)) {\n    return;\n  }\n\n  const form = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('form');\n  const customDropdowns = [];\n  const dependencies = []; // these will be used to show/hide the fields based on the dependencies\n  data.forEach(async (fd) => {\n    let el;\n\n    if (fd.Type === 'title') {\n      el = renderTitle(fd);\n    } else if (fd.Type === 'paragraph') {\n      el = createPlainText(fd);\n    } else if (fd.Type === 'meta') {\n      el = createHiddenMeta(fd);\n    } else {\n      el = renderField(fd);\n\n      if (fd.Type === 'custom-dropdown') {\n        customDropdowns.push(fd);\n      }\n\n      const formField = el.querySelector('input,textarea,select');\n      if (formField) {\n        if (fd.Mandatory && fd.Mandatory.toLowerCase() === 'true') {\n          formField.setAttribute('required', 'required');\n        }\n        if (!formField.id) {\n          formField.id = fd.Id;\n        }\n        formField.name = fd.Name;\n\n        if (fd.Type !== 'radio') {\n          formField.value = fd.Value;\n        }\n\n        if (fd.Description) {\n          formField.setAttribute('aria-describedby', `${fd.Id}-description`);\n        }\n      }\n      if (fd.Dependency) {\n        // If it has a dependency, we need to hide it by default\n        dependencies.push({\n          element: el,\n          dependency: fd.Dependency,\n\n          name: (fd.Dependency && fd.Dependency.split(':')[0]) || '',\n          value: (fd.Dependency && fd.Dependency.split(':')[1]) || '',\n        });\n      }\n    }\n    form.append(el);\n  });\n\n  if (customDropdowns.length > 0) {\n    customDropdowns.forEach(async (fd, index) => {\n      const hasDependency = dependencies.find((d) => d.name === fd.Name);\n\n      if (hasDependency) {\n        fd.onChangeCallback = (selected) => {\n          const { name, value } = selected;\n          dependencies.forEach((d) => {\n            if (d.name === name) {\n              toggleNovalidateOnInput(d.element, d.value !== value);\n            }\n          });\n        };\n      }\n\n      const customDropdownPlaceholder = form.querySelectorAll('.form-custom-dropdown-wrapper')[index];\n      const placeholderSelect = customDropdownPlaceholder.querySelector('select');\n      const customDropdown = await createCustomDropdown(fd);\n      placeholderSelect.replaceWith(customDropdown);\n\n      if (hasDependency) {\n        const { value } = hasDependency;\n\n        setTimeout(() => {\n          dependencies.forEach((d) => {\n            if (d.name === hasDependency.name) {\n              toggleNovalidateOnInput(d.element, d.value !== value);\n            }\n          });\n        }, 0);\n      }\n    });\n  }\n\n  groupFieldsByFieldSet(form);\n  form.addEventListener('submit', (e) => {\n    let isValid = true;\n    if (form.hasAttribute('novalidate')) {\n      isValid = form.checkValidity();\n    }\n    // after been submitted, the form needs to clean the error messages if the fields are valid\n    cleanErrorMessages(form);\n    e.preventDefault();\n\n    const honeypot = form.querySelector('input[name=\"form_extra_field\"]');\n    if (honeypot && honeypot.value) {\n      console.warn('Form submission blocked: honeypot field was filled (possible bot).');\n      return;\n    }\n\n    if (isValid) {\n      const block = form.closest(`.${blockName}`);\n      const formTitle = block.querySelector(`.${blockName}__title`);\n      if (formTitle) {\n        formTitle.remove();\n      }\n      e.submitter.setAttribute('disabled', '');\n      form.dataset.action = e.submitter.formAction || SUBMIT_ACTION || pathname.split('.json')[0];\n      handleSubmit(form);\n    }\n  });\n  decorateValidation(form);\n  return form;\n}\n\nfunction decorateTitles(block) {\n  const previousSibling = block.parentElement.previousElementSibling;\n  if (!previousSibling) {\n    return;\n  }\n  const title = previousSibling.querySelector('h3');\n  const subtitle = previousSibling.querySelector('h5');\n  if (title) {\n    title.classList.add('h3');\n  }\n  if (subtitle) {\n    subtitle.classList.add('h5');\n  }\n}\n\nfunction addTitleText(titleText, block) {\n  const titleTextContent = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', {\n    classes: [`${blockName}__title`],\n  });\n  titleTextContent.innerHTML = titleText.innerHTML;\n  block.append(titleTextContent);\n}\n\nfunction createHoneypotField() {\n  const fragment = document.createRange().createContextualFragment(`\n    <div class=\"field-wrapper visually-hidden\" aria-hidden=\"true\">\n      <label for=\"form_extra_field\">Comments</label>\n      <input\n        type=\"text\"\n        id=\"form_extra_field\"\n        name=\"form_extra_field\"\n        tabindex=\"-1\"\n        autocomplete=\"off\"\n      >\n    </div>\n  `);\n  return fragment.firstElementChild;\n}\n\nfunction getConfigValueCell(block, propName) {\n  for (const row of block.querySelectorAll(':scope > div')) {\n    const [propCell, valueCell] = row.children || [];\n    if (propCell && propCell.textContent.trim() === propName) {\n      return valueCell || null;\n    }\n  }\n  return null;\n}\n\nasync function decorate(block) {\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.variantsClassesToBEM)(block.classList, variantClasses, blockName);\n\n  const titleCell = getConfigValueCell(block, 'title');\n  const linkCell = getConfigValueCell(block, 'link');\n  const successFragmentCell = getConfigValueCell(block, 'successFragmentUrl');\n  const successRedirectCell = getConfigValueCell(block, 'successRedirectUrl');\n  const errorRedirectCell = getConfigValueCell(block, 'errorRedirectUrl');\n\n  const formUrl = linkCell ? (linkCell.querySelector('a')?.href || linkCell.textContent).trim() : '';\n  const isJsonUrl = formUrl.toLowerCase().trim().endsWith('.json');\n  const thankYouPageUrl = successFragmentCell ? (successFragmentCell.querySelector('a')?.href || successFragmentCell.textContent).trim() : '';\n  const successRedirectUrl = successRedirectCell ? (successRedirectCell.querySelector('a')?.href || successRedirectCell.textContent).trim() : '';\n  const errorRedirectUrl = errorRedirectCell ? (errorRedirectCell.querySelector('a')?.href || errorRedirectCell.textContent).trim() : '';\n\n  if (!formUrl || !isJsonUrl) {\n    console.error('%cForm link%c is missing or not a .json', 'color:red', 'color:inherit', { formUrl });\n    block.textContent = '';\n    return;\n  }\n\n  decorateTitles(block);\n\n  const form = await createForm(formUrl);\n  if (!form) {\n    console.error('%cForm%c could not be created. No form data found.', 'color:red', 'color:inherit', { formUrl, form });\n    block.textContent = '';\n    return;\n  }\n\n  if (successRedirectUrl) {\n    form.dataset.successRedirect = successRedirectUrl;\n  }\n  if (errorRedirectUrl) {\n    form.dataset.errorRedirect = errorRedirectUrl;\n  }\n  if (!successRedirectUrl && thankYouPageUrl) {\n    form.dataset.customMessage = `${thankYouPageUrl}.plain.html`;\n  }\n\n  block.textContent = '';\n  if (titleCell) {\n    addTitleText(titleCell, block);\n  }\n\n  form.append(createHoneypotField());\n  block.append(form);\n\n  window.addEventListener('unhandledrejection', ({ reason, error }) => {\n    console.error('Unhandled rejection. Error submitting form:', { reason, error });\n\n    const activeForms = Array.from(window.__activeForms || []);\n    const form = activeForms.reverse().find((f) => f.dataset.submitting === 'true');\n\n    if (!form) {\n      throwFormNotFound(form);\n      return;\n    }\n\n    const block = form.closest(`.${blockName}`);\n    const redirectNewTab = block?.classList.contains(`${blockName}--redirect-new-tab`) || false;\n    submissionFailure(form, redirectNewTab);\n  });\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-custom-form/v2-custom-form.js?\n}")},"./blocks/v2-dealer-locator-teaser/v2-dealer-locator-teaser.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/scripts.js */ \"./scripts/scripts.js\");\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__]);\n([_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst blockName = 'v2-dealer-locator-teaser';\nconst variantClasses = ['right-align'];\n\nfunction initBackgroundPosition(classList, breakpoint) {\n  const classPrefixes = {\n    [_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.MEDIA_BREAKPOINTS.MOBILE]: 's',\n    [_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.MEDIA_BREAKPOINTS.TABLET]: 'm',\n    [_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.MEDIA_BREAKPOINTS.DESKTOP]: 'l',\n  };\n  const classPrefix = classPrefixes[breakpoint];\n  const backgroudPositionClass = [...classList].find((item) => item.startsWith(`bp-${classPrefix}-`));\n  let backgroundPositionValue = 'unset';\n\n  if (backgroudPositionClass) {\n    let [, , xPosition, yPosition] = backgroudPositionClass.split('-');\n\n    // workaround, '-' character classes are not supported\n    // so for '-45px' we need to put 'm45px'\n    xPosition = xPosition.replace('m', '-');\n    yPosition = yPosition.replace('m', '-');\n\n    backgroundPositionValue = `${xPosition} ${yPosition}`;\n  }\n\n  return backgroundPositionValue;\n}\n\nfunction prepareBackgroundImage(block) {\n  const onBackgroundImgChange = (imgEl, backgroundTarget, breakpoint) => {\n    const backgroundPostionStyles = initBackgroundPosition(block.classList, breakpoint);\n    const backgroundSrc = imgEl.currentSrc;\n    backgroundTarget.style.backgroundImage = `url(${backgroundSrc})`;\n    backgroundTarget.style.backgroundPosition = backgroundPostionStyles;\n  };\n\n  const onBreakpointChange = (pictureEl, breakpoint) => {\n    const pictureClone = pictureEl.cloneNode(true);\n    const img = pictureClone.querySelector('img');\n    pictureClone.classList.add('v2-dlt__picture');\n\n    block.append(pictureClone);\n\n    if (img.currentSrc) {\n      onBackgroundImgChange(img, block, breakpoint);\n      pictureClone.remove();\n    } else {\n      img.addEventListener('load', () => {\n        onBackgroundImgChange(img, block, breakpoint);\n        pictureClone.remove();\n      });\n    }\n  };\n\n  const listOfPictures = block.querySelector('ul');\n  // removing from DOM - prevent loading all of provided images\n  listOfPictures.remove();\n  (0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.getImageForBreakpoint)(listOfPictures, onBreakpointChange);\n}\n\nasync function decorate(block) {\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.variantsClassesToBEM)(block.classList, variantClasses, blockName);\n\n  prepareBackgroundImage(block);\n  const headings = block.querySelectorAll('h1, h2, h3, h4, h5, h6');\n\n  [...headings].forEach((heading) => heading.classList.add('v2-dlt__title'));\n\n  block.parentElement.classList.add('full-width');\n\n  const contentElWrapper = block.querySelector(':scope > div');\n  contentElWrapper.classList.add('v2-dlt__content-wrapper');\n  const contentEl = block.querySelector(':scope > div > div');\n  contentEl.classList.add('v2-dlt__content');\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-dealer-locator-teaser/v2-dealer-locator-teaser.js?\n}")},"./blocks/v2-dynamic-truck-lineup/v2-dynamic-truck-lineup.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ buildTruckLineupBlock)\n/* harmony export */ });\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _scripts_scripts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../scripts/scripts.js */ \"./scripts/scripts.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__, _scripts_scripts_js__WEBPACK_IMPORTED_MODULE_2__]);\n([_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__, _scripts_scripts_js__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\nfunction getItemsFromBlock(block) {\n  const items = [];\n  block.querySelectorAll(':scope > div').forEach((item) => {\n    const cells = Array.from(item.querySelectorAll(':scope > div'));\n    const modelName = cells[0]?.textContent || '';\n    const description = cells[1]?.textContent || '';\n    const mobileImage = cells[2]?.querySelector('img') || '';\n    const desktopImage = cells[3]?.querySelector('img') || '';\n    const color = cells[4]?.textContent || '';\n\n    items.push({ modelName, description, mobileImage, desktopImage, color });\n  });\n  return items;\n}\n\nconst getTabContentTemplate = ({ modelName, description }) => `\n  <div class=\"default-content-wrapper\">\n    <p>\n      <strong>${modelName}</strong> ${description}\n    </p>\n  </div>\n`;\n\nfunction buildTruckLineupBlock(block) {\n  // This data eventually will come from the RI API:\n  // The block will instead provide a configuration for the model that needs to be loaded\n  const config = getItemsFromBlock(block);\n\n  const models = [];\n\n  config.forEach(({ modelName, description, mobileImage, desktopImage, color }) => {\n    const tabContent = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: 'v2-truck-lineup__content' });\n\n    tabContent.dataset.truckCarousel = modelName;\n    tabContent.dataset.truckColor = color;\n    tabContent.innerHTML = getTabContentTemplate({ modelName, description });\n\n    const imageBreakpoints = [\n      {\n        src: desktopImage?.src,\n        width: desktopImage?.width,\n        height: desktopImage?.height,\n        media: '(min-width: 1200px)',\n      },\n      {\n        src: mobileImage.src,\n        width: mobileImage?.width,\n        height: mobileImage?.height,\n        media: '(min-width: 400px)',\n      },\n    ];\n\n    tabContent.prepend((0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_2__.createCustomOptimizedPicture)(mobileImage?.src, mobileImage?.alt, false, imageBreakpoints));\n\n    models.push(tabContent);\n  });\n\n  if (models.length > 0) {\n    const lineupWrapper = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: 'v2-truck-lineup-wrapper' });\n    const truckLineupBlock = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.buildBlock)('v2-truck-lineup', [models]);\n\n    block.replaceWith(lineupWrapper.appendChild(truckLineupBlock));\n\n    (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.decorateIcons)(truckLineupBlock);\n    (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.decorateBlock)(truckLineupBlock);\n  }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-dynamic-truck-lineup/v2-dynamic-truck-lineup.js?\n}")},"./blocks/v2-embed/v2-embed.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/video-helper.js */ \"./scripts/video-helper.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\nconst blockName = 'v2-embed';\nconst videoEventManager = new _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.VideoEventManager();\n\nclass VideoComponent {\n  constructor(videoId) {\n    this.videoId = videoId;\n\n    videoEventManager.register(this.videoId, blockName, (event) => (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.handleVideoMessage)(event, this.videoId, blockName));\n  }\n\n  unregister() {\n    videoEventManager.unregister(this.videoId, blockName);\n  }\n}\n\nconst extractAspectRatio = (block) => {\n  const aspectRatioRegex = /aspect-ratio-(\\d+)-(\\d+)/;\n  const aspectRatioClass = Array.from(block.classList).find((className) => aspectRatioRegex.test(className));\n\n  const match = aspectRatioClass?.match(aspectRatioRegex);\n\n  return match\n    ? {\n        width: parseInt(match[1], 10),\n        height: parseInt(match[2], 10),\n      }\n    : null;\n};\n\nconst retrieveVideoConfig = (block, aspectRatio) => {\n  const image = block.querySelector('img');\n  const poster = image ? new URL(image.getAttribute('src'), window.location.href).href : undefined;\n\n  return {\n    ...(aspectRatio ? { aspectRatio: `${aspectRatio.width}:${aspectRatio.height}` } : {}),\n    ...(poster ? { poster } : {}),\n    autoplay: block.classList.contains('autoplay') ? 'any' : false,\n    muted: block.classList.contains('autoplay'),\n    loop: block.classList.contains('loop'),\n    controls: !block.classList.contains('disable-controls'),\n    disablePictureInPicture: block.classList.contains('disable-picture-in-picture'),\n    language: document.documentElement.lang,\n  };\n};\n\nconst configureVideo = (block, videoId) => {\n  const config = retrieveVideoConfig(block);\n  Object.entries(config).forEach(([key, value]) => {\n    if (value !== undefined) {\n      (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.addVideoConfig)(videoId, { [key]: value });\n    }\n  });\n};\n\nfunction decorate(block) {\n  const linkElement = block.querySelector('a');\n  const link = linkElement?.getAttribute('href');\n  const title = linkElement?.textContent;\n  const match = link?.match(_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.AEM_ASSETS.videoIdRegex);\n\n  if (!link) {\n    console.warn(`[${blockName}]: There is no video link`);\n    return;\n  }\n\n  if (!match) {\n    console.warn(`[${blockName}]: Video link is incorrect: ${link}`);\n    return;\n  }\n\n  const [videoId] = match;\n  block.videoId = videoId;\n\n  const aspectRatio = extractAspectRatio(block);\n  if (aspectRatio) {\n    block.style.setProperty('--video-aspect-ratio', `${aspectRatio.width}/${aspectRatio.height}`);\n  }\n\n  const videoConfig = retrieveVideoConfig(block, aspectRatio);\n  const videoProps = {\n    ...videoConfig,\n    fill: true,\n    title,\n  };\n\n  configureVideo(block, videoId);\n\n  new VideoComponent(block.videoId);\n  const videoElement = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.createVideo)(link, `${blockName}__frame`, videoProps, false, videoId);\n\n  block.innerHTML = '';\n  block.append(videoElement);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-embed/v2-embed.js?\n}")},"./blocks/v2-event-notify/v2-event-notify.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_async_dependencies_result__[0];\n\n\n\nconst blockName = 'v2-event-notify';\n\nlet successText;\nlet errorText;\n\n// Convert date to ICS format (e.g., 20231210T120000Z)\nfunction formatDateToICS(date) {\n  return date\n    .toISOString()\n    .replace(/[-:]/g, '')\n    .replace(/\\.\\d{3}/, '');\n}\n\n// Generate UID (e.g., 20231210T120000Z-sdfijk@exmaple.com)\nfunction generateUID() {\n  const timestamp = formatDateToICS(new Date());\n  const uniqueString = Math.random().toString(36).substr(2, 6);\n  const domain = window.location.hostname;\n  return `${timestamp}-${uniqueString}@${domain}`;\n}\n\nfunction generateICS(event) {\n  if (!event.summary || !event.startDate || !event.endDate || !event.description) {\n    throw new Error('Missing required event details');\n  }\n  const icsData = [\n    'BEGIN:VCALENDAR',\n    'VERSION:2.0',\n    'PRODID:-//Volvo Trucks//Volvo Trucks US website//EN',\n    `UID:${generateUID()}`,\n    'BEGIN:VEVENT',\n    `SUMMARY:${event.summary}`,\n    `DTSTART:${formatDateToICS(event.startDate)}`,\n    `DTEND:${formatDateToICS(event.endDate)}`,\n    `DESCRIPTION:${event.description}`,\n    `LOCATION:${event.location}`,\n    'END:VEVENT',\n    'END:VCALENDAR',\n  ].join('\\r\\n');\n  return icsData;\n}\n\nfunction downloadICSFile(icsData, filename) {\n  const blob = new Blob([icsData], { type: 'text/calendar' });\n  const url = URL.createObjectURL(blob);\n  const link = document.createElement('a');\n  link.href = url;\n  link.download = filename;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n  URL.revokeObjectURL(url);\n}\n\nconst onSuccess = async (calendarEventData) => {\n  (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.sampleRUM)('form:submit');\n  const block = document.querySelector(`.${blockName}__container`);\n  const addToEventButton = block.querySelector('.event-notify__add-event-button').cloneNode(true);\n\n  block.innerHTML = '';\n  const buttonWrapper = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: `${blockName}__button-wrapper` });\n  addToEventButton.addEventListener('click', () => {\n    const icsFileContent = generateICS(calendarEventData);\n    downloadICSFile(icsFileContent, `${calendarEventData.fileName}.ics`);\n  });\n\n  buttonWrapper.append(addToEventButton);\n  block.append(successText, buttonWrapper);\n};\n\nconst onError = (error) => {\n  console.error(error);\n\n  const block = document.querySelector(`.${blockName}__container`);\n\n  block.innerHTML = '';\n  block.append(errorText);\n};\n\nasync function decorate(block) {\n  const rows = [...block.querySelectorAll(':scope > div')];\n\n  const contentData = rows.reduce((data, row) => {\n    const [name, content] = row.querySelectorAll(':scope > div');\n    const key = name.innerText.toLowerCase().trim();\n\n    return { ...data, [key]: content };\n  }, {});\n\n  const formLink = contentData.link.innerText.trim();\n  const beforeFormText = contentData['before form'];\n  const policyText = contentData.policy;\n  errorText = contentData['error message'];\n  errorText.classList.add(`${blockName}__message-text`);\n  successText = contentData['success message'];\n  successText.classList.add(`${blockName}__message-text`);\n\n  // Calendar event meta data\n  const blockSection = block.parentElement?.parentElement;\n  const calendarEventData = {\n    fileName: blockSection?.dataset.eventFileName,\n    summary: blockSection?.dataset.eventSummary,\n    startDate: new Date(blockSection?.dataset.eventStartDate),\n    endDate: new Date(blockSection?.dataset.eventEndDate),\n    description: blockSection?.dataset.eventDescription,\n    location: blockSection?.dataset.eventLocation,\n  };\n\n  window.logResult = function logResult(json) {\n    if (json.result === 'success') {\n      onSuccess(calendarEventData);\n    } else if (json.result === 'error') {\n      onError(json.log);\n    }\n  };\n\n  const container = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: `${blockName}__container` });\n  const formContainer = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: `${blockName}__form-container` });\n  const form = document.createRange().createContextualFragment(`\n    <div class=\"v2-forms block\" data-block-name=\"v2-forms\" data-block-status=\"\">\n      <div>\n        <div>event-notify</div>\n      </div>\n      <div>\n        <div>${formLink}</div>\n      </div>\n    </div>`);\n\n  if (beforeFormText) {\n    container.append(beforeFormText);\n    beforeFormText.classList.add(`${blockName}__text-wrapper`);\n\n    const headingSelector = 'h1, h2, h3, h4, h5, h6';\n    const headings = [\n      ...beforeFormText.querySelectorAll(headingSelector),\n      ...errorText.querySelectorAll(headingSelector),\n      ...successText.querySelectorAll(headingSelector),\n    ];\n    headings.forEach((heading) => heading.classList.add(`${blockName}__title`));\n  }\n  formContainer.append(...form.children);\n  container.appendChild(formContainer);\n\n  block.replaceWith(container);\n\n  // we can inject the policy content when form content loaded\n  const observer = new MutationObserver((mutations) => {\n    mutations.forEach((mutation) => {\n      const formRef = [...mutation.addedNodes];\n      const formContainerEl = formRef.find((el) => el instanceof Element && el.classList.contains('v2-forms__container'));\n\n      if (!formContainerEl) {\n        return;\n      }\n\n      if (formContainerEl.getAttribute('data-initialized') === 'true') {\n        observer.disconnect();\n        formContainerEl.querySelector('form')?.reset();\n\n        return;\n      }\n\n      const policyEl = formContainerEl.querySelector('.event-notify__policy');\n      const calendarButtonEl = formContainerEl.querySelector('.event-notify__add-event-button');\n\n      policyEl.append(policyText);\n      calendarButtonEl.addEventListener('click', () => {\n        const icsFileContent = generateICS(calendarEventData);\n        downloadICSFile(icsFileContent, `${calendarEventData.fileName}.ics`);\n      });\n\n      const link = policyEl.querySelector('a');\n      link.removeAttribute('class');\n\n      observer.disconnect();\n      formContainerEl.setAttribute('data-initialized', 'true');\n    });\n  });\n\n  observer.observe(container, {\n    childList: true,\n    attributes: false,\n    subtree: true,\n  });\n\n  await (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.loadBlock)(formContainer.firstElementChild);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-event-notify/v2-event-notify.js?\n}")},"./blocks/v2-feature-carousel/v2-feature-carousel.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\nconst blockname = 'v2-feature-carousel';\n\nfunction decorate(block) {\n  const cardsWraper = block.querySelector('ul');\n  cardsWraper.classList.add(`${blockname}__cards-list`);\n  block.innerHTML = '';\n  block.append(cardsWraper);\n\n  [...cardsWraper.querySelectorAll('li')].forEach((el) => {\n    el.classList.add(`${blockname}__card`);\n    const text = el.lastChild;\n    const textwrapper = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('span', { classes: `${blockname}__text` });\n    textwrapper.textContent = text.textContent;\n    el.append(textwrapper);\n    text.remove();\n  });\n\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.removeEmptyTags)(block);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-feature-carousel/v2-feature-carousel.js?\n}")},"./blocks/v2-forms/forms lazy recursive ^\\.\\/.*\\.js$":(module,__unused_webpack_exports,__webpack_require__)=>{eval('{var map = {\n\t"./event-notify.js": [\n\t\t"./blocks/v2-forms/forms/event-notify.js",\n\t\t"blocks_v2-forms_forms_event-notify_js"\n\t],\n\t"./subscribe.js": [\n\t\t"./blocks/v2-forms/forms/subscribe.js",\n\t\t"blocks_v2-forms_forms_subscribe_js"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error("Cannot find module \'" + req + "\'");\n\t\t\te.code = \'MODULE_NOT_FOUND\';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = "./blocks/v2-forms/forms lazy recursive ^\\\\.\\\\/.*\\\\.js$";\nmodule.exports = webpackAsyncContext;\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-forms/forms/_lazy_^\\.\\/.*\\.js$_namespace_object?\n}')},"./blocks/v2-forms/v2-forms.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_async_dependencies_result__[0];\n\n\n\n// cache contains the form element that should be reused\nconst formCache = new Map();\n\nconst blockName = 'v2-forms';\n\nfunction serialize(obj) {\n  const str = Object.keys(obj).map((key) => `${encodeURIComponent(key)}=${encodeURIComponent(obj[key])}`);\n  return str.join('&');\n}\n\nfunction constructPayload(form) {\n  const payload = {};\n  [...form.elements].forEach((fe) => {\n    if (fe.name) {\n      if (fe.type === 'radio') {\n        if (fe.checked) {\n          payload[fe.name] = fe.value;\n        }\n      } else if (fe.type === 'checkbox') {\n        if (fe.checked) {\n          payload[fe.name] = payload[fe.name] ? `${payload[fe.name]},${fe.value}` : fe.value;\n        }\n      } else if (fe.type !== 'file') {\n        payload[fe.name] = fe.value;\n      }\n    }\n  });\n  payload.callback = 'logResult';\n  return { payload };\n}\n\nasync function prepareRequest(form) {\n  const { payload } = constructPayload(form);\n  const url = form.dataset.action;\n\n  const serializedData = serialize(payload);\n\n  return (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.loadScript)(`${url}?${serializedData}`, { type: 'text/javascript', charset: 'UTF-8' });\n}\n\nasync function handleSubmit(form) {\n  if (form.getAttribute('data-submitting') !== 'true') {\n    form.setAttribute('data-submitting', 'true');\n    try {\n      await prepareRequest(form);\n    } catch (error) {\n      window.logResult({ result: 'success', log: error });\n    }\n  }\n}\n\nconst addForm = async (block) => {\n  const displayValue = block.style.display;\n  block.style.display = 'none';\n\n  let formContent;\n  const formName = block.firstElementChild.innerText.trim();\n  const formAction = block.firstElementChild.nextElementSibling.innerText.trim();\n\n  try {\n    formContent = await __webpack_require__(\"./blocks/v2-forms/forms lazy recursive ^\\\\.\\\\/.*\\\\.js$\")(`./${formName}.js`);\n  } catch (error) {\n    console.error(error);\n  }\n\n  if (!formContent) {\n    return;\n  }\n\n  const form = document.createRange().createContextualFragment(`\n    <form\n      method=\"post\"\n      name=\"form-${formName}\"\n      action=\"${formAction}\"\n    >${formContent.default}\n\n      <div style=\"position:absolute; left:-9999px; top: -9999px;\" aria-hidden=\"true\">\n        <label for=\"form_extra_field\">Comments</label>\n        <input type=\"text\" id=\"form_extra_field\" name=\"form_extra_field\" />\n      </div>\n    </form>\n  `);\n\n  if (formCache.get(formName)) {\n    const cachedForm = formCache.get(formName);\n    block.replaceWith(cachedForm);\n    block.style.display = displayValue;\n    return;\n  }\n\n  const formWrapper = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: `${blockName}__container` });\n  formWrapper.append(form);\n  block.innerText = '';\n  block.append(formWrapper);\n  formCache.set(formName, formWrapper);\n\n  block.style.display = displayValue;\n\n  const formObj = block.querySelector('form');\n\n  formObj.addEventListener('submit', (e) => {\n    if (formContent.onSubmit) {\n      e.preventDefault();\n      formObj.dataset.action = e.currentTarget.action;\n      formContent.onSubmit(formObj, handleSubmit);\n    }\n\n    let isValid = true;\n    if (formObj.hasAttribute('novalidate')) {\n      isValid = formObj.checkValidity();\n    }\n    e.preventDefault();\n    if (isValid) {\n      e.submitter.setAttribute('disabled', '');\n      formObj.dataset.action = e.currentTarget.action;\n\n      handleSubmit(formObj);\n    }\n  });\n\n  formContent.postLoad?.(formObj);\n};\n\nasync function decorate(block) {\n  const observer = new IntersectionObserver(\n    (entries) => {\n      if (entries.some((e) => e.isIntersecting)) {\n        observer.disconnect();\n        addForm(block);\n      }\n    },\n    {\n      rootMargin: '300px',\n    },\n  );\n  observer.observe(block);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-forms/v2-forms.js?\n}")},"./blocks/v2-hero-reveal/v2-hero-reveal.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _scripts_scripts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../scripts/scripts.js */ \"./scripts/scripts.js\");\n/* harmony import */ var _v2_hero_v2_hero_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../v2-hero/v2-hero.js */ \"./blocks/v2-hero/v2-hero.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__, _scripts_scripts_js__WEBPACK_IMPORTED_MODULE_2__, _v2_hero_v2_hero_js__WEBPACK_IMPORTED_MODULE_3__]);\n([_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__, _scripts_scripts_js__WEBPACK_IMPORTED_MODULE_2__, _v2_hero_v2_hero_js__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\nfunction buildRevealHero(innerBlockCode, v2HeroRevealBlockClassList) {\n  return getV2HeroBlockCode(innerBlockCode, v2HeroRevealBlockClassList);\n}\n\nfunction isCountDownFinished(eventTime) {\n  const now = new Date();\n  const diff = eventTime - now;\n\n  return diff <= 0;\n}\n\nfunction getV2HeroBlockCode(innerBlockCode, v2HeroRevealBlockClassList) {\n  const block = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: ['v2-hero', 'block'], props: { 'data-block-name': 'v2-hero', 'data-block-status': 'initialized' } });\n  const providedVariantClasses = Array.from(v2HeroRevealBlockClassList).filter((className) => _v2_hero_v2_hero_js__WEBPACK_IMPORTED_MODULE_3__.variantClasses.includes(className));\n\n  block.append(innerBlockCode);\n\n  block.classList.add(...providedVariantClasses);\n\n  return block;\n}\n\nfunction validateBlockConfiguration(blockRows) {\n  if (blockRows.length !== 2) {\n    console.warn('V2 Hero Reveal block: Block misconfigured, please provide Countdown and Reveal Hero blocks.');\n    return false;\n  }\n  return true;\n}\n\nfunction validateHeroBlocks(preRevealCountdownHeroBlock, revealHeroBlock) {\n  if (!preRevealCountdownHeroBlock || !revealHeroBlock) {\n    console.warn('V2 Hero Reveal block: Countdown and Reveal Hero blocks not provided.');\n    return false;\n  }\n  return true;\n}\n\nfunction validateRevealDate(revealEventTimeIso) {\n  if (!revealEventTimeIso) {\n    console.warn('V2 Hero Reveal block: Reveal date not provided in the Section Metadata.');\n    return false;\n  }\n\n  if (isNaN(new Date(revealEventTimeIso))) {\n    console.warn('V2 Hero Reveal block: Reveal date invalid.');\n    return false;\n  }\n  return true;\n}\n\nfunction initializeHeroBlock(preRevealCountdownHeroBlock, revealHeroBlock, eventTime, blockClassList) {\n  let v2HeroBlock;\n\n  if (isCountDownFinished(eventTime)) {\n    v2HeroBlock = buildRevealHero(revealHeroBlock, blockClassList);\n  } else {\n    v2HeroBlock = buildRevealHero(preRevealCountdownHeroBlock, blockClassList);\n\n    const intervalId = setInterval(() => {\n      if (isCountDownFinished(eventTime)) {\n        const newV2HeroBlock = buildRevealHero(revealHeroBlock, blockClassList);\n\n        v2HeroBlock.replaceWith(newV2HeroBlock);\n        (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.loadBlock)(newV2HeroBlock);\n        (0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_2__.decorateLinks)(newV2HeroBlock);\n        clearInterval(intervalId);\n      }\n    }, 500);\n  }\n\n  return v2HeroBlock;\n}\n\nfunction decorate(block) {\n  const blockRows = block.querySelectorAll(':scope > div');\n\n  if (!validateBlockConfiguration(blockRows)) {\n    return;\n  }\n\n  const preRevealCountdownHeroBlock = blockRows[0]?.cloneNode(true);\n  const revealHeroBlock = blockRows[1]?.cloneNode(true);\n\n  if (!validateHeroBlocks(preRevealCountdownHeroBlock, revealHeroBlock)) {\n    return;\n  }\n\n  const blockSection = block.parentElement?.parentElement;\n  const revealEventTimeIso = blockSection?.dataset?.revealDate;\n\n  if (!validateRevealDate(revealEventTimeIso)) {\n    return;\n  }\n\n  const eventTime = new Date(revealEventTimeIso);\n  const blockClassList = block.classList;\n\n  const v2HeroBlock = initializeHeroBlock(preRevealCountdownHeroBlock, revealHeroBlock, eventTime, blockClassList);\n\n  (0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_2__.decorateLinks)(v2HeroBlock);\n  block.replaceWith(v2HeroBlock);\n  (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.loadBlock)(v2HeroBlock);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (decorate);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-hero-reveal/v2-hero-reveal.js?\n}")},"./blocks/v2-hero/v2-hero.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   variantClasses: () => (/* binding */ variantClasses)\n/* harmony export */ });\n/* harmony import */ var _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/video-helper.js */ \"./scripts/video-helper.js\");\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__]);\n([_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst variantClasses = [\n  'centered',\n  'left-center',\n  'center-bottom',\n  'left',\n  'dark',\n  'background-right',\n  'compact',\n  'background-transparent',\n  'marketing',\n];\nlet intervalId = null;\nconst blockName = 'v2-hero';\n\nfunction updateCountdownElement(block, elementId, value, label) {\n  const element = block.querySelector(`#${elementId}`);\n  element.textContent = value.toString().padStart(2, '0');\n  element.nextElementSibling.textContent = label;\n}\n\nfunction updateCountdown(eventTime, block) {\n  const now = new Date();\n  const diff = eventTime - now;\n\n  // Check if the event time has passed\n  if (diff <= 0) {\n    block.querySelector(`.${blockName}__countdown-wrapper`)?.remove();\n    clearInterval(intervalId);\n    return;\n  }\n\n  // Calculate time left\n  const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n  const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n  const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\n  const seconds = Math.floor((diff % (1000 * 60)) / 1000);\n\n  // Format labels\n  const dayLabel = days === 1 ? (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('v2_hero:day') : `${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('v2_hero:day')}s`;\n  const hourLabel = hours === 1 ? (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('v2_hero:hour') : `${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('v2_hero:hour')}s`;\n  const minuteLabel = minutes === 1 ? (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('v2_hero:minute') : `${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('v2_hero:minute')}s`;\n  const secondLabel = seconds === 1 ? (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('v2_hero:second') : `${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('v2_hero:second')}s`;\n\n  updateCountdownElement(block, 'days', days, dayLabel);\n  updateCountdownElement(block, 'hours', hours, hourLabel);\n  updateCountdownElement(block, 'minutes', minutes, minuteLabel);\n  updateCountdownElement(block, 'seconds', seconds, secondLabel);\n}\n\nconst processVideoLink = (block, link) => {\n  const linkText = link.innerText.trim().toLowerCase();\n\n  if (linkText === 'background') {\n    const video = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.createVideo)(link.getAttribute('href'), `${blockName}__video`, {\n      muted: true,\n      autoplay: true,\n      loop: true,\n      playsinline: true,\n    });\n    block.prepend(video);\n    link.remove();\n  }\n};\n\nfunction decorate(block) {\n  // add Hero variant classnames\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.variantsClassesToBEM)(block.classList, variantClasses, blockName);\n\n  const isCompact = block.classList.contains(`${blockName}--compact`);\n  const picture = block.querySelector('picture');\n\n  const links = block.querySelectorAll('a');\n  if (links) {\n    links.forEach((link) => {\n      const isVideo = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.isVideoLink)(link);\n      if (isVideo) {\n        processVideoLink(block, link);\n      }\n    });\n  }\n\n  if (picture) {\n    const img = picture.querySelector('img');\n    img.classList.add(`${blockName}__image`);\n    if (picture.parentElement.tagName === 'P') {\n      picture.parentElement.remove();\n    }\n    block.prepend(picture);\n  }\n\n  const contentWrapper = block.querySelector(':scope > div:last-of-type');\n  contentWrapper.classList.add(`${blockName}__content-wrapper`);\n\n  const content = block.querySelector(':scope > div > div');\n  content.classList.add(`${blockName}__content`);\n\n  // Countdown timer\n  const blockSection = block.parentElement?.parentElement;\n  if (blockSection && blockSection.dataset?.countdownDate) {\n    const countDownWrapper = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: `${blockName}__countdown-wrapper` });\n    countDownWrapper.innerHTML = `<div class=\"${blockName}__countdown\">\n  <div class=\"${blockName}__countdown-segment\">\n    <div id=\"days\" class=\"${blockName}__countdown-number\">00</div>\n    <div class=\"${blockName}__countdown-label\">Days</div>\n  </div>\n  <div class=\"${blockName}__countdown-segment\">\n    <div id=\"hours\" class=\"${blockName}__countdown-number\">00</div>\n    <div class=\"${blockName}__countdown-label\">Hours</div>\n  </div>\n  <div class=\"${blockName}__countdown-segment\">\n    <div id=\"minutes\" class=\"${blockName}__countdown-number\">00</div>\n    <div class=\"${blockName}__countdown-label\">Minutes</div>\n  </div>\n  <div class=\"${blockName}__countdown-segment\">\n    <div id=\"seconds\" class=\"${blockName}__countdown-number\">00</div>\n    <div class=\"${blockName}__countdown-label\">Seconds</div>\n  </div>\n</div>`;\n    content.prepend(countDownWrapper);\n\n    const eventTimeIso = blockSection.dataset.countdownDate;\n    const eventTime = new Date(eventTimeIso);\n    updateCountdown(eventTime, block);\n    intervalId = setInterval(() => {\n      updateCountdown(eventTime, block);\n    }, 1000);\n  }\n\n  // convert all headings to h1\n  const headings = [...content.querySelectorAll('h1, h2, h3, h4, h5, h6')];\n  headings.forEach((heading) => {\n    if (heading.tagName !== 'H1') {\n      const h1 = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('h1', { classes: `${blockName}__title` });\n      h1.setAttribute('id', heading.getAttribute('id'));\n      h1.innerHTML = heading.innerHTML;\n      heading.parentNode.replaceChild(h1, heading);\n    } else {\n      heading.classList.add(`${blockName}__title`);\n    }\n  });\n\n  // render all paragraph as H6 with the class\n  const paragraphs = [...content.querySelectorAll('p')];\n  paragraphs.forEach((paragraph) => paragraph.classList.add('h6'));\n\n  const buttonsWrapper = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: `${blockName}__buttons-wrapper` });\n  const ctaButtons = content.querySelectorAll('.button-container > a');\n  [...ctaButtons].forEach((b) => {\n    if (block.classList.contains(`${blockName}--dark`)) {\n      b.classList.add('dark');\n    }\n\n    b.parentElement.remove();\n    buttonsWrapper.appendChild(b);\n  });\n  content.appendChild(buttonsWrapper);\n\n  if (!isCompact) {\n    const scrollIcon = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: `${blockName}__scroll-icon` });\n    block.append(scrollIcon);\n  }\n\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.removeEmptyTags)(content);\n\n  block.parentElement.classList.add('full-width');\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (decorate);\n\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-hero/v2-hero.js?\n}")},"./blocks/v2-iframe/v2-iframe.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\nasync function decorate(block) {\n  let link = block.querySelector('a')?.getAttribute('href') || block.textContent.trim();\n\n  function removeDuplicateParams(queryString) {\n    const params = new URLSearchParams(queryString);\n    const uniqueParams = new URLSearchParams();\n\n    params.forEach((value, key) => {\n      if (!uniqueParams.has(key)) {\n        uniqueParams.append(key, value);\n      }\n    });\n\n    return uniqueParams.toString();\n  }\n\n  link += window.location.search ? `#/summary/?${removeDuplicateParams(window.location.search)}` : '';\n  if (!window.location.search && window.location.hash) {\n    link += window.location.hash;\n  }\n  const title = block.querySelector('h1, h2, h3, h4, h5, h6').textContent;\n  const iframe = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('iframe', {\n    props: {\n      src: link,\n      frameborder: 0,\n      title,\n      allow: 'clipboard-write',\n    },\n  });\n  const fixedHeightClass = [...block.classList].find((el) => /[0-9]+px/.test(el));\n\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.variantsClassesToBEM)(block.classList, ['full-viewport'], 'v2-iframe');\n\n  if (fixedHeightClass) {\n    iframe.height = fixedHeightClass;\n  }\n\n  block.replaceChildren(iframe);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-iframe/v2-iframe.js?\n}")},"./blocks/v2-inpage-navigation/v2-inpage-navigation.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_async_dependencies_result__[0];\n\n\n\nconst blockName = 'v2-inpage-navigation';\nconst CTA_METADATA_PAIRS = [\n  { labelKey: 'inpage-primary-button', urlKey: 'inpage-primary-link', variant: 'marketing' },\n  { labelKey: 'inpage-secondary-button', urlKey: 'inpage-secondary-link', variant: 'secondary' },\n];\nconst HERO_CTA_SELECTOR = '.v2-hero--marketing .v2-hero__buttons-wrapper';\nconst FLOATING_VISIBLE_CLASS = `${blockName}__cta-floating--visible`;\nlet cachedHeroCTAPromise;\n\n/**\n * Creates a CTA <a> element for the in-page navigation block.\n *\n * @param {string} label   - Text for the button.\n * @param {string} url     - Link target (href).\n * @param {string} variant - Visual style (\"marketing\", \"secondary\").\n * @returns {HTMLAnchorElement} The generated CTA element.\n */\nconst createInpageNavigationButton = (label, url, variant) =>\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('a', {\n    classes: [\n      'button',\n      variant,\n      `${blockName}__marketing`,\n    ],\n    props: { href: url, title: label },\n  });\n\n/**\n * Creates CTA buttons for the in-page navigation using configured metadata.\n *\n * @returns {HTMLAnchorElement[]} Array of generated CTA links.\n */\nconst getInpageNavigationButtons = () =>\n  CTA_METADATA_PAIRS\n    .map(({ labelKey, urlKey, variant }) => {\n      const label = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.getMetadata)(labelKey);\n      const url = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.getMetadata)(urlKey);\n\n      if (!label || !url) {return null;}\n\n      const button = createInpageNavigationButton(label, url, variant);\n      button.textContent = label;\n      return button;\n    })\n    .filter(Boolean);\n\n/**\n * Determines whether a hero CTA wrapper exists.\n *\n * - Resolves immediately if already in the DOM.\n * - Otherwise waits up to 2s for late DOM injection.\n * - Caches the result, but can refresh if a previous lookup resolved false.\n *\n * @param {boolean} [forceFresh=false] - Re-checks DOM if last result was false.\n * @returns {Promise<boolean>} Resolves true if hero CTA exists, otherwise false.\n */\nconst waitForHeroCTA = (forceFresh = false) => {\n  if (forceFresh && cachedHeroCTAPromise) {\n    return cachedHeroCTAPromise.then((value) => {\n      if (value === false) {\n        cachedHeroCTAPromise = null;\n        return waitForHeroCTA(false);\n      }\n      return value;\n    });\n  }\n\n  if (cachedHeroCTAPromise) { return cachedHeroCTAPromise; }\n\n  cachedHeroCTAPromise = new Promise((resolve) => {\n    if (document.querySelector(HERO_CTA_SELECTOR)) {\n      resolve(true);\n      return;\n    }\n\n    const observer = new MutationObserver(() => {\n      if (document.querySelector(HERO_CTA_SELECTOR)) {\n        observer.disconnect();\n        resolve(true);\n      }\n    });\n\n    observer.observe(document.body, { childList: true, subtree: true });\n\n    setTimeout(() => {\n      observer.disconnect();\n      resolve(false);\n    }, 2000);\n  });\n\n  return cachedHeroCTAPromise;\n};\n\n/**\n * Returns true only if this page needs a floating CTA container.\n * Floating CTAs are required only when:\n * - 1 or 2 CTAs exist AND\n * - A hero CTA exists (hero marketing variant)\n *\n * @param {number} ctaCount\n * @returns {Promise<boolean>}\n */\nconst shouldUseFloatingCtas = async (ctaCount) => {\n  if (ctaCount === 0) { return false; }\n  return waitForHeroCTA();\n};\n\n/**\n * Returns the floating CTA container, creating it if needed.\n *\n * @returns {HTMLElement} The floating CTA wrapper element.\n */\nconst ensureFloatingCTAContainer = () => {\n  const existing = document.querySelector(`.${blockName}__cta-floating`);\n  if (existing) {return existing;}\n\n  const container = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', {\n    classes: `${blockName}__cta-floating`,\n  });\n\n  document.body.appendChild(container);\n  return container;\n};\n\n/**\n * Recalculates whether the floating CTA should be visible.\n * Desktop  always hidden.\n * Mobile  visible only when hero CTA is NOT visible.\n */\nconst recalcHeroCTAVisibility = (floatingContainer) => {\n  if (!floatingContainer) {return;}\n\n  if (!(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.isMobileViewport)()) {\n    floatingContainer.classList.remove(FLOATING_VISIBLE_CLASS);\n    return;\n  }\n\n  const heroCTAWrapper = document.querySelector(HERO_CTA_SELECTOR);\n  if (!heroCTAWrapper) {\n    floatingContainer.classList.remove(FLOATING_VISIBLE_CLASS);\n    return;\n  }\n\n  const rect = heroCTAWrapper.getBoundingClientRect();\n  const viewportHeight = window.innerHeight;\n  const heroIsIntersecting = rect.top < viewportHeight && rect.bottom > 0;\n  updateFloatingCTAVisibility(floatingContainer, heroIsIntersecting);\n};\n\n/**\n * Shows or hides the floating CTA container.\n *\n * @param {HTMLElement} container - The floating CTA wrapper.\n * @param {boolean} isVisible - Whether the hero CTA is visible in the viewport.\n */\nconst updateFloatingCTAVisibility = (container, isVisible) => {\n  container.classList.toggle(FLOATING_VISIBLE_CLASS, !isVisible);\n};\n\n/**\n * Moves CTA buttons between the top container and the floating container.\n * If floatingContainer is null, CTAs always remain in the top container.\n *\n * @param {HTMLElement[]} ctaButtons\n * @param {HTMLElement} topContainer\n * @param {HTMLElement|null} floatingContainer\n */\nconst moveCTAButtons = (ctaButtons, topContainer, floatingContainer) => {\n  if (!ctaButtons.length) { return; }\n\n  if (!floatingContainer) {\n    ctaButtons.forEach((btn) => {\n      if (!topContainer.contains(btn)) { topContainer.appendChild(btn); }\n    });\n    return;\n  }\n\n  waitForHeroCTA().then((heroExists) => {\n    const isMobile = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.isMobileViewport)();\n\n    if (!heroExists) {\n      ctaButtons.forEach((btn) => {\n        if (!topContainer.contains(btn)) { topContainer.appendChild(btn); }\n      });\n      floatingContainer.classList.remove(FLOATING_VISIBLE_CLASS);\n      return;\n    }\n\n    if (isMobile) {\n      ctaButtons.forEach((btn) => {\n        if (!floatingContainer.contains(btn)) { floatingContainer.appendChild(btn); }\n      });\n    } else {\n      ctaButtons.forEach((btn) => {\n        if (!topContainer.contains(btn)) { topContainer.appendChild(btn); }\n      });\n      floatingContainer.classList.remove(FLOATING_VISIBLE_CLASS);\n    }\n  });\n};\n\n/**\n * Attaches a new IntersectionObserver to the hero CTA wrapper\n * (mobile only). Replaces any previously active observer.\n *\n * @param {HTMLElement} heroCTAWrapper\n * @param {HTMLElement} floatingContainer\n */\nconst setupHeroVisibilityObserver = (heroCTAWrapper, floatingContainer) => {\n  // Disconnect previous observer, if any\n  if (observeHeroCTAVisibility._observer) {\n    observeHeroCTAVisibility._observer.disconnect();\n  }\n\n  if (!(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.isMobileViewport)()) { return; }\n\n  const observer = new IntersectionObserver(\n    (entries) => {\n      const entry = entries[0];\n      if (!floatingContainer.children.length) { return; }\n      updateFloatingCTAVisibility(floatingContainer, entry.isIntersecting);\n    },\n    { threshold: 0.1 },\n  );\n\n  observer.observe(heroCTAWrapper);\n  observeHeroCTAVisibility._observer = observer;\n\n  // Hide floating CTA until first intersection callback runs\n  floatingContainer.classList.remove(FLOATING_VISIBLE_CLASS);\n};\n\n/**\n * Sets up an IntersectionObserver immediately if the hero CTA exists.\n *\n * @param {HTMLElement} floatingContainer\n */\nconst activateHeroObserverIfNeeded = (floatingContainer) => {\n  const wrapper = document.querySelector(HERO_CTA_SELECTOR);\n  if (wrapper) {\n    setupHeroVisibilityObserver(wrapper, floatingContainer);\n  }\n};\n\n/**\n * Main handler: tracks hero CTA visibility on mobile.\n * Falls back to MutationObserver if the hero block loads late,\n * and re-evaluates on viewport resizing.\n *\n * @param {HTMLElement} floatingContainer\n */\nconst observeHeroCTAVisibility = (floatingContainer) => {\n  if (!floatingContainer) { return; }\n\n  activateHeroObserverIfNeeded(floatingContainer);\n\n  // Observe late hero CTA injection\n  const mo = new MutationObserver(() => {\n    const wrapper = document.querySelector(HERO_CTA_SELECTOR);\n    if (wrapper) {\n      mo.disconnect();\n      setupHeroVisibilityObserver(wrapper, floatingContainer);\n    }\n  });\n\n  mo.observe(document.body, { childList: true, subtree: true });\n\n  // Stop mutation observer after a short window\n  setTimeout(() => mo.disconnect(), 2000);\n\n  // Re-create observer on viewport changes\n  window.addEventListener(\n    'resize',\n    (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.debounce)(() => {\n      activateHeroObserverIfNeeded(floatingContainer);\n    }),\n  );\n};\n\n/**\n * Creates and appends the top CTA container inside the block wrapper.\n *\n * @param {HTMLElement} wrapper - The in-page navigation block wrapper.\n * @returns {HTMLElement} The created CTA container.\n */\nconst createCtaContainer = (wrapper) => {\n  const ctaContainer = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', {\n    classes: `${blockName}__cta-container`,\n  });\n\n  wrapper.appendChild(ctaContainer);\n  return ctaContainer;\n};\n\n/**\n * Initializes CTA placement logic for the in-page navigation block.\n * Creates floating CTA behavior only for variants that require it.\n *\n * @param {HTMLAnchorElement[]} ctaButtons - CTA buttons configured via metadata.\n * @param {HTMLElement} ctaContainer - The static CTA container inside the block.\n */\nconst setupInpageCtas = async (ctaButtons, ctaContainer) => {\n  if (!ctaButtons.length) { return; }\n\n  const useFloating = await shouldUseFloatingCtas(ctaButtons.length);\n  const floatingContainer = useFloating\n    ? ensureFloatingCTAContainer()\n    : null;\n\n  // Initial placement (always start at top)\n  ctaButtons.forEach((btn) => ctaContainer.appendChild(btn));\n\n  if (!useFloating) { return; }\n\n  moveCTAButtons(ctaButtons, ctaContainer, floatingContainer);\n  observeHeroCTAVisibility(floatingContainer);\n\n  window.addEventListener(\n    'resize',\n    (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.debounce)(() => {\n      moveCTAButtons(ctaButtons, ctaContainer, floatingContainer);\n      recalcHeroCTAVisibility(floatingContainer);\n    }),\n  );\n};\n\nconst scrollToSection = (id) => {\n  let timeout;\n\n  const container = document.querySelector(`main .section[data-inpageid='${id}']`);\n  container?.scrollIntoView({ behavior: 'smooth' });\n\n  // Checking if the height of the main element changes while scrolling (caused by layout shift)\n  const main = document.querySelector('main');\n  const resizeObserver = new ResizeObserver(() => {\n    clearTimeout(timeout);\n    container?.scrollIntoView({ behavior: 'smooth' });\n\n    timeout = setTimeout(() => {\n      resizeObserver.disconnect();\n    }, 500);\n  });\n  resizeObserver.observe(main);\n};\n\n// Retrieve an array of sections with its corresponding intersectionRatio\nconst wrapSectionItems = (elements) => {\n  const elementsData = [];\n  const viewportHeight = window.innerHeight;\n  elements.forEach((item) => {\n    const elementRect = item.getBoundingClientRect();\n\n    // Calculate the vertical space occupied by the element within the viewport\n    const verticalSpace = Math.min(elementRect.bottom, viewportHeight) - Math.max(elementRect.top, 0);\n\n    // Calculate the ratio of vertical space to the viewport height\n    const spaceRatio = verticalSpace / viewportHeight;\n\n    elementsData.push({\n      element: item,\n      intersectionRatio: Math.max(0, Math.min(1, spaceRatio)),\n    });\n  });\n\n  return elementsData;\n};\n\nconst gotoSection = (event) => {\n  const { target } = event;\n  const button = target.closest('button');\n\n  if (button) {\n    const { id } = button.dataset;\n\n    updateActive(id);\n    scrollToSection(id);\n  }\n};\n\nconst updateActive = (id) => {\n  const activeItemInList = document.querySelector(`.${blockName}__item--active`);\n\n  // Prevent reassign active value\n  if (activeItemInList?.firstElementChild?.dataset.id === id) {\n    return;\n  }\n\n  // Remove focus position\n  document.activeElement.blur();\n\n  // check active id is equal to id don't do anything\n  const selectedItem = document.querySelector(`.${blockName}__selected-item`);\n  activeItemInList?.classList.remove(`${blockName}__item--active`);\n  const itemsButton = document.querySelectorAll(`.${blockName}__items button`);\n  const { pathname } = window.location;\n\n  if (id) {\n    const selectedButton = [...itemsButton].find((button) => button.dataset.id === id);\n    if (!selectedButton) {\n      return;\n    }\n    selectedItem.textContent = selectedButton.textContent;\n    selectedButton.parentNode.classList.add(`${blockName}__item--active`);\n\n    window.history.replaceState({}, '', `${pathname}#${id}`);\n  } else {\n    window.history.replaceState({}, '', `${pathname}`);\n  }\n};\n\nconst addHeaderScrollBehaviour = (header) => {\n  let prevPosition = 0;\n\n  window.addEventListener('scroll', () => {\n    if (window.scrollY > prevPosition) {\n      header.classList.add(`${blockName}--hidden`);\n    } else {\n      header.classList.remove(`${blockName}--hidden`);\n    }\n\n    // on Safari the window.scrollY can be negative so `> 0` check is needed\n    prevPosition = window.scrollY > 0 ? window.scrollY : 0;\n  });\n};\n\nasync function decorate(block) {\n  const ctaButtons = getInpageNavigationButtons();\n\n  const wrapper = block.querySelector(':scope > div');\n  wrapper.classList.add(`${blockName}__wrapper`);\n  const itemsWrapper = block.querySelector(':scope > div > div > p');\n\n  const dropdownBackground = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: `${blockName}__dropdown-background` });\n  const dropdownWrapper = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: `${blockName}__dropdown` });\n  const selectedItemWrapper = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: `${blockName}__selected-item-wrapper` });\n  const selectedItem = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: `${blockName}__selected-item` });\n\n  const listContainer = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: `${blockName}__items-container` });\n  const dropdownTitle = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('span', { classes: `${blockName}__dropdown-title` });\n\n  const sectionTitle = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('span', { classes: `${blockName}__title` });\n  const inPageTitle = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.getMetadata)('inpage-title');\n  sectionTitle.innerText = inPageTitle;\n\n  const listCloseButton = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('button', { classes: `${blockName}__items-close` });\n  const closeIcon = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('span', { classes: ['icon', 'icon-close'] });\n\n  listCloseButton.appendChild(closeIcon);\n  listContainer.appendChild(listCloseButton);\n\n  const submenuTitle = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('Section');\n  dropdownTitle.innerText = submenuTitle;\n  listContainer.appendChild(sectionTitle);\n  listContainer.appendChild(dropdownTitle);\n\n  const list = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('ul', { classes: `${blockName}__items` });\n\n  [...itemsWrapper.children].forEach((item, index) => {\n    const classes = [`${blockName}__item`];\n    if (index === 0) {\n      // Default selected item\n      classes.push(`${blockName}__item--active`);\n      selectedItem.textContent = item.textContent;\n    }\n    const listItem = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('li', { classes });\n\n    listItem.innerHTML = item.outerHTML;\n    list.appendChild(listItem);\n  });\n\n  const dropdownArrowIcon = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('span', { classes: ['icon', 'icon-chevron-down'] });\n\n  selectedItemWrapper.append(selectedItem);\n  selectedItemWrapper.appendChild(dropdownArrowIcon);\n\n  dropdownWrapper.append(selectedItemWrapper);\n  listContainer.append(list);\n  dropdownWrapper.appendChild(listContainer);\n\n  wrapper.appendChild(dropdownBackground);\n  wrapper.appendChild(dropdownWrapper);\n\n  itemsWrapper.remove();\n\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.decorateIcons)(wrapper);\n\n  const ctaContainer = createCtaContainer(wrapper);\n  setupInpageCtas(ctaButtons, ctaContainer);\n\n  list.addEventListener('click', gotoSection);\n\n  // on load Go to section if defined\n  const hash = window.location.hash.substring(1);\n  if (hash) {\n    updateActive(hash);\n\n    setTimeout(() => {\n      scrollToSection(hash);\n    }, 1000);\n  }\n\n  // Listener to toggle the dropdown (open / close)\n  document.addEventListener('click', (e) => {\n    const oneTrustButton = document.querySelector('#onetrust-consent-sdk');\n\n    // click on selected item we show the menu\n    if (e.target.closest(`.${blockName}__selected-item-wrapper`)) {\n      dropdownWrapper.classList.add(`${blockName}__dropdown--open`);\n      block.parentNode.classList.add(`${blockName}--open`);\n      document.body.classList.add('disable-body-scroll');\n      if (oneTrustButton) {\n        oneTrustButton.style.display = 'none';\n      }\n    } else if (\n      e.target.closest(`.${blockName}__dropdown-background`) ||\n      (e.target.closest(`.${blockName}__items-container`) &&\n        (e.target.closest(`.${blockName}__items-close`) || e.target.closest(`.${blockName}__item`)))\n    ) {\n      // Hide menu:\n      // - Click on black background\n      // - Click on close button OR menu item\n      // - Click outside the menu\n      dropdownWrapper.classList.remove(`${blockName}__dropdown--open`);\n      block.parentNode.classList.remove(`${blockName}--open`);\n      document.body.classList.remove('disable-body-scroll');\n      if (oneTrustButton) {\n        oneTrustButton.style.display = '';\n      }\n    }\n  });\n\n  const sectionsList = document.querySelectorAll('main .section');\n  // listen scroll to change the url + navigation item\n  window.addEventListener(\n    'scroll',\n    (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.debounce)(() => {\n      // Calculate intersectionRatio from all section items\n      const elementsData = wrapSectionItems(sectionsList);\n\n      // Get intersected item that occupies most of the space in the viewport\n      const intersectedItem = elementsData.reduce((prev, current) => (prev.intersectionRatio > current.intersectionRatio ? prev : current));\n\n      if (intersectedItem.element.dataset?.inpageid) {\n        updateActive(intersectedItem.element.dataset.inpageid);\n      } else {\n        updateActive();\n      }\n    }),\n  );\n\n  addHeaderScrollBehaviour(block.parentNode);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-inpage-navigation/v2-inpage-navigation.js?\n}")},"./blocks/v2-key-facts/v2-key-facts.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/video-helper.js */ \"./scripts/video-helper.js\");\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__]);\n([_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst blockName = 'v2-key-facts';\n\nconst CLASSES = {\n  row: `${blockName}__row`,\n  row_media: `${blockName}__row--with-media`,\n  row_text: `${blockName}__row--with-text`,\n  video: `${blockName}__video`,\n  image: `${blockName}__image`,\n  key_item: `${blockName}__key-item`,\n  item_title: `${blockName}__key-title`,\n  item_subtitle: `${blockName}__key-subtitle`,\n  centered: `${blockName}__centered`,\n  two_items: `${blockName}__two-items`,\n};\n\n/**\n *  Helper function to check if an element has text nodes as direct children\n * @param {HTMLElement} el The element to check\n * @returns {boolean} True if the element has text nodes, false otherwise\n */\nconst CheckForTextNodes = (el) => {\n  let hasTextNodes = false;\n  [...el.childNodes].forEach((node) => {\n    if (node.nodeType === Node.TEXT_NODE && node.textContent.trim().length > 0) {\n      hasTextNodes = true;\n    }\n  });\n  return hasTextNodes;\n};\n\n/**\n * Build the text section of a key fact item\n * @param {HTMLElement} el The key fact item element\n * @param {boolean} hasMedia True if the block has media, false otherwise\n */\nconst buildTextsSection = (el, hasMedia) => {\n  [...el.querySelectorAll(':scope > p, :scope > h4')].forEach((el, idx) => {\n    el.classList.add(`${CLASSES[`item_${idx === 0 ? '' : 'sub'}title`]}`);\n    if (el.childNodes.length <= 1) {\n      return;\n    }\n    const hasTextNodes = CheckForTextNodes(el);\n    [...el.childNodes].forEach((node) => {\n      if (!hasTextNodes || node.nodeType === Node.TEXT_NODE || node.nodeType === Node.BR) {\n        return;\n      }\n      node.classList.add('small');\n\n      if (hasMedia) {\n        // wrap non-text nodes in a span to avoid variants compatibility issues if has media like video or image\n        const span = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('span', { classes: node.className });\n        span.innerHTML = node.innerHTML;\n        node.replaceWith(span);\n      }\n    });\n  });\n};\n\nfunction decorate(block) {\n  let hasMedia = false;\n  Array.from(block.children).forEach((row) => {\n    row.classList.add(CLASSES.row);\n\n    const columns = Array.from(row.children);\n    if (columns.length === 2) {\n      row.classList.add(CLASSES.two_items);\n    }\n    columns.forEach((col) => {\n      const videoLinks = [...col.querySelectorAll('a')].filter(_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.isVideoLink);\n      const isVideoCell = videoLinks.length;\n      const isImageCell = !!col.querySelector('picture');\n      row.classList.add(isVideoCell || isImageCell ? CLASSES.row_media : CLASSES.row_text);\n      hasMedia = hasMedia || Boolean(isVideoCell) || Boolean(isImageCell);\n\n      if (isVideoCell) {\n        const video = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.createVideo)(videoLinks[0].getAttribute('href'), CLASSES.video, {\n          muted: true,\n          autoplay: true,\n          loop: 'loop',\n          playsinline: true,\n        });\n        col.replaceWith(video);\n        videoLinks[0].remove();\n        return;\n      }\n\n      if (isImageCell) {\n        col.classList.add(CLASSES.image);\n        return;\n      }\n\n      col.classList.add(CLASSES.key_item);\n      buildTextsSection(col, hasMedia);\n    });\n    if (!hasMedia) {\n      row.classList.add(CLASSES.centered);\n    }\n  });\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-key-facts/v2-key-facts.js?\n}")},"./blocks/v2-livestream-embed/v2-livestream-embed.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate),\n/* harmony export */   playVideo: () => (/* binding */ playVideo)\n/* harmony export */ });\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _common_modal_modal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/modal/modal.js */ \"./common/modal/modal.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__, _common_modal_modal_js__WEBPACK_IMPORTED_MODULE_2__]);\n([_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__, _common_modal_modal_js__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n/* global YT */\n\n\n\n\nlet player;\n\nfunction onPlayerReady(event) {\n  event.target.playVideo();\n}\n\nfunction onPlayerError(event) {\n  console.warn(event.data);\n}\n\nfunction onPlayerAutoplayBlocked(event) {\n  console.warn(event.data);\n}\n\nfunction playVideo() {\n  if (player && player.playVideo) {\n    player.playVideo();\n  }\n}\n\nfunction addVideo(block, videoId) {\n  const iframeYT = document.createRange().createContextualFragment(`\n    <iframe class=\"v2-livestream-embed\" id=\"livestream\"\n      frameborder=\"0\" allowfullscreen=\"\" allow=\"autoplay\"\n      src=\"https://www.youtube.com/embed/${videoId}?color=white&amp;rel=0&amp;playsinline=1&amp;enablejsapi=1&amp;autoplay=1\">\n    </iframe>\n  `);\n\n  block.innerHTML = '';\n\n  block.append(...iframeYT.childNodes);\n}\n\nfunction decorate(block) {\n  let videoId = block.querySelector('p');\n  videoId = videoId.innerText;\n\n  window.isSingleVideo = true;\n\n  (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.loadScript)('https://www.youtube.com/iframe_api');\n\n  if (!videoId) {\n    block.innerHTML = '';\n\n    console.warn('V2 Livestream Embed block: There is no video link. Please check the provided URL.');\n    return;\n  }\n\n  window.onYouTubeIframeAPIReady = function onYouTubeIframeAPIReadyInit() {\n    setTimeout(() => {\n      if (!YT) {\n        throw new Error('YouTube API not loaded');\n      }\n      player = new YT.Player('livestream', {\n        events: {\n          onReady: onPlayerReady,\n          onError: onPlayerError,\n          onAutoplayBlocked: onPlayerAutoplayBlocked,\n        },\n      });\n    }, 3000);\n  };\n\n  if ((0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.isSocialAllowed)()) {\n    addVideo(block, videoId);\n  } else {\n    const img = block.querySelector('picture img');\n    block.innerHTML = '';\n\n    const cookieMsgContainer = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', {\n      classes: 'cookie-message',\n    });\n    cookieMsgContainer.style.background = `linear-gradient(180deg, rgba(0, 0, 0, 0.00) 0%, rgba(0, 0, 0, 0.80) 100%), url(${img.src}) center / cover no-repeat`;\n\n    const cookieMessage = document.createRange().createContextualFragment(`\n      <h3 class=\"cookie-message__title\">${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('v2_livestream_embed:single_video_message_title')}</h3>\n      ${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('v2_livestream_embed:single_video_message_text')}\n      <div class=\"cookie-message__button-container\">\n        <button class=\"primary dark\">${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('v2_livestream_embed:single_video_message_button')}</button>\n        <button class=\"button secondary dark\">${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('v2_livestream_embed:single_video_message_button_deny')}</button>\n      </div>\n    `);\n\n    cookieMsgContainer.append(cookieMessage);\n    block.append(cookieMsgContainer);\n\n    block.querySelector('.cookie-message__button-container .primary')?.addEventListener('click', () => {\n      if (window.OneTrust) {\n        window.OneTrust.AllowAll();\n      }\n\n      addVideo(block, videoId);\n    });\n\n    block.querySelector('.cookie-message__button-container .secondary')?.addEventListener('click', () => {\n      (0,_common_modal_modal_js__WEBPACK_IMPORTED_MODULE_2__.hideModal)();\n    });\n  }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-livestream-embed/v2-livestream-embed.js?\n}")},"./blocks/v2-masonry-grid/v2-masonry-grid.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\n/* harmony import */ var _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/video-helper.js */ \"./scripts/video-helper.js\");\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__, _scripts_common_js__WEBPACK_IMPORTED_MODULE_2__]);\n([_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__, _scripts_common_js__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\nconst blockName = 'v2-masonry-grid';\n\nfunction decorate(block) {\n  const ul = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_2__.createElement)('ul', { classes: `${blockName}__items` });\n  const cells = [...block.querySelectorAll(':scope > div > div')];\n\n  cells.forEach((cell) => {\n    if (cell.childElementCount) {\n      const links = cell.querySelectorAll('a');\n      const videos = [...links].filter((link) => (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.isVideoLink)(link));\n      const picture = cell.querySelector('picture');\n\n      // if video or picture available, it's part of the grid\n      if (videos.length > 0 || picture) {\n        const li = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_2__.createElement)('li', { classes: [`${blockName}__item`] });\n\n        if (picture) {\n          const img = picture.lastElementChild;\n          const newPicture = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.createOptimizedPicture)(img.src, img.alt, false);\n          li.prepend(newPicture);\n        }\n\n        if (videos.length > 0) {\n          const video = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.createVideo)(videos[0].getAttribute('href'), `${blockName}__video`, {\n            muted: true,\n            autoplay: true,\n            loop: true,\n            playsinline: true,\n          });\n          li.prepend(video);\n        }\n\n        ul.append(li);\n      }\n    }\n  });\n\n  block.append(ul);\n\n  requestAnimationFrame(() => {\n    cells.forEach((cell) => {\n      cell.parentElement.remove();\n    });\n  });\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-masonry-grid/v2-masonry-grid.js?\n}")},"./blocks/v2-media-gallery/v2-media-gallery.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\nfunction decorate(block) {\n  const blockName = 'v2-media-gallery';\n  const rows = [...block.querySelectorAll(':scope > div')];\n  rows.forEach((row) => {\n    row.classList.add(`${blockName}__row`);\n  });\n\n  const cols = [...block.querySelectorAll(':scope > div > div')];\n  cols.forEach((col) => {\n    col.classList.add(`${blockName}__col`);\n    (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.adjustPretitle)(col);\n  });\n\n  const pictureCol = block.querySelector('ul picture').closest(`.${blockName}__col`);\n  pictureCol.classList.add(`${blockName}__images-list-col`);\n  pictureCol.querySelector('ul').classList.add(`${blockName}__images-list`);\n  [...pictureCol.querySelectorAll('ul > li')].forEach((el) => {\n    el.classList.add(`${blockName}__images-list-item`);\n\n    const figure = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('figure', { classes: `${blockName}__figure` });\n    figure.append(...el.childNodes);\n    el.append(figure);\n\n    const figCaption = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('figcaption');\n    const lastItems = [...figure.childNodes].at(-1);\n    if (lastItems.nodeType === Node.TEXT_NODE) {\n      figCaption.append(lastItems);\n      figure.append(figCaption);\n    }\n  });\n  [...pictureCol.querySelectorAll('ul > li img')].forEach((el) => {\n    el.classList.add(`${blockName}__image`);\n  });\n\n  block.querySelectorAll('h1, h2, h3, h4, h5, h6').forEach((el) => el.classList.add(`${blockName}__heading`));\n  block.querySelectorAll('.pretitle').forEach((el) => {\n    el.classList.add(`${blockName}__pretitle`);\n  });\n\n  block.querySelectorAll('.button').forEach((el) => {\n    el.closest('.button-container')?.replaceWith(el);\n  });\n\n  block.querySelectorAll('p').forEach((el) => {\n    el.classList.add(`${blockName}__text`);\n  });\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-media-gallery/v2-media-gallery.js?\n}")},"./blocks/v2-media-with-tabs/v2-media-with-tabs.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\nconst variantClasses = ['media-right', 'expanded-width'];\nconst blockName = 'v2-media-with-tabs';\n\nconst handleChangeTab = (e) => {\n  const parentBlock = e.target.closest(`.${blockName}`);\n  const activeClassList = e.target.classList;\n  if (activeClassList.contains('active')) {\n    return;\n  }\n\n  let activeNumber;\n  activeClassList.forEach((cl) => {\n    if (cl.substring(0, 4) === 'tab-') {\n      activeNumber = Number(cl.split('-').pop());\n    }\n  });\n\n  parentBlock.querySelector(`.${blockName}__tab.active`).classList.remove('active');\n  parentBlock.querySelector(`.${blockName}__image.active`).classList.remove('active');\n\n  parentBlock.querySelector(`.${blockName}__image.img-${activeNumber}`).classList.add('active');\n  e.target.classList.add('active');\n  if (window.innerWidth < 1200) {\n    e.target.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });\n  }\n};\n\nfunction decorate(block) {\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.variantsClassesToBEM)(block.classList, variantClasses, blockName);\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.addClassIfChildHasClass)(block, 'expanded-width');\n\n  const content = block.querySelectorAll(':scope > div > div');\n  const [header, list] = content;\n\n  const imageSection = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { classes: `${blockName}__images-section` });\n  const tabsSection = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { classes: `${blockName}__tabs-section` });\n\n  const items = list.querySelectorAll('li');\n\n  const headerSection = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { classes: `${blockName}__header-section` });\n  const headingTypes = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n  const heading = header.querySelector(headingTypes);\n  heading.classList.add(`${blockName}__heading`);\n  const subtitle = heading.nextElementSibling;\n  subtitle.classList.add(`${blockName}__subtitle`);\n\n  headerSection.append(header, subtitle);\n\n  const textSection = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { classes: `${blockName}__texts-section` });\n\n  items.forEach((el, idx) => {\n    const image = el.querySelector('picture');\n    image.classList.add(`${blockName}__image`, `img-${idx}`);\n\n    const tab = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('button', { classes: [`${blockName}__tab`, `tab-${idx}`] });\n    tab.classList.add(`${blockName}__tab`, `tab-${idx}`);\n    tab.textContent = el.innerText;\n    tab.onclick = (e) => handleChangeTab(e);\n\n    if (idx === 0) {\n      image.classList.add('active');\n      tab.classList.add('active');\n    }\n\n    imageSection.append(image);\n    tabsSection.append(tab);\n  });\n  items[0].parentNode.remove();\n\n  textSection.append(tabsSection, headerSection);\n  block.append(imageSection, textSection);\n\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.unwrapDivs)(block, { ignoreDataAlign: true });\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.removeEmptyTags)(block);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-media-with-tabs/v2-media-with-tabs.js?\n}")},"./blocks/v2-media-with-text/v2-media-with-text.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/video-helper.js */ \"./scripts/video-helper.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__]);\n([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst blockName = 'v2-media-with-text';\nconst variantClasses = [\n  'text-centered',\n  'expanded-width',\n  'full-width',\n  'media-left',\n  'media-left',\n  'media-right',\n  'media-vertical',\n  'media-gallery',\n  'media-autoplay',\n  'mute-controls',\n  'title-small',\n];\n\nconst buildMediaGallery = (section) => {\n  const allCaptions = section.querySelectorAll('p:not(:has(picture))');\n  const allPictures = section.querySelectorAll('picture');\n\n  allPictures.forEach((picture, idx) => {\n    const caption = allCaptions[idx];\n    const figureElmt = document.createRange().createContextualFragment(`\n      <figure>\n        ${picture.outerHTML}\n        ${caption ? `<figcaption class=\"caption\">${caption.textContent}</figcaption>` : ''}\n      <figure>\n    `);\n    section.append(figureElmt);\n  });\n  section.querySelectorAll('p').forEach((p) => (p.outerHTML = ''));\n};\n\nasync function decorate(block) {\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.variantsClassesToBEM)(block.classList, variantClasses, blockName);\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.addClassIfChildHasClass)(block, 'full-width');\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.addClassIfChildHasClass)(block, 'expanded-width');\n\n  const cells = block.querySelectorAll(':scope > div > div');\n  let contentSection;\n  let mediaSection;\n  let subTextSection;\n  let containerSection;\n  let videoLinks;\n\n  cells.forEach((cell, index) => {\n    // First cell for content, second for media and last for the subtext\n    const isLastCell = index % 2 === 0 && index === cells.length - 1;\n    const isCellNumberEven = index % 2 === 0;\n    const isTotalCellsEven = cells.length % 2 === 0;\n\n    if (isLastCell) {\n      subTextSection = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createNewSection)(blockName, 'sub-text', cell);\n    } else if (isCellNumberEven) {\n      contentSection = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createNewSection)(blockName, 'content', cell);\n      const headings = [...cell.querySelectorAll(['h1', 'h2', 'h3', 'h4', 'h5', 'h6'])];\n      headings.forEach((heading, idx) => {\n        const hasPretitle = headings.length > 1;\n        heading.classList.add(`${blockName}__${hasPretitle && idx < 1 ? 'pretitle' : 'heading'}`);\n      });\n    } else {\n      mediaSection = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createNewSection)(blockName, 'media', cell);\n      if (block.classList.contains(`${blockName}--media-gallery`)) {\n        buildMediaGallery(mediaSection);\n      }\n      videoLinks = [...mediaSection.querySelectorAll('a')].filter((link) => (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.isVideoLink)(link));\n      const picture = mediaSection.querySelector('picture');\n\n      if (videoLinks.length) {\n        const videoLink = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.selectVideoLink)(videoLinks);\n\n        if (videoLink) {\n          if (picture) {\n            requestAnimationFrame(() => {\n              const videoWithPoster = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.createVideoWithPoster)(videoLink.href, picture, `${blockName}--video-with-poster`, { controls: false });\n              const videoEl = videoWithPoster.querySelector('video');\n              if (videoEl) {\n                videoEl.classList.add(`${blockName}__media`);\n              }\n              mediaSection.append(videoWithPoster);\n            });\n          } else {\n            (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.waitForElementInDOM)(block, `.${blockName}__media-section`, (mediaSection) => {\n              let container = mediaSection.querySelector(`.${blockName}__video`);\n              if (!container) {\n                container = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { classes: `${blockName}__video` });\n                mediaSection.append(container);\n              }\n              const videoEl = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.createVideo)(videoLink.getAttribute('href'), `${blockName}__video`, {\n                muted: true,\n                autoplay: true,\n                loop: true,\n                playsinline: true,\n              });\n              videoEl.classList.add(`${blockName}__media`);\n              container.appendChild(videoEl);\n\n              if (block.classList.contains(`${blockName}--mute-controls`)) {\n                (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.addMuteControls)(container);\n              }\n            });\n          }\n        }\n      }\n    }\n\n    // If cell number is odd(i.e. a 'media' cell) and not the last cell\n    if (!isLastCell && !isCellNumberEven) {\n      // Wrap with a row if the number of cells is more than 2.\n      if (cells.length > 2) {\n        containerSection = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { classes: `${blockName}__container` });\n        containerSection.append(mediaSection, contentSection);\n        block.append(containerSection);\n      } else {\n        // Append the media and content sections directly to the block.\n        block.append(mediaSection, contentSection);\n      }\n    }\n    // For an odd number of cells, append the remaining subTextSection.\n    if (!isTotalCellsEven) {\n      if (subTextSection) {\n        block.append(subTextSection);\n      }\n    }\n  });\n\n  const medias = block.querySelectorAll(['img', 'video', 'iframe']);\n  medias.forEach((media) => media.classList.add(`${blockName}__media`));\n\n  videoLinks.forEach((videoLink) => videoLink.remove());\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.unwrapDivs)(block, { ignoreDataAlign: true });\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.removeEmptyTags)(block);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-media-with-text/v2-media-with-text.js?\n}")},"./blocks/v2-newsletter/v2-newsletter.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_async_dependencies_result__[0];\n\n\n\nconst blockName = 'v2-newsletter';\n\nasync function handleSubmissionResult({ titleText, messageText, isSuccess }) {\n  const form = document.querySelector('form[data-submitting=true]');\n  const title = document.querySelector(`.${blockName}__title`);\n  const message = document.createRange().createContextualFragment(`<p>${messageText}</p>`);\n\n  if (isSuccess) {\n    (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.sampleRUM)('form:submit');\n  }\n\n  title.textContent = titleText;\n  form.setAttribute('data-submitting', 'false');\n  form.replaceWith(message);\n}\n\nwindow.logResult = function logResult(json) {\n  if (json.result === 'success') {\n    handleSubmissionResult({\n      titleText: (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('v2_newsletter:success_title'),\n      messageText: (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('v2_newsletter:success_text'),\n      isSuccess: true,\n    });\n  } else if (json.result === 'error') {\n    handleSubmissionResult({\n      titleText: (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('v2_newsletter:error_title'),\n      messageText: (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('v2_newsletter:error_text'),\n      isSuccess: false,\n    });\n  }\n};\n\nasync function decorate(block) {\n  const formLink = block.firstElementChild.innerText.trim();\n  const html = block.firstElementChild.nextElementSibling.firstElementChild.innerHTML;\n\n  const container = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: `${blockName}__container` });\n\n  const textContainer = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: `${blockName}__text` });\n  textContainer.innerHTML = html;\n\n  const headings = textContainer.querySelectorAll('h1, h2, h3, h4, h5, h6');\n  [...headings].forEach((heading) => heading.classList.add(`${blockName}__title`));\n\n  const formContainer = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: `${blockName}__form-container` });\n  const form = document.createRange().createContextualFragment(`\n    <div class=\"v2-forms block\" data-block-name=\"v2-forms\" data-block-status=\"\">\n      <div>\n        <div>subscribe</div>\n      </div>\n      <div>\n        <div>${formLink}</div>\n      </div>\n    </div>`);\n\n  formContainer.append(...form.children);\n  container.appendChild(textContainer);\n  container.appendChild(formContainer);\n\n  block.replaceWith(container);\n\n  await (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.loadBlock)(formContainer.firstElementChild);\n}\n\n// Same form in page is not working.\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-newsletter/v2-newsletter.js?\n}")},"./blocks/v2-quote-with-images/v2-quote-with-images.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\nconst blockName = 'v2-quote-with-images';\n\n/**\n * Unwrap a <picture> from its parent <p> if necessary.\n * @param {HTMLPictureElement} pictureEl\n * @returns {void}\n */\nconst unwrapPicture = (pictureEl) => {\n  const parentEl = pictureEl?.parentElement;\n  if (parentEl?.tagName !== 'P') {\n    return;\n  }\n  parentEl.parentElement.insertBefore(pictureEl, parentEl);\n  if (!parentEl.textContent.trim()) {\n    parentEl.remove();\n  }\n};\n\n/**\n * Unwrap all <picture> elements nested directly inside <p> within a container.\n * @param {HTMLElement} containerEl\n * @returns {void}\n */\nconst unwrapPicturesInParagraphs = (containerEl) => {\n  for (const pictureEl of containerEl.querySelectorAll('p > picture')) {\n    unwrapPicture(pictureEl);\n  }\n};\n\n/**\n * Add image classes to top-level <picture> elements in a container.\n * @param {HTMLElement} containerEl\n * @param {\"primary\"|\"secondary\"} variant\n * @returns {void}\n */\nconst applyTopLevelImageClasses = (containerEl, variant) => {\n  for (const pictureEl of containerEl.querySelectorAll(':scope > picture')) {\n    pictureEl.classList.add(`${blockName}__image`, `${blockName}__image--${variant}`);\n  }\n};\n\n/**\n * Convert the last two <p> elements in a column into a semantic blockquote.\n * @param {HTMLElement} columnEl\n * @returns {void}\n */\nconst convertToBlockquote = (columnEl) => {\n  if (columnEl.querySelector(`:scope > .${blockName}__quote`)) {\n    return;\n  }\n\n  const paragraphs = columnEl.querySelectorAll(':scope > p');\n  const count = paragraphs.length;\n  if (count < 2) {\n    console.warn('[v2-quote-with-images] Missing quote and attribution. Expected at least two <p> elements in the quote column.');\n    return;\n  }\n\n  const quoteText = paragraphs[count - 2].textContent.trim();\n  const attributionText = paragraphs[count - 1].textContent.trim();\n  if (!quoteText || !attributionText) {\n    console.warn('[v2-quote-with-images] Quote or attribution text is empty. Check block authoring.');\n    return;\n  }\n\n  const template = document.createElement('template');\n  template.innerHTML = `\n    <blockquote class=\"${blockName}__quote\">\n      <p class=\"${blockName}__text\">${quoteText}</p>\n      <p class=\"${blockName}__attribution\">${attributionText}</p>\n    </blockquote>`.trim();\n\n  const blockquoteEl = template.content.firstElementChild;\n  paragraphs[count - 2].replaceWith(blockquoteEl);\n  paragraphs[count - 1].remove();\n};\n\n/**\n * Enhance a single column with classes, images, and (for content column) blockquote structure.\n * @param {HTMLElement} columnEl\n * @param {boolean} isMediaColumn\n * @returns {void}\n */\nconst enhanceColumn = (columnEl, isMediaColumn) => {\n  columnEl.classList.add(`${blockName}__column`, isMediaColumn ? `${blockName}__column--media` : `${blockName}__column--quote`);\n  unwrapPicturesInParagraphs(columnEl);\n  applyTopLevelImageClasses(columnEl, isMediaColumn ? 'secondary' : 'primary');\n  if (!isMediaColumn) {\n    convertToBlockquote(columnEl);\n  }\n};\n\nasync function decorate(block) {\n  const rowEl = block.querySelector(':scope > div');\n  if (!rowEl) {\n    return;\n  }\n\n  rowEl.classList.add(`${blockName}__row`);\n\n  const [mediaColumnEl, quoteColumnEl] = rowEl.children;\n  if (mediaColumnEl) {\n    enhanceColumn(mediaColumnEl, true);\n  }\n  if (quoteColumnEl) {\n    enhanceColumn(quoteColumnEl, false);\n  }\n}\n\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-quote-with-images/v2-quote-with-images.js?\n}")},"./blocks/v2-quote/v2-quote.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\nconst blockName = 'v2-quote';\nconst variantClasses = ['with-background'];\n\nfunction decorate(block) {\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.variantsClassesToBEM)(block.classList, variantClasses, blockName);\n\n  const quote = block.querySelector(':scope > div:nth-child(1) > div');\n  const bq = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('blockquote', { classes: [`${blockName}__quote-text`] });\n  bq.innerHTML = quote.innerHTML;\n  quote.parentNode.replaceChild(bq, quote);\n\n  const source = block.querySelector(':scope > div:nth-child(2) > div > p');\n  if (source) {\n    source.classList.add(`${blockName}__quote-source`);\n  }\n\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.unwrapDivs)(block, { ignoreDataAlign: true });\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.removeEmptyTags)(block);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-quote/v2-quote.js?\n}")},"./blocks/v2-resource-gallery/v2-resource-gallery.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/video-helper.js */ \"./scripts/video-helper.js\");\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__]);\n([_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst blockName = 'v2-resource-gallery';\nconst variantClasses = ['no-expand'];\n\nfunction toggleListEle(block, ariaValue) {\n  [...block.querySelectorAll(`li[aria-hidden=\"${ariaValue}\"]`)].forEach((li) => {\n    li.setAttribute('aria-hidden', !ariaValue);\n  });\n}\n\nfunction decorate(block) {\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.variantsClassesToBEM)(block.classList, variantClasses, blockName);\n  const blockHeading = block.querySelector('div:first-child');\n  blockHeading.classList.add(`${blockName}__heading-wrapper`);\n  const title = blockHeading.querySelector('h1, h2, h3, h4, h5, h6');\n  title?.classList.add(`${blockName}__heading`);\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.unwrapDivs)(blockHeading);\n\n  const videoWrapper = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: `${blockName}__video-list` });\n  const documentWrapper = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: `${blockName}__document-list` });\n  const rows = block.querySelectorAll(':scope > div > div');\n\n  rows.forEach((row) => {\n    const picture = row.querySelector('picture');\n    const document = row.querySelector('.icon-documents');\n\n    if (picture) {\n      const listEle = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: `${blockName}__video-list-item` });\n      listEle.innerHTML = row.innerHTML;\n\n      const videos = [...listEle.querySelectorAll('a')].filter((link) => (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.isVideoLink)(link));\n\n      if (videos.length) {\n        // display image as link with play icon\n        const selectedLink = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.selectVideoLink)(videos);\n        if (selectedLink) {\n          (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.addVideoShowHandler)(selectedLink);\n          (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.wrapImageWithVideoLink)(selectedLink, picture);\n          selectedLink.parentElement.classList.add(`${blockName}__video-image`, 'image');\n        }\n\n        if (videoWrapper.children.length > 5) {\n          listEle.classList.add(`${blockName}__video-list-item--hide`);\n          listEle.setAttribute('aria-hidden', true);\n        }\n\n        const videoTitle = listEle.querySelector('h3');\n        videoTitle.classList.add(`${blockName}__video-title`);\n\n        // remove all the videos links and exclude the selected one\n        videos.forEach((link) => link !== selectedLink && link.parentElement.remove());\n\n        videoWrapper.append(listEle);\n        listEle.firstElementChild.remove();\n        row.innerHTML = '';\n      }\n    } else if (document) {\n      const item = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: `${blockName}__document-list-item` });\n      item.innerHTML = row.innerHTML;\n      const links = item.querySelectorAll('a');\n      [...links].forEach((link) => {\n        link.classList.add('standalone-link');\n        link.classList.remove('button', 'tertiary');\n        const wrapper = link.parentElement;\n        wrapper.className = `${blockName}__document-link-wrapper`;\n        wrapper.append(wrapper.nextElementSibling);\n      });\n\n      if (documentWrapper.children.length > 5) {\n        item.classList.add(`${blockName}__document-list-item--hide`);\n        item.setAttribute('aria-hidden', true);\n      }\n\n      documentWrapper.append(item);\n      row.innerHTML = '';\n    }\n  });\n\n  if (!block.classList.contains(`${blockName}--no-expand`)) {\n    const viewAllButton = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('button', {\n      classes: [`${blockName}__button`, 'tertiary'],\n      props: { 'aria-expanded': false },\n    });\n    viewAllButton.innerHTML = `\n      <span class=\"icon icon-plus\"></span>\n      <span class=\"icon icon-minus\"></span>\n      <span class=\"${blockName}__button-text\">${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('v2_resource_gallery:view_all')}</span>\n    `;\n\n    (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.decorateIcons)(viewAllButton);\n    blockHeading.append(viewAllButton);\n\n    viewAllButton.addEventListener('click', () => {\n      const buttonText = viewAllButton.lastElementChild;\n      if (viewAllButton.ariaExpanded === 'true') {\n        viewAllButton.ariaExpanded = 'false';\n        buttonText.innerText = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('v2_resource_gallery:view_all');\n        block.classList.remove(`${blockName}__list--expand`);\n        toggleListEle(block, false);\n      } else {\n        viewAllButton.ariaExpanded = 'true';\n        buttonText.innerText = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('v2_resource_gallery:view_less');\n        block.classList.add(`${blockName}__list--expand`);\n        toggleListEle(block, true);\n      }\n    });\n  }\n\n  block.append(videoWrapper);\n  block.append(documentWrapper);\n\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.unwrapDivs)(block, { ignoreDataAlign: true });\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-resource-gallery/v2-resource-gallery.js?\n}")},"./blocks/v2-section-header/v2-section-header.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\nfunction decorate(block) {\n  const blockName = 'v2-section-header';\n  const content = block.querySelector(':scope > div > div');\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.adjustPretitle)(content);\n\n  const headings = content.querySelectorAll('h1, h2, h3, h4, h5, h6');\n  [...headings].forEach((heading) => heading.classList.add(`${blockName}__title`));\n\n  // Unwrap <div> tags\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.unwrapDivs)(block);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-section-header/v2-section-header.js?\n}")},"./blocks/v2-social-block/v2-social-block.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\nasync function decorate(block) {\n  const blockName = 'v2-social-block';\n  const variantClasses = ['black', 'gray'];\n\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.variantsClassesToBEM)(block.classList, variantClasses, blockName);\n\n  const headings = block.querySelectorAll('h1, h2, h3, h4, h5, h6');\n  [...headings].forEach((heading) => heading.classList.add(`${blockName}__title`));\n\n  const socialWrapper = block.querySelector(':scope > div');\n  socialWrapper.classList.add(`${blockName}__list-wrapper`);\n\n  const list = socialWrapper.querySelector('ul');\n  let copyAnchor;\n\n  list.classList.add(`${blockName}__list`);\n  list.classList.remove('cta-list');\n\n  [...list.children].forEach((item) => {\n    item.className = '';\n\n    const anchor = item.querySelector('a');\n    if (anchor) {\n      anchor.className = `${blockName}__button`;\n    }\n\n    const copyLink = item.querySelector('.icon-link');\n    if (copyLink) {\n      copyAnchor = anchor;\n      anchor.dataset.tooltip = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('v2_social_block:copied');\n\n      anchor.addEventListener('click', async (e) => {\n        e.preventDefault();\n        try {\n          await navigator.clipboard.writeText(`${anchor.href}`);\n          anchor.classList.add('show');\n\n          setTimeout(() => {\n            anchor.classList.remove('show');\n          }, 1000);\n        } catch (err) {\n          console.error('Failed to copy: ', err);\n        }\n      });\n      anchor.classList.add('tooltip', 'tooltip--top');\n    }\n  });\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.unwrapDivs)(block);\n\n  const mobileMQ = window.matchMedia('(max-width: 743px)');\n  const tabletMQ = window.matchMedia('(min-width: 744px)');\n\n  function onMobileChange() {\n    copyAnchor.classList.remove('tooltip--right');\n    copyAnchor.classList.add('tooltip--top');\n  }\n\n  function onTabletChange() {\n    copyAnchor.classList.remove('tooltip--top');\n    copyAnchor.classList.add('tooltip--right');\n  }\n\n  if (mobileMQ.matches) {\n    onMobileChange(mobileMQ);\n  }\n\n  if (tabletMQ.matches) {\n    onTabletChange(tabletMQ);\n  }\n\n  window.addEventListener('resize', () => {\n    if (mobileMQ.matches) {\n      onMobileChange();\n    } else if (tabletMQ.matches) {\n      onTabletChange();\n    }\n  });\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-social-block/v2-social-block.js?\n}")},"./blocks/v2-stories-carousel/v2-stories-carousel.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../scripts/services/magazine.service.js */ \"./scripts/services/magazine.service.js\");\n/* harmony import */ var _scripts_motion_helper_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../scripts/motion-helper.js */ \"./scripts/motion-helper.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__, _scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_2__]);\n([_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__, _scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\nconst blockName = 'v2-stories-carousel';\nconst LOW_LIMIT = 3;\nconst HIGH_LIMIT = 7;\n\nconst updateActiveClass = (elements, targetElement) => {\n  elements.forEach((el) => {\n    el.classList.toggle('active', el === targetElement);\n  });\n};\n\nconst listenScroll = (carousel) => {\n  const elements = carousel.querySelectorAll(':scope > *');\n\n  const io = new IntersectionObserver(\n    (entries) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          updateActiveClass(elements, entry.target);\n        }\n      });\n    },\n    {\n      root: carousel,\n      threshold: 1,\n    },\n  );\n\n  elements.forEach((el) => io.observe(el));\n};\n\nconst getScrollOffset = (carousel) => {\n  const first = carousel.firstElementChild;\n  const second = first.nextElementSibling;\n  return second.getBoundingClientRect().x - first.getBoundingClientRect().x;\n};\n\nconst updateArrowButtonsState = (carousel, arrowLeftButton, arrowRightButton, index) => {\n  const isAtStart = index === 0;\n  const isAtEnd = index === carousel.childElementCount - 1;\n\n  arrowLeftButton.disabled = isAtStart;\n  arrowRightButton.disabled = isAtEnd;\n};\n\nconst setCarouselPosition = (carousel, index, arrowLeftButton, arrowRightButton) => {\n  const elements = carousel.querySelectorAll(':scope > *');\n  const scrollOffset = getScrollOffset(carousel);\n  const targetX = index * scrollOffset;\n\n  (0,_scripts_motion_helper_js__WEBPACK_IMPORTED_MODULE_3__.smoothScrollHorizontal)(carousel, targetX, 500);\n  updateActiveClass(elements, elements[index]);\n  updateArrowButtonsState(carousel, arrowLeftButton, arrowRightButton, index);\n};\n\nconst navigate = (carousel, direction, arrowLeftButton, arrowRightButton) => {\n  if (carousel.classList.contains('is-animating')) {\n    return;\n  }\n\n  const activeItem = carousel.querySelector(`.${blockName}-item.active`);\n  let index = [...activeItem.parentNode.children].indexOf(activeItem);\n\n  if (direction === 'left') {\n    index -= 1;\n    if (index === -1) {\n      index = 0;\n    }\n  } else {\n    index += 1;\n    if (index > carousel.childElementCount - 1) {\n      index = carousel.childElementCount - 1;\n    }\n  }\n\n  setCarouselPosition(carousel, index, arrowLeftButton, arrowRightButton);\n};\n\nconst createArrowControls = (carousel) => {\n  const arrowLeftButtonLabel = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('v2_stories_carousel:previous');\n  const arrowRightButtonLabel = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)('v2_stories_carousel:next');\n  const arrowControlsContainer = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('ul', { classes: `${blockName}-arrowcontrols` });\n  arrowControlsContainer.innerHTML = `\n    <li>\n      <button class=\"${blockName}-arrowbutton ${blockName}-arrowbutton--left\" aria-label=\"${arrowLeftButtonLabel}\">\n        <span class=\"icon icon-arrow-left\"></span>\n      </button>\n    </li>\n    <li>\n      <button class=\"${blockName}-arrowbutton ${blockName}-arrowbutton--right\" aria-label=\"${arrowRightButtonLabel}\">\n        <span class=\"icon icon-arrow-right\"></span>\n      </button>\n    </li>\n  `;\n\n  carousel.insertAdjacentElement('beforebegin', arrowControlsContainer);\n  (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.decorateIcons)(arrowControlsContainer);\n\n  const arrowLeftButton = arrowControlsContainer.querySelector(`.${blockName}-arrowbutton--left`);\n  const arrowRightButton = arrowControlsContainer.querySelector(`.${blockName}-arrowbutton--right`);\n  arrowLeftButton.addEventListener('click', () => navigate(carousel, 'left', arrowLeftButton, arrowRightButton));\n  arrowRightButton.addEventListener('click', () => navigate(carousel, 'right', arrowLeftButton, arrowRightButton));\n\n  updateArrowButtonsState(carousel, arrowLeftButton, arrowRightButton, 0);\n\n  return arrowControlsContainer;\n};\n\nconst getMagazineArticles = async (limit = 5, tags = {}, useRecentArticles = false) => {\n  if (useRecentArticles) {\n    return (0,_scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_2__.fetchMagazineArticles)({ limit, sort: 'PUBLISH_DATE_DESC' });\n  }\n\n  return await (0,_scripts_services_magazine_service_js__WEBPACK_IMPORTED_MODULE_2__.fetchRecommendedArticles)({ limit, tags });\n};\n\nconst buildStoryCard = (entry) => {\n  const {\n    metadata: {\n      url,\n      image,\n      title: originalTitle,\n      description,\n      linkText,\n      publishDate,\n      article: { readTime },\n    },\n  } = entry;\n\n  const title = originalTitle.split('|')[0].trim();\n  const li = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('article', { classes: `${blockName}-item` });\n  const picture = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.createOptimizedPicture)(image, title, false);\n  const pictureTag = picture.outerHTML;\n  const readMore = linkText || 'Read full story';\n\n  const { DATE_OPTIONS } = _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.MAGAZINE_CONFIGS;\n  const dateOptions = DATE_OPTIONS ? (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.extractObjectFromArray)(JSON.parse(DATE_OPTIONS)) : {};\n  const formattedDate = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.getDateFromTimestamp)(publishDate, dateOptions);\n\n  const svgArrowRight = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('span', { classes: ['icon', 'icon-arrow-right'] });\n  const cardFragment = document.createRange().createContextualFragment(`\n    <a href=\"${url}\">\n      ${pictureTag}\n    </a>\n    <div class=\"${blockName}-text\">\n      <h3>${title}</h3>\n      <p>${description}</p>\n      <ul class=\"${blockName}-meta\">\n        <li class=\"${blockName}-date\">\n          <time datetime=\"${formattedDate}\" pubdate=\"pubdate\">\n            ${formattedDate}\n          </time>\n        </li>\n        <li class=\"${blockName}-timetoread\">\n          <span>${readTime} read</span>\n        </li>\n      </ul>\n      <a href=\"${url}\" class=\"${blockName}-cta button tertiary\">\n        ${readMore}\n        ${svgArrowRight.outerHTML}\n      </a>\n    </div>`);\n\n  (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.decorateIcons)(cardFragment);\n  li.append(...cardFragment.children);\n  return li;\n};\n\nconst createStoriesCarousel = (block, stories) => {\n  const storiesSection = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('section', { classes: `${blockName}-items` });\n  block.appendChild(storiesSection);\n  stories.forEach((entry) => {\n    const storyArticle = buildStoryCard(entry);\n    storiesSection.appendChild(storyArticle);\n  });\n};\n\nconst getHeroPathKey = () => {\n  if (!document.querySelector('.v2-magazine-article-hero__container')) {\n    return '';\n  }\n  const canonical = document.querySelector('link[rel=\"canonical\"]')?.href || '';\n  const og = document.querySelector('meta[property=\"og:url\"]')?.content || '';\n  return (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.toPathKey)(canonical || og || '');\n};\n\nasync function decorate(block) {\n  const isRelatedArticles = block.classList.contains('related-articles');\n  let limit = parseFloat(block.textContent.trim()) || HIGH_LIMIT;\n  limit = Math.max(limit, LOW_LIMIT);\n\n  block.innerHTML = '';\n  let stories;\n  if (isRelatedArticles) {\n    const metadataTags = ['article-category', 'topic', 'truck'];\n    const tags = metadataTags.reduce((acc, metaTag, idx) => {\n      const metaContent = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.getMetadata)(metaTag);\n      if (metaContent) {\n        acc[idx === 0 ? 'category' : metaTag] = metaContent.split(',').map((tag) => tag.trim());\n      }\n      return acc;\n    }, {});\n    const articlesFetched = await getMagazineArticles(limit, tags);\n    stories = articlesFetched?.items || null;\n  } else {\n    const recentArticles = await getMagazineArticles(limit, {}, !isRelatedArticles);\n    stories = recentArticles?.items || null;\n  }\n\n  stories = Array.isArray(stories) ? stories : [];\n\n  const heroPathKey = getHeroPathKey();\n  if (heroPathKey) {\n    stories = stories.filter((story) => (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.toPathKey)(story?.metadata?.url) !== heroPathKey);\n  }\n\n  if (!stories || stories.length === 0) {\n    console.warn('No %cArticles%c found for the carousel.', 'color:red', 'color:inherit', { stories });\n    return;\n  }\n  createStoriesCarousel(block, stories);\n\n  const carousel = block.querySelector(`.${blockName}-items`);\n\n  const arrowControls = createArrowControls(carousel);\n  const arrowLeftButton = arrowControls.querySelector(`.${blockName}-arrowbutton--left`);\n  const arrowRightButton = arrowControls.querySelector(`.${blockName}-arrowbutton--right`);\n\n  listenScroll(carousel);\n  requestAnimationFrame(() => {\n    setTimeout(() => {\n      if (carousel) {\n        // Scroll to the second item\n        setCarouselPosition(carousel, 1, arrowLeftButton, arrowRightButton);\n      }\n    }, 500);\n  });\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-stories-carousel/v2-stories-carousel.js?\n}")},"./blocks/v2-tabbed-carousel/v2-tabbed-carousel.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _scripts_carousel_helper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/carousel-helper.js */ \"./scripts/carousel-helper.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_carousel_helper_js__WEBPACK_IMPORTED_MODULE_1__]);\n([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_carousel_helper_js__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst blockName = 'v2-tabbed-carousel';\nconst variantClasses = ['fade-in', 'columns', 'media-right'];\n\nconst updateActiveItem = (elements, entry, navigation) => {\n  elements.forEach((el, index) => {\n    if (el === entry.target && entry.intersectionRatio >= 0.75) {\n      const carouselItems = el.parentElement;\n\n      [carouselItems, navigation].forEach((c) => c.querySelectorAll('.active').forEach((i) => i.classList.remove('active')));\n      carouselItems.children[index].classList.add('active');\n      navigation.children[index].classList.add('active');\n\n      const activeNavigationItem = navigation.children[index];\n      (0,_scripts_carousel_helper_js__WEBPACK_IMPORTED_MODULE_1__.moveNavigationLine)(activeNavigationItem, navigation);\n\n      if (navigation && activeNavigationItem) {\n        activeNavigationItem.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });\n      }\n    }\n  });\n};\n\nfunction decorate(block) {\n  const smoothScroll = !block.classList.contains('fade-in');\n  const columns = block.classList.contains('columns');\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.variantsClassesToBEM)(block.classList, variantClasses, blockName);\n\n  const carouselItems = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('ul', { classes: `${blockName}__items` });\n  const tabNavigation = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('ul', { classes: `${blockName}__navigation` });\n  let timeout;\n\n  function buildTabNavigation(buttonContent, index) {\n    const listItem = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('li', { classes: `${blockName}__navigation-item` });\n    const button = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('button');\n    const moveCarousel = () => {\n      if (carouselItems.classList.contains('is-animating')) {\n        return;\n      }\n      (0,_scripts_carousel_helper_js__WEBPACK_IMPORTED_MODULE_1__.setCarouselPosition)(carouselItems, index, smoothScroll);\n    };\n    button.addEventListener('click', moveCarousel);\n    button.addEventListener('mouseover', (e) => {\n      clearTimeout(timeout);\n      (0,_scripts_carousel_helper_js__WEBPACK_IMPORTED_MODULE_1__.moveNavigationLine)(e.currentTarget, tabNavigation);\n    });\n\n    button.addEventListener('mouseout', () => {\n      timeout = setTimeout(() => {\n        const activeItem = block.querySelector(`.${blockName}__navigation-item.active`);\n        (0,_scripts_carousel_helper_js__WEBPACK_IMPORTED_MODULE_1__.moveNavigationLine)(activeItem, tabNavigation);\n      }, 600);\n    });\n\n    button.innerHTML = buttonContent;\n    listItem.append(button);\n\n    return listItem;\n  }\n\n  const tabItems = block.querySelectorAll(':scope > div');\n  tabItems.forEach((tabItem, index) => {\n    const picture = tabItem.querySelector('picture');\n    if (picture) {\n      const liItem = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('li', { classes: `${blockName}__item` });\n      const figure = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('figure', { classes: `${blockName}__figure` });\n      const tabContent = tabItem.querySelector('p');\n\n      figure.append(tabContent.querySelector('picture'));\n\n      const lastItems = [...tabContent.childNodes].at(-1);\n      if (columns) {\n        const slideContent = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { classes: `${blockName}__content` });\n        slideContent.innerHTML = tabItem.innerHTML;\n        liItem.append(slideContent);\n      } else if (lastItems.nodeType === Node.TEXT_NODE && lastItems.textContent.trim() !== '') {\n        const figureCaption = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('figcaption');\n        figureCaption.append(lastItems);\n        figure.append(figureCaption);\n      }\n\n      liItem.prepend(figure);\n      carouselItems.appendChild(liItem);\n\n      // navigation item\n      const alternativeTabTitle = liItem.querySelector('h1');\n      let tabTitle;\n      if (alternativeTabTitle) {\n        tabTitle = alternativeTabTitle;\n        alternativeTabTitle.remove();\n      } else {\n        tabTitle = tabItem.querySelector('h3') || tabItem.querySelector('h2') || tabItem.querySelector('h1');\n      }\n      const navItem = buildTabNavigation(tabTitle.innerHTML, index);\n      tabNavigation.append(navItem);\n      tabTitle.remove();\n      tabItem.innerHTML = '';\n    }\n  });\n\n  block.append(tabNavigation, carouselItems);\n\n  // update the button indicator on scroll\n  const elements = carouselItems.querySelectorAll(':scope > *');\n  (0,_scripts_carousel_helper_js__WEBPACK_IMPORTED_MODULE_1__.listenScroll)(carouselItems, elements, tabNavigation, updateActiveItem, 0.75);\n\n  // Update slide position + navigation line when page is resized\n  window.addEventListener('resize', () => {\n    const activeItem = carouselItems.querySelector('.active');\n    const index = [...activeItem.parentNode.children].indexOf(activeItem);\n\n    (0,_scripts_carousel_helper_js__WEBPACK_IMPORTED_MODULE_1__.setCarouselPosition)(carouselItems, index, smoothScroll);\n    (0,_scripts_carousel_helper_js__WEBPACK_IMPORTED_MODULE_1__.moveNavigationLine)(tabNavigation.children[index], tabNavigation);\n  });\n\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.unwrapDivs)(block);\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.removeEmptyTags)(carouselItems);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-tabbed-carousel/v2-tabbed-carousel.js?\n}")},"./blocks/v2-text/v2-text.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\nconst variantClasses = ['double', 'heading-3-5', 'title-small'];\n\nfunction decorate(block) {\n  const blockName = 'v2-text';\n\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.variantsClassesToBEM)(block.classList, variantClasses, blockName);\n  const textRows = block.querySelectorAll(':scope > div');\n\n  textRows.forEach((row) => {\n    row.classList.add(`${blockName}__row`);\n\n    const headings = [...row.querySelectorAll('h1, h2, h3, h4, h5, h6')];\n    headings.forEach((heading, index) => {\n      if (index === 0) {\n        heading.classList.add(`${blockName}__title`);\n        return;\n      }\n      heading.classList.add(`${blockName}__sub-title`);\n    });\n\n    const info = [...row.querySelectorAll('p')];\n    info.forEach((heading) => heading.classList.add(`${blockName}__info`));\n\n    (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.unwrapDivs)(row);\n  });\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-text/v2-text.js?\n}")},"./blocks/v2-truck-lineup/v2-truck-lineup.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _scripts_motion_helper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/motion-helper.js */ \"./scripts/motion-helper.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\n\nconst blockName = 'v2-truck-lineup';\nlet currentColor;\n\nfunction setupMetaField(metaFieldName, truckCarousel) {\n  if (!metaFieldName || !truckCarousel) {\n    return;\n  }\n\n  const pageMetaField = document.querySelector(`head meta[name=\"${metaFieldName}\"]`);\n  if (pageMetaField && truckCarousel) {\n    pageMetaField.setAttribute('content', truckCarousel);\n  } else if (truckCarousel) {\n    const meta = document.createElement('meta');\n    meta.name = metaFieldName;\n    meta.content = truckCarousel;\n    document.getElementsByTagName('head')[0].appendChild(meta);\n  }\n}\n\nfunction stripEmptyTags(main, child) {\n  if (child !== main && child.innerHTML.trim() === '') {\n    const parent = child.parentNode;\n    child.remove();\n    stripEmptyTags(main, parent);\n  }\n}\n\nconst moveNavigationLine = (navigationLine, activeTab, tabNavigation) => {\n  if (!activeTab || !navigationLine || !tabNavigation) {\n    return;\n  }\n  const { x: navigationX } = tabNavigation.getBoundingClientRect();\n  const { x, width } = activeTab.getBoundingClientRect();\n  Object.assign(navigationLine.style, {\n    left: `${x + tabNavigation.scrollLeft - navigationX}px`,\n    width: `${width}px`,\n  });\n};\n\nfunction buildButtonNavigation(tabItems, block) {\n  const buttonNavigation = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('ul', { classes: `${blockName}__navigation` });\n\n  [...tabItems]\n    .filter((buttonItem) => !buttonItem.classList.contains('hidden'))\n    .forEach((buttonItem, i) => {\n      const tabContent = buttonItem.querySelector(':scope > div');\n      const listItem = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('li', { classes: [`${blockName}__navigation-item`, ...(i === 0 ? ['active'] : [])] });\n      const button = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('button', {\n        classes: ['button', 'secondary'],\n        props: { type: 'button', value: tabContent?.dataset?.truckCarousel || '' },\n      });\n      button.addEventListener('click', () => {\n        setCarouselPosition(block.querySelector(`.${blockName}__images-container`), i);\n      });\n\n      if (tabContent) {\n        button.innerText = tabContent.dataset.truckCarousel;\n        listItem.append(button);\n        buttonNavigation.append(listItem);\n      }\n    });\n\n  return buttonNavigation;\n}\n\nfunction buildTabNavigation(tabItems, clickHandler, block) {\n  const tabNavigation = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('ul', { classes: `${blockName}__navigation` });\n  const navigationLine = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('li', { classes: `${blockName}__navigation-line` });\n  let timeout;\n\n  [...tabItems]\n    .filter((tabItem) => !tabItem.classList.contains('hidden'))\n    .forEach((tabItem, i) => {\n      const listItem = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('li', { classes: `${blockName}__navigation-item` });\n      const button = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('button');\n      button.addEventListener('click', () => clickHandler(i));\n      button.addEventListener('mouseover', (e) => {\n        clearTimeout(timeout);\n        moveNavigationLine(navigationLine, e.currentTarget, tabNavigation);\n      });\n\n      button.addEventListener('mouseout', () => {\n        timeout = setTimeout(() => {\n          const activeItem = block.querySelector(`.${blockName}__navigation-item.active`);\n          moveNavigationLine(navigationLine, activeItem, tabNavigation);\n        }, 600);\n      });\n\n      const tabContent = tabItem.querySelector(':scope > div');\n      if (tabContent) {\n        button.innerHTML = tabContent.dataset.truckCarousel;\n        listItem.append(button);\n        tabNavigation.append(listItem);\n      }\n    });\n\n  tabNavigation.append(navigationLine);\n\n  return tabNavigation;\n}\n\nfunction buildColorSwitcherList(colors, carousel, onColorChangeCallback) {\n  const colorSwitcherList = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('ul', { classes: `${blockName}__color-switcher` });\n  const colorElements = [];\n  let firstItemActiveClass = 'active';\n\n  colors.forEach((color) => {\n    colorElements.push(`\n      <li>\n        <button class=\"v2-truck-lineup__color-button ${firstItemActiveClass}\" data-color=\"${color}\" title=\"${color}\" style=\"background-color: ${color}\"></button>\n      </li>\n    `);\n    firstItemActiveClass = '';\n  });\n\n  colorSwitcherList.append(document.createRange().createContextualFragment(colorElements.join('')));\n\n  colorSwitcherList.querySelectorAll('button').forEach((button) => {\n    button.addEventListener('click', (e) => {\n      if (carousel.classList.contains('is-animating')) {\n        return;\n      }\n\n      const color = e.currentTarget.dataset.color;\n      const activeColor = colorSwitcherList.querySelector('.active');\n      activeColor.classList.remove('active');\n      e.currentTarget.classList.add('active');\n\n      onColorChangeCallback(color);\n    });\n  });\n\n  return colorSwitcherList;\n}\n\nconst updateActiveItem = (index, block) => {\n  const allImages = block.querySelector(`.${blockName}__images-container`);\n  const currentImages = block.querySelectorAll(\n    currentColor ? `.${blockName}__image-item[data-color=\"${currentColor}\"]` : `.${blockName}__image-item`,\n  );\n  const descriptions = block.querySelector(`.${blockName}__description-container`);\n  const navigation = block.querySelector(`.${blockName}__navigation`);\n  const navigationLine = block.querySelector(`.${blockName}__navigation-line`);\n  const metaFieldName = getMetaFieldName(currentImages[index]);\n  const truckCarousel = getTruckCarousel(currentImages[index]);\n\n  [allImages, descriptions, navigation].forEach((c) =>\n    c.querySelectorAll('.active').forEach((i) => {\n      i.classList.remove('active');\n\n      // Remove aria-hidden and tabindex from previously active items\n      i.setAttribute('aria-hidden', 'true');\n      i.querySelectorAll('a').forEach((link) => link.setAttribute('tabindex', '-1'));\n    }),\n  );\n\n  currentImages[index].classList.add('active');\n\n  setupMetaField(metaFieldName, truckCarousel);\n\n  descriptions.children[index].classList.add('active');\n  navigation.children[index].classList.add('active');\n\n  // Make links of current item are accessible by keyboard\n  descriptions.children[index].setAttribute('aria-hidden', 'false');\n  descriptions.children[index].querySelectorAll('a').forEach((link) => link.setAttribute('tabindex', '0'));\n\n  const activeNavigationItem = navigation.children[index];\n  moveNavigationLine(navigationLine, activeNavigationItem, navigation);\n\n  // Center navigation item\n  const navigationActiveItem = navigation.querySelector('.active');\n\n  if (navigation && navigationActiveItem) {\n    const { clientWidth: itemWidth, offsetLeft } = navigationActiveItem;\n    // Calculate the scroll position to center the active item\n    const scrollPosition = offsetLeft - (navigation.clientWidth - itemWidth) / 2;\n    navigation.scrollTo({\n      left: scrollPosition,\n      behavior: 'smooth',\n    });\n  }\n\n  // Update description position\n  const descriptionWidth = descriptions.offsetWidth;\n\n  setTimeout(() => {\n    descriptions.scrollTo({\n      left: descriptionWidth * index,\n      behavior: 'smooth',\n    });\n  }, 50);\n};\n\nconst listenScroll = (carousel, block) => {\n  const imageLoadPromises = Array.from(carousel.querySelectorAll('.v2-truck-lineup__image-item:not(.hidden) picture > img'))\n    .filter((img) => !img.complete)\n    .map(\n      (img) =>\n        new Promise((resolve) => {\n          img.addEventListener('load', resolve);\n        }),\n    );\n\n  Promise.all(imageLoadPromises).then(() => {\n    const elements = carousel.querySelectorAll(':scope > *');\n\n    const io = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting && entry.intersectionRatio >= 0.9) {\n            const activeItem = entry.target;\n            if (activeItem.classList.contains('hidden')) {\n              return;\n            }\n            const currentIndex = Array.from(activeItem.parentNode.children).indexOf(activeItem);\n            updateActiveItem(currentIndex, block);\n          }\n        });\n      },\n      {\n        root: carousel,\n        threshold: 0.9,\n      },\n    );\n\n    elements.forEach((el) => io.observe(el));\n\n    // Force to go to the first item on load\n    carousel.scrollTo({\n      left: 0,\n      behavior: 'instant',\n    });\n  });\n};\n\nconst setCarouselPosition = (carousel, index) => {\n  const scrollOffset = carousel.querySelector('.v2-truck-lineup__image-item:not(.hidden)')?.getBoundingClientRect().width;\n  const targetX = index * scrollOffset;\n\n  (0,_scripts_motion_helper_js__WEBPACK_IMPORTED_MODULE_1__.smoothScrollHorizontal)(carousel, targetX, 1200);\n};\n\nconst navigate = (carousel, direction, block) => {\n  if (carousel.classList.contains('is-animating')) {\n    return;\n  }\n\n  const currentImages = block.querySelectorAll(\n    currentColor ? `.${blockName}__image-item[data-color=\"${currentColor}\"]` : `.${blockName}__image-item`,\n  );\n  const activeItem = carousel.querySelector(`.${blockName}__image-item.active`);\n  let index = [...activeItem.parentNode.querySelectorAll(`.${blockName}__image-item:not(.hidden)`)].indexOf(activeItem);\n  if (direction === 'left') {\n    index -= 1;\n    if (index === -1) {\n      index = currentImages.length - 1;\n    }\n  } else {\n    index += 1;\n    if (index > currentImages.length - 1) {\n      index = 0;\n    }\n  }\n\n  const images = carousel.querySelectorAll('.v2-truck-lineup__image-item');\n  images.forEach((image) => image.classList.remove('active'));\n  currentImages[index].classList.add('active');\n\n  setCarouselPosition(carousel, index);\n};\n\nconst createArrowControls = (carousel, block) => {\n  const arrowControls = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('ul', { classes: [`${blockName}__arrow-controls`] });\n  const arrows = document.createRange().createContextualFragment(`\n    <li>\n      <button aria-label=\"Previous\">\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15.6276 3.03255C15.8458 3.20171 15.8856 3.51578 15.7165 3.73404L9.31099 11.9992L15.7165 20.2643C15.8856 20.4826 15.8458 20.7967 15.6276 20.9658C15.4093 21.135 15.0952 21.0952 14.9261 20.8769L8.2832 12.3055C8.14348 12.1252 8.14348 11.8732 8.2832 11.6929L14.9261 3.12147C15.0952 2.90321 15.4093 2.86339 15.6276 3.03255Z\" fill=\"currentColor\"/>\n        </svg>\n      </button>\n    </li>\n    <li>\n      <button aria-label=\"Next\">\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.37245 20.9674C8.15418 20.7983 8.11437 20.4842 8.28353 20.266L14.689 12.0008L8.28353 3.73567C8.11437 3.5174 8.15418 3.20333 8.37245 3.03418C8.59072 2.86502 8.90479 2.90483 9.07394 3.1231L15.7168 11.6945C15.8565 11.8748 15.8565 12.1268 15.7168 12.3071L9.07394 20.8785C8.90479 21.0968 8.59072 21.1366 8.37245 20.9674Z\" fill=\"currentColor\"/>\n        </svg>\n      </button>\n    </li>\n  `);\n  arrowControls.append(...arrows.children);\n  carousel.insertAdjacentElement('beforebegin', arrowControls);\n  const [prevButton, nextButton] = arrowControls.querySelectorAll(':scope button');\n  prevButton.addEventListener('click', () => navigate(carousel, 'left', block));\n  nextButton.addEventListener('click', () => navigate(carousel, 'right', block));\n};\n\nconst getTabColor = (tabItem) => {\n  const tabContent = tabItem.querySelector(':scope > div, :scope > p > div');\n\n  if (tabContent) {\n    return tabContent.dataset.truckColor;\n  }\n\n  return '';\n};\n\nconst getMetaFieldName = (container) => {\n  const defaultMetaFieldName = 'v2-truck-lineup-meta-active';\n  const subContainer = container.querySelector(':scope > div, :scope > p > div');\n\n  if (!container) {\n    return defaultMetaFieldName;\n  }\n\n  if (subContainer) {\n    return subContainer.dataset.metaFieldName || defaultMetaFieldName;\n  }\n\n  return container.dataset.metaFieldName || defaultMetaFieldName;\n};\n\nconst getTruckCarousel = (container) => {\n  const defaultTruckCarousel = '';\n\n  if (!container) {\n    return defaultTruckCarousel;\n  }\n\n  const subContainer = container.querySelector(':scope > div, :scope > p > div');\n\n  if (subContainer) {\n    return subContainer.dataset.truckCarousel || defaultTruckCarousel;\n  }\n\n  return container.dataset.truckCarousel || defaultTruckCarousel;\n};\n\nfunction decorate(block) {\n  const buttonNavigation = block.closest('main').classList.contains('truck-lineup-buttons');\n  const descriptionContainer = block.querySelector(':scope > div');\n  const imagesWrapper = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { classes: `${blockName}__slider-wrapper` });\n  const imagesContainer = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { classes: `${blockName}__images-container` });\n  descriptionContainer.classList.add(`${blockName}__description-container`);\n\n  let tabItems = block.querySelectorAll(':scope > div > div');\n  const selectedColor = getTabColor(tabItems[0]);\n  const metaFieldName = getMetaFieldName(tabItems[0]);\n  const truckCarousel = getTruckCarousel(tabItems[0]);\n\n  // Set the initial value to the meta field\n  setupMetaField(metaFieldName, truckCarousel);\n\n  const colors = new Set();\n\n  tabItems.forEach((tabItem) => {\n    const firstChildParagraph = tabItem.querySelector(':scope > p');\n\n    if (firstChildParagraph) {\n      tabItem.innerHTML = firstChildParagraph.innerHTML;\n    }\n\n    const color = getTabColor(tabItem);\n\n    colors.add(getTabColor(tabItem));\n\n    if (color !== selectedColor) {\n      tabItem.classList.add('hidden');\n      return;\n    }\n  });\n\n  tabItems = block.querySelectorAll(':scope > div > div');\n\n  if (colors.size > 1) {\n    currentColor = getTabColor(tabItems[0]);\n\n    const colorSwitcherList = buildColorSwitcherList(colors, imagesContainer, function onColorChange(color) {\n      if (imagesContainer.classList.contains('is-animating')) {\n        return;\n      }\n\n      currentColor = color;\n      const imageItems = block.querySelectorAll(`.${blockName}__image-item:not(.hidden)`);\n      const newColorImageItems = block.querySelectorAll(`.${blockName}__image-item[data-color=\"${color}\"]`);\n\n      imageItems.forEach((element) => element.classList.add('hidden'));\n      newColorImageItems.forEach((element) => element.classList.remove('hidden'));\n      imagesContainer.scrollLeft = 0;\n\n      updateActiveItem(0, block);\n    });\n\n    descriptionContainer.parentNode.prepend(colorSwitcherList);\n  }\n  descriptionContainer.parentNode.prepend(imagesWrapper);\n  imagesWrapper.appendChild(imagesContainer);\n\n  const tabNavigation = buttonNavigation\n    ? buildButtonNavigation(tabItems, block)\n    : buildTabNavigation(\n        tabItems,\n        (index) => {\n          setCarouselPosition(imagesContainer, index);\n        },\n        block,\n      );\n\n  // Arrows\n  createArrowControls(imagesContainer, block);\n\n  descriptionContainer.parentNode.prepend(tabNavigation);\n\n  const colorCheck = [];\n  const imageObj = new Image();\n  tabItems.forEach((tabItem) => {\n    const color = getTabColor(tabItem);\n    const metaFieldName = getMetaFieldName(tabItem);\n    const truckCarousel = getTruckCarousel(tabItem);\n\n    tabItem.classList.add(`${blockName}__desc-item`);\n    const tabContent = tabItem.querySelector(':scope > div');\n\n    // Create div for image and append inside image div container\n    const picture = tabItem.querySelector('picture');\n    const imageItem = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { classes: `${blockName}__image-item` });\n    imageItem.appendChild(picture);\n    imageItem.setAttribute('data-color', color);\n    imageItem.setAttribute('data-meta-field-name', metaFieldName);\n    imageItem.setAttribute('data-truck-carousel', truckCarousel);\n\n    if (!colorCheck.includes(color)) {\n      imageItem.classList.add('first-of-color');\n      colorCheck.push(color);\n    }\n\n    if (selectedColor && getTabColor(tabItem) !== selectedColor) {\n      imageItem.classList.add('hidden');\n    }\n\n    imageObj.src = imageItem?.src;\n\n    imagesContainer.appendChild(imageItem);\n\n    // Remove empty tags\n    tabContent.querySelectorAll('p, div').forEach((item) => {\n      stripEmptyTags(tabContent, item);\n    });\n\n    // Wrap links in container\n    const buttonContainer = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { classes: `${blockName}__buttons-container` });\n    const buttons = tabContent.querySelectorAll('.button-container');\n\n    if (buttons.length) {\n      const parentButtonContainer = buttons[0].parentNode;\n      buttonContainer.append(...buttons);\n      parentButtonContainer.appendChild(buttonContainer);\n    }\n  });\n\n  // Update the button indicator on scroll\n  listenScroll(imagesContainer, block);\n\n  // Update text position + navigation line when page is resized\n  window.addEventListener('resize', () => {\n    const activeItem = imagesContainer.querySelector(`.${blockName}__image-item.active, .${blockName}__image-item:first-child`); // The .active or the first item\n\n    if (activeItem) {\n      const index = [...activeItem.parentNode.children].indexOf(activeItem);\n      updateActiveItem(index, block);\n    }\n  });\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-truck-lineup/v2-truck-lineup.js?\n}")},"./blocks/v2-video/v2-video.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/video-helper.js */ \"./scripts/video-helper.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__]);\n([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst onHoverOrScroll = (element, handler) => {\n  let isInViewport = false;\n  let isMouseOver = false;\n  const onChange = () => {\n    handler(isInViewport || isMouseOver);\n  };\n\n  const observer = new IntersectionObserver(\n    (entries) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          isInViewport = entry.intersectionRatio >= 0.5;\n          onChange();\n        }\n      });\n    },\n    {\n      threshold: [0.4, 0.5, 0.6],\n    },\n  );\n  observer.observe(element);\n\n  element.addEventListener('mouseover', () => {\n    isMouseOver = true;\n    onChange();\n  });\n\n  element.addEventListener('mouseout', () => {\n    isMouseOver = false;\n    onChange();\n  });\n};\n\nconst extractAspectRatio = (block) => {\n  const aspectRatioRegex = /aspect-ratio-(\\d+)-(\\d+)/;\n  const aspectRatioClass = Array.from(block.classList).find((className) => aspectRatioRegex.test(className));\n\n  const match = aspectRatioClass?.match(aspectRatioRegex);\n\n  return match\n    ? {\n        width: parseInt(match[1], 10),\n        height: parseInt(match[2], 10),\n      }\n    : null;\n};\n\nconst retrieveVideoConfig = (block, aspectRatio) => {\n  const image = block.querySelector('img');\n  const poster = image ? new URL(image.getAttribute('src'), window.location.href).href : undefined;\n\n  return {\n    ...(aspectRatio ? { aspectRatio: `${aspectRatio.width}:${aspectRatio.height}` } : {}),\n    ...(poster ? { poster } : {}),\n    autoplay: block.classList.contains('autoplay'),\n    muted: block.classList.contains('autoplay') || block.classList.contains('muted'),\n    loop: block.classList.contains('loop'),\n    controls: block.classList.contains('controls'),\n    disablePictureInPicture: block.classList.contains('disable-picture-in-picture'),\n    language: document.documentElement.lang,\n    playsinline: true,\n  };\n};\n\nconst variantClasses = ['expanding'];\n\nasync function decorate(block) {\n  const blockName = 'v2-video';\n  const videoLink = block.querySelector('a');\n\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.variantsClassesToBEM)(block.classList, variantClasses, blockName);\n\n  if (!videoLink) {\n    console.warn('Video for v2-video block is required and not provided. The block will not render!');\n    block.innerHTML = '';\n    return;\n  }\n\n  const aspectRatio = extractAspectRatio(block);\n  if (aspectRatio) {\n    block.style.setProperty('--video-aspect-ratio', `${aspectRatio.width}/${aspectRatio.height}`);\n  }\n\n  const config = retrieveVideoConfig(block, aspectRatio);\n  const video = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.createVideo)(\n    videoLink,\n    `${blockName}__video`,\n    {\n      ...config,\n      fill: true,\n    },\n    { usePosterAutoDetection: true },\n  );\n\n  (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_1__.cleanupVideoLink)(block, videoLink, true);\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.removeEmptyTags)(block, true);\n\n  const headings = block.querySelectorAll('h1, h2, h3, h4, h5, h6');\n  const ctaButtons = block.querySelectorAll('.button-container a');\n  const contentWrapper = block.querySelector(':scope > div');\n  const content = block.querySelector(':scope > div > div');\n\n  if (contentWrapper) {\n    contentWrapper.classList.add(`${blockName}__content-wrapper`);\n    content.classList.add(`${blockName}__content`);\n    [...headings].forEach((heading) => heading.classList.add(`${blockName}__heading`));\n    [...ctaButtons].forEach((button) => {\n      button.classList.add(`${blockName}__button`, 'dark');\n    });\n  }\n\n  block.prepend(video);\n\n  if (block.classList.contains(`${blockName}--expanding`)) {\n    onHoverOrScroll(block, (val) => {\n      const action = val ? 'add' : 'remove';\n\n      block.classList[action](`${blockName}--full-width`);\n    });\n  } else {\n    block.classList.add(`${blockName}--full-width`);\n  }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-video/v2-video.js?\n}")},"./blocks/v2-visual-grid/v2-visual-grid.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_async_dependencies_result__[0];\n\n\n\nconst blockName = 'v2-visual-grid';\nconst CLASSES = {\n  list: `${blockName}__list`,\n  item: `${blockName}__item`,\n};\n\n/**\n * Extracts the alt text from the cell element.\n * @param {HTMLElement} cellElement - The cell element containing the text.\n * @returns {string} The extracted alt text.\n */\nconst extractAltText = (cellElement) => {\n  const altTextElement = cellElement.querySelector(':scope > p:not(:has(picture))');\n  return altTextElement ? altTextElement.textContent.trim() : '';\n};\n\n/**\n * Extracts the image element from the cell element.\n * @param {HTMLElement} cellElement - The cell element containing the picture.\n * @returns {HTMLImageElement|null} The image element, or null if not found.\n */\nconst extractImageElement = (cellElement) => {\n  const pictureElement = cellElement.querySelector('picture');\n  return pictureElement ? pictureElement.querySelector('img') : null;\n};\n\n/**\n * Creates a list item with an optimized picture.\n * @param {HTMLImageElement} image - The image element to optimize.\n * @param {string} altText - The alt text for the image.\n * @returns {HTMLElement} The list item with the optimized picture.\n */\nconst createListItemWithPicture = (image, altText) => {\n  const listItem = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('li', { classes: CLASSES.item });\n  const optimizedPicture = (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_0__.createOptimizedPicture)(image.src, altText, false);\n  listItem.prepend(optimizedPicture);\n  return listItem;\n};\n\n/**\n * Processes a single cell to extract and create a list item if it contains a picture.\n * @param {HTMLElement} cellElement - The cell element to process.\n * @returns {HTMLElement|null} The created list item or null if no picture is found.\n */\nconst processCell = (cellElement) => {\n  const imageElement = extractImageElement(cellElement);\n  if (imageElement) {\n    const altText = extractAltText(cellElement);\n    return createListItemWithPicture(imageElement, altText);\n  }\n  return null;\n};\n\n/**\n * Processes each cell and adds it to the list if it contains a picture.\n * @param {HTMLElement} block - The block element containing the cells.\n * @returns {HTMLElement} The list element with all list items.\n */\nconst processCells = (block) => {\n  const listElement = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('ul', { classes: CLASSES.list });\n  const cellElements = block.querySelectorAll(':scope > div > div');\n\n  cellElements.forEach((cellElement) => {\n    const listItem = processCell(cellElement);\n    if (listItem) {\n      listElement.append(listItem);\n    }\n    cellElement.remove();\n  });\n\n  return listElement;\n};\n\n/**\n * Decorates the block element with an optimized visual grid.\n * @param {HTMLElement} block - The block element to decorate.\n */\nconst decorate = (block) => {\n  const listElement = processCells(block);\n  block.append(listElement);\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_1__.removeEmptyTags)(block);\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (decorate);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/v2-visual-grid/v2-visual-grid.js?\n}")},"./blocks/video-link/video-link.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/video-helper.js */ \"./scripts/video-helper.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\nfunction decorate(block) {\n  const links = block.querySelectorAll('a');\n  const selectedLink = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_0__.selectVideoLink)(links);\n  if (selectedLink) {\n    const icon = document.createElement('i');\n    icon.classList.add('fa', 'fa-play-circle-o');\n    selectedLink.prepend(icon);\n    block.innerHTML = '';\n    block.appendChild(selectedLink);\n  } else {\n    block.remove();\n\n    console.warn('local video link missing', block);\n  }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/video-link/video-link.js?\n}")},"./blocks/vin-number/vin-number.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ decorate)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\nconst docRange = document.createRange();\nconst isFrench = window.location.href.indexOf('/fr') > -1;\nconst blockName = 'vin-number';\n\nconst apiConfig = {\n  dev: {\n    url: 'https://vinlookup-dev-euw-ase-01.azurewebsites.net/v1/api/',\n    key: '0e13506b59674706ad9bae72d94fc83c',\n  },\n  qa: {\n    url: 'https://vinlookup-qa-euw-ase-01.azurewebsites.net/v1/api/',\n    key: '0e13506b59674706ad9bae72d94fc83c',\n  },\n  prod: {\n    url: 'https://vinlookup-prod-euw-ase-01.azurewebsites.net/v1/api/',\n    key: '0e13506b59674706ad9bae72d94fc83c',\n  },\n};\n\n// list of things to be display for each recall\nconst valueDisplayList = [\n  {\n    key: 'recall_date',\n  },\n  {\n    key: 'tc_recall_date',\n  },\n  {\n    key: 'mfr_recall_number',\n  },\n  {\n    key: 'nhtsa_recall_number',\n  },\n  {\n    key: 'tc_recall_nbr',\n  },\n  {\n    key: 'mfr_recall_status',\n  },\n  {\n    key: 'recall_description',\n    frenchKey: 'recall_description_french',\n    class: `${blockName}__detail-item--column`,\n  },\n  {\n    key: 'safety_risk_description',\n    frenchKey: 'safety_risk_description_french',\n    class: `${blockName}__detail-item--column`,\n  },\n  {\n    key: 'interim_precautions',\n    frenchKey: 'interim_precautions_french',\n    class: `${blockName}__detail-item--column`,\n    displayIfEmpty: true,\n  },\n  {\n    key: 'remedy_description',\n    frenchKey: 'remedy_description_french',\n    class: `${blockName}__detail-item--column`,\n  },\n  {\n    key: 'recall_effective_date',\n    class: `${blockName}__detail-item--column`,\n    text: 'recall_effective_text',\n    frenchText: 'vin_number:recall_effective_text_french',\n    displayIfEmpty: true,\n  },\n  {\n    key: 'mfr_notes',\n    frenchKey: 'mfr_notes_french',\n    class: `${blockName}__detail-item--column`,\n  },\n];\n\n// use this to map values from API\nconst recallStatus = {\n  11: 'recall-incomplete',\n  0: 'recall-complete',\n  12: 'recall-incomplete-no-remedy',\n};\n\nconst formatFrenchDate = (date) => {\n  const formattedDate = new Date(date).toLocaleDateString('fr-FR', { year: 'numeric', month: 'short', day: 'numeric' });\n  return formattedDate;\n};\n\nfunction renderRecalls(recallsData) {\n  const resultTextEle = document.querySelector(`.${blockName}__results-text`);\n  let resultContent = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('vin_number:result_text')\n    .replace(/\\${count}/, recallsData.number_of_recalls)\n    .replace(/\\${vin}/, recallsData.vin);\n  let noFrenchInfo = false;\n\n  const recallsOldestDate = isFrench ? formatFrenchDate(recallsData.recalls_since) : recallsData.recalls_since;\n  const blockEl = document.querySelector(`.${blockName}__recalls-wrapper`);\n\n  const recallsMake = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { classes: `${blockName}__recalls-make-wrapper` });\n  const makeFragment = docRange.createContextualFragment(`\n    <div class=\"${blockName}__recalls-model-year\">\n      <span class=\"${blockName}__recalls-make subtitle-1\">${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('vin_number:model_year')}</span>\n      <span> ${recallsData.year}</span>\n    </div>\n    <div class=\"${blockName}__recalls-make\">\n      <span class=\"${blockName}__recalls-make subtitle-1\">${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('vin_number:make')}</span>\n      <span> ${recallsData.make}</span>\n    </div>\n    <div class=\"${blockName}__recalls-model\">\n      <span class=\"${blockName}__recalls-model subtitle-1\">${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('vin_number:model')}</span>\n      <span> ${recallsData.model}</span>\n    </div>\n  `);\n\n  recallsMake.append(...makeFragment.children);\n  blockEl.append(recallsMake);\n\n  if (recallsData.recalls_available) {\n    const listWrapperFragment = docRange.createContextualFragment(`\n      <div class=\"${blockName}__recalls-heading-wrapper\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12.537 2.77441C12.4523 2.60503 12.2792 2.49804 12.0898 2.49805C11.9004 2.49805 11.7273 2.60506 11.6426 2.77445L2.14458 21.7711C2.06709 21.9261 2.07537 22.1102 2.16647 22.2576C2.25758 22.405 2.41851 22.4947 2.5918 22.4947H21.5897C21.7629 22.4947 21.9239 22.405 22.015 22.2576C22.1061 22.1102 22.1144 21.9261 22.0369 21.7711L12.537 2.77441ZM3.4008 21.4947L12.0898 4.11603L20.7806 21.4947H3.4008ZM12.9995 14.6796V15.7512C12.9995 15.8619 12.9046 15.9974 12.7538 15.9974L12.4304 15.9969C12.2549 15.9965 12.0583 15.9961 11.9556 15.9961H11.2484C11.0976 15.9961 11.0027 15.8606 11.0027 15.7499V14.6796L11.0027 8.24501C11.0027 8.13425 11.0976 7.99874 11.2484 7.99874H11.9556C12.0581 7.99874 12.2545 7.99834 12.4299 7.99798H12.43L12.4304 7.99798L12.7538 7.99744C12.9046 7.99744 12.9995 8.13295 12.9995 8.2437L12.9995 14.6796ZM12.9964 18.8443V19.7512C12.9964 19.8619 12.9015 19.9974 12.7507 19.9974L12.4273 19.9969C12.2517 19.9965 12.0551 19.9961 11.9524 19.9961H11.2452C11.0944 19.9961 10.9995 19.8606 10.9995 19.7499V18.8443V18.2437C10.9995 18.1329 11.0944 17.9974 11.2452 17.9974H11.9524C12.0551 17.9974 12.2517 17.997 12.4273 17.9967L12.7507 17.9961C12.9015 17.9961 12.9964 18.1316 12.9964 18.2424L12.9964 18.8443Z\" fill=\"currentColor\"/>\n        </svg>\n        <h4 class=\"${blockName}__recalls-heading\">${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('vin_number:recalls')}  &nbsp; &nbsp;</h4>\n        <span> [${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('vin_number:recall_oldest_info')} ${recallsOldestDate}] </span>\n      </div>\n    `);\n\n    // create each recall\n    const list = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('ul', { classes: `${blockName}__list` });\n    recallsData.recalls.forEach((recall) => {\n      const liEl = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('li', {\n        classes: `${blockName}__list-item`,\n      });\n\n      // map the number from api to correct status\n      recall.mfr_recall_status = recallStatus[recall.mfr_recall_status];\n      const recallDetailsList = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('ul', { classes: `${blockName}__detail-list` });\n      valueDisplayList.forEach((item) => {\n        if (recall[item.key] || item.displayIfEmpty) {\n          const recallClass = item.key === 'mfr_recall_status' ? `${blockName}__${recall.mfr_recall_status.replace(/_/g, '-').toLowerCase()}` : '';\n          let itemValue = recall[item.key] || '';\n          if (recallClass) {\n            itemValue = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)(recall[item.key]);\n          } else if (item.key === 'recall_date' || item.key === 'tc_recall_date') {\n            itemValue = isFrench ? formatFrenchDate(recall[item.key]) : recall[item.key];\n          } else if (isFrench && item.frenchKey) {\n            if (recall[item.frenchKey]) {\n              itemValue = recall[item.frenchKey];\n            } else if (!noFrenchInfo) {\n              const noFrenchInoEl = document.querySelector(`.${blockName}__no-french-info`);\n              noFrenchInoEl.textContent = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('vin_number:no_french_info');\n              noFrenchInfo = true;\n            }\n          }\n\n          if (itemValue && item.key === 'recall_effective_date') {\n            const recallText = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)(isFrench ? 'vin_number:recall_effective_text_french' : 'vin_number:recall_effective_text').split('//');\n            const recallDate = new Date(itemValue).setHours(0, 0, 0, 0);\n            const today = new Date().setHours(0, 0, 0, 0);\n            itemValue = recallDate > today ? ` ${recallText[1]} ${isFrench ? formatFrenchDate(itemValue) : itemValue} .` : recallText[0];\n          }\n\n          const itemFragment = docRange.createContextualFragment(`<li class=\"${blockName}__detail-item ${item.class ? item.class : ''}\" >\n            <h5 class=\"${blockName}__detail-title subtitle-1\">${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)(item.key)}</h5>\n            <span class=\"${blockName}__detail-value ${recallClass}\">${itemValue}</span>\n          </li>`);\n          recallDetailsList.append(...itemFragment.children);\n        }\n      });\n      liEl.append(recallDetailsList);\n      list.append(liEl);\n    });\n\n    blockEl.append(listWrapperFragment);\n    blockEl.appendChild(list);\n  } else {\n    resultContent = `${resultContent} [${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('vin_number:recall_available_info')} ${recallsOldestDate}]`;\n  }\n\n  resultTextEle.innerText = resultContent;\n}\n\nfunction getAPIConfig() {\n  let env = 'prod';\n\n  if (['hlx.page', 'aem.page'].some((host) => window.location.host.includes(host))) {\n    env = 'qa';\n  } else if (window.location.host.includes('localhost')) {\n    env = 'dev';\n  }\n  return apiConfig[env];\n}\n\nfunction getStorageItem(key) {\n  // get the parsed value of the given key\n  const result = JSON.parse(window.localStorage.getItem(key));\n\n  // if the key has value\n  if (result) {\n    // if the entry is expired remove the entry and return null\n    if (result.expireTime <= Date.now()) {\n      window.localStorage.removeItem(key);\n      return null;\n    }\n    // else return the value\n    return result.data;\n  }\n  // if the key does not have value\n  return null;\n}\n\nfunction setStorageItem(key, value) {\n  // store the value as object along with expiry date\n  const result = {\n    data: value,\n    expireTime: Date.now() + 60 * 60 * 1000, // set the expiry from the current date for a day\n  };\n\n  // stringify the result and the data in original storage\n  window.localStorage.setItem(key, JSON.stringify(result));\n}\n\nasync function fetchRefreshDate() {\n  const refreshDate = getStorageItem('refreshDate');\n  if (!refreshDate) {\n    const { url, key } = getAPIConfig();\n    try {\n      const response = await (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getJsonFromUrl)(`${url}refreshdate?api_key=${key}`);\n      setStorageItem('refreshDate', response.refresh_date);\n      return response.refresh_date;\n    } catch (error) {\n      console.error('Error fetching refresh date:', error);\n    }\n  }\n  return refreshDate;\n}\n\nfunction fetchRecalls(e) {\n  e.preventDefault();\n  if (e && e.target) {\n    // disable submit while fetching data\n    const submitBtn = e.target.querySelector('button');\n    submitBtn.disabled = true;\n\n    const recalls = document.querySelector(`.${blockName}__recalls-wrapper`);\n    recalls.innerHTML = '';\n\n    const noFrenchInoEl = document.querySelector(`.${blockName}__no-french-info`);\n    noFrenchInoEl.textContent = '';\n\n    const resultText = document.querySelector(`.${blockName}__results-text`);\n    resultText.innerText = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('vin_number:loading_recalls');\n\n    const formData = new FormData(e.target);\n    const vin = formData.get('vin');\n\n    if (vin) {\n      const { url, key } = getAPIConfig();\n      try {\n        (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getJsonFromUrl)(`${url}vin/${vin}?api_key=${key}&mode=company`).then((response) => {\n          if (response.error_code) {\n            resultText.innerHTML = `${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('vin_number:no_recalls')} ${vin}`;\n          } else {\n            renderRecalls(response);\n          }\n\n          const vinInput = document.querySelector(`.${blockName}__input`);\n          vinInput.value = '';\n          submitBtn.disabled = false;\n        });\n      } catch (error) {\n        console.error('Error fetching Recalls:', error);\n      }\n      return null;\n    }\n  }\n  return null;\n}\n\nasync function decorate(block) {\n  await (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getPlaceholders)();\n  fetchRefreshDate().then((response) => {\n    let refreshDate = response || 'XX-XX-XXXX';\n    if (response && isFrench) {\n      refreshDate = formatFrenchDate(response);\n    }\n\n    const refresDateWrapper = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', {\n      classes: `${blockName}__refresh-date-wrapper`,\n    });\n    const refreshFragment = docRange.createContextualFragment(`<span>\n      ${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('vin_number:published_info')}:\n    </span>\n    <span class=\"${blockName}__refresh-date\">\n      ${refreshDate}\n    </span>`);\n\n    const form = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('form', {\n      classes: [`${blockName}__form`],\n    });\n    const formChildren = docRange.createContextualFragment(`\n      <div class=\"${blockName}__input-wrapper\">\n        <input\n          type=\"text\"\n          name=\"vin\"\n          id=\"vin_number\"\n          autocomplete=\"off\"\n          placeholder=\" \"\n          minlength=\"17\"\n          maxlength=\"17\"\n          required\n          class=\"${blockName}__input\"\n          pattern=\"^[1,2,3,4][c,C,N,n,R,r,P,p,V,v][1,2,4,5,9,C,c,e,E,K,k,V,v][B-C,E-H,J-N,R-T,V-Y,b-c,e-h,j-n,r-t,v-y][A-Za-z0-9]{13}$\"\n        />\n        <label for=\"vin_number\" class=\"${blockName}__label\">${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('vin_number:label')}</label>\n      </div>\n      <button class=\"button primary ${blockName}__submit\" type=\"submit\" name=\"submit\">${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('vin_number:submit')}</button>\n    `);\n\n    const vinResultsContainer = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { classes: `${blockName}__results-container` });\n    const innerContent = docRange.createContextualFragment(`\n      <span class=\"${blockName}__results-text\"></span>\n      <div class=\"${blockName}__no-french-info\"></div>\n      <div class=\"${blockName}__recalls-wrapper\"></div>\n    `);\n\n    vinResultsContainer.append(innerContent);\n\n    form.addEventListener('submit', fetchRecalls, false);\n    form.append(...formChildren.children);\n    refresDateWrapper.append(...refreshFragment.children);\n    block.append(form, refresDateWrapper);\n    block.append(vinResultsContainer);\n\n    const vinInput = block.querySelector(`.${blockName}__input`);\n\n    vinInput.oninvalid = (e) => {\n      if (e.target.value.length < e.target.maxLength) {\n        e.target.setCustomValidity((0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('vin_number:format_length'));\n        return;\n      }\n      e.target.setCustomValidity((0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('vin_number:format'));\n    };\n\n    vinInput.oninput = (e) => {\n      e.target.setCustomValidity('');\n    };\n  });\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./blocks/vin-number/vin-number.js?\n}")},"./common/custom-dropdown/custom-dropdown.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCustomDropdown: () => (/* binding */ getCustomDropdown)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\n\nconst componentName = 'custom-dropdown';\n\n// NOTE: the code for this component was adapted from this page:\n// https://www.w3.org/WAI/ARIA/apg/patterns/combobox/examples/combobox-select-only/\n// Its here for further changes or reference\n\n// Save a list of named actions, for future readability\nconst SelectActions = {\n  Close: 0,\n  CloseSelect: 1,\n  First: 2,\n  Last: 3,\n  Next: 4,\n  Open: 5,\n  PageDown: 6,\n  PageUp: 7,\n  Previous: 8,\n  Select: 9,\n  Type: 10,\n};\n\n/**\n * Get the value of an option.\n *\n * @param {string | Object} option - The option to get the value from.\n * @returns {string} - The value of the option.\n */\nfunction getOptionValue(option) {\n  return typeof option === 'string' ? option : option.value;\n}\n\n/**\n * Get the label of an option.\n *\n * @param {string | Object} option - The option to get the label from.\n * @returns {string} - The label of the option.\n */\nfunction getOptionLabel(option) {\n  return typeof option === 'string' ? option : option.label;\n}\n\n/**\n * Filter an array of options against an input string.\n *\n * @param {string[]} options - The list of options to filter.\n * @param {string} filter - The search string to filter the options.\n * @param {string[]} [exclude=[]] - The list of options to exclude from the filtered list.\n * @returns {string[]} - Returns an array of options that begin with the filter string, case-independent.\n * @example\n * const options = ['Apple', 'Banana', 'Cherry'];\n * const filter = 'a';\n * const exclude = ['Banana'];\n * const filteredOptions = filterOptions(options, filter, exclude);\n * // expected output: ['Apple']\n */\nfunction filterOptions(options = [], filter, exclude = []) {\n  return options.filter((option) => {\n    const matches = option.toLowerCase().indexOf(filter.toLowerCase()) === 0;\n    return matches && exclude.indexOf(option) < 0;\n  });\n}\n\n/**\n * Map the key pressed to perform an action.\n *\n * @param {KeyboardEvent} event - The keyboard event.\n * @param {boolean} menuOpen - If the dropdown menu is open or not.\n * @returns {SelectActions} - The action to perform based on the key pressed.\n */\nfunction getActionFromKey(event, menuOpen) {\n  const { key, altKey, ctrlKey, metaKey } = event;\n  // all keys that will trigger the default open action\n  const openKeys = ['ArrowDown', 'ArrowUp', 'Enter', ' '];\n  // handle opening when closed\n  if (!menuOpen && openKeys.includes(key)) {\n    return SelectActions.Open;\n  }\n\n  // home and end move the selected option when open or closed\n  if (key === 'Home') {\n    return SelectActions.First;\n  }\n  if (key === 'End') {\n    return SelectActions.Last;\n  }\n\n  // handle typing characters when open or closed\n  if (key === 'Backspace' || key === 'Clear' || (key.length === 1 && key !== ' ' && !altKey && !ctrlKey && !metaKey)) {\n    return SelectActions.Type;\n  }\n\n  // handle keys when open\n  if (menuOpen) {\n    if (key === 'ArrowUp' && altKey) {\n      return SelectActions.CloseSelect;\n    } else if (key === 'ArrowDown' && !altKey) {\n      return SelectActions.Next;\n    } else if (key === 'ArrowUp') {\n      return SelectActions.Previous;\n    } else if (key === 'PageUp') {\n      return SelectActions.PageUp;\n    } else if (key === 'PageDown') {\n      return SelectActions.PageDown;\n    } else if (key === 'Escape') {\n      return SelectActions.Close;\n    } else if (key === 'Enter' || key === ' ') {\n      return SelectActions.CloseSelect;\n    }\n  }\n}\n\n/**\n * Get the index of an option from an array of options, based on a search string.\n * if the filter has multiple iterations of the same letter (e.g \"aaa\"), then cycle through first-letter matches\n *\n * @param {string[]} options - The list of options to search.\n * @param {string} filter - The search string to filter the options.\n * @param {number} [startIndex=0] - The index to start searching from.\n * @returns {number} - The index of the option from the list of options.\n * @example\n * const options = ['Apple', 'Banana', 'Cherry'];\n * const filter = 'a';\n * const startIndex = 0;\n * const index = getIndexByLetter(options, filter, startIndex);\n * // expected output: 0\n */\nfunction getIndexByLetter(options, filter, startIndex = 0) {\n  const orderedOptions = [...options.slice(startIndex), ...options.slice(0, startIndex)];\n  const firstMatch = filterOptions(orderedOptions, filter)[0];\n  const allSameLetter = (array) => array.every((letter) => letter === array[0]);\n\n  // first check if there is an exact match for the typed string\n  if (firstMatch) {\n    return options.indexOf(firstMatch);\n  }\n\n  // if the same letter is being repeated, cycle through first-letter matches\n  else if (allSameLetter(filter.split(''))) {\n    const matches = filterOptions(orderedOptions, filter[0]);\n    return options.indexOf(matches[0]);\n  }\n\n  // if no matches, return -1\n  else {\n    return -1;\n  }\n}\n\n/**\n * Get the updated index of an option after performing an action.\n *\n * @param {number} currentIndex - The current index of the option.\n * @param {number} maxIndex - The maximum index of the options.\n * @param {SelectActions} action - The action to perform.\n * @returns {number} - The updated index of the option.\n * @example\n * const currentIndex = 0;\n * const maxIndex = 2;\n * const action = SelectActions.Next;\n * const updatedIndex = getUpdatedIndex(currentIndex, maxIndex, action);\n * // expected output: 1\n */\nfunction getUpdatedIndex(currentIndex, maxIndex, action) {\n  const pageSize = 10; // used for pageup/pagedown\n\n  switch (action) {\n    case SelectActions.First:\n      return 0;\n    case SelectActions.Last:\n      return maxIndex;\n    case SelectActions.Previous:\n      return Math.max(0, currentIndex - 1);\n    case SelectActions.Next:\n      return Math.min(maxIndex, currentIndex + 1);\n    case SelectActions.PageUp:\n      return Math.max(0, currentIndex - pageSize);\n    case SelectActions.PageDown:\n      return Math.min(maxIndex, currentIndex + pageSize);\n    default:\n      return currentIndex;\n  }\n}\n\n/**\n * Check if an element is currently in the view port.\n *\n * @param {HTMLElement} element - The element to check if it is in the view port.\n * @returns {boolean} - Returns true if the element is in the view port, otherwise false.\n */\nfunction isElementInView(element) {\n  const bounding = element.getBoundingClientRect();\n\n  return (\n    bounding.top >= 0 &&\n    bounding.left >= 0 &&\n    bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n    bounding.right <= (window.innerWidth || document.documentElement.clientWidth)\n  );\n}\n\n/**\n * check if an element is currently scrollable\n *\n * @param {HTMLElement} element - The element to check if it is scrollable.\n * @returns {boolean} - Returns true if the element is scrollable, otherwise false.\n */\nfunction isScrollable(element) {\n  return element && element.clientHeight < element.scrollHeight;\n}\n\n/**\n * Ensure a given child element is within the parent's visible scroll area.\n * If the child is not visible, scroll the parent.\n *\n * @param {HTMLElement} activeElement - The child element to ensure is visible.\n * @param {HTMLElement} scrollParent - The parent element to scroll if the child is not visible.\n */\nfunction maintainScrollVisibility(activeElement, scrollParent) {\n  const { offsetHeight, offsetTop } = activeElement;\n  const { offsetHeight: parentOffsetHeight, scrollTop } = scrollParent;\n\n  const isAbove = offsetTop < scrollTop;\n  const isBelow = offsetTop + offsetHeight > scrollTop + parentOffsetHeight;\n\n  if (isAbove) {\n    scrollParent.scrollTo(0, offsetTop);\n  } else if (isBelow) {\n    scrollParent.scrollTo(0, offsetTop - parentOffsetHeight + offsetHeight);\n  }\n}\n\n/**\n * Select Component\n * Accepts a clickable element and an array of string options\n *\n * @param {HTMLElement} el - The element to attach the select component to.\n * @param {string[]} options - The list of options to display in the select.\n * @param {string} placeholder - The placeholder text for the select.\n * @param {function} onChangeCallback - The callback function to be called when the value changes.\n */\nconst Select = function (el, options = [], placeholder, onChangeCallback) {\n  // element refs\n  this.el = el;\n  this.labelEl = el.querySelector(`.${componentName}__label`);\n  this.buttonEl = el.querySelector('[role=button]');\n  this.listEl = el.querySelector('[role=listbox]');\n  this.initialState = true;\n\n  // data\n  this.idBase = this.buttonEl.id || componentName;\n  this.placeholder = placeholder;\n  this.options = options;\n  this.onChangeCallback = onChangeCallback;\n\n  // state\n  this.activeIndex = 0;\n  this.open = false;\n  this.searchString = '';\n  this.searchTimeout = null;\n\n  // init\n  if (el && this.buttonEl && this.listEl) {\n    this.init();\n  }\n};\n\n/**\n * Initialize the select component.\n */\nSelect.prototype.init = function init() {\n  // select first option by default\n  this.buttonEl.innerHTML = getOptionLabel(this.placeholder || this.options[0]);\n\n  // add event listeners\n  this.buttonEl.addEventListener('blur', this.onButtonBlur.bind(this));\n  this.listEl.addEventListener('focusout', this.onButtonBlur.bind(this));\n  this.buttonEl.addEventListener('click', this.onButtonClick.bind(this));\n  this.buttonEl.addEventListener('keydown', this.onButtonKeyDown.bind(this));\n\n  // create options\n  this.options.map((option, index) => {\n    const optionEl = this.createOption(option, index);\n    this.listEl.appendChild(optionEl);\n  });\n};\n\n/**\n * Create an option element.\n *\n * @param {string} option - The option to create an element for.\n * @param {number} index - The index of the option in the list.\n * @returns {HTMLElement} - The option element.\n */\nSelect.prototype.createOption = function createOption(option, index) {\n  const optionEl = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div');\n  optionEl.setAttribute('role', 'option');\n  optionEl.id = `${this.idBase}-${index}`;\n\n  if (this.placeholder) {\n    optionEl.className = `${componentName}__option`;\n  } else {\n    optionEl.className = index === 0 ? `${componentName}__option option-current` : `${componentName}__option`;\n    optionEl.setAttribute('aria-selected', `${index === 0}`);\n  }\n\n  optionEl.innerText = getOptionLabel(option);\n\n  optionEl.addEventListener('click', (event) => {\n    event.stopPropagation();\n    this.onOptionClick(index);\n  });\n  optionEl.addEventListener('mousedown', this.onOptionMouseDown.bind(this));\n\n  return optionEl;\n};\n\n/**\n * Get the search string by adding the most recent letter to the saved search string.\n *\n * @param {string} char - The most recent letter to add to the search string.\n * @returns {string} - The search string.\n */\nSelect.prototype.getSearchString = function getSearchString(char) {\n  // reset typing timeout and start new timeout\n  // this allows us to make multiple-letter matches, like a native select\n  if (typeof this.searchTimeout === 'number') {\n    window.clearTimeout(this.searchTimeout);\n  }\n\n  this.searchTimeout = window.setTimeout(() => {\n    this.searchString = '';\n  }, 500);\n\n  // add most recent letter to saved search string\n  this.searchString += char;\n  return this.searchString;\n};\n\n/**\n * Handle the blur event on the button.\n *\n * @param {FocusEvent} event - The blur event.\n */\nSelect.prototype.onButtonBlur = function onButtonBlur(event) {\n  // do nothing if relatedTarget is contained within listEl\n  if (this.listEl.contains(event.relatedTarget)) {\n    return;\n  }\n\n  // select current option and close\n  if (this.open) {\n    this.updateMenuState(false, false);\n  }\n};\n\n/**\n * Handle the click event on the button.\n */\nSelect.prototype.onButtonClick = function onButtonClick() {\n  this.updateMenuState(!this.open, false);\n};\n\n/**\n * Handle the keydown event on the button.\n *\n * @param {KeyboardEvent} event - The keydown event.\n */\nSelect.prototype.onButtonKeyDown = function onButtonKeyDown(event) {\n  const { key } = event;\n  const max = this.options.length - 1;\n\n  const action = getActionFromKey(event, this.open);\n\n  switch (action) {\n    case SelectActions.Last:\n    case SelectActions.First:\n      this.updateMenuState(true);\n    // intentional fallthrough\n    case SelectActions.Next:\n    case SelectActions.Previous:\n    case SelectActions.PageUp:\n    case SelectActions.PageDown:\n      event.preventDefault();\n      return this.onOptionChange(getUpdatedIndex(this.activeIndex, max, action));\n    case SelectActions.CloseSelect:\n      event.preventDefault();\n      this.selectOption(this.activeIndex);\n    // intentional fallthrough\n    case SelectActions.Close:\n      event.preventDefault();\n      return this.updateMenuState(false);\n    case SelectActions.Type:\n      return this.onButtonType(key);\n    case SelectActions.Open:\n      event.preventDefault();\n      return this.updateMenuState(true);\n  }\n};\n\n/**\n * Handle the type event on the button.\n *\n * @param {string} letter - The letter to type.\n */\nSelect.prototype.onButtonType = function onButtonType(letter) {\n  // open the listbox if it is closed\n  this.updateMenuState(true);\n\n  // find the index of the first matching option\n  const searchString = this.getSearchString(letter);\n  const searchIndex = getIndexByLetter(this.options, searchString, this.activeIndex + 1);\n\n  // if a match was found, go to it\n  if (searchIndex >= 0) {\n    this.onOptionChange(searchIndex);\n  }\n  // if no matches, clear the timeout and search string\n  else {\n    window.clearTimeout(this.searchTimeout);\n    this.searchString = '';\n  }\n};\n\n/**\n * Handle the change event on an option.\n *\n * @param {number} index - The index of the option that changed.\n */\nSelect.prototype.onOptionChange = function onOptionChange(index) {\n  // update state\n  this.activeIndex = index;\n\n  // update aria-activedescendant\n  this.buttonEl.setAttribute('aria-activedescendant', `${this.idBase}-${index}`);\n\n  // update active option styles\n  const optionsElements = this.el.querySelectorAll('[role=option]');\n  [...optionsElements].forEach((optionEl) => {\n    optionEl.classList.remove('option-current');\n  });\n  optionsElements[index].classList.add('option-current');\n\n  // ensure the new option is in view\n  if (isScrollable(this.listEl)) {\n    maintainScrollVisibility(optionsElements[index], this.listEl);\n  }\n\n  // ensure the new option is visible on screen\n  // ensure the new option is in view\n  if (!isElementInView(optionsElements[index])) {\n    optionsElements[index].scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n  }\n};\n\n/**\n * Handle the click event on an option.\n *\n * @param {number} index - The index of the option that was clicked.\n * @param {MouseEvent} event - The click event.\n */\nSelect.prototype.onOptionClick = function onOptionClick(index) {\n  this.onOptionChange(index);\n  this.selectOption(index);\n  this.updateMenuState(false);\n};\n\n/**\n * Handle the mousedown event on an option.\n */\nSelect.prototype.onOptionMouseDown = function onOptionMouseDown() {\n  // Clicking an option will cause a blur event,\n  // but we don't want to perform the default keyboard blur action\n  this.ignoreBlur = true;\n};\n\n/**\n * create an option item from the select element.\n *\n * @param {number} index - The index of the option to select.\n */\nSelect.prototype.selectOption = function selectOption(index) {\n  // update state\n  this.activeIndex = index;\n\n  // update displayed value\n  const selected = this.options[index];\n  this.buttonEl.innerHTML = getOptionLabel(selected);\n\n  // this updates the value of the select that gets inputed in the forms\n  const selectHtml = this.el.closest(`.${componentName}`).querySelector('select');\n  selectHtml.selectedIndex = this.placeholder ? index + 1 : index;\n\n  // update aria-selected\n  const optionsElements = this.el.querySelectorAll('[role=option]');\n  [...optionsElements].forEach((optionEl) => {\n    optionEl.setAttribute('aria-selected', 'false');\n  });\n  optionsElements[index].setAttribute('aria-selected', 'true');\n\n  // call the onChangeCallback if provided\n  if (this.onChangeCallback) {\n    this.onChangeCallback(selected);\n  }\n};\n\n/**\n * Update the state of the dropdown menu.\n *\n * @param {boolean} open - If the dropdown menu is open or not.\n * @param {boolean} [callFocus=true] - If the focus should be called on the button.\n */\nSelect.prototype.updateMenuState = function updateMenuState(open, callFocus = true) {\n  if (this.open === open) {\n    return;\n  }\n\n  // change placeholder text color\n  if (this.placeholder !== this.buttonEl.textContent) {\n    this.buttonEl.classList.remove('placeholder-state');\n  }\n\n  // update state\n  this.open = open;\n\n  // update aria-expanded and styles\n  this.buttonEl.setAttribute('aria-expanded', `${open}`);\n  open ? this.el.classList.add('open') : this.el.classList.remove('open');\n\n  // update activedescendant\n  const activeID = open ? `${this.idBase}-${this.activeIndex}` : '';\n  this.buttonEl.setAttribute('aria-activedescendant', activeID);\n\n  if (activeID === '' && !isElementInView(this.buttonEl)) {\n    this.buttonEl.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n  }\n\n  // move focus back to the button, if needed\n  callFocus && this.buttonEl.focus();\n};\n\n/**\n * Generates the markup for an HTML option element.\n *\n * @param {number} idx - The index of the option in the list.\n * @param {string|Object} option - The option data, which can be a string or an object with `value` and `label` properties.\n * @returns {string} The HTML markup for the option element.\n */\nconst createOptionMarkup = (idx, option, hasPlaceholder) => {\n  return `\n      <option\n        value=\"${getOptionValue(option)}\"\n        ${idx === 0 && !hasPlaceholder ? 'selected' : ''}>\n          ${getOptionLabel(option)}\n      </option>`;\n};\n\n/**\n * Generates the markup for a list of HTML option elements.\n *\n * @param {string[]|Object[]} list - The list of options to generate the markup for.\n * @param {boolean} hasPlaceholder - If the list has a placeholder option.\n * @returns {string} The HTML markup for the list of option elements.\n */\nconst createSelectHtml = (list, hasPlaceholder) => {\n  return list.map((item, idx) => createOptionMarkup(idx, item, hasPlaceholder)).join('');\n};\n\n/**\n * Get the variant classes for the dropdown.\n *\n * @param {Object} options - The options to configure the dropdown.\n * @param {string[]} options.variants - The list of variants to apply to the dropdown.\n * @returns {string} The variant classes for the dropdown.\n */\nfunction getVariantClasses(options) {\n  const { variants = [] } = options;\n  if (!Array.isArray(variants)) {\n    return [];\n  }\n  return variants.map((variant) => `${componentName}--variant-${variant}`).join(' ');\n}\n\n/**\n * Get the custom dropdown component asynchronously because it requires a CSS file to be loaded.\n *\n * @param {Object} options - The options to configure the dropdown.\n * @param {string[] | Object[]} options.optionList - The list of options to display in the dropdown. Each option can be a string or an object with `value` and `label` properties.\n * @param {string} options.label - The label to grab from the placeholder file using getTextLabel function.\n * @param {boolean} options.mandatory - If the dropdown is required or not.\n * @param {string} options.id - The id of the dropdown.\n * @param {string} options.placeholder - The placeholder text for the dropdown to be used as the default option.\n * @param {string} options.name - The name of the hidden select element that will be submitted in the form.\n * @param {string} options.formName - The name of the form that contains the dropdown.\n * @param {function} [options.onChangeCallback] - The callback function to be called when the value changes.\n * @param {string[]} options.variants - \"thick\", \"adjust-width-to-content\".\n *\n * Variants:\n * - \"thick\": Adds thicker appearance.\n * - \"adjust-width-to-content\": By default the dropdown will have a width of 100% of the container. If this option is set to true, the dropdown will adjust its width to the content.\n *\n * @returns {Promise<HTMLElement>} - The custom dropdown component as an HTMLElement.\n */\nconst getCustomDropdown = async (options = {}) => {\n  const baseUrl = window.location.origin !== 'null' ? window.location.origin : window.location.ancestorOrigins && window.location.ancestorOrigins[0];\n  const { optionList = [], label = '', mandatory = false, id = '', placeholder = '', name = '', formName = '' } = options;\n  const dropdownCSS = `${baseUrl}/common/${componentName}/${componentName}.css`;\n  const className = options.variants ? [componentName, getVariantClasses(options)] : componentName;\n  const el = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { classes: className });\n\n  if (formName) {\n    el.classList.add(`${formName}__field-wrapper`);\n  }\n\n  try {\n    await (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_1__.loadCSS)(dropdownCSS);\n    const labelClass = label ? `${componentName}__label` : 'field-label';\n    const innerContent = `\n\n        ${label ? `<label id=\"${labelClass} class=\"${labelClass}\">${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)(label)}${mandatory ? '*' : ''}</label>` : ''}\n        <div\n          ${id ? `id=\"${id}\"` : ''}\n          ${labelClass ? `aria-labelledby=\"${labelClass}\"` : ''}\n          aria-controls=\"options\"\n          aria-expanded=\"false\"\n          aria-haspopup=\"${componentName}\"\n          class=\"${componentName}__button placeholder-state\"\n          role=\"button\"\n          tabindex=\"0\"\n        ></div>\n        <div\n          ${labelClass ? `aria-labelledby=\"${labelClass}\"` : ''}\n          id=\"options\"\n          class=\"${componentName}__option-list\"\n          role=\"listbox\"\n          tabindex=\"-1\"\n        ></div>\n        <select\n          ${name ? `name=\"${name}\"` : ''}\n          aria-hidden=\"true\"\n          class=\"native-select\"\n          autocomplete=\"off\"\n          ${mandatory ? 'required' : ''}>\n          ${placeholder ? `<option value=\"\" selected disabled>${placeholder}</option>` : ''}\n          ${createSelectHtml(optionList, !!placeholder)}\n        </select>\n    `;\n\n    el.appendChild(document.createRange().createContextualFragment(innerContent));\n\n    new Select(el, optionList, placeholder, options.onChangeCallback);\n    return el;\n  } catch (error) {\n    console.error(`Failed to load CSS from ${dropdownCSS}:`, error);\n    return '';\n  }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./common/custom-dropdown/custom-dropdown.js?\n}")},"./common/modal/modal.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hideModal: () => (/* binding */ hideModal),\n/* harmony export */   showModal: () => (/* binding */ showModal)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\n/* harmony import */ var _scripts_aem_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scripts/aem.js */ \"./scripts/aem.js\");\n/* harmony import */ var _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../scripts/video-helper.js */ \"./scripts/video-helper.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_2__]);\n([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__, _scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n/* global YT */\n\n\n\n\nconst HIDE_MODAL_CLASS = 'modal-hidden';\nlet currentModalClasses = null;\nlet currentInvokeContext = null;\n\nconst createModalTopBar = (parentEl) => {\n  const topBar = document.createRange().createContextualFragment(`\n    <div class=\"modal-top-bar\">\n      <div class=\"modal-top-bar-content\">\n        <h2 class=\"modal-top-bar-heading\" id=\"modal-heading\"></h2>\n        <button type=\"button\" class=\"modal-close-button\" aria-label=${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('modal:close')}>\n          <span class=\"icon icon-close\" aria-hidden=\"true\" />\n        </button>\n      </div>\n    </div>\n  `);\n\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.decorateIcons)(topBar);\n  parentEl.prepend(...topBar.children);\n\n  parentEl.querySelector('.modal-close-button').addEventListener('click', () => hideModal());\n  parentEl.querySelector('.modal-top-bar').addEventListener('click', (event) => event.stopPropagation());\n};\n\nconst createModal = () => {\n  document.documentElement.style.setProperty('--scroll-y', `${window.scrollY}px`);\n  const modalBackground = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { classes: ['modal-background', HIDE_MODAL_CLASS] });\n  modalBackground.setAttribute('role', 'dialog');\n\n  modalBackground.addEventListener('click', () => {\n    if (!document.documentElement.classList.contains('redesign-v2')) {\n      hideModal();\n    }\n  });\n\n  const keyDownAction = (event) => {\n    if (event.key === 'Escape') {\n      hideModal();\n    }\n  };\n\n  const modalContent = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { classes: ['modal-content'] });\n  createModalTopBar(modalBackground);\n  modalBackground.appendChild(modalContent);\n  // preventing initial animation when added to DOM\n  modalBackground.style = 'display: none';\n  document.body.appendChild(modalBackground);\n\n  // don't close modal when clicking on modal content\n  modalContent.addEventListener('click', (event) => {\n    event.stopPropagation();\n  });\n\n  const clearModalContent = () => {\n    modalContent.innerHTML = '';\n    modalContent.className = 'modal-content';\n    modalBackground.querySelector('.modal-top-bar-heading').textContent = '';\n  };\n\n  const handleNewContent = (newContent) => {\n    clearModalContent();\n    modalContent.scrollTo(0, 0);\n\n    const firstSection = newContent[0];\n\n    // checking if the first section contains one heading only\n    if (\n      firstSection.children.length === 1 &&\n      firstSection.children[0].children.length === 1 &&\n      /^H[1-6]$/.test(newContent[0].children[0].children[0].tagName)\n    ) {\n      const headingContent = firstSection.children[0].children[0].textContent;\n\n      modalBackground.querySelector('.modal-top-bar-heading').textContent = headingContent;\n      firstSection.style.display = 'none';\n      modalBackground.setAttribute('aria-labelledby', 'modal-heading');\n    } else {\n      modalBackground.removeAttribute('aria-labelledby');\n    }\n\n    modalContent.classList.add('modal-content--wide');\n    modalContent.append(...newContent);\n  };\n\n  async function addVideo(block, videoId) {\n    console.log('addVideo - videoId: ', videoId);\n    block.innerHTML = '';\n\n    const iframeSrc = `https://www.youtube.com/embed/${videoId}?color=white&amp;rel=0&amp;playsinline=1&amp;enablejsapi=1&amp;autoplay=1`;\n\n    const iframeYT = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_2__.createIframe)(iframeSrc, {\n      parentEl: block,\n      classes: 'modal-video',\n      props: { id: 'modal-youtube-iframe', allow: 'autoplay', allowfullscreen: 'true' },\n    });\n\n    block.append(...iframeYT.childNodes);\n\n    await (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_2__.loadYouTubeIframeAPI)();\n\n    window.onYouTubeIframeAPIReady = function onYouTubeIframeAPIReadyInit() {\n      if (!YT) {\n        throw new Error('YouTube API not loaded');\n      }\n      new YT.Player('modal-youtube-iframe', {\n        events: {\n          onReady: onPlayerReady,\n          onError: onPlayerError,\n          onAutoplayBlocked: onPlayerAutoplayBlocked,\n        },\n      });\n    };\n  }\n\n  function onPlayerReady(event) {\n    event.target.playVideo();\n  }\n\n  function onPlayerError(event) {\n    console.warn(event.data);\n  }\n\n  function onPlayerAutoplayBlocked(event) {\n    console.warn(event.data);\n  }\n\n  async function showModal(newContent, { beforeBanner, beforeIframe, modalClasses = [], invokeContext }) {\n    const shouldVideoSocialCheck = modalClasses.includes('modal-video-social-cookie-check');\n\n    document.documentElement.style.setProperty('--scroll-y', `${window.scrollY}px`);\n    currentInvokeContext = invokeContext;\n    // disabling focus for header, footer and main elements when modal is open\n    document.querySelectorAll('header, footer, main').forEach((el) => {\n      el.setAttribute('inert', 'inert');\n    });\n    await (0,_scripts_aem_js__WEBPACK_IMPORTED_MODULE_1__.loadCSS)(`${window.hlx.codeBasePath}/common/modal/modal.css`);\n    modalBackground.style = '';\n    modalBackground.classList.add(...modalClasses);\n    currentModalClasses = modalClasses;\n    window.addEventListener('keydown', keyDownAction);\n    if (newContent && typeof newContent !== 'string') {\n      handleNewContent(newContent);\n    } else if (newContent) {\n      clearModalContent();\n      let videoOrIframe = null;\n      if ((0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_2__.isLowResolutionVideoUrl)(newContent)) {\n        // We can't use the iframe for videos, because if the Content-Type\n        // `application/octet-stream` is returned instead of `video/mp4`, the\n        // file is downloaded instead of displayed. So we use the video element instead.\n        videoOrIframe = document.createElement('video');\n        videoOrIframe.setAttribute('src', newContent);\n        videoOrIframe.setAttribute('controls', '');\n        videoOrIframe.setAttribute('autoplay', '');\n        videoOrIframe.classList.add('modal-video');\n        modalBackground.classList.add('modal--video');\n        modalContent.append(videoOrIframe);\n      } else if ((0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_2__.isAEMVideoUrl)(newContent) || (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_2__.isHlsVideoUrl)(newContent)) {\n        videoOrIframe = document.createElement('div');\n        videoOrIframe.classList.add('modal-video');\n\n        const videoUrl = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_2__.getDeviceSpecificVideoUrl)(newContent);\n        await (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_2__.setupPlayer)(\n          videoUrl,\n          videoOrIframe,\n          {\n            autoplay: 'any',\n            disablePictureInPicture: true,\n            loop: false,\n            muted: false,\n            playsinline: true,\n            fill: true,\n            controls: true,\n          },\n          null,\n        );\n\n        modalBackground.classList.add('modal--video');\n        modalContent.append(videoOrIframe);\n      } else if ((0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_2__.isYoutubeVideoUrl)(newContent) && shouldVideoSocialCheck) {\n        const videoId = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_2__.getYoutubeVideoId)(newContent);\n\n        if (!videoId) {\n          console.warn('V2 Video block: There is no video link. Please check the provided URL.');\n          return;\n        }\n        window.isSingleVideo = true;\n\n        if ((0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.isSocialAllowed)()) {\n          addVideo(modalContent, videoId);\n        } else {\n          const cookieMsgContainer = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', {\n            classes: 'modal-cookie-message',\n          });\n          cookieMsgContainer.style.background = 'linear-gradient(180deg, rgba(0, 0, 0, 0.00) 0%, rgba(0, 0, 0, 0.80) 100%) center / cover no-repeat';\n\n          const cookieMessage = document.createRange().createContextualFragment(`\n            <h3 class=\"modal-cookie-message__title\">${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('modal:single_video_message_title')}</h3>\n            ${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('modal:single_video_message_text')}\n            <div class=\"modal-cookie-message__button-container\">\n              <button class=\"button primary dark\">${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('modal:single_video_message_button')}</button>\n              <button class=\"button secondary dark\">${(0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('modal:single_video_message_button_deny')}</button>\n            </div>\n          `);\n\n          cookieMsgContainer.append(cookieMessage);\n          modalContent.append(cookieMsgContainer);\n\n          modalContent.querySelector('.modal-cookie-message__button-container .primary')?.addEventListener('click', () => {\n            if (window.OneTrust) {\n              window.OneTrust.AllowAll();\n            }\n\n            addVideo(modalContent, videoId);\n          });\n\n          modalContent.querySelector('.modal-cookie-message__button-container .secondary')?.addEventListener('click', () => {\n            hideModal();\n          });\n        }\n      } else {\n        videoOrIframe = (0,_scripts_video_helper_js__WEBPACK_IMPORTED_MODULE_2__.createIframe)(newContent, { parentEl: modalContent, classes: 'modal-video' });\n        modalBackground.classList.add('modal--video');\n      }\n\n      if (beforeBanner) {\n        const bannerWrapper = document.createElement('div');\n        bannerWrapper.classList.add('modal-before-banner');\n        bannerWrapper.addEventListener('click', (event) => event.stopPropagation());\n        bannerWrapper.appendChild(beforeBanner);\n\n        videoOrIframe.before(bannerWrapper);\n      }\n\n      if (beforeIframe) {\n        const wrapper = document.createElement('div');\n        wrapper.classList.add('modal-before-iframe');\n        wrapper.appendChild(beforeIframe);\n        videoOrIframe.before(wrapper);\n      }\n    }\n\n    modalContent.classList.add('modal-content-fade-in');\n    modalBackground.classList.remove(HIDE_MODAL_CLASS);\n    modalBackground.querySelector('.modal-top-bar .modal-close-button').focus();\n    modalBackground.setAttribute('aria-hidden', 'false');\n\n    // disable page scrolling\n    document.body.classList.add('disable-body-scroll');\n    const scrollY = document.documentElement.style.getPropertyValue('--scroll-y');\n    const { body } = document;\n    document.documentElement.style.scrollBehavior = 'auto';\n    body.style.position = 'fixed';\n    body.style.top = `-${scrollY}`;\n  }\n\n  function hideModal() {\n    // restoring focus for header, footer and main elements when modal is close\n    document.querySelectorAll('header, footer, main').forEach((el) => {\n      el.removeAttribute('inert');\n    });\n    if (currentInvokeContext) {\n      currentInvokeContext.focus();\n    }\n    currentInvokeContext = null;\n    modalContent.scrollTo(0, 0);\n    modalBackground.classList.add(HIDE_MODAL_CLASS);\n    modalBackground.classList.remove('modal--video');\n    modalContent.classList.remove('modal-content-fade-in');\n    window.removeEventListener('keydown', keyDownAction);\n    document.body.classList.remove('disable-body-scroll');\n    const { body } = document;\n    const scrollY = body.style.top;\n    body.style.position = '';\n    body.style.top = '';\n    window.scrollTo(0, parseInt(scrollY || '0', 10) * -1);\n    document.documentElement.style.scrollBehavior = '';\n    modalContent.querySelector('iframe, video')?.remove();\n    modalContent.querySelector('.modal-before-banner')?.remove();\n    modalContent.querySelector('.modal-before-iframe')?.remove();\n    modalBackground.setAttribute('aria-hidden', 'true');\n\n    if (currentModalClasses.length) {\n      modalBackground.classList.remove(currentModalClasses);\n      currentModalClasses = null;\n    }\n  }\n\n  return {\n    showModal,\n    hideModal,\n  };\n};\n\nconst { showModal, hideModal } = createModal();\n\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./common/modal/modal.js?\n}")},"./common/pagination/pagination.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scripts/common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\n/**\n * Creates an icon element.\n *\n * @param {string} iconClass - The class for the icon.\n * @returns {HTMLElement} - The created icon element.\n */\nconst createIcon = (iconClass) => (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('span', { classes: ['icon', iconClass] });\n\n/**\n * Creates a button element with specified text, classes, click handler,\n * disabled state, and aria-label.\n *\n * @param {string} text - The text content of the button.\n * @param {string|string[]} classes - The CSS class or classes to apply to the button.\n * @param {Function} onClick - The click event handler function for the button.\n * @param {boolean} [isDisabled=false] - Whether the button should be disabled.\n * @param {HTMLElement} [icon] - Optional icon to append to the button.\n * @param {string} [ariaLabel=''] - The aria-label for accessibility purposes.\n * @returns {HTMLElement} The created button element.\n */\nconst createButton = (text, classes, onClick, isDisabled = false, icon = null, ariaLabel = '') => {\n  const classList = Array.isArray(classes) ? classes : [classes];\n\n  const button = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('button', {\n    classes: classList,\n    props: { type: 'button', 'aria-label': ariaLabel },\n  });\n\n  if (isDisabled) {\n    button.setAttribute('disabled', 'disabled');\n  }\n\n  if (!isDisabled && typeof onClick === 'function') {\n    button.addEventListener('click', onClick);\n  }\n\n  if (text) {\n    const span = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('span');\n    span.textContent = text;\n    button.appendChild(span);\n  }\n\n  if (icon) {\n    button.appendChild(icon);\n  }\n\n  return button;\n};\n\n/**\n * Creates a pagination button for a specific page with an appropriate aria-label\n * and aria-current for the active page.\n *\n * @param {number} pageIndex - The index of the page (0-based).\n * @param {number} currentPage - The current active page index.\n * @param {Function} onClick - The function to call when the page button is clicked.\n * @returns {HTMLElement} - The created pagination button element with an aria-label.\n */\nconst createPageButton = (pageIndex, currentPage, onClick) => {\n  const isActive = pageIndex === currentPage;\n  const classes = isActive ? ['pagination-button', 'active'] : ['pagination-button'];\n  const paginationPageAriaLabel = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('pagination:page_aria_label');\n  const ariaLabel = `${paginationPageAriaLabel} ${pageIndex + 1}`;\n  const button = createButton(pageIndex + 1, classes, () => onClick(pageIndex), false, null, ariaLabel);\n\n  if (isActive) {\n    button.setAttribute('aria-current', 'page');\n  }\n\n  return button;\n};\n\n/**\n * Creates an arrow button for pagination navigation (previous or next)\n * with an appropriate aria-label.\n *\n * @param {'prev'|'next'} direction - The direction of the arrow (previous or next).\n * @param {boolean} isDisabled - Whether the arrow button should be disabled.\n * @param {Function} onClick - The function to call when the arrow button is clicked.\n * @returns {HTMLElement} - The created arrow button element with an aria-label for accessibility.\n */\nconst createArrowButton = (direction, isDisabled, onClick) => {\n  const icon = direction === 'prev' ? createIcon('icon-chevron-left') : createIcon('icon-chevron-right');\n  const ariaLabel = direction === 'prev' ? (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('pagination:previous_page_aria_label') : (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('pagination:next_page_aria_label');\n\n  return createButton(null, ['pagination-arrow', direction], onClick, isDisabled, icon, ariaLabel);\n};\n\n/**\n * Creates an ellipsis element (...) for use in the pagination\n * when there is a gap between page numbers.\n *\n * @returns {HTMLElement} - The created ellipsis element.\n */\nconst createEllipsis = () => {\n  const ellipsis = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('li', { classes: ['pagination-dots'] });\n  ellipsis.textContent = '...';\n  return ellipsis;\n};\n\n/**\n * Appends page buttons to the pagination container for the specified range of pages.\n *\n * @param {HTMLElement} paginationList - The container where pagination buttons will be appended.\n * @param {Array<string|number>} pages - Array of page numbers and ellipses to display.\n * @param {number} currentPage - The current active page index.\n * @param {Function} changePage - The function to call when a page button is clicked.\n */\nconst appendPageButtons = (paginationList, pages, currentPage, changePage) => {\n  pages.forEach((page) => {\n    const listItem = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('li', { classes: ['pagination-item'] });\n    if (page === 'ellipsis') {\n      listItem.appendChild(createEllipsis());\n    } else {\n      listItem.appendChild(createPageButton(page, currentPage, changePage));\n    }\n    paginationList.appendChild(listItem);\n  });\n};\n\n/**\n * Determines which pages and ellipses should be displayed in the pagination,\n * depending on the current page.\n *\n * @param {number} currentPage - The current active page index.\n * @param {number} totalPages - The total number of pages.\n * @returns {Array<string|number>} - An array of page numbers and ellipses to be displayed.\n */\nconst computeVisiblePages = (currentPage, totalPages) => {\n  const pages = [];\n  const addPageRange = (start, end) => {\n    for (let i = start; i <= end; i += 1) {\n      pages.push(i);\n    }\n  };\n\n  pages.push(0); // Always show the first page\n\n  if (totalPages <= 7) {\n    addPageRange(1, totalPages - 1); // Show all pages if total pages <= 7\n  } else if (currentPage <= 3) {\n    addPageRange(1, 4);\n    pages.push('ellipsis', totalPages - 1);\n  } else if (currentPage >= totalPages - 4) {\n    pages.push('ellipsis');\n    addPageRange(totalPages - 5, totalPages - 1);\n  } else {\n    pages.push('ellipsis');\n    addPageRange(currentPage - 1, currentPage + 1);\n    pages.push('ellipsis', totalPages - 1);\n  }\n\n  return pages;\n};\n\n/**\n * Creates and appends the pagination controls (arrows, page buttons, ellipses)\n * to the pagination container, with aria-labels for accessibility.\n *\n * @param {HTMLElement} paginationList - The container where pagination controls will be appended.\n * @param {number} currentPage - The currently active page index.\n * @param {number} totalPages - The total number of pages.\n * @param {Function} changePage - The function to call when changing the page.\n */\nconst renderPaginationControls = (paginationList, currentPage, totalPages, changePage) => {\n  paginationList.innerHTML = '';\n\n  paginationList.appendChild(createArrowButton('prev', currentPage === 0, () => changePage(currentPage - 1)));\n\n  const pages = computeVisiblePages(currentPage, totalPages);\n  appendPageButtons(paginationList, pages, currentPage, changePage);\n\n  paginationList.appendChild(createArrowButton('next', currentPage === totalPages - 1, () => changePage(currentPage + 1)));\n\n  (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.decorateIcons)(paginationList);\n};\n\n/**\n * Ensures a <nav class=\"pagination-nav\"> element exists in the block.\n * Creates and appends one if it does not already exist.\n *\n * @param {HTMLElement} block - Block container where pagination is rendered.\n * @returns {HTMLElement}     - The <nav> element for pagination controls.\n */\nconst ensurePaginationNav = (block) => {\n  let paginationNav = block.querySelector('nav.pagination-nav');\n  const paginationNavAriaLabel = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('pagination:nav_aria_label');\n\n  if (!paginationNav) {\n    paginationNav = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('nav', { classes: ['pagination-nav'], props: { 'aria-label': paginationNavAriaLabel } });\n    block.appendChild(paginationNav);\n  }\n  return paginationNav;\n};\n\n/**\n * Resets and returns a fresh <ul.pagination> inside the given nav.\n *\n * @param {HTMLElement} paginationNav - The nav container.\n * @returns {HTMLElement} - The <ul> element for pagination controls.\n */\nconst resetPaginationList = (paginationNav) => {\n  const paginationList = (0,_scripts_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('ul', { classes: ['pagination'] });\n  paginationNav.innerHTML = '';\n  paginationNav.appendChild(paginationList);\n  return paginationList;\n};\n\n/**\n * Builds a renderPage(pageIndex) function bound to the provided context.\n *\n * @param {HTMLElement} contentArea - The content area where items render.\n * @param {HTMLElement} paginationList - The <ul> container for controls.\n * @param {number} totalPages - Total number of pages.\n * @param {Function} loadPageData - Data loader (pageIndex) => Promise<Array>.\n * @param {Function} renderItems - Renderer (contentArea, items).\n * @param {Function} changePage - Page change invoker (used by controls).\n * @param {() => boolean} shouldFocus - Callback returning whether to focus active button.\n * @returns {Function} - async renderPage(pageIndex).\n */\nconst makePageRenderer = (contentArea, paginationList, totalPages, loadPageData, renderItems, changePage, shouldFocus) => async (pageIndex) => {\n  try {\n    const items = await loadPageData(pageIndex);\n    contentArea.innerHTML = '';\n    renderItems(contentArea, items);\n    renderPaginationControls(paginationList, pageIndex, totalPages, changePage);\n    const newActiveButton = paginationList.querySelector('.pagination-button.active');\n    if (newActiveButton && shouldFocus && shouldFocus() === true) {\n      newActiveButton.focus();\n    }\n  } catch (e) {\n    console.error('pagination: failed to render page', e);\n  }\n};\n\n/**\n * Clamps page index into [0, total-1].\n *\n * @param {number} index - Target page index.\n * @param {number} total - Total pages.\n * @returns {number} - Clamped page index.\n */\nconst clampPage = (index, total) => Math.max(0, Math.min(index, Math.max(total - 1, 0)));\n\n/**\n * Creates a changePage proxy so we can pass a stable function to controls\n * and assign the real change handler later.\n *\n * @returns {{ proxy: (i:number)=>void, set: (fn: (i:number)=>void)=>void }}\n */\nconst makePageChangeProxy = () => {\n  const ref = { current: null };\n  const proxy = (i) => {\n    if (ref.current) {\n      ref.current(i);\n    }\n  };\n  const set = (fn) => {\n    ref.current = fn;\n  };\n  return { proxy, set };\n};\n\n/**\n * Focuses the active pagination button if allowed (a11y without initial scroll).\n *\n * @param {HTMLElement} paginationList - The <ul> for pagination controls.\n * @param {boolean} shouldFocus - Whether to focus the active button.\n */\nconst focusActiveButton = (paginationList, shouldFocus) => {\n  const btn = paginationList.querySelector('.pagination-button.active');\n  if (btn && shouldFocus) {\n    btn.focus();\n  }\n};\n\n/**\n * Rebuilds controls for a target page (optimistic UI) and optionally focuses.\n *\n * @param {HTMLElement} paginationList - The <ul> for pagination controls.\n * @param {number} page - Target page index.\n * @param {number} total - Total pages.\n * @param {(i:number)=>void} changeProxy - Stable change handler proxy.\n * @param {boolean} allowFocus - Whether focus should be applied.\n */\nconst renderControlsOptimistic = (paginationList, page, total, changeProxy, allowFocus) => {\n  renderPaginationControls(paginationList, page, total, changeProxy);\n  focusActiveButton(paginationList, allowFocus);\n};\n\n/**\n * Wraps a renderPage function with a sequence guard to ignore stale responses.\n *\n * @param {(i:number)=>Promise<void>} renderPage - The raw renderer.\n * @param {(i:number)=>void} onSettled - Called after latest render completes.\n * @returns {(i:number)=>Promise<void>} - Guarded renderer.\n */\nconst makeGuardedRenderer = (renderPage, onSettled) => {\n  let seq = 0;\n  return async (idx) => {\n    const ticket = ++seq;\n    await renderPage(idx);\n    if (ticket !== seq) {\n      return;\n    }\n    onSettled(idx);\n  };\n};\n\n/**\n * Internal: wires up pagination state, handlers, optimistic UI, and initial render.\n *\n * @param {PaginationConfig} config - Configuration object.\n * @returns {{ goTo: (pageIndex:number) => void }} Public controller.\n */\nconst initPaginationController = (config) => {\n  const { block, contentArea, totalPages, renderItems, loadPageData, initialPage = 0, onPageChange } = config;\n\n  const totalPagesSafe = Math.max(1, totalPages);\n  let activePage = clampPage(initialPage, totalPagesSafe);\n  let isLoading = false;\n  let shouldFocus = false;\n\n  const paginationNav = ensurePaginationNav(block);\n  const paginationList = resetPaginationList(paginationNav);\n\n  const { proxy: pageChangeProxy, set: setPageChangeHandler } = makePageChangeProxy();\n\n  const renderPage = makePageRenderer(contentArea, paginationList, totalPagesSafe, loadPageData, renderItems, pageChangeProxy, () => shouldFocus);\n\n  const renderPageGuarded = makeGuardedRenderer(renderPage, (idx) => {\n    activePage = clampPage(idx, totalPagesSafe);\n    isLoading = false;\n    shouldFocus = true;\n    if (typeof onPageChange === 'function') {\n      onPageChange(idx, totalPagesSafe);\n    }\n  });\n\n  /**\n   * changePage with optimistic UI:\n   * - updates controls immediately for visual feedback,\n   * - triggers async render,\n   * - guards against out-of-range and spamming.\n   */\n  const changePage = (newPage) => {\n    const next = clampPage(newPage, totalPagesSafe);\n    if (next === activePage && !isLoading) {\n      return;\n    }\n    renderControlsOptimistic(paginationList, next, totalPagesSafe, pageChangeProxy, shouldFocus);\n    isLoading = true;\n    renderPageGuarded(next);\n  };\n\n  setPageChangeHandler(changePage);\n  renderControlsOptimistic(paginationList, activePage, totalPagesSafe, pageChangeProxy, false);\n  renderPageGuarded(activePage);\n\n  return {\n    goTo: changePage,\n  };\n};\n\n/**\n * Creates and initializes dynamic pagination (object signature only).\n *\n * @param {PaginationConfig} config - Configuration object.\n */\nconst createPagination = (config) => {\n  const cfg = config || {};\n  if (!cfg.block || !cfg.contentArea || !cfg.renderItems || !cfg.loadPageData || !Number.isInteger(cfg.totalPages)) {\n    console.error('pagination: invalid dynamic config');\n    return;\n  }\n  initPaginationController(cfg);\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (createPagination);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./common/pagination/pagination.js?\n}")},"./node_modules/@floating-ui/core/dist/floating-ui.core.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   arrow: () => (/* binding */ arrow),\n/* harmony export */   autoPlacement: () => (/* binding */ autoPlacement),\n/* harmony export */   computePosition: () => (/* binding */ computePosition),\n/* harmony export */   detectOverflow: () => (/* binding */ detectOverflow),\n/* harmony export */   flip: () => (/* binding */ flip),\n/* harmony export */   hide: () => (/* binding */ hide),\n/* harmony export */   inline: () => (/* binding */ inline),\n/* harmony export */   limitShift: () => (/* binding */ limitShift),\n/* harmony export */   offset: () => (/* binding */ offset),\n/* harmony export */   shift: () => (/* binding */ shift),\n/* harmony export */   size: () => (/* binding */ size)\n/* harmony export */ });\n/* harmony import */ var _floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @floating-ui/utils */ \"./node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs\");\n\n\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getSideAxis)(placement);\n  const alignmentAxis = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getAlignmentAxis)(placement);\n  const alignLength = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getAxisLength)(alignmentAxis);\n  const side = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getSide)(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch ((0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getAlignment)(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.evaluate)(options, state);\n  const paddingObject = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getPaddingObject)(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.rectToClientRect)(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    x,\n    y,\n    width: rects.floating.width,\n    height: rects.floating.height\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.rectToClientRect)(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.evaluate)(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getPaddingObject)(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getAlignmentAxis)(placement);\n    const length = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getAxisLength)(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.min)(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.min)(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.clamp)(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getAlignment)(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getAlignment)(placement) === alignment), ...allowedPlacements.filter(placement => (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getAlignment)(placement) !== alignment)] : allowedPlacements.filter(placement => (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getSide)(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getAlignment)(placement) === alignment || (autoAlignment ? (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getOppositeAlignmentPlacement)(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = _floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.evaluate)(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === _floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getAlignmentSides)(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[(0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getSide)(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getAlignment)(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getAlignment)(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.evaluate)(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getSide)(placement);\n      const initialSideAxis = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getSideAxis)(initialPlacement);\n      const isBasePlacement = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getSide)(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [(0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getOppositePlacement)(initialPlacement)] : (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getExpandedPlacements)(initialPlacement));\n      const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== 'none';\n      if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {\n        fallbackPlacements.push(...(0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getOppositeAxisPlacements)(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getAlignmentSides)(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          const ignoreCrossAxisOverflow = checkCrossAxis === 'alignment' ? initialSideAxis !== (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getSideAxis)(nextPlacement) : false;\n          if (!ignoreCrossAxisOverflow ||\n          // We leave the current main axis only if every placement on that axis\n          // overflows the main axis.\n          overflowsData.every(d => (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getSideAxis)(d.placement) === initialSideAxis ? d.overflows[0] > 0 : true)) {\n            // Try next placement and re-run the lifecycle.\n            return {\n              data: {\n                index: nextIndex,\n                overflows: overflowsData\n              },\n              reset: {\n                placement: nextPlacement\n              }\n            };\n          }\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$filter2;\n                const placement = (_overflowsData$filter2 = overflowsData.filter(d => {\n                  if (hasFallbackAxisSideDirection) {\n                    const currentSideAxis = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getSideAxis)(d.placement);\n                    return currentSideAxis === initialSideAxis ||\n                    // Create a bias to the `y` side axis due to horizontal\n                    // reading directions favoring greater width.\n                    currentSideAxis === 'y';\n                  }\n                  return true;\n                }).map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$filter2[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return _floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.evaluate)(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.min)(...rects.map(rect => rect.left));\n  const minY = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.min)(...rects.map(rect => rect.top));\n  const maxX = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.max)(...rects.map(rect => rect.right));\n  const maxY = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.max)(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.rectToClientRect)(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.evaluate)(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.rectToClientRect)(getBoundingRect(nativeClientRects));\n      const paddingObject = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getPaddingObject)(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if ((0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getSideAxis)(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getSide)(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getSide)(placement) === 'left';\n          const maxRight = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.max)(...clientRects.map(rect => rect.right));\n          const minLeft = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.min)(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nconst originSides = /*#__PURE__*/new Set(['left', 'top']);\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getSide)(placement);\n  const alignment = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getAlignment)(placement);\n  const isVertical = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getSideAxis)(placement) === 'y';\n  const mainAxisMulti = originSides.has(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.evaluate)(options, state);\n\n  // eslint-disable-next-line prefer-const\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: rawValue.mainAxis || 0,\n    crossAxis: rawValue.crossAxis || 0,\n    alignmentAxis: rawValue.alignmentAxis\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.evaluate)(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getSideAxis)((0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getSide)(placement));\n      const mainAxis = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getOppositeAxis)(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.clamp)(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.clamp)(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y,\n          enabled: {\n            [mainAxis]: checkMainAxis,\n            [crossAxis]: checkCrossAxis\n          }\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.evaluate)(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getSideAxis)(placement);\n      const mainAxis = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getOppositeAxis)(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.evaluate)(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = originSides.has((0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getSide)(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      var _state$middlewareData, _state$middlewareData2;\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.evaluate)(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getSide)(placement);\n      const alignment = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getAlignment)(placement);\n      const isYAxis = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.getSideAxis)(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const maximumClippingHeight = height - overflow.top - overflow.bottom;\n      const maximumClippingWidth = width - overflow.left - overflow.right;\n      const overflowAvailableHeight = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.min)(height - overflow[heightSide], maximumClippingHeight);\n      const overflowAvailableWidth = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.min)(width - overflow[widthSide], maximumClippingWidth);\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if ((_state$middlewareData = state.middlewareData.shift) != null && _state$middlewareData.enabled.x) {\n        availableWidth = maximumClippingWidth;\n      }\n      if ((_state$middlewareData2 = state.middlewareData.shift) != null && _state$middlewareData2.enabled.y) {\n        availableHeight = maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.max)(overflow.left, 0);\n        const xMax = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.max)(overflow.right, 0);\n        const yMin = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.max)(overflow.top, 0);\n        const yMax = (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.max)(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.max)(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : (0,_floating_ui_utils__WEBPACK_IMPORTED_MODULE_0__.max)(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@floating-ui/core/dist/floating-ui.core.mjs?\n}")},"./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   autoPlacement: () => (/* binding */ autoPlacement),\n/* harmony export */   autoUpdate: () => (/* binding */ autoUpdate),\n/* harmony export */   computePosition: () => (/* binding */ computePosition),\n/* harmony export */   limitShift: () => (/* binding */ limitShift),\n/* harmony export */   shift: () => (/* binding */ shift),\n/* harmony export */   size: () => (/* binding */ size)\n/* harmony export */ });\n/* unused harmony exports arrow, detectOverflow, flip, hide, inline, offset, platform */\n/* harmony import */ var _floating_ui_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @floating-ui/utils */ \"./node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs\");\n/* harmony import */ var _floating_ui_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @floating-ui/core */ \"./node_modules/@floating-ui/core/dist/floating-ui.core.mjs\");\n/* harmony import */ var _floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @floating-ui/utils/dom */ \"./node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs\");\n\n\n\n\n\nfunction getCssDimensions(element) {\n  const css = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getComputedStyle)(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isHTMLElement)(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.round)(width) !== offsetWidth || (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.round)(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !(0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isElement)(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!(0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isHTMLElement)(domElement)) {\n    return (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.createCoords)(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.round)(rect.width) : rect.width) / width;\n  let y = ($ ? (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.round)(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/(0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.createCoords)(0);\nfunction getVisualOffsets(element) {\n  const win = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getWindow)(element);\n  if (!(0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isWebKit)() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getWindow)(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.createCoords)(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if ((0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isElement)(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.createCoords)(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getWindow)(domElement);\n    const offsetWin = offsetParent && (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isElement)(offsetParent) ? (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getWindow)(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getFrameElement)(currentWin);\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getComputedStyle)(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getWindow)(currentIFrame);\n      currentIFrame = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getFrameElement)(currentWin);\n    }\n  }\n  return (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.rectToClientRect)({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\n// If <html> has a CSS width greater than the viewport, then this will be\n// incorrect for RTL.\nfunction getWindowScrollBarX(element, rect) {\n  const leftScroll = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getNodeScroll)(element).scrollLeft;\n  if (!rect) {\n    return getBoundingClientRect((0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getDocumentElement)(element)).left + leftScroll;\n  }\n  return rect.left + leftScroll;\n}\n\nfunction getHTMLOffset(documentElement, scroll) {\n  const htmlRect = documentElement.getBoundingClientRect();\n  const x = htmlRect.left + scroll.scrollLeft - getWindowScrollBarX(documentElement, htmlRect);\n  const y = htmlRect.top + scroll.scrollTop;\n  return {\n    x,\n    y\n  };\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === 'fixed';\n  const documentElement = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getDocumentElement)(offsetParent);\n  const topLayer = elements ? (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isTopLayer)(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.createCoords)(1);\n  const offsets = (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.createCoords)(0);\n  const isOffsetParentAnElement = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isHTMLElement)(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if ((0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getNodeName)(offsetParent) !== 'body' || (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isOverflowElement)(documentElement)) {\n      scroll = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getNodeScroll)(offsetParent);\n    }\n    if ((0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isHTMLElement)(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.createCoords)(0);\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x + htmlOffset.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y + htmlOffset.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getDocumentElement)(element);\n  const scroll = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getNodeScroll)(element);\n  const body = element.ownerDocument.body;\n  const width = (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.max)(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.max)(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if ((0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getComputedStyle)(body).direction === 'rtl') {\n    x += (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.max)(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Safety check: ensure the scrollbar space is reasonable in case this\n// calculation is affected by unusual styles.\n// Most scrollbars leave 15-18px of space.\nconst SCROLLBAR_MAX = 25;\nfunction getViewportRect(element, strategy) {\n  const win = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getWindow)(element);\n  const html = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getDocumentElement)(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isWebKit)();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  const windowScrollbarX = getWindowScrollBarX(html);\n  // <html> `overflow: hidden` + `scrollbar-gutter: stable` reduces the\n  // visual width of the <html> but this is not considered in the size\n  // of `html.clientWidth`.\n  if (windowScrollbarX <= 0) {\n    const doc = html.ownerDocument;\n    const body = doc.body;\n    const bodyStyles = getComputedStyle(body);\n    const bodyMarginInline = doc.compatMode === 'CSS1Compat' ? parseFloat(bodyStyles.marginLeft) + parseFloat(bodyStyles.marginRight) || 0 : 0;\n    const clippingStableScrollbarWidth = Math.abs(html.clientWidth - body.clientWidth - bodyMarginInline);\n    if (clippingStableScrollbarWidth <= SCROLLBAR_MAX) {\n      width -= clippingStableScrollbarWidth;\n    }\n  } else if (windowScrollbarX <= SCROLLBAR_MAX) {\n    // If the <body> scrollbar is on the left, the width needs to be extended\n    // by the scrollbar amount so there isn't extra space on the right.\n    width += windowScrollbarX;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nconst absoluteOrFixed = /*#__PURE__*/new Set(['absolute', 'fixed']);\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isHTMLElement)(element) ? getScale(element) : (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.createCoords)(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect((0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getDocumentElement)(element));\n  } else if ((0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isElement)(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y,\n      width: clippingAncestor.width,\n      height: clippingAncestor.height\n    };\n  }\n  return (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.rectToClientRect)(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getParentNode)(element);\n  if (parentNode === stopNode || !(0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isElement)(parentNode) || (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isLastTraversableNode)(parentNode)) {\n    return false;\n  }\n  return (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getComputedStyle)(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getOverflowAncestors)(element, [], false).filter(el => (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isElement)(el) && (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getNodeName)(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getComputedStyle)(element).position === 'fixed';\n  let currentNode = elementIsFixed ? (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getParentNode)(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while ((0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isElement)(currentNode) && !(0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isLastTraversableNode)(currentNode)) {\n    const computedStyle = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getComputedStyle)(currentNode);\n    const currentNodeIsContaining = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isContainingBlock)(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && absoluteOrFixed.has(currentContainingBlockComputedStyle.position) || (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isOverflowElement)(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getParentNode)(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isTopLayer)(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.max)(rect.top, accRect.top);\n    accRect.right = (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.min)(rect.right, accRect.right);\n    accRect.bottom = (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.min)(rect.bottom, accRect.bottom);\n    accRect.left = (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.max)(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isHTMLElement)(offsetParent);\n  const documentElement = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getDocumentElement)(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.createCoords)(0);\n\n  // If the <body> scrollbar appears on the left (e.g. RTL systems). Use\n  // Firefox with layout.scrollbar.side = 3 in about:config to test this.\n  function setLeftRTLScrollbarOffset() {\n    offsets.x = getWindowScrollBarX(documentElement);\n  }\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if ((0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getNodeName)(offsetParent) !== 'body' || (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isOverflowElement)(documentElement)) {\n      scroll = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getNodeScroll)(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      setLeftRTLScrollbarOffset();\n    }\n  }\n  if (isFixed && !isOffsetParentAnElement && documentElement) {\n    setLeftRTLScrollbarOffset();\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.createCoords)(0);\n  const x = rect.left + scroll.scrollLeft - offsets.x - htmlOffset.x;\n  const y = rect.top + scroll.scrollTop - offsets.y - htmlOffset.y;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction isStaticPositioned(element) {\n  return (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getComputedStyle)(element).position === 'static';\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!(0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isHTMLElement)(element) || (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getComputedStyle)(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  let rawOffsetParent = element.offsetParent;\n\n  // Firefox returns the <html> element as the offsetParent if it's non-static,\n  // while Chrome and Safari return the <body> element. The <body> element must\n  // be used to perform the correct calculations even if the <html> element is\n  // non-static.\n  if ((0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getDocumentElement)(element) === rawOffsetParent) {\n    rawOffsetParent = rawOffsetParent.ownerDocument.body;\n  }\n  return rawOffsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const win = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getWindow)(element);\n  if ((0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isTopLayer)(element)) {\n    return win;\n  }\n  if (!(0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isHTMLElement)(element)) {\n    let svgOffsetParent = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getParentNode)(element);\n    while (svgOffsetParent && !(0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isLastTraversableNode)(svgOffsetParent)) {\n      if ((0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isElement)(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {\n        return svgOffsetParent;\n      }\n      svgOffsetParent = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getParentNode)(svgOffsetParent);\n    }\n    return win;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isTableElement)(offsetParent) && isStaticPositioned(offsetParent)) {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isLastTraversableNode)(offsetParent) && isStaticPositioned(offsetParent) && !(0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isContainingBlock)(offsetParent)) {\n    return win;\n  }\n  return offsetParent || (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getContainingBlock)(element) || win;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  const floatingDimensions = await getDimensionsFn(data.floating);\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      width: floatingDimensions.width,\n      height: floatingDimensions.height\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getComputedStyle)(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement: _floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement: _floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.isElement,\n  isRTL\n};\n\nfunction rectsAreEqual(a, b) {\n  return a.x === b.x && a.y === b.y && a.width === b.width && a.height === b.height;\n}\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getDocumentElement)(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const elementRectForRootMargin = element.getBoundingClientRect();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = elementRectForRootMargin;\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.floor)(top);\n    const insetRight = (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.floor)(root.clientWidth - (left + width));\n    const insetBottom = (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.floor)(root.clientHeight - (top + height));\n    const insetLeft = (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.floor)(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.max)(0, (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_0__.min)(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          // If the reference is clipped, the ratio is 0. Throttle the refresh\n          // to prevent an infinite loop of updates.\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 1000);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      if (ratio === 1 && !rectsAreEqual(elementRectForRootMargin, element.getBoundingClientRect())) {\n        // It's possible that even though the ratio is reported as 1, the\n        // element is not actually fully within the IntersectionObserver's root\n        // area anymore. This can happen under performance constraints. This may\n        // be a bug in the browser's IntersectionObserver implementation. To\n        // work around this, we compare the element's bounding rect now with\n        // what it was at the time we created the IntersectionObserver. If they\n        // are not equal then the element moved, so we refresh.\n        refresh();\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (_e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? (0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getOverflowAncestors)(referenceEl) : []), ...(0,_floating_ui_utils_dom__WEBPACK_IMPORTED_MODULE_2__.getOverflowAncestors)(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && !rectsAreEqual(prevRefRect, nextRefRect)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nconst detectOverflow = _floating_ui_core__WEBPACK_IMPORTED_MODULE_1__.detectOverflow;\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = _floating_ui_core__WEBPACK_IMPORTED_MODULE_1__.offset;\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = _floating_ui_core__WEBPACK_IMPORTED_MODULE_1__.autoPlacement;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = _floating_ui_core__WEBPACK_IMPORTED_MODULE_1__.shift;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = _floating_ui_core__WEBPACK_IMPORTED_MODULE_1__.flip;\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = _floating_ui_core__WEBPACK_IMPORTED_MODULE_1__.size;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = _floating_ui_core__WEBPACK_IMPORTED_MODULE_1__.hide;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = _floating_ui_core__WEBPACK_IMPORTED_MODULE_1__.arrow;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = _floating_ui_core__WEBPACK_IMPORTED_MODULE_1__.inline;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = _floating_ui_core__WEBPACK_IMPORTED_MODULE_1__.limitShift;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return (0,_floating_ui_core__WEBPACK_IMPORTED_MODULE_1__.computePosition)(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\n\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs?\n}")},"./node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getComputedStyle: () => (/* binding */ getComputedStyle),\n/* harmony export */   getContainingBlock: () => (/* binding */ getContainingBlock),\n/* harmony export */   getDocumentElement: () => (/* binding */ getDocumentElement),\n/* harmony export */   getFrameElement: () => (/* binding */ getFrameElement),\n/* harmony export */   getNodeName: () => (/* binding */ getNodeName),\n/* harmony export */   getNodeScroll: () => (/* binding */ getNodeScroll),\n/* harmony export */   getOverflowAncestors: () => (/* binding */ getOverflowAncestors),\n/* harmony export */   getParentNode: () => (/* binding */ getParentNode),\n/* harmony export */   getWindow: () => (/* binding */ getWindow),\n/* harmony export */   isContainingBlock: () => (/* binding */ isContainingBlock),\n/* harmony export */   isElement: () => (/* binding */ isElement),\n/* harmony export */   isHTMLElement: () => (/* binding */ isHTMLElement),\n/* harmony export */   isLastTraversableNode: () => (/* binding */ isLastTraversableNode),\n/* harmony export */   isOverflowElement: () => (/* binding */ isOverflowElement),\n/* harmony export */   isTableElement: () => (/* binding */ isTableElement),\n/* harmony export */   isTopLayer: () => (/* binding */ isTopLayer),\n/* harmony export */   isWebKit: () => (/* binding */ isWebKit)\n/* harmony export */ });\n/* unused harmony exports getNearestOverflowAncestor, isNode, isShadowRoot */\nfunction hasWindow() {\n  return typeof window !== 'undefined';\n}\nfunction getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  if (!hasWindow() || typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nconst invalidOverflowDisplayValues = /*#__PURE__*/new Set(['inline', 'contents']);\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !invalidOverflowDisplayValues.has(display);\n}\nconst tableElements = /*#__PURE__*/new Set(['table', 'td', 'th']);\nfunction isTableElement(element) {\n  return tableElements.has(getNodeName(element));\n}\nconst topLayerSelectors = [':popover-open', ':modal'];\nfunction isTopLayer(element) {\n  return topLayerSelectors.some(selector => {\n    try {\n      return element.matches(selector);\n    } catch (_e) {\n      return false;\n    }\n  });\n}\nconst transformProperties = ['transform', 'translate', 'scale', 'rotate', 'perspective'];\nconst willChangeValues = ['transform', 'translate', 'scale', 'rotate', 'perspective', 'filter'];\nconst containValues = ['paint', 'layout', 'strict', 'content'];\nfunction isContainingBlock(elementOrCss) {\n  const webkit = isWebKit();\n  const css = isElement(elementOrCss) ? getComputedStyle(elementOrCss) : elementOrCss;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  // https://drafts.csswg.org/css-transforms-2/#individual-transforms\n  return transformProperties.some(value => css[value] ? css[value] !== 'none' : false) || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || willChangeValues.some(value => (css.willChange || '').includes(value)) || containValues.some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else if (isTopLayer(currentNode)) {\n      return null;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nconst lastTraversableNodeNames = /*#__PURE__*/new Set(['html', 'body', '#document']);\nfunction isLastTraversableNode(node) {\n  return lastTraversableNodeNames.has(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.scrollX,\n    scrollTop: element.scrollY\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    const frameElement = getFrameElement(win);\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], frameElement && traverseIframes ? getOverflowAncestors(frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\nfunction getFrameElement(win) {\n  return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\n}\n\n\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs?\n}")},"./node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clamp: () => (/* binding */ clamp),\n/* harmony export */   createCoords: () => (/* binding */ createCoords),\n/* harmony export */   evaluate: () => (/* binding */ evaluate),\n/* harmony export */   floor: () => (/* binding */ floor),\n/* harmony export */   getAlignment: () => (/* binding */ getAlignment),\n/* harmony export */   getAlignmentAxis: () => (/* binding */ getAlignmentAxis),\n/* harmony export */   getAlignmentSides: () => (/* binding */ getAlignmentSides),\n/* harmony export */   getAxisLength: () => (/* binding */ getAxisLength),\n/* harmony export */   getExpandedPlacements: () => (/* binding */ getExpandedPlacements),\n/* harmony export */   getOppositeAlignmentPlacement: () => (/* binding */ getOppositeAlignmentPlacement),\n/* harmony export */   getOppositeAxis: () => (/* binding */ getOppositeAxis),\n/* harmony export */   getOppositeAxisPlacements: () => (/* binding */ getOppositeAxisPlacements),\n/* harmony export */   getOppositePlacement: () => (/* binding */ getOppositePlacement),\n/* harmony export */   getPaddingObject: () => (/* binding */ getPaddingObject),\n/* harmony export */   getSide: () => (/* binding */ getSide),\n/* harmony export */   getSideAxis: () => (/* binding */ getSideAxis),\n/* harmony export */   max: () => (/* binding */ max),\n/* harmony export */   min: () => (/* binding */ min),\n/* harmony export */   placements: () => (/* binding */ placements),\n/* harmony export */   rectToClientRect: () => (/* binding */ rectToClientRect),\n/* harmony export */   round: () => (/* binding */ round),\n/* harmony export */   sides: () => (/* binding */ sides)\n/* harmony export */ });\n/* unused harmony exports alignments, expandPaddingObject */\n/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nconst yAxisSides = /*#__PURE__*/new Set(['top', 'bottom']);\nfunction getSideAxis(placement) {\n  return yAxisSides.has(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nconst lrPlacement = ['left', 'right'];\nconst rlPlacement = ['right', 'left'];\nconst tbPlacement = ['top', 'bottom'];\nconst btPlacement = ['bottom', 'top'];\nfunction getSideList(side, isStart, rtl) {\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rlPlacement : lrPlacement;\n      return isStart ? lrPlacement : rlPlacement;\n    case 'left':\n    case 'right':\n      return isStart ? tbPlacement : btPlacement;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  const {\n    x,\n    y,\n    width,\n    height\n  } = rect;\n  return {\n    width,\n    height,\n    top: y,\n    left: x,\n    right: x + width,\n    bottom: y + height,\n    x,\n    y\n  };\n}\n\n\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs?\n}")},"./node_modules/@lit/context/development/index.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ContextConsumer: () => (/* reexport safe */ _lib_controllers_context_consumer_js__WEBPACK_IMPORTED_MODULE_2__.ContextConsumer),\n/* harmony export */   ContextProvider: () => (/* reexport safe */ _lib_controllers_context_provider_js__WEBPACK_IMPORTED_MODULE_3__.ContextProvider),\n/* harmony export */   ContextRoot: () => (/* reexport safe */ _lib_context_root_js__WEBPACK_IMPORTED_MODULE_4__.ContextRoot),\n/* harmony export */   createContext: () => (/* reexport safe */ _lib_create_context_js__WEBPACK_IMPORTED_MODULE_1__.createContext),\n/* harmony export */   provide: () => (/* reexport safe */ _lib_decorators_provide_js__WEBPACK_IMPORTED_MODULE_5__.provide)\n/* harmony export */ });\n/* harmony import */ var _lib_context_request_event_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/context-request-event.js */ "./node_modules/@lit/context/development/lib/context-request-event.js");\n/* harmony import */ var _lib_create_context_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/create-context.js */ "./node_modules/@lit/context/development/lib/create-context.js");\n/* harmony import */ var _lib_controllers_context_consumer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/controllers/context-consumer.js */ "./node_modules/@lit/context/development/lib/controllers/context-consumer.js");\n/* harmony import */ var _lib_controllers_context_provider_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/controllers/context-provider.js */ "./node_modules/@lit/context/development/lib/controllers/context-provider.js");\n/* harmony import */ var _lib_context_root_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/context-root.js */ "./node_modules/@lit/context/development/lib/context-root.js");\n/* harmony import */ var _lib_decorators_provide_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./lib/decorators/provide.js */ "./node_modules/@lit/context/development/lib/decorators/provide.js");\n/* harmony import */ var _lib_decorators_consume_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./lib/decorators/consume.js */ "./node_modules/@lit/context/development/lib/decorators/consume.js");\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@lit/context/development/index.js?\n}')},"./node_modules/@lit/context/development/lib/context-request-event.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ContextRequestEvent: () => (/* binding */ ContextRequestEvent)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * An event fired by a context requester to signal it desires a specified context with the given key.\n *\n * A provider should inspect the `context` property of the event to determine if it has a value that can\n * satisfy the request, calling the `callback` with the requested value if so.\n *\n * If the requested context event contains a truthy `subscribe` value, then a provider can call the callback\n * multiple times if the value is changed, if this is the case the provider should pass an `unsubscribe`\n * method to the callback which consumers can invoke to indicate they no longer wish to receive these updates.\n *\n * If no `subscribe` value is present in the event, then the provider can assume that this is a 'one time'\n * request for the context and can therefore not track the consumer.\n */\nclass ContextRequestEvent extends Event {\n    /**\n     *\n     * @param context the context key to request\n     * @param contextTarget the original context target of the requester\n     * @param callback the callback that should be invoked when the context with the specified key is available\n     * @param subscribe when, true indicates we want to subscribe to future updates\n     */\n    constructor(context, contextTarget, callback, subscribe) {\n        super('context-request', { bubbles: true, composed: true });\n        this.context = context;\n        this.contextTarget = contextTarget;\n        this.callback = callback;\n        this.subscribe = subscribe ?? false;\n    }\n}\n//# sourceMappingURL=context-request-event.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@lit/context/development/lib/context-request-event.js?\n}")},"./node_modules/@lit/context/development/lib/context-root.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ContextRoot: () => (/* binding */ ContextRoot)\n/* harmony export */ });\n/* harmony import */ var _context_request_event_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./context-request-event.js */ \"./node_modules/@lit/context/development/lib/context-request-event.js\");\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n/**\n * A ContextRoot can be used to gather unsatisfied context requests and\n * re-dispatch them when new providers which satisfy matching context keys are\n * available.\n *\n * This allows providers to be added to a DOM tree, or upgraded, after the\n * consumers.\n */\nclass ContextRoot {\n    constructor() {\n        this.pendingContextRequests = new Map();\n        this.onContextProvider = (event) => {\n            const pendingRequestData = this.pendingContextRequests.get(event.context);\n            if (pendingRequestData === undefined) {\n                // No pending requests for this context at this time\n                return;\n            }\n            // Clear our list. Any still unsatisfied requests will re-add themselves\n            // when we dispatch the events below.\n            this.pendingContextRequests.delete(event.context);\n            // Loop over all pending requests and re-dispatch them from their source\n            const { requests } = pendingRequestData;\n            for (const { elementRef, callbackRef } of requests) {\n                const element = elementRef.deref();\n                const callback = callbackRef.deref();\n                if (element === undefined || callback === undefined) {\n                    // The element was GC'ed. Do nothing.\n                }\n                else {\n                    // Re-dispatch if we still have the element and callback\n                    element.dispatchEvent(new _context_request_event_js__WEBPACK_IMPORTED_MODULE_0__.ContextRequestEvent(event.context, element, callback, true));\n                }\n            }\n        };\n        this.onContextRequest = (event) => {\n            // Events that are not subscribing should not be buffered\n            if (event.subscribe !== true) {\n                return;\n            }\n            // Note, it's important to use the initial target\n            // since that's the requesting element and the event may be re-targeted\n            // to an outer host element.\n            const element = (event.contextTarget ??\n                event.composedPath()[0]);\n            const callback = event.callback;\n            let pendingContextRequests = this.pendingContextRequests.get(event.context);\n            if (pendingContextRequests === undefined) {\n                this.pendingContextRequests.set(event.context, (pendingContextRequests = {\n                    callbacks: new WeakMap(),\n                    requests: [],\n                }));\n            }\n            let callbacks = pendingContextRequests.callbacks.get(element);\n            if (callbacks === undefined) {\n                pendingContextRequests.callbacks.set(element, (callbacks = new WeakSet()));\n            }\n            if (callbacks.has(callback)) {\n                // We're already tracking this element/callback pair\n                return;\n            }\n            callbacks.add(callback);\n            pendingContextRequests.requests.push({\n                elementRef: new WeakRef(element),\n                callbackRef: new WeakRef(callback),\n            });\n        };\n    }\n    /**\n     * Attach the ContextRoot to a given element to intercept `context-request` and\n     * `context-provider` events.\n     *\n     * @param element an element to add event listeners to\n     */\n    attach(element) {\n        element.addEventListener('context-request', this.onContextRequest);\n        element.addEventListener('context-provider', this.onContextProvider);\n    }\n    /**\n     * Removes the ContextRoot event listeners from a given element.\n     *\n     * @param element an element from which to remove event listeners\n     */\n    detach(element) {\n        element.removeEventListener('context-request', this.onContextRequest);\n        element.removeEventListener('context-provider', this.onContextProvider);\n    }\n}\n//# sourceMappingURL=context-root.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@lit/context/development/lib/context-root.js?\n}")},"./node_modules/@lit/context/development/lib/controllers/context-consumer.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ContextConsumer: () => (/* binding */ ContextConsumer)\n/* harmony export */ });\n/* harmony import */ var _context_request_event_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../context-request-event.js */ \"./node_modules/@lit/context/development/lib/context-request-event.js\");\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n/**\n * A ReactiveController which adds context consuming behavior to a custom\n * element by dispatching `context-request` events.\n *\n * When the host element is connected to the document it will emit a\n * `context-request` event with its context key. When the context request\n * is satisfied the controller will invoke the callback, if present, and\n * trigger a host update so it can respond to the new value.\n *\n * It will also call the dispose method given by the provider when the\n * host element is disconnected.\n */\nclass ContextConsumer {\n    constructor(host, contextOrOptions, callback, subscribe) {\n        this.subscribe = false;\n        this.provided = false;\n        this.value = undefined;\n        // This function must have stable identity to properly dedupe in ContextRoot\n        // if this element connects multiple times.\n        this._callback = (value, unsubscribe) => {\n            // some providers will pass an unsubscribe function indicating they may provide future values\n            if (this.unsubscribe) {\n                // if the unsubscribe function changes this implies we have changed provider\n                if (this.unsubscribe !== unsubscribe) {\n                    // cleanup the old provider\n                    this.provided = false;\n                    this.unsubscribe();\n                }\n                // if we don't support subscription, immediately unsubscribe\n                if (!this.subscribe) {\n                    this.unsubscribe();\n                }\n            }\n            // store the value so that it can be retrieved from the controller\n            this.value = value;\n            // schedule an update in case this value is used in a template\n            this.host.requestUpdate();\n            // only invoke callback if we are either expecting updates or have not yet\n            // been provided a value\n            if (!this.provided || this.subscribe) {\n                this.provided = true;\n                if (this.callback) {\n                    this.callback(value, unsubscribe);\n                }\n            }\n            this.unsubscribe = unsubscribe;\n        };\n        this.host = host;\n        // This is a potentially fragile duck-type. It means a context object can't\n        // have a property name context and be used in positional argument form.\n        if (contextOrOptions.context !== undefined) {\n            const options = contextOrOptions;\n            this.context = options.context;\n            this.callback = options.callback;\n            this.subscribe = options.subscribe ?? false;\n        }\n        else {\n            this.context = contextOrOptions;\n            this.callback = callback;\n            this.subscribe = subscribe ?? false;\n        }\n        this.host.addController(this);\n    }\n    hostConnected() {\n        this.dispatchRequest();\n    }\n    hostDisconnected() {\n        if (this.unsubscribe) {\n            this.unsubscribe();\n            this.unsubscribe = undefined;\n        }\n    }\n    dispatchRequest() {\n        this.host.dispatchEvent(new _context_request_event_js__WEBPACK_IMPORTED_MODULE_0__.ContextRequestEvent(this.context, this.host, this._callback, this.subscribe));\n    }\n}\n//# sourceMappingURL=context-consumer.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@lit/context/development/lib/controllers/context-consumer.js?\n}")},"./node_modules/@lit/context/development/lib/controllers/context-provider.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ContextProvider: () => (/* binding */ ContextProvider)\n/* harmony export */ });\n/* unused harmony export ContextProviderEvent */\n/* harmony import */ var _context_request_event_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../context-request-event.js */ \"./node_modules/@lit/context/development/lib/context-request-event.js\");\n/* harmony import */ var _value_notifier_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../value-notifier.js */ \"./node_modules/@lit/context/development/lib/value-notifier.js\");\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n\nclass ContextProviderEvent extends Event {\n    /**\n     *\n     * @param context the context which this provider can provide\n     * @param contextTarget the original context target of the provider\n     */\n    constructor(context, contextTarget) {\n        super('context-provider', { bubbles: true, composed: true });\n        this.context = context;\n        this.contextTarget = contextTarget;\n    }\n}\n/**\n * A ReactiveController which adds context provider behavior to a\n * custom element.\n *\n * This controller simply listens to the `context-request` event when\n * the host is connected to the DOM and registers the received callbacks\n * against its observable Context implementation.\n *\n * The controller may also be attached to any HTML element in which case it's\n * up to the user to call hostConnected() when attached to the DOM. This is\n * done automatically for any custom elements implementing\n * ReactiveControllerHost.\n */\nclass ContextProvider extends _value_notifier_js__WEBPACK_IMPORTED_MODULE_1__.ValueNotifier {\n    constructor(host, contextOrOptions, initialValue) {\n        super(contextOrOptions.context !== undefined\n            ? contextOrOptions.initialValue\n            : initialValue);\n        this.onContextRequest = (ev) => {\n            // Only call the callback if the context matches.\n            if (ev.context !== this.context) {\n                return;\n            }\n            // Also, in case an element is a consumer AND a provider\n            // of the same context, we want to avoid the element to self-register.\n            const consumerHost = ev.contextTarget ?? ev.composedPath()[0];\n            if (consumerHost === this.host) {\n                return;\n            }\n            ev.stopPropagation();\n            this.addCallback(ev.callback, consumerHost, ev.subscribe);\n        };\n        /**\n         * When we get a provider request event, that means a child of this element\n         * has just woken up. If it's a provider of our context, then we may need to\n         * re-parent our subscriptions, because is a more specific provider than us\n         * for its subtree.\n         */\n        this.onProviderRequest = (ev) => {\n            // Ignore events when the context doesn't match.\n            if (ev.context !== this.context) {\n                return;\n            }\n            // Also, in case an element is a consumer AND a provider\n            // of the same context it shouldn't provide to itself.\n            const childProviderHost = ev.contextTarget ?? ev.composedPath()[0];\n            if (childProviderHost === this.host) {\n                return;\n            }\n            // Re-parent all of our subscriptions in case this new child provider\n            // should take them over.\n            const seen = new Set();\n            for (const [callback, { consumerHost }] of this.subscriptions) {\n                // Prevent infinite loops in the case where a one host element\n                // is providing the same context multiple times.\n                //\n                // While normally it's a no-op to attempt to re-parent a subscription\n                // that already has its proper parent, in the case where there's more\n                // than one ValueProvider for the same context on the same hostElement,\n                // they will each call the consumer, and since they will each have their\n                // own dispose function, a well behaved consumer will notice the change\n                // in dispose function and call their old one.\n                //\n                // This will cause the subscriptions to thrash, but worse, without this\n                // set check here, we can end up in an infinite loop, as we add and remove\n                // the same subscriptions onto the end of the map over and over.\n                if (seen.has(callback)) {\n                    continue;\n                }\n                seen.add(callback);\n                consumerHost.dispatchEvent(new _context_request_event_js__WEBPACK_IMPORTED_MODULE_0__.ContextRequestEvent(this.context, consumerHost, callback, true));\n            }\n            ev.stopPropagation();\n        };\n        this.host = host;\n        if (contextOrOptions.context !== undefined) {\n            this.context = contextOrOptions.context;\n        }\n        else {\n            this.context = contextOrOptions;\n        }\n        this.attachListeners();\n        this.host.addController?.(this);\n    }\n    attachListeners() {\n        this.host.addEventListener('context-request', this.onContextRequest);\n        this.host.addEventListener('context-provider', this.onProviderRequest);\n    }\n    hostConnected() {\n        // emit an event to signal a provider is available for this context\n        this.host.dispatchEvent(new ContextProviderEvent(this.context, this.host));\n    }\n}\n//# sourceMappingURL=context-provider.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@lit/context/development/lib/controllers/context-provider.js?\n}")},"./node_modules/@lit/context/development/lib/create-context.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createContext: () => (/* binding */ createContext)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * Creates a typed Context.\n *\n * Contexts are compared with strict equality.\n *\n * If you want two separate `createContext()` calls to referer to the same\n * context, then use a key that will by equal under strict equality like a\n * string for `Symbol.for()`:\n *\n * ```ts\n * // true\n * createContext('my-context') === createContext('my-context')\n * // true\n * createContext(Symbol.for('my-context')) === createContext(Symbol.for('my-context'))\n * ```\n *\n * If you want a context to be unique so that it's guaranteed to not collide\n * with other contexts, use a key that's unique under strict equality, like\n * a `Symbol()` or object.:\n *\n * ```\n * // false\n * createContext({}) === createContext({})\n * // false\n * createContext(Symbol('my-context')) === createContext(Symbol('my-context'))\n * ```\n *\n * @param key a context key value\n * @template ValueType the type of value that can be provided by this context.\n * @returns the context key value cast to `Context<K, ValueType>`\n */\nfunction createContext(key) {\n    return key;\n}\n//# sourceMappingURL=create-context.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@lit/context/development/lib/create-context.js?\n}")},"./node_modules/@lit/context/development/lib/decorators/consume.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* unused harmony export consume */\n/* harmony import */ var _controllers_context_consumer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/context-consumer.js */ \"./node_modules/@lit/context/development/lib/controllers/context-consumer.js\");\n/**\n * @license\n * Copyright 2022 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n/*\n * IMPORTANT: For compatibility with tsickle and the Closure JS compiler, all\n * property decorators (but not class decorators) in this file that have\n * an @ExportDecoratedItems annotation must be defined as a regular function,\n * not an arrow function.\n */\n/**\n * A property decorator that adds a ContextConsumer controller to the component\n * which will try and retrieve a value for the property via the Context API.\n *\n * @param context A Context identifier value created via `createContext`\n * @param subscribe An optional boolean which when true allows the value to be updated\n *   multiple times.\n *\n * @example\n *\n * ```ts\n * import {consume} from '@lit/context';\n * import {loggerContext, Logger} from 'community-protocols/logger';\n *\n * class MyElement {\n *   @consume({context: loggerContext})\n *   logger?: Logger;\n *\n *   doThing() {\n *     this.logger!.log('thing was done');\n *   }\n * }\n * ```\n * @category Decorator\n */\nfunction consume({ context, subscribe, }) {\n    return ((protoOrTarget, nameOrContext) => {\n        if (typeof nameOrContext === 'object') {\n            // Standard decorators branch\n            nameOrContext.addInitializer(function () {\n                new _controllers_context_consumer_js__WEBPACK_IMPORTED_MODULE_0__.ContextConsumer(this, {\n                    context,\n                    callback: (value) => {\n                        protoOrTarget.set.call(this, value);\n                    },\n                    subscribe,\n                });\n            });\n        }\n        else {\n            // Experimental decorators branch\n            protoOrTarget.constructor.addInitializer((element) => {\n                new _controllers_context_consumer_js__WEBPACK_IMPORTED_MODULE_0__.ContextConsumer(element, {\n                    context,\n                    callback: (value) => {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        element[nameOrContext] = value;\n                    },\n                    subscribe,\n                });\n            });\n        }\n    });\n}\n//# sourceMappingURL=consume.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@lit/context/development/lib/decorators/consume.js?\n}")},"./node_modules/@lit/context/development/lib/decorators/provide.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   provide: () => (/* binding */ provide)\n/* harmony export */ });\n/* harmony import */ var _controllers_context_provider_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/context-provider.js */ \"./node_modules/@lit/context/development/lib/controllers/context-provider.js\");\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n/*\n * IMPORTANT: For compatibility with tsickle and the Closure JS compiler, all\n * property decorators (but not class decorators) in this file that have\n * an @ExportDecoratedItems annotation must be defined as a regular function,\n * not an arrow function.\n */\n/**\n * A property decorator that adds a ContextProvider controller to the component\n * making it respond to any `context-request` events from its children consumer.\n *\n * @param context A Context identifier value created via `createContext`\n *\n * @example\n *\n * ```ts\n * import {provide} from '@lit/context';\n * import {Logger} from 'my-logging-library';\n * import {loggerContext} from './logger-context.js';\n *\n * class MyElement {\n *   @provide({context: loggerContext})\n *   logger = new Logger();\n * }\n * ```\n * @category Decorator\n */\nfunction provide({ context: context, }) {\n    return ((protoOrTarget, nameOrContext) => {\n        // Map of instances to controllers\n        const controllerMap = new WeakMap();\n        if (typeof nameOrContext === 'object') {\n            // Standard decorators branch\n            return {\n                get() {\n                    return protoOrTarget.get.call(this);\n                },\n                set(value) {\n                    controllerMap.get(this).setValue(value);\n                    return protoOrTarget.set.call(this, value);\n                },\n                init(value) {\n                    controllerMap.set(this, new _controllers_context_provider_js__WEBPACK_IMPORTED_MODULE_0__.ContextProvider(this, { context, initialValue: value }));\n                    return value;\n                },\n            };\n        }\n        else {\n            // Experimental decorators branch\n            protoOrTarget.constructor.addInitializer((element) => {\n                controllerMap.set(element, new _controllers_context_provider_js__WEBPACK_IMPORTED_MODULE_0__.ContextProvider(element, { context }));\n            });\n            // proxy any existing setter for this property and use it to\n            // notify the controller of an updated value\n            const descriptor = Object.getOwnPropertyDescriptor(protoOrTarget, nameOrContext);\n            let newDescriptor;\n            if (descriptor === undefined) {\n                const valueMap = new WeakMap();\n                newDescriptor = {\n                    get() {\n                        return valueMap.get(this);\n                    },\n                    set(value) {\n                        controllerMap.get(this).setValue(value);\n                        valueMap.set(this, value);\n                    },\n                    configurable: true,\n                    enumerable: true,\n                };\n            }\n            else {\n                const oldSetter = descriptor.set;\n                newDescriptor = {\n                    ...descriptor,\n                    set(value) {\n                        controllerMap.get(this).setValue(value);\n                        oldSetter?.call(this, value);\n                    },\n                };\n            }\n            Object.defineProperty(protoOrTarget, nameOrContext, newDescriptor);\n            return;\n        }\n    });\n}\n//# sourceMappingURL=provide.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@lit/context/development/lib/decorators/provide.js?\n}")},"./node_modules/@lit/context/development/lib/value-notifier.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ValueNotifier: () => (/* binding */ ValueNotifier)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * A simple class which stores a value, and triggers registered callbacks when\n * the value is changed via its setter.\n *\n * An implementor might use other observable patterns such as MobX or Redux to\n * get behavior like this. But this is a pretty minimal approach that will\n * likely work for a number of use cases.\n */\nclass ValueNotifier {\n    get value() {\n        return this._value;\n    }\n    set value(v) {\n        this.setValue(v);\n    }\n    setValue(v, force = false) {\n        const update = force || !Object.is(v, this._value);\n        this._value = v;\n        if (update) {\n            this.updateObservers();\n        }\n    }\n    constructor(defaultValue) {\n        this.subscriptions = new Map();\n        this.updateObservers = () => {\n            for (const [callback, { disposer }] of this.subscriptions) {\n                callback(this._value, disposer);\n            }\n        };\n        if (defaultValue !== undefined) {\n            this.value = defaultValue;\n        }\n    }\n    addCallback(callback, consumerHost, subscribe) {\n        if (!subscribe) {\n            // just call the callback once and we're done\n            callback(this.value);\n            return;\n        }\n        if (!this.subscriptions.has(callback)) {\n            this.subscriptions.set(callback, {\n                disposer: () => {\n                    this.subscriptions.delete(callback);\n                },\n                consumerHost,\n            });\n        }\n        const { disposer } = this.subscriptions.get(callback);\n        callback(this.value, disposer);\n    }\n    clearCallbacks() {\n        this.subscriptions.clear();\n    }\n}\n//# sourceMappingURL=value-notifier.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@lit/context/development/lib/value-notifier.js?\n}")},"./node_modules/@lit/reactive-element/development/css-tag.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adoptStyles: () => (/* binding */ adoptStyles),\n/* harmony export */   css: () => (/* binding */ css),\n/* harmony export */   getCompatibleStyle: () => (/* binding */ getCompatibleStyle),\n/* harmony export */   unsafeCSS: () => (/* binding */ unsafeCSS)\n/* harmony export */ });\n/* unused harmony exports supportsAdoptingStyleSheets, CSSResult */\n/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst NODE_MODE = false;\n// Allows minifiers to rename references to globalThis\nconst global = globalThis;\n/**\n * Whether the current browser supports `adoptedStyleSheets`.\n */\nconst supportsAdoptingStyleSheets = global.ShadowRoot &&\n    (global.ShadyCSS === undefined || global.ShadyCSS.nativeShadow) &&\n    'adoptedStyleSheets' in Document.prototype &&\n    'replace' in CSSStyleSheet.prototype;\nconst constructionToken = Symbol();\nconst cssTagCache = new WeakMap();\n/**\n * A container for a string of CSS text, that may be used to create a CSSStyleSheet.\n *\n * CSSResult is the return value of `css`-tagged template literals and\n * `unsafeCSS()`. In order to ensure that CSSResults are only created via the\n * `css` tag and `unsafeCSS()`, CSSResult cannot be constructed directly.\n */\nclass CSSResult {\n    constructor(cssText, strings, safeToken) {\n        // This property needs to remain unminified.\n        this['_$cssResult$'] = true;\n        if (safeToken !== constructionToken) {\n            throw new Error('CSSResult is not constructable. Use `unsafeCSS` or `css` instead.');\n        }\n        this.cssText = cssText;\n        this._strings = strings;\n    }\n    // This is a getter so that it's lazy. In practice, this means stylesheets\n    // are not created until the first element instance is made.\n    get styleSheet() {\n        // If `supportsAdoptingStyleSheets` is true then we assume CSSStyleSheet is\n        // constructable.\n        let styleSheet = this._styleSheet;\n        const strings = this._strings;\n        if (supportsAdoptingStyleSheets && styleSheet === undefined) {\n            const cacheable = strings !== undefined && strings.length === 1;\n            if (cacheable) {\n                styleSheet = cssTagCache.get(strings);\n            }\n            if (styleSheet === undefined) {\n                (this._styleSheet = styleSheet = new CSSStyleSheet()).replaceSync(this.cssText);\n                if (cacheable) {\n                    cssTagCache.set(strings, styleSheet);\n                }\n            }\n        }\n        return styleSheet;\n    }\n    toString() {\n        return this.cssText;\n    }\n}\nconst textFromCSSResult = (value) => {\n    // This property needs to remain unminified.\n    if (value['_$cssResult$'] === true) {\n        return value.cssText;\n    }\n    else if (typeof value === 'number') {\n        return value;\n    }\n    else {\n        throw new Error(`Value passed to 'css' function must be a 'css' function result: ` +\n            `${value}. Use 'unsafeCSS' to pass non-literal values, but take care ` +\n            `to ensure page security.`);\n    }\n};\n/**\n * Wrap a value for interpolation in a {@linkcode css} tagged template literal.\n *\n * This is unsafe because untrusted CSS text can be used to phone home\n * or exfiltrate data to an attacker controlled site. Take care to only use\n * this with trusted input.\n */\nconst unsafeCSS = (value) => new CSSResult(typeof value === 'string' ? value : String(value), undefined, constructionToken);\n/**\n * A template literal tag which can be used with LitElement's\n * {@linkcode LitElement.styles} property to set element styles.\n *\n * For security reasons, only literal string values and number may be used in\n * embedded expressions. To incorporate non-literal values {@linkcode unsafeCSS}\n * may be used inside an expression.\n */\nconst css = (strings, ...values) => {\n    const cssText = strings.length === 1\n        ? strings[0]\n        : values.reduce((acc, v, idx) => acc + textFromCSSResult(v) + strings[idx + 1], strings[0]);\n    return new CSSResult(cssText, strings, constructionToken);\n};\n/**\n * Applies the given styles to a `shadowRoot`. When Shadow DOM is\n * available but `adoptedStyleSheets` is not, styles are appended to the\n * `shadowRoot` to [mimic the native feature](https://developer.mozilla.org/en-US/docs/Web/API/ShadowRoot/adoptedStyleSheets).\n * Note, when shimming is used, any styles that are subsequently placed into\n * the shadowRoot should be placed *before* any shimmed adopted styles. This\n * will match spec behavior that gives adopted sheets precedence over styles in\n * shadowRoot.\n */\nconst adoptStyles = (renderRoot, styles) => {\n    if (supportsAdoptingStyleSheets) {\n        renderRoot.adoptedStyleSheets = styles.map((s) => s instanceof CSSStyleSheet ? s : s.styleSheet);\n    }\n    else {\n        for (const s of styles) {\n            const style = document.createElement('style');\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const nonce = global['litNonce'];\n            if (nonce !== undefined) {\n                style.setAttribute('nonce', nonce);\n            }\n            style.textContent = s.cssText;\n            renderRoot.appendChild(style);\n        }\n    }\n};\nconst cssResultFromStyleSheet = (sheet) => {\n    let cssText = '';\n    for (const rule of sheet.cssRules) {\n        cssText += rule.cssText;\n    }\n    return unsafeCSS(cssText);\n};\nconst getCompatibleStyle = supportsAdoptingStyleSheets ||\n    (NODE_MODE && global.CSSStyleSheet === undefined)\n    ? (s) => s\n    : (s) => s instanceof CSSStyleSheet ? cssResultFromStyleSheet(s) : s;\n//# sourceMappingURL=css-tag.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@lit/reactive-element/development/css-tag.js?\n}")},"./node_modules/@lit/reactive-element/development/decorators/base.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   desc: () => (/* binding */ desc)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * Wraps up a few best practices when returning a property descriptor from a\n * decorator.\n *\n * Marks the defined property as configurable, and enumerable, and handles\n * the case where we have a busted Reflect.decorate zombiefill (e.g. in Angular\n * apps).\n *\n * @internal\n */\nconst desc = (obj, name, descriptor) => {\n    // For backwards compatibility, we keep them configurable and enumerable.\n    descriptor.configurable = true;\n    descriptor.enumerable = true;\n    if (\n    // We check for Reflect.decorate each time, in case the zombiefill\n    // is applied via lazy loading some Angular code.\n    Reflect.decorate &&\n        typeof name !== 'object') {\n        // If we're called as a legacy decorator, and Reflect.decorate is present\n        // then we have no guarantees that the returned descriptor will be\n        // defined on the class, so we must apply it directly ourselves.\n        Object.defineProperty(obj, name, descriptor);\n    }\n    return descriptor;\n};\n//# sourceMappingURL=base.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@lit/reactive-element/development/decorators/base.js?\n}")},"./node_modules/@lit/reactive-element/development/decorators/custom-element.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* unused harmony export customElement */\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * Class decorator factory that defines the decorated class as a custom element.\n *\n * ```js\n * @customElement('my-element')\n * class MyElement extends LitElement {\n *   render() {\n *     return html``;\n *   }\n * }\n * ```\n * @category Decorator\n * @param tagName The tag name of the custom element to define.\n */\nconst customElement = (tagName) => (classOrTarget, context) => {\n    if (context !== undefined) {\n        context.addInitializer(() => {\n            customElements.define(tagName, classOrTarget);\n        });\n    }\n    else {\n        customElements.define(tagName, classOrTarget);\n    }\n};\n//# sourceMappingURL=custom-element.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@lit/reactive-element/development/decorators/custom-element.js?\n}")},"./node_modules/@lit/reactive-element/development/decorators/event-options.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* unused harmony export eventOptions */\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * Adds event listener options to a method used as an event listener in a\n * lit-html template.\n *\n * @param options An object that specifies event listener options as accepted by\n * `EventTarget#addEventListener` and `EventTarget#removeEventListener`.\n *\n * Current browsers support the `capture`, `passive`, and `once` options. See:\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Parameters\n *\n * ```ts\n * class MyElement {\n *   clicked = false;\n *\n *   render() {\n *     return html`\n *       <div @click=${this._onClick}>\n *         <button></button>\n *       </div>\n *     `;\n *   }\n *\n *   @eventOptions({capture: true})\n *   _onClick(e) {\n *     this.clicked = true;\n *   }\n * }\n * ```\n * @category Decorator\n */\nfunction eventOptions(options) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return ((protoOrValue, nameOrContext) => {\n        const method = typeof protoOrValue === 'function'\n            ? protoOrValue\n            : protoOrValue[nameOrContext];\n        Object.assign(method, options);\n    });\n}\n//# sourceMappingURL=event-options.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@lit/reactive-element/development/decorators/event-options.js?\n}")},"./node_modules/@lit/reactive-element/development/decorators/property.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   property: () => (/* binding */ property)\n/* harmony export */ });\n/* unused harmony export standardProperty */\n/* harmony import */ var _reactive_element_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../reactive-element.js */ \"./node_modules/@lit/reactive-element/development/reactive-element.js\");\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/*\n * IMPORTANT: For compatibility with tsickle and the Closure JS compiler, all\n * property decorators (but not class decorators) in this file that have\n * an @ExportDecoratedItems annotation must be defined as a regular function,\n * not an arrow function.\n */\n\nconst DEV_MODE = true;\nlet issueWarning;\nif (DEV_MODE) {\n    // Ensure warnings are issued only 1x, even if multiple versions of Lit\n    // are loaded.\n    globalThis.litIssuedWarnings ??= new Set();\n    /**\n     * Issue a warning if we haven't already, based either on `code` or `warning`.\n     * Warnings are disabled automatically only by `warning`; disabling via `code`\n     * can be done by users.\n     */\n    issueWarning = (code, warning) => {\n        warning += ` See https://lit.dev/msg/${code} for more information.`;\n        if (!globalThis.litIssuedWarnings.has(warning) &&\n            !globalThis.litIssuedWarnings.has(code)) {\n            console.warn(warning);\n            globalThis.litIssuedWarnings.add(warning);\n        }\n    };\n}\nconst legacyProperty = (options, proto, name) => {\n    const hasOwnProperty = proto.hasOwnProperty(name);\n    proto.constructor.createProperty(name, options);\n    // For accessors (which have a descriptor on the prototype) we need to\n    // return a descriptor, otherwise TypeScript overwrites the descriptor we\n    // define in createProperty() with the original descriptor. We don't do this\n    // for fields, which don't have a descriptor, because this could overwrite\n    // descriptor defined by other decorators.\n    return hasOwnProperty\n        ? Object.getOwnPropertyDescriptor(proto, name)\n        : undefined;\n};\n// This is duplicated from a similar variable in reactive-element.ts, but\n// actually makes sense to have this default defined with the decorator, so\n// that different decorators could have different defaults.\nconst defaultPropertyDeclaration = {\n    attribute: true,\n    type: String,\n    converter: _reactive_element_js__WEBPACK_IMPORTED_MODULE_0__.defaultConverter,\n    reflect: false,\n    hasChanged: _reactive_element_js__WEBPACK_IMPORTED_MODULE_0__.notEqual,\n};\n/**\n * Wraps a class accessor or setter so that `requestUpdate()` is called with the\n * property name and old value when the accessor is set.\n */\nconst standardProperty = (options = defaultPropertyDeclaration, target, context) => {\n    const { kind, metadata } = context;\n    if (DEV_MODE && metadata == null) {\n        issueWarning('missing-class-metadata', `The class ${target} is missing decorator metadata. This ` +\n            `could mean that you're using a compiler that supports decorators ` +\n            `but doesn't support decorator metadata, such as TypeScript 5.1. ` +\n            `Please update your compiler.`);\n    }\n    // Store the property options\n    let properties = globalThis.litPropertyMetadata.get(metadata);\n    if (properties === undefined) {\n        globalThis.litPropertyMetadata.set(metadata, (properties = new Map()));\n    }\n    if (kind === 'setter') {\n        options = Object.create(options);\n        options.wrapped = true;\n    }\n    properties.set(context.name, options);\n    if (kind === 'accessor') {\n        // Standard decorators cannot dynamically modify the class, so we can't\n        // replace a field with accessors. The user must use the new `accessor`\n        // keyword instead.\n        const { name } = context;\n        return {\n            set(v) {\n                const oldValue = target.get.call(this);\n                target.set.call(this, v);\n                this.requestUpdate(name, oldValue, options);\n            },\n            init(v) {\n                if (v !== undefined) {\n                    this._$changeProperty(name, undefined, options, v);\n                }\n                return v;\n            },\n        };\n    }\n    else if (kind === 'setter') {\n        const { name } = context;\n        return function (value) {\n            const oldValue = this[name];\n            target.call(this, value);\n            this.requestUpdate(name, oldValue, options);\n        };\n    }\n    throw new Error(`Unsupported decorator location: ${kind}`);\n};\n/**\n * A class field or accessor decorator which creates a reactive property that\n * reflects a corresponding attribute value. When a decorated property is set\n * the element will update and render. A {@linkcode PropertyDeclaration} may\n * optionally be supplied to configure property features.\n *\n * This decorator should only be used for public fields. As public fields,\n * properties should be considered as primarily settable by element users,\n * either via attribute or the property itself.\n *\n * Generally, properties that are changed by the element should be private or\n * protected fields and should use the {@linkcode state} decorator.\n *\n * However, sometimes element code does need to set a public property. This\n * should typically only be done in response to user interaction, and an event\n * should be fired informing the user; for example, a checkbox sets its\n * `checked` property when clicked and fires a `changed` event. Mutating public\n * properties should typically not be done for non-primitive (object or array)\n * properties. In other cases when an element needs to manage state, a private\n * property decorated via the {@linkcode state} decorator should be used. When\n * needed, state properties can be initialized via public properties to\n * facilitate complex interactions.\n *\n * ```ts\n * class MyElement {\n *   @property({ type: Boolean })\n *   clicked = false;\n * }\n * ```\n * @category Decorator\n * @ExportDecoratedItems\n */\nfunction property(options) {\n    return (protoOrTarget, nameOrContext\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ) => {\n        return (typeof nameOrContext === 'object'\n            ? standardProperty(options, protoOrTarget, nameOrContext)\n            : legacyProperty(options, protoOrTarget, nameOrContext));\n    };\n}\n//# sourceMappingURL=property.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@lit/reactive-element/development/decorators/property.js?\n}")},"./node_modules/@lit/reactive-element/development/decorators/query-all.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* unused harmony export queryAll */\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ "./node_modules/@lit/reactive-element/development/decorators/base.js");\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n// Shared fragment used to generate empty NodeLists when a render root is\n// undefined\nlet fragment;\n/**\n * A property decorator that converts a class property into a getter\n * that executes a querySelectorAll on the element\'s renderRoot.\n *\n * @param selector A DOMString containing one or more selectors to match.\n *\n * See:\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll\n *\n * ```ts\n * class MyElement {\n *   @queryAll(\'div\')\n *   divs: NodeListOf<HTMLDivElement>;\n *\n *   render() {\n *     return html`\n *       <div id="first"></div>\n *       <div id="second"></div>\n *     `;\n *   }\n * }\n * ```\n * @category Decorator\n */\nfunction queryAll(selector) {\n    return ((obj, name) => {\n        return (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.desc)(obj, name, {\n            get() {\n                const container = this.renderRoot ?? (fragment ??= document.createDocumentFragment());\n                return container.querySelectorAll(selector);\n            },\n        });\n    });\n}\n//# sourceMappingURL=query-all.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@lit/reactive-element/development/decorators/query-all.js?\n}')},"./node_modules/@lit/reactive-element/development/decorators/query-assigned-elements.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   queryAssignedElements: () => (/* binding */ queryAssignedElements)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"./node_modules/@lit/reactive-element/development/decorators/base.js\");\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n/**\n * A property decorator that converts a class property into a getter that\n * returns the `assignedElements` of the given `slot`. Provides a declarative\n * way to use\n * [`HTMLSlotElement.assignedElements`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLSlotElement/assignedElements).\n *\n * Can be passed an optional {@linkcode QueryAssignedElementsOptions} object.\n *\n * Example usage:\n * ```ts\n * class MyElement {\n *   @queryAssignedElements({ slot: 'list' })\n *   listItems!: Array<HTMLElement>;\n *   @queryAssignedElements()\n *   unnamedSlotEls!: Array<HTMLElement>;\n *\n *   render() {\n *     return html`\n *       <slot name=\"list\"></slot>\n *       <slot></slot>\n *     `;\n *   }\n * }\n * ```\n *\n * Note, the type of this property should be annotated as `Array<HTMLElement>`.\n *\n * @category Decorator\n */\nfunction queryAssignedElements(options) {\n    return ((obj, name) => {\n        const { slot, selector } = options ?? {};\n        const slotSelector = `slot${slot ? `[name=${slot}]` : ':not([name])'}`;\n        return (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.desc)(obj, name, {\n            get() {\n                const slotEl = this.renderRoot?.querySelector(slotSelector);\n                const elements = slotEl?.assignedElements(options) ?? [];\n                return (selector === undefined\n                    ? elements\n                    : elements.filter((node) => node.matches(selector)));\n            },\n        });\n    });\n}\n//# sourceMappingURL=query-assigned-elements.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@lit/reactive-element/development/decorators/query-assigned-elements.js?\n}")},"./node_modules/@lit/reactive-element/development/decorators/query-assigned-nodes.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   queryAssignedNodes: () => (/* binding */ queryAssignedNodes)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"./node_modules/@lit/reactive-element/development/decorators/base.js\");\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n/**\n * A property decorator that converts a class property into a getter that\n * returns the `assignedNodes` of the given `slot`.\n *\n * Can be passed an optional {@linkcode QueryAssignedNodesOptions} object.\n *\n * Example usage:\n * ```ts\n * class MyElement {\n *   @queryAssignedNodes({slot: 'list', flatten: true})\n *   listItems!: Array<Node>;\n *\n *   render() {\n *     return html`\n *       <slot name=\"list\"></slot>\n *     `;\n *   }\n * }\n * ```\n *\n * Note the type of this property should be annotated as `Array<Node>`. Use the\n * queryAssignedElements decorator to list only elements, and optionally filter\n * the element list using a CSS selector.\n *\n * @category Decorator\n */\nfunction queryAssignedNodes(options) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return ((obj, name) => {\n        const { slot } = options ?? {};\n        const slotSelector = `slot${slot ? `[name=${slot}]` : ':not([name])'}`;\n        return (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.desc)(obj, name, {\n            get() {\n                const slotEl = this.renderRoot?.querySelector(slotSelector);\n                return (slotEl?.assignedNodes(options) ?? []);\n            },\n        });\n    });\n}\n//# sourceMappingURL=query-assigned-nodes.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@lit/reactive-element/development/decorators/query-assigned-nodes.js?\n}")},"./node_modules/@lit/reactive-element/development/decorators/query-async.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* unused harmony export queryAsync */\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ "./node_modules/@lit/reactive-element/development/decorators/base.js");\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n// Note, in the future, we may extend this decorator to support the use case\n// where the queried element may need to do work to become ready to interact\n// with (e.g. load some implementation code). If so, we might elect to\n// add a second argument defining a function that can be run to make the\n// queried element loaded/updated/ready.\n/**\n * A property decorator that converts a class property into a getter that\n * returns a promise that resolves to the result of a querySelector on the\n * element\'s renderRoot done after the element\'s `updateComplete` promise\n * resolves. When the queried property may change with element state, this\n * decorator can be used instead of requiring users to await the\n * `updateComplete` before accessing the property.\n *\n * @param selector A DOMString containing one or more selectors to match.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector\n *\n * ```ts\n * class MyElement {\n *   @queryAsync(\'#first\')\n *   first: Promise<HTMLDivElement>;\n *\n *   render() {\n *     return html`\n *       <div id="first"></div>\n *       <div id="second"></div>\n *     `;\n *   }\n * }\n *\n * // external usage\n * async doSomethingWithFirst() {\n *  (await aMyElement.first).doSomething();\n * }\n * ```\n * @category Decorator\n */\nfunction queryAsync(selector) {\n    return ((obj, name) => {\n        return (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.desc)(obj, name, {\n            async get() {\n                await this.updateComplete;\n                return this.renderRoot?.querySelector(selector) ?? null;\n            },\n        });\n    });\n}\n//# sourceMappingURL=query-async.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@lit/reactive-element/development/decorators/query-async.js?\n}')},"./node_modules/@lit/reactive-element/development/decorators/query.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   query: () => (/* binding */ query)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"./node_modules/@lit/reactive-element/development/decorators/base.js\");\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\nconst DEV_MODE = true;\nlet issueWarning;\nif (DEV_MODE) {\n    // Ensure warnings are issued only 1x, even if multiple versions of Lit\n    // are loaded.\n    globalThis.litIssuedWarnings ??= new Set();\n    /**\n     * Issue a warning if we haven't already, based either on `code` or `warning`.\n     * Warnings are disabled automatically only by `warning`; disabling via `code`\n     * can be done by users.\n     */\n    issueWarning = (code, warning) => {\n        warning += code\n            ? ` See https://lit.dev/msg/${code} for more information.`\n            : '';\n        if (!globalThis.litIssuedWarnings.has(warning) &&\n            !globalThis.litIssuedWarnings.has(code)) {\n            console.warn(warning);\n            globalThis.litIssuedWarnings.add(warning);\n        }\n    };\n}\n/**\n * A property decorator that converts a class property into a getter that\n * executes a querySelector on the element's renderRoot.\n *\n * @param selector A DOMString containing one or more selectors to match.\n * @param cache An optional boolean which when true performs the DOM query only\n *     once and caches the result.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector\n *\n * ```ts\n * class MyElement {\n *   @query('#first')\n *   first: HTMLDivElement;\n *\n *   render() {\n *     return html`\n *       <div id=\"first\"></div>\n *       <div id=\"second\"></div>\n *     `;\n *   }\n * }\n * ```\n * @category Decorator\n */\nfunction query(selector, cache) {\n    return ((protoOrTarget, nameOrContext, descriptor) => {\n        const doQuery = (el) => {\n            const result = (el.renderRoot?.querySelector(selector) ?? null);\n            if (DEV_MODE && result === null && cache && !el.hasUpdated) {\n                const name = typeof nameOrContext === 'object'\n                    ? nameOrContext.name\n                    : nameOrContext;\n                issueWarning('', `@query'd field ${JSON.stringify(String(name))} with the 'cache' ` +\n                    `flag set for selector '${selector}' has been accessed before ` +\n                    `the first update and returned null. This is expected if the ` +\n                    `renderRoot tree has not been provided beforehand (e.g. via ` +\n                    `Declarative Shadow DOM). Therefore the value hasn't been cached.`);\n            }\n            // TODO: if we want to allow users to assert that the query will never\n            // return null, we need a new option and to throw here if the result\n            // is null.\n            return result;\n        };\n        if (cache) {\n            // Accessors to wrap from either:\n            //   1. The decorator target, in the case of standard decorators\n            //   2. The property descriptor, in the case of experimental decorators\n            //      on auto-accessors.\n            //   3. Functions that access our own cache-key property on the instance,\n            //      in the case of experimental decorators on fields.\n            const { get, set } = typeof nameOrContext === 'object'\n                ? protoOrTarget\n                : descriptor ??\n                    (() => {\n                        const key = DEV_MODE\n                            ? Symbol(`${String(nameOrContext)} (@query() cache)`)\n                            : Symbol();\n                        return {\n                            get() {\n                                return this[key];\n                            },\n                            set(v) {\n                                this[key] = v;\n                            },\n                        };\n                    })();\n            return (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.desc)(protoOrTarget, nameOrContext, {\n                get() {\n                    let result = get.call(this);\n                    if (result === undefined) {\n                        result = doQuery(this);\n                        if (result !== null || this.hasUpdated) {\n                            set.call(this, result);\n                        }\n                    }\n                    return result;\n                },\n            });\n        }\n        else {\n            // This object works as the return type for both standard and\n            // experimental decorators.\n            return (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.desc)(protoOrTarget, nameOrContext, {\n                get() {\n                    return doQuery(this);\n                },\n            });\n        }\n    });\n}\n//# sourceMappingURL=query.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@lit/reactive-element/development/decorators/query.js?\n}")},"./node_modules/@lit/reactive-element/development/decorators/state.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   state: () => (/* binding */ state)\n/* harmony export */ });\n/* harmony import */ var _property_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./property.js */ "./node_modules/@lit/reactive-element/development/decorators/property.js");\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/*\n * IMPORTANT: For compatibility with tsickle and the Closure JS compiler, all\n * property decorators (but not class decorators) in this file that have\n * an @ExportDecoratedItems annotation must be defined as a regular function,\n * not an arrow function.\n */\n\n/**\n * Declares a private or protected reactive property that still triggers\n * updates to the element when it changes. It does not reflect from the\n * corresponding attribute.\n *\n * Properties declared this way must not be used from HTML or HTML templating\n * systems, they\'re solely for properties internal to the element. These\n * properties may be renamed by optimization tools like closure compiler.\n * @category Decorator\n */\nfunction state(options) {\n    return (0,_property_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n        ...options,\n        // Add both `state` and `attribute` because we found a third party\n        // controller that is keying off of PropertyOptions.state to determine\n        // whether a field is a private internal property or not.\n        state: true,\n        attribute: false,\n    });\n}\n//# sourceMappingURL=state.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@lit/reactive-element/development/decorators/state.js?\n}')},"./node_modules/@lit/reactive-element/development/reactive-element.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReactiveElement: () => (/* binding */ ReactiveElement),\n/* harmony export */   css: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_0__.css),\n/* harmony export */   defaultConverter: () => (/* binding */ defaultConverter),\n/* harmony export */   notEqual: () => (/* binding */ notEqual),\n/* harmony export */   unsafeCSS: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_0__.unsafeCSS)\n/* harmony export */ });\n/* harmony import */ var _css_tag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./css-tag.js */ \"./node_modules/@lit/reactive-element/development/css-tag.js\");\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * Use this module if you want to create your own base class extending\n * {@link ReactiveElement}.\n * @packageDocumentation\n */\n\n// In the Node build, this import will be injected by Rollup:\n// import {HTMLElement, customElements} from '@lit-labs/ssr-dom-shim';\n\n// TODO (justinfagnani): Add `hasOwn` here when we ship ES2022\nconst { is, defineProperty, getOwnPropertyDescriptor, getOwnPropertyNames, getOwnPropertySymbols, getPrototypeOf, } = Object;\nconst NODE_MODE = false;\n// Lets a minifier replace globalThis references with a minified name\nconst global = globalThis;\nif (NODE_MODE) {\n    global.customElements ??= customElements;\n}\nconst DEV_MODE = true;\nlet issueWarning;\nconst trustedTypes = global\n    .trustedTypes;\n// Temporary workaround for https://crbug.com/993268\n// Currently, any attribute starting with \"on\" is considered to be a\n// TrustedScript source. Such boolean attributes must be set to the equivalent\n// trusted emptyScript value.\nconst emptyStringForBooleanAttribute = trustedTypes\n    ? trustedTypes.emptyScript\n    : '';\nconst polyfillSupport = DEV_MODE\n    ? global.reactiveElementPolyfillSupportDevMode\n    : global.reactiveElementPolyfillSupport;\nif (DEV_MODE) {\n    // Ensure warnings are issued only 1x, even if multiple versions of Lit\n    // are loaded.\n    global.litIssuedWarnings ??= new Set();\n    /**\n     * Issue a warning if we haven't already, based either on `code` or `warning`.\n     * Warnings are disabled automatically only by `warning`; disabling via `code`\n     * can be done by users.\n     */\n    issueWarning = (code, warning) => {\n        warning += ` See https://lit.dev/msg/${code} for more information.`;\n        if (!global.litIssuedWarnings.has(warning) &&\n            !global.litIssuedWarnings.has(code)) {\n            console.warn(warning);\n            global.litIssuedWarnings.add(warning);\n        }\n    };\n    queueMicrotask(() => {\n        issueWarning('dev-mode', `Lit is in dev mode. Not recommended for production!`);\n        // Issue polyfill support warning.\n        if (global.ShadyDOM?.inUse && polyfillSupport === undefined) {\n            issueWarning('polyfill-support-missing', `Shadow DOM is being polyfilled via \\`ShadyDOM\\` but ` +\n                `the \\`polyfill-support\\` module has not been loaded.`);\n        }\n    });\n}\n/**\n * Useful for visualizing and logging insights into what the Lit template system is doing.\n *\n * Compiled out of prod mode builds.\n */\nconst debugLogEvent = DEV_MODE\n    ? (event) => {\n        const shouldEmit = global\n            .emitLitDebugLogEvents;\n        if (!shouldEmit) {\n            return;\n        }\n        global.dispatchEvent(new CustomEvent('lit-debug', {\n            detail: event,\n        }));\n    }\n    : undefined;\n/*\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is\n * replaced at compile time by the munged name for object[property]. We cannot\n * alias this function, so we have to use a small shim that has the same\n * behavior when not compiling.\n */\n/*@__INLINE__*/\nconst JSCompiler_renameProperty = (prop, _obj) => prop;\nconst defaultConverter = {\n    toAttribute(value, type) {\n        switch (type) {\n            case Boolean:\n                value = value ? emptyStringForBooleanAttribute : null;\n                break;\n            case Object:\n            case Array:\n                // if the value is `null` or `undefined` pass this through\n                // to allow removing/no change behavior.\n                value = value == null ? value : JSON.stringify(value);\n                break;\n        }\n        return value;\n    },\n    fromAttribute(value, type) {\n        let fromValue = value;\n        switch (type) {\n            case Boolean:\n                fromValue = value !== null;\n                break;\n            case Number:\n                fromValue = value === null ? null : Number(value);\n                break;\n            case Object:\n            case Array:\n                // Do *not* generate exception when invalid JSON is set as elements\n                // don't normally complain on being mis-configured.\n                // TODO(sorvell): Do generate exception in *dev mode*.\n                try {\n                    // Assert to adhere to Bazel's \"must type assert JSON parse\" rule.\n                    fromValue = JSON.parse(value);\n                }\n                catch (e) {\n                    fromValue = null;\n                }\n                break;\n        }\n        return fromValue;\n    },\n};\n/**\n * Change function that returns true if `value` is different from `oldValue`.\n * This method is used as the default for a property's `hasChanged` function.\n */\nconst notEqual = (value, old) => !is(value, old);\nconst defaultPropertyDeclaration = {\n    attribute: true,\n    type: String,\n    converter: defaultConverter,\n    reflect: false,\n    useDefault: false,\n    hasChanged: notEqual,\n};\n// Ensure metadata is enabled. TypeScript does not polyfill\n// Symbol.metadata, so we must ensure that it exists.\nSymbol.metadata ??= Symbol('metadata');\n// Map from a class's metadata object to property options\n// Note that we must use nullish-coalescing assignment so that we only use one\n// map even if we load multiple version of this module.\nglobal.litPropertyMetadata ??= new WeakMap();\n/**\n * Base element class which manages element properties and attributes. When\n * properties change, the `update` method is asynchronously called. This method\n * should be supplied by subclasses to render updates as desired.\n * @noInheritDoc\n */\nclass ReactiveElement\n// In the Node build, this `extends` clause will be substituted with\n// `(globalThis.HTMLElement ?? HTMLElement)`.\n//\n// This way, we will first prefer any global `HTMLElement` polyfill that the\n// user has assigned, and then fall back to the `HTMLElement` shim which has\n// been imported (see note at the top of this file about how this import is\n// generated by Rollup). Note that the `HTMLElement` variable has been\n// shadowed by this import, so it no longer refers to the global.\n extends HTMLElement {\n    /**\n     * Adds an initializer function to the class that is called during instance\n     * construction.\n     *\n     * This is useful for code that runs against a `ReactiveElement`\n     * subclass, such as a decorator, that needs to do work for each\n     * instance, such as setting up a `ReactiveController`.\n     *\n     * ```ts\n     * const myDecorator = (target: typeof ReactiveElement, key: string) => {\n     *   target.addInitializer((instance: ReactiveElement) => {\n     *     // This is run during construction of the element\n     *     new MyController(instance);\n     *   });\n     * }\n     * ```\n     *\n     * Decorating a field will then cause each instance to run an initializer\n     * that adds a controller:\n     *\n     * ```ts\n     * class MyElement extends LitElement {\n     *   @myDecorator foo;\n     * }\n     * ```\n     *\n     * Initializers are stored per-constructor. Adding an initializer to a\n     * subclass does not add it to a superclass. Since initializers are run in\n     * constructors, initializers will run in order of the class hierarchy,\n     * starting with superclasses and progressing to the instance's class.\n     *\n     * @nocollapse\n     */\n    static addInitializer(initializer) {\n        this.__prepare();\n        (this._initializers ??= []).push(initializer);\n    }\n    /**\n     * Returns a list of attributes corresponding to the registered properties.\n     * @nocollapse\n     * @category attributes\n     */\n    static get observedAttributes() {\n        // Ensure we've created all properties\n        this.finalize();\n        // this.__attributeToPropertyMap is only undefined after finalize() in\n        // ReactiveElement itself. ReactiveElement.observedAttributes is only\n        // accessed with ReactiveElement as the receiver when a subclass or mixin\n        // calls super.observedAttributes\n        return (this.__attributeToPropertyMap && [...this.__attributeToPropertyMap.keys()]);\n    }\n    /**\n     * Creates a property accessor on the element prototype if one does not exist\n     * and stores a {@linkcode PropertyDeclaration} for the property with the\n     * given options. The property setter calls the property's `hasChanged`\n     * property option or uses a strict identity check to determine whether or not\n     * to request an update.\n     *\n     * This method may be overridden to customize properties; however,\n     * when doing so, it's important to call `super.createProperty` to ensure\n     * the property is setup correctly. This method calls\n     * `getPropertyDescriptor` internally to get a descriptor to install.\n     * To customize what properties do when they are get or set, override\n     * `getPropertyDescriptor`. To customize the options for a property,\n     * implement `createProperty` like this:\n     *\n     * ```ts\n     * static createProperty(name, options) {\n     *   options = Object.assign(options, {myOption: true});\n     *   super.createProperty(name, options);\n     * }\n     * ```\n     *\n     * @nocollapse\n     * @category properties\n     */\n    static createProperty(name, options = defaultPropertyDeclaration) {\n        // If this is a state property, force the attribute to false.\n        if (options.state) {\n            options.attribute = false;\n        }\n        this.__prepare();\n        // Whether this property is wrapping accessors.\n        // Helps control the initial value change and reflection logic.\n        if (this.prototype.hasOwnProperty(name)) {\n            options = Object.create(options);\n            options.wrapped = true;\n        }\n        this.elementProperties.set(name, options);\n        if (!options.noAccessor) {\n            const key = DEV_MODE\n                ? // Use Symbol.for in dev mode to make it easier to maintain state\n                    // when doing HMR.\n                    Symbol.for(`${String(name)} (@property() cache)`)\n                : Symbol();\n            const descriptor = this.getPropertyDescriptor(name, key, options);\n            if (descriptor !== undefined) {\n                defineProperty(this.prototype, name, descriptor);\n            }\n        }\n    }\n    /**\n     * Returns a property descriptor to be defined on the given named property.\n     * If no descriptor is returned, the property will not become an accessor.\n     * For example,\n     *\n     * ```ts\n     * class MyElement extends LitElement {\n     *   static getPropertyDescriptor(name, key, options) {\n     *     const defaultDescriptor =\n     *         super.getPropertyDescriptor(name, key, options);\n     *     const setter = defaultDescriptor.set;\n     *     return {\n     *       get: defaultDescriptor.get,\n     *       set(value) {\n     *         setter.call(this, value);\n     *         // custom action.\n     *       },\n     *       configurable: true,\n     *       enumerable: true\n     *     }\n     *   }\n     * }\n     * ```\n     *\n     * @nocollapse\n     * @category properties\n     */\n    static getPropertyDescriptor(name, key, options) {\n        const { get, set } = getOwnPropertyDescriptor(this.prototype, name) ?? {\n            get() {\n                return this[key];\n            },\n            set(v) {\n                this[key] = v;\n            },\n        };\n        if (DEV_MODE && get == null) {\n            if ('value' in (getOwnPropertyDescriptor(this.prototype, name) ?? {})) {\n                throw new Error(`Field ${JSON.stringify(String(name))} on ` +\n                    `${this.name} was declared as a reactive property ` +\n                    `but it's actually declared as a value on the prototype. ` +\n                    `Usually this is due to using @property or @state on a method.`);\n            }\n            issueWarning('reactive-property-without-getter', `Field ${JSON.stringify(String(name))} on ` +\n                `${this.name} was declared as a reactive property ` +\n                `but it does not have a getter. This will be an error in a ` +\n                `future version of Lit.`);\n        }\n        return {\n            get,\n            set(value) {\n                const oldValue = get?.call(this);\n                set?.call(this, value);\n                this.requestUpdate(name, oldValue, options);\n            },\n            configurable: true,\n            enumerable: true,\n        };\n    }\n    /**\n     * Returns the property options associated with the given property.\n     * These options are defined with a `PropertyDeclaration` via the `properties`\n     * object or the `@property` decorator and are registered in\n     * `createProperty(...)`.\n     *\n     * Note, this method should be considered \"final\" and not overridden. To\n     * customize the options for a given property, override\n     * {@linkcode createProperty}.\n     *\n     * @nocollapse\n     * @final\n     * @category properties\n     */\n    static getPropertyOptions(name) {\n        return this.elementProperties.get(name) ?? defaultPropertyDeclaration;\n    }\n    /**\n     * Initializes static own properties of the class used in bookkeeping\n     * for element properties, initializers, etc.\n     *\n     * Can be called multiple times by code that needs to ensure these\n     * properties exist before using them.\n     *\n     * This method ensures the superclass is finalized so that inherited\n     * property metadata can be copied down.\n     * @nocollapse\n     */\n    static __prepare() {\n        if (this.hasOwnProperty(JSCompiler_renameProperty('elementProperties', this))) {\n            // Already prepared\n            return;\n        }\n        // Finalize any superclasses\n        const superCtor = getPrototypeOf(this);\n        superCtor.finalize();\n        // Create own set of initializers for this class if any exist on the\n        // superclass and copy them down. Note, for a small perf boost, avoid\n        // creating initializers unless needed.\n        if (superCtor._initializers !== undefined) {\n            this._initializers = [...superCtor._initializers];\n        }\n        // Initialize elementProperties from the superclass\n        this.elementProperties = new Map(superCtor.elementProperties);\n    }\n    /**\n     * Finishes setting up the class so that it's ready to be registered\n     * as a custom element and instantiated.\n     *\n     * This method is called by the ReactiveElement.observedAttributes getter.\n     * If you override the observedAttributes getter, you must either call\n     * super.observedAttributes to trigger finalization, or call finalize()\n     * yourself.\n     *\n     * @nocollapse\n     */\n    static finalize() {\n        if (this.hasOwnProperty(JSCompiler_renameProperty('finalized', this))) {\n            return;\n        }\n        this.finalized = true;\n        this.__prepare();\n        // Create properties from the static properties block:\n        if (this.hasOwnProperty(JSCompiler_renameProperty('properties', this))) {\n            const props = this.properties;\n            const propKeys = [\n                ...getOwnPropertyNames(props),\n                ...getOwnPropertySymbols(props),\n            ];\n            for (const p of propKeys) {\n                this.createProperty(p, props[p]);\n            }\n        }\n        // Create properties from standard decorator metadata:\n        const metadata = this[Symbol.metadata];\n        if (metadata !== null) {\n            const properties = litPropertyMetadata.get(metadata);\n            if (properties !== undefined) {\n                for (const [p, options] of properties) {\n                    this.elementProperties.set(p, options);\n                }\n            }\n        }\n        // Create the attribute-to-property map\n        this.__attributeToPropertyMap = new Map();\n        for (const [p, options] of this.elementProperties) {\n            const attr = this.__attributeNameForProperty(p, options);\n            if (attr !== undefined) {\n                this.__attributeToPropertyMap.set(attr, p);\n            }\n        }\n        this.elementStyles = this.finalizeStyles(this.styles);\n        if (DEV_MODE) {\n            if (this.hasOwnProperty('createProperty')) {\n                issueWarning('no-override-create-property', 'Overriding ReactiveElement.createProperty() is deprecated. ' +\n                    'The override will not be called with standard decorators');\n            }\n            if (this.hasOwnProperty('getPropertyDescriptor')) {\n                issueWarning('no-override-get-property-descriptor', 'Overriding ReactiveElement.getPropertyDescriptor() is deprecated. ' +\n                    'The override will not be called with standard decorators');\n            }\n        }\n    }\n    /**\n     * Takes the styles the user supplied via the `static styles` property and\n     * returns the array of styles to apply to the element.\n     * Override this method to integrate into a style management system.\n     *\n     * Styles are deduplicated preserving the _last_ instance in the list. This\n     * is a performance optimization to avoid duplicated styles that can occur\n     * especially when composing via subclassing. The last item is kept to try\n     * to preserve the cascade order with the assumption that it's most important\n     * that last added styles override previous styles.\n     *\n     * @nocollapse\n     * @category styles\n     */\n    static finalizeStyles(styles) {\n        const elementStyles = [];\n        if (Array.isArray(styles)) {\n            // Dedupe the flattened array in reverse order to preserve the last items.\n            // Casting to Array<unknown> works around TS error that\n            // appears to come from trying to flatten a type CSSResultArray.\n            const set = new Set(styles.flat(Infinity).reverse());\n            // Then preserve original order by adding the set items in reverse order.\n            for (const s of set) {\n                elementStyles.unshift((0,_css_tag_js__WEBPACK_IMPORTED_MODULE_0__.getCompatibleStyle)(s));\n            }\n        }\n        else if (styles !== undefined) {\n            elementStyles.push((0,_css_tag_js__WEBPACK_IMPORTED_MODULE_0__.getCompatibleStyle)(styles));\n        }\n        return elementStyles;\n    }\n    /**\n     * Returns the property name for the given attribute `name`.\n     * @nocollapse\n     */\n    static __attributeNameForProperty(name, options) {\n        const attribute = options.attribute;\n        return attribute === false\n            ? undefined\n            : typeof attribute === 'string'\n                ? attribute\n                : typeof name === 'string'\n                    ? name.toLowerCase()\n                    : undefined;\n    }\n    constructor() {\n        super();\n        this.__instanceProperties = undefined;\n        /**\n         * True if there is a pending update as a result of calling `requestUpdate()`.\n         * Should only be read.\n         * @category updates\n         */\n        this.isUpdatePending = false;\n        /**\n         * Is set to `true` after the first update. The element code cannot assume\n         * that `renderRoot` exists before the element `hasUpdated`.\n         * @category updates\n         */\n        this.hasUpdated = false;\n        /**\n         * Name of currently reflecting property\n         */\n        this.__reflectingProperty = null;\n        this.__initialize();\n    }\n    /**\n     * Internal only override point for customizing work done when elements\n     * are constructed.\n     */\n    __initialize() {\n        this.__updatePromise = new Promise((res) => (this.enableUpdating = res));\n        this._$changedProperties = new Map();\n        // This enqueues a microtask that must run before the first update, so it\n        // must be called before requestUpdate()\n        this.__saveInstanceProperties();\n        // ensures first update will be caught by an early access of\n        // `updateComplete`\n        this.requestUpdate();\n        this.constructor._initializers?.forEach((i) => i(this));\n    }\n    /**\n     * Registers a `ReactiveController` to participate in the element's reactive\n     * update cycle. The element automatically calls into any registered\n     * controllers during its lifecycle callbacks.\n     *\n     * If the element is connected when `addController()` is called, the\n     * controller's `hostConnected()` callback will be immediately called.\n     * @category controllers\n     */\n    addController(controller) {\n        (this.__controllers ??= new Set()).add(controller);\n        // If a controller is added after the element has been connected,\n        // call hostConnected. Note, re-using existence of `renderRoot` here\n        // (which is set in connectedCallback) to avoid the need to track a\n        // first connected state.\n        if (this.renderRoot !== undefined && this.isConnected) {\n            controller.hostConnected?.();\n        }\n    }\n    /**\n     * Removes a `ReactiveController` from the element.\n     * @category controllers\n     */\n    removeController(controller) {\n        this.__controllers?.delete(controller);\n    }\n    /**\n     * Fixes any properties set on the instance before upgrade time.\n     * Otherwise these would shadow the accessor and break these properties.\n     * The properties are stored in a Map which is played back after the\n     * constructor runs.\n     */\n    __saveInstanceProperties() {\n        const instanceProperties = new Map();\n        const elementProperties = this.constructor\n            .elementProperties;\n        for (const p of elementProperties.keys()) {\n            if (this.hasOwnProperty(p)) {\n                instanceProperties.set(p, this[p]);\n                delete this[p];\n            }\n        }\n        if (instanceProperties.size > 0) {\n            this.__instanceProperties = instanceProperties;\n        }\n    }\n    /**\n     * Returns the node into which the element should render and by default\n     * creates and returns an open shadowRoot. Implement to customize where the\n     * element's DOM is rendered. For example, to render into the element's\n     * childNodes, return `this`.\n     *\n     * @return Returns a node into which to render.\n     * @category rendering\n     */\n    createRenderRoot() {\n        const renderRoot = this.shadowRoot ??\n            this.attachShadow(this.constructor.shadowRootOptions);\n        (0,_css_tag_js__WEBPACK_IMPORTED_MODULE_0__.adoptStyles)(renderRoot, this.constructor.elementStyles);\n        return renderRoot;\n    }\n    /**\n     * On first connection, creates the element's renderRoot, sets up\n     * element styling, and enables updating.\n     * @category lifecycle\n     */\n    connectedCallback() {\n        // Create renderRoot before controllers `hostConnected`\n        this.renderRoot ??=\n            this.createRenderRoot();\n        this.enableUpdating(true);\n        this.__controllers?.forEach((c) => c.hostConnected?.());\n    }\n    /**\n     * Note, this method should be considered final and not overridden. It is\n     * overridden on the element instance with a function that triggers the first\n     * update.\n     * @category updates\n     */\n    enableUpdating(_requestedUpdate) { }\n    /**\n     * Allows for `super.disconnectedCallback()` in extensions while\n     * reserving the possibility of making non-breaking feature additions\n     * when disconnecting at some point in the future.\n     * @category lifecycle\n     */\n    disconnectedCallback() {\n        this.__controllers?.forEach((c) => c.hostDisconnected?.());\n    }\n    /**\n     * Synchronizes property values when attributes change.\n     *\n     * Specifically, when an attribute is set, the corresponding property is set.\n     * You should rarely need to implement this callback. If this method is\n     * overridden, `super.attributeChangedCallback(name, _old, value)` must be\n     * called.\n     *\n     * See [responding to attribute changes](https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_custom_elements#responding_to_attribute_changes)\n     * on MDN for more information about the `attributeChangedCallback`.\n     * @category attributes\n     */\n    attributeChangedCallback(name, _old, value) {\n        this._$attributeToProperty(name, value);\n    }\n    __propertyToAttribute(name, value) {\n        const elemProperties = this.constructor.elementProperties;\n        const options = elemProperties.get(name);\n        const attr = this.constructor.__attributeNameForProperty(name, options);\n        if (attr !== undefined && options.reflect === true) {\n            const converter = options.converter?.toAttribute !==\n                undefined\n                ? options.converter\n                : defaultConverter;\n            const attrValue = converter.toAttribute(value, options.type);\n            if (DEV_MODE &&\n                this.constructor.enabledWarnings.includes('migration') &&\n                attrValue === undefined) {\n                issueWarning('undefined-attribute-value', `The attribute value for the ${name} property is ` +\n                    `undefined on element ${this.localName}. The attribute will be ` +\n                    `removed, but in the previous version of \\`ReactiveElement\\`, ` +\n                    `the attribute would not have changed.`);\n            }\n            // Track if the property is being reflected to avoid\n            // setting the property again via `attributeChangedCallback`. Note:\n            // 1. this takes advantage of the fact that the callback is synchronous.\n            // 2. will behave incorrectly if multiple attributes are in the reaction\n            // stack at time of calling. However, since we process attributes\n            // in `update` this should not be possible (or an extreme corner case\n            // that we'd like to discover).\n            // mark state reflecting\n            this.__reflectingProperty = name;\n            if (attrValue == null) {\n                this.removeAttribute(attr);\n            }\n            else {\n                this.setAttribute(attr, attrValue);\n            }\n            // mark state not reflecting\n            this.__reflectingProperty = null;\n        }\n    }\n    /** @internal */\n    _$attributeToProperty(name, value) {\n        const ctor = this.constructor;\n        // Note, hint this as an `AttributeMap` so closure clearly understands\n        // the type; it has issues with tracking types through statics\n        const propName = ctor.__attributeToPropertyMap.get(name);\n        // Use tracking info to avoid reflecting a property value to an attribute\n        // if it was just set because the attribute changed.\n        if (propName !== undefined && this.__reflectingProperty !== propName) {\n            const options = ctor.getPropertyOptions(propName);\n            const converter = typeof options.converter === 'function'\n                ? { fromAttribute: options.converter }\n                : options.converter?.fromAttribute !== undefined\n                    ? options.converter\n                    : defaultConverter;\n            // mark state reflecting\n            this.__reflectingProperty = propName;\n            const convertedValue = converter.fromAttribute(value, options.type);\n            this[propName] =\n                convertedValue ??\n                    this.__defaultValues?.get(propName) ??\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    convertedValue;\n            // mark state not reflecting\n            this.__reflectingProperty = null;\n        }\n    }\n    /**\n     * Requests an update which is processed asynchronously. This should be called\n     * when an element should update based on some state not triggered by setting\n     * a reactive property. In this case, pass no arguments. It should also be\n     * called when manually implementing a property setter. In this case, pass the\n     * property `name` and `oldValue` to ensure that any configured property\n     * options are honored.\n     *\n     * @param name name of requesting property\n     * @param oldValue old value of requesting property\n     * @param options property options to use instead of the previously\n     *     configured options\n     * @category updates\n     */\n    requestUpdate(name, oldValue, options) {\n        // If we have a property key, perform property update steps.\n        if (name !== undefined) {\n            if (DEV_MODE && name instanceof Event) {\n                issueWarning(``, `The requestUpdate() method was called with an Event as the property name. This is probably a mistake caused by binding this.requestUpdate as an event listener. Instead bind a function that will call it with no arguments: () => this.requestUpdate()`);\n            }\n            const ctor = this.constructor;\n            const newValue = this[name];\n            options ??= ctor.getPropertyOptions(name);\n            const changed = (options.hasChanged ?? notEqual)(newValue, oldValue) ||\n                // When there is no change, check a corner case that can occur when\n                // 1. there's a initial value which was not reflected\n                // 2. the property is subsequently set to this value.\n                // For example, `prop: {useDefault: true, reflect: true}`\n                // and el.prop = 'foo'. This should be considered a change if the\n                // attribute is not set because we will now reflect the property to the attribute.\n                (options.useDefault &&\n                    options.reflect &&\n                    newValue === this.__defaultValues?.get(name) &&\n                    !this.hasAttribute(ctor.__attributeNameForProperty(name, options)));\n            if (changed) {\n                this._$changeProperty(name, oldValue, options);\n            }\n            else {\n                // Abort the request if the property should not be considered changed.\n                return;\n            }\n        }\n        if (this.isUpdatePending === false) {\n            this.__updatePromise = this.__enqueueUpdate();\n        }\n    }\n    /**\n     * @internal\n     */\n    _$changeProperty(name, oldValue, { useDefault, reflect, wrapped }, initializeValue) {\n        // Record default value when useDefault is used. This allows us to\n        // restore this value when the attribute is removed.\n        if (useDefault && !(this.__defaultValues ??= new Map()).has(name)) {\n            this.__defaultValues.set(name, initializeValue ?? oldValue ?? this[name]);\n            // if this is not wrapping an accessor, it must be an initial setting\n            // and in this case we do not want to record the change or reflect.\n            if (wrapped !== true || initializeValue !== undefined) {\n                return;\n            }\n        }\n        // TODO (justinfagnani): Create a benchmark of Map.has() + Map.set(\n        // vs just Map.set()\n        if (!this._$changedProperties.has(name)) {\n            // On the initial change, the old value should be `undefined`, except\n            // with `useDefault`\n            if (!this.hasUpdated && !useDefault) {\n                oldValue = undefined;\n            }\n            this._$changedProperties.set(name, oldValue);\n        }\n        // Add to reflecting properties set.\n        // Note, it's important that every change has a chance to add the\n        // property to `__reflectingProperties`. This ensures setting\n        // attribute + property reflects correctly.\n        if (reflect === true && this.__reflectingProperty !== name) {\n            (this.__reflectingProperties ??= new Set()).add(name);\n        }\n    }\n    /**\n     * Sets up the element to asynchronously update.\n     */\n    async __enqueueUpdate() {\n        this.isUpdatePending = true;\n        try {\n            // Ensure any previous update has resolved before updating.\n            // This `await` also ensures that property changes are batched.\n            await this.__updatePromise;\n        }\n        catch (e) {\n            // Refire any previous errors async so they do not disrupt the update\n            // cycle. Errors are refired so developers have a chance to observe\n            // them, and this can be done by implementing\n            // `window.onunhandledrejection`.\n            Promise.reject(e);\n        }\n        const result = this.scheduleUpdate();\n        // If `scheduleUpdate` returns a Promise, we await it. This is done to\n        // enable coordinating updates with a scheduler. Note, the result is\n        // checked to avoid delaying an additional microtask unless we need to.\n        if (result != null) {\n            await result;\n        }\n        return !this.isUpdatePending;\n    }\n    /**\n     * Schedules an element update. You can override this method to change the\n     * timing of updates by returning a Promise. The update will await the\n     * returned Promise, and you should resolve the Promise to allow the update\n     * to proceed. If this method is overridden, `super.scheduleUpdate()`\n     * must be called.\n     *\n     * For instance, to schedule updates to occur just before the next frame:\n     *\n     * ```ts\n     * override protected async scheduleUpdate(): Promise<unknown> {\n     *   await new Promise((resolve) => requestAnimationFrame(() => resolve()));\n     *   super.scheduleUpdate();\n     * }\n     * ```\n     * @category updates\n     */\n    scheduleUpdate() {\n        const result = this.performUpdate();\n        if (DEV_MODE &&\n            this.constructor.enabledWarnings.includes('async-perform-update') &&\n            typeof result?.then ===\n                'function') {\n            issueWarning('async-perform-update', `Element ${this.localName} returned a Promise from performUpdate(). ` +\n                `This behavior is deprecated and will be removed in a future ` +\n                `version of ReactiveElement.`);\n        }\n        return result;\n    }\n    /**\n     * Performs an element update. Note, if an exception is thrown during the\n     * update, `firstUpdated` and `updated` will not be called.\n     *\n     * Call `performUpdate()` to immediately process a pending update. This should\n     * generally not be needed, but it can be done in rare cases when you need to\n     * update synchronously.\n     *\n     * @category updates\n     */\n    performUpdate() {\n        // Abort any update if one is not pending when this is called.\n        // This can happen if `performUpdate` is called early to \"flush\"\n        // the update.\n        if (!this.isUpdatePending) {\n            return;\n        }\n        debugLogEvent?.({ kind: 'update' });\n        if (!this.hasUpdated) {\n            // Create renderRoot before first update. This occurs in `connectedCallback`\n            // but is done here to support out of tree calls to `enableUpdating`/`performUpdate`.\n            this.renderRoot ??=\n                this.createRenderRoot();\n            if (DEV_MODE) {\n                // Produce warning if any reactive properties on the prototype are\n                // shadowed by class fields. Instance fields set before upgrade are\n                // deleted by this point, so any own property is caused by class field\n                // initialization in the constructor.\n                const ctor = this.constructor;\n                const shadowedProperties = [...ctor.elementProperties.keys()].filter((p) => this.hasOwnProperty(p) && p in getPrototypeOf(this));\n                if (shadowedProperties.length) {\n                    throw new Error(`The following properties on element ${this.localName} will not ` +\n                        `trigger updates as expected because they are set using class ` +\n                        `fields: ${shadowedProperties.join(', ')}. ` +\n                        `Native class fields and some compiled output will overwrite ` +\n                        `accessors used for detecting changes. See ` +\n                        `https://lit.dev/msg/class-field-shadowing ` +\n                        `for more information.`);\n                }\n            }\n            // Mixin instance properties once, if they exist.\n            if (this.__instanceProperties) {\n                // TODO (justinfagnani): should we use the stored value? Could a new value\n                // have been set since we stored the own property value?\n                for (const [p, value] of this.__instanceProperties) {\n                    this[p] = value;\n                }\n                this.__instanceProperties = undefined;\n            }\n            // Trigger initial value reflection and populate the initial\n            // `changedProperties` map, but only for the case of properties created\n            // via `createProperty` on accessors, which will not have already\n            // populated the `changedProperties` map since they are not set.\n            // We can't know if these accessors had initializers, so we just set\n            // them anyway - a difference from experimental decorators on fields and\n            // standard decorators on auto-accessors.\n            // For context see:\n            // https://github.com/lit/lit/pull/4183#issuecomment-1711959635\n            const elementProperties = this.constructor\n                .elementProperties;\n            if (elementProperties.size > 0) {\n                for (const [p, options] of elementProperties) {\n                    const { wrapped } = options;\n                    const value = this[p];\n                    if (wrapped === true &&\n                        !this._$changedProperties.has(p) &&\n                        value !== undefined) {\n                        this._$changeProperty(p, undefined, options, value);\n                    }\n                }\n            }\n        }\n        let shouldUpdate = false;\n        const changedProperties = this._$changedProperties;\n        try {\n            shouldUpdate = this.shouldUpdate(changedProperties);\n            if (shouldUpdate) {\n                this.willUpdate(changedProperties);\n                this.__controllers?.forEach((c) => c.hostUpdate?.());\n                this.update(changedProperties);\n            }\n            else {\n                this.__markUpdated();\n            }\n        }\n        catch (e) {\n            // Prevent `firstUpdated` and `updated` from running when there's an\n            // update exception.\n            shouldUpdate = false;\n            // Ensure element can accept additional updates after an exception.\n            this.__markUpdated();\n            throw e;\n        }\n        // The update is no longer considered pending and further updates are now allowed.\n        if (shouldUpdate) {\n            this._$didUpdate(changedProperties);\n        }\n    }\n    /**\n     * Invoked before `update()` to compute values needed during the update.\n     *\n     * Implement `willUpdate` to compute property values that depend on other\n     * properties and are used in the rest of the update process.\n     *\n     * ```ts\n     * willUpdate(changedProperties) {\n     *   // only need to check changed properties for an expensive computation.\n     *   if (changedProperties.has('firstName') || changedProperties.has('lastName')) {\n     *     this.sha = computeSHA(`${this.firstName} ${this.lastName}`);\n     *   }\n     * }\n     *\n     * render() {\n     *   return html`SHA: ${this.sha}`;\n     * }\n     * ```\n     *\n     * @category updates\n     */\n    willUpdate(_changedProperties) { }\n    // Note, this is an override point for polyfill-support.\n    // @internal\n    _$didUpdate(changedProperties) {\n        this.__controllers?.forEach((c) => c.hostUpdated?.());\n        if (!this.hasUpdated) {\n            this.hasUpdated = true;\n            this.firstUpdated(changedProperties);\n        }\n        this.updated(changedProperties);\n        if (DEV_MODE &&\n            this.isUpdatePending &&\n            this.constructor.enabledWarnings.includes('change-in-update')) {\n            issueWarning('change-in-update', `Element ${this.localName} scheduled an update ` +\n                `(generally because a property was set) ` +\n                `after an update completed, causing a new update to be scheduled. ` +\n                `This is inefficient and should be avoided unless the next update ` +\n                `can only be scheduled as a side effect of the previous update.`);\n        }\n    }\n    __markUpdated() {\n        this._$changedProperties = new Map();\n        this.isUpdatePending = false;\n    }\n    /**\n     * Returns a Promise that resolves when the element has completed updating.\n     * The Promise value is a boolean that is `true` if the element completed the\n     * update without triggering another update. The Promise result is `false` if\n     * a property was set inside `updated()`. If the Promise is rejected, an\n     * exception was thrown during the update.\n     *\n     * To await additional asynchronous work, override the `getUpdateComplete`\n     * method. For example, it is sometimes useful to await a rendered element\n     * before fulfilling this Promise. To do this, first await\n     * `super.getUpdateComplete()`, then any subsequent state.\n     *\n     * @return A promise of a boolean that resolves to true if the update completed\n     *     without triggering another update.\n     * @category updates\n     */\n    get updateComplete() {\n        return this.getUpdateComplete();\n    }\n    /**\n     * Override point for the `updateComplete` promise.\n     *\n     * It is not safe to override the `updateComplete` getter directly due to a\n     * limitation in TypeScript which means it is not possible to call a\n     * superclass getter (e.g. `super.updateComplete.then(...)`) when the target\n     * language is ES5 (https://github.com/microsoft/TypeScript/issues/338).\n     * This method should be overridden instead. For example:\n     *\n     * ```ts\n     * class MyElement extends LitElement {\n     *   override async getUpdateComplete() {\n     *     const result = await super.getUpdateComplete();\n     *     await this._myChild.updateComplete;\n     *     return result;\n     *   }\n     * }\n     * ```\n     *\n     * @return A promise of a boolean that resolves to true if the update completed\n     *     without triggering another update.\n     * @category updates\n     */\n    getUpdateComplete() {\n        return this.__updatePromise;\n    }\n    /**\n     * Controls whether or not `update()` should be called when the element requests\n     * an update. By default, this method always returns `true`, but this can be\n     * customized to control when to update.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     * @category updates\n     */\n    shouldUpdate(_changedProperties) {\n        return true;\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes.\n     * It can be overridden to render and keep updated element DOM.\n     * Setting properties inside this method will *not* trigger\n     * another update.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     * @category updates\n     */\n    update(_changedProperties) {\n        // The forEach() expression will only run when __reflectingProperties is\n        // defined, and it returns undefined, setting __reflectingProperties to\n        // undefined\n        this.__reflectingProperties &&= this.__reflectingProperties.forEach((p) => this.__propertyToAttribute(p, this[p]));\n        this.__markUpdated();\n    }\n    /**\n     * Invoked whenever the element is updated. Implement to perform\n     * post-updating tasks via DOM APIs, for example, focusing an element.\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     * @category updates\n     */\n    updated(_changedProperties) { }\n    /**\n     * Invoked when the element is first updated. Implement to perform one time\n     * work on the element after update.\n     *\n     * ```ts\n     * firstUpdated() {\n     *   this.renderRoot.getElementById('my-text-area').focus();\n     * }\n     * ```\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     * @category updates\n     */\n    firstUpdated(_changedProperties) { }\n}\n/**\n * Memoized list of all element styles.\n * Created lazily on user subclasses when finalizing the class.\n * @nocollapse\n * @category styles\n */\nReactiveElement.elementStyles = [];\n/**\n * Options used when calling `attachShadow`. Set this property to customize\n * the options for the shadowRoot; for example, to create a closed\n * shadowRoot: `{mode: 'closed'}`.\n *\n * Note, these options are used in `createRenderRoot`. If this method\n * is customized, options should be respected if possible.\n * @nocollapse\n * @category rendering\n */\nReactiveElement.shadowRootOptions = { mode: 'open' };\n// Assigned here to work around a jscompiler bug with static fields\n// when compiling to ES5.\n// https://github.com/google/closure-compiler/issues/3177\nReactiveElement[JSCompiler_renameProperty('elementProperties', ReactiveElement)] = new Map();\nReactiveElement[JSCompiler_renameProperty('finalized', ReactiveElement)] = new Map();\n// Apply polyfills if available\npolyfillSupport?.({ ReactiveElement });\n// Dev mode warnings...\nif (DEV_MODE) {\n    // Default warning set.\n    ReactiveElement.enabledWarnings = [\n        'change-in-update',\n        'async-perform-update',\n    ];\n    const ensureOwnWarnings = function (ctor) {\n        if (!ctor.hasOwnProperty(JSCompiler_renameProperty('enabledWarnings', ctor))) {\n            ctor.enabledWarnings = ctor.enabledWarnings.slice();\n        }\n    };\n    ReactiveElement.enableWarning = function (warning) {\n        ensureOwnWarnings(this);\n        if (!this.enabledWarnings.includes(warning)) {\n            this.enabledWarnings.push(warning);\n        }\n    };\n    ReactiveElement.disableWarning = function (warning) {\n        ensureOwnWarnings(this);\n        const i = this.enabledWarnings.indexOf(warning);\n        if (i >= 0) {\n            this.enabledWarnings.splice(i, 1);\n        }\n    };\n}\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for ReactiveElement usage.\n(global.reactiveElementVersions ??= []).push('2.1.1');\nif (DEV_MODE && global.reactiveElementVersions.length > 1) {\n    queueMicrotask(() => {\n        issueWarning('multiple-versions', `Multiple versions of Lit loaded. Loading multiple versions ` +\n            `is not recommended.`);\n    });\n}\n//# sourceMappingURL=reactive-element.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@lit/reactive-element/development/reactive-element.js?\n}")},"./node_modules/@lit/task/development/index.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Task: () => (/* reexport safe */ _task_js__WEBPACK_IMPORTED_MODULE_0__.Task)\n/* harmony export */ });\n/* harmony import */ var _task_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./task.js */ "./node_modules/@lit/task/development/task.js");\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@lit/task/development/index.js?\n}')},"./node_modules/@lit/task/development/task.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Task: () => (/* binding */ Task)\n/* harmony export */ });\n/* unused harmony exports TaskStatus, initialState, shallowArrayEquals */\n/* harmony import */ var _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lit/reactive-element */ \"./node_modules/@lit/reactive-element/development/reactive-element.js\");\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n/**\n * States for task status\n */\nconst TaskStatus = {\n    INITIAL: 0,\n    PENDING: 1,\n    COMPLETE: 2,\n    ERROR: 3,\n};\n/**\n * A special value that can be returned from task functions to reset the task\n * status to INITIAL.\n */\nconst initialState = Symbol();\n// TODO(sorvell / justinfagnani): Some issues:\n// 1. With the task triggered in `update`, there is no ReactiveElement\n// change-in-update warning in the common case that the update itself does not change\n// the deps; however, Task's `requestUpdate` call to render pending state  will not\n// trigger another update since the element is updating. This `requestUpdate`\n// could be triggered in updated, but that results a change-in-update warning.\n// 2. There is no good signal for when the task has resolved and rendered other\n// than requestAnimationFrame. The user would need to store a promise for the\n// task and then wait for that and the element to update. (Update just justinfagnani:\n// Why isn't waiting taskComplete and updateComplete sufficient? This comment is\n// from before taskComplete existed!)\n/**\n * A controller that performs an asynchronous task (like a fetch) when its\n * host element updates.\n *\n * Task requests an update on the host element when the task starts and\n * completes so that the host can render the task status, value, and error as\n * the task runs.\n *\n * The task function must be supplied and can take a list of arguments. The\n * arguments are given to the Task as a function that returns a list of values,\n * which is run and checked for changes on every host update.\n *\n * The `value` property reports the completed value, and the `error` property\n * an error state if one occurs. The `status` property can be checked for\n * status and is of type `TaskStatus` which has states for initial, pending,\n * complete, and error.\n *\n * The `render` method accepts an object with optional methods corresponding\n * to the task statuses to easily render different templates for each task\n * status.\n *\n * The task is run automatically when its arguments change; however, this can\n * be customized by setting `autoRun` to false and calling `run` explicitly\n * to run the task.\n *\n * For a task to see state changes in the current update pass of the host\n * element, those changes must be made in `willUpdate()`. State changes in\n * `update()` or `updated()` will not be visible to the task until the next\n * update pass.\n *\n * @example\n *\n * ```ts\n * class MyElement extends LitElement {\n *   url = 'example.com/api';\n *   id = 0;\n *\n *   task = new Task(\n *     this,\n *     {\n *       task: async ([url, id]) => {\n *         const response = await fetch(`${this.url}?id=${this.id}`);\n *         if (!response.ok) {\n *           throw new Error(response.statusText);\n *         }\n *         return response.json();\n *       },\n *       args: () => [this.id, this.url],\n *     }\n *   );\n *\n *   render() {\n *     return this.task.render({\n *       pending: () => html`<p>Loading...</p>`,\n *       complete: (value) => html`<p>Result: ${value}</p>`\n *     });\n *   }\n * }\n * ```\n */\nclass Task {\n    /**\n     * A Promise that resolve when the current task run is complete.\n     *\n     * If a new task run is started while a previous run is pending, the Promise\n     * is kept and only resolved when the new run is completed.\n     */\n    get taskComplete() {\n        // If a task run exists, return the cached promise. This is true in the case\n        // where the user has called taskComplete in pending or completed state\n        // before and has not started a new task run since.\n        if (this._taskComplete) {\n            return this._taskComplete;\n        }\n        // Generate an in-progress promise if the status is pending and has been\n        // cleared by .run().\n        if (this._status === TaskStatus.PENDING) {\n            this._taskComplete = new Promise((res, rej) => {\n                this._resolveTaskComplete = res;\n                this._rejectTaskComplete = rej;\n            });\n            // If the status is error, return a rejected promise.\n        }\n        else if (this._status === TaskStatus.ERROR) {\n            this._taskComplete = Promise.reject(this._error);\n            // Otherwise we are at a task run's completion or this is the first\n            // request and we are not in the middle of a task (i.e. INITIAL).\n        }\n        else {\n            this._taskComplete = Promise.resolve(this._value);\n        }\n        return this._taskComplete;\n    }\n    constructor(host, task, args) {\n        this._callId = 0;\n        this._status = TaskStatus.INITIAL;\n        (this._host = host).addController(this);\n        const taskConfig = typeof task === 'object' ? task : { task, args };\n        this._task = taskConfig.task;\n        this._argsFn = taskConfig.args;\n        this._argsEqual = taskConfig.argsEqual ?? shallowArrayEquals;\n        this._onComplete = taskConfig.onComplete;\n        this._onError = taskConfig.onError;\n        this.autoRun = taskConfig.autoRun ?? true;\n        // Providing initialValue puts the task in COMPLETE state and stores the\n        // args immediately so it only runs when they change again.\n        if ('initialValue' in taskConfig) {\n            this._value = taskConfig.initialValue;\n            this._status = TaskStatus.COMPLETE;\n            this._previousArgs = this._getArgs?.();\n        }\n    }\n    hostUpdate() {\n        if (this.autoRun === true) {\n            this._performTask();\n        }\n    }\n    hostUpdated() {\n        if (this.autoRun === 'afterUpdate') {\n            this._performTask();\n        }\n    }\n    _getArgs() {\n        if (this._argsFn === undefined) {\n            return undefined;\n        }\n        const args = this._argsFn();\n        if (!Array.isArray(args)) {\n            throw new Error('The args function must return an array');\n        }\n        return args;\n    }\n    /**\n     * Determines if the task should run when it's triggered because of a\n     * host update, and runs the task if it should.\n     *\n     * A task should run when its arguments change from the previous run, based on\n     * the args equality function.\n     *\n     * This method is side-effectful: it stores the new args as the previous args.\n     */\n    async _performTask() {\n        const args = this._getArgs();\n        const prev = this._previousArgs;\n        this._previousArgs = args;\n        if (args !== prev &&\n            args !== undefined &&\n            (prev === undefined || !this._argsEqual(prev, args))) {\n            await this.run(args);\n        }\n    }\n    /**\n     * Runs a task manually.\n     *\n     * This can be useful for running tasks in response to events as opposed to\n     * automatically running when host element state changes.\n     *\n     * @param args an optional set of arguments to use for this task run. If args\n     *     is not given, the args function is called to get the arguments for\n     *     this run.\n     */\n    async run(args) {\n        args ??= this._getArgs();\n        // Remember the args for potential future automatic runs.\n        // TODO (justinfagnani): add test\n        this._previousArgs = args;\n        if (this._status === TaskStatus.PENDING) {\n            this._abortController?.abort();\n        }\n        else {\n            // Clear the last complete task run in INITIAL because it may be a resolved\n            // promise. Also clear if COMPLETE or ERROR because the value returned by\n            // awaiting taskComplete may have changed since last run.\n            this._taskComplete = undefined;\n            this._resolveTaskComplete = undefined;\n            this._rejectTaskComplete = undefined;\n        }\n        this._status = TaskStatus.PENDING;\n        let result;\n        let error;\n        // Request an update to report pending state.\n        if (this.autoRun === 'afterUpdate') {\n            // Avoids a change-in-update warning\n            queueMicrotask(() => this._host.requestUpdate());\n        }\n        else {\n            this._host.requestUpdate();\n        }\n        const key = ++this._callId;\n        this._abortController = new AbortController();\n        let errored = false;\n        try {\n            result = await this._task(args, { signal: this._abortController.signal });\n        }\n        catch (e) {\n            errored = true;\n            error = e;\n        }\n        // If this is the most recent task call, process this value.\n        if (this._callId === key) {\n            if (result === initialState) {\n                this._status = TaskStatus.INITIAL;\n            }\n            else {\n                if (errored === false) {\n                    try {\n                        this._onComplete?.(result);\n                    }\n                    catch {\n                        // Ignore user errors from onComplete.\n                    }\n                    this._status = TaskStatus.COMPLETE;\n                    this._resolveTaskComplete?.(result);\n                }\n                else {\n                    try {\n                        this._onError?.(error);\n                    }\n                    catch {\n                        // Ignore user errors from onError.\n                    }\n                    this._status = TaskStatus.ERROR;\n                    this._rejectTaskComplete?.(error);\n                }\n                this._value = result;\n                this._error = error;\n            }\n            // Request an update with the final value.\n            this._host.requestUpdate();\n        }\n    }\n    /**\n     * Aborts the currently pending task run by aborting the AbortSignal\n     * passed to the task function.\n     *\n     * Aborting a task does nothing if the task is not running: ie, in the\n     * complete, error, or initial states.\n     *\n     * Aborting a task does not automatically cancel the task function. The task\n     * function must be written to accept the AbortSignal and either forward it\n     * to other APIs like `fetch()`, or handle cancellation manually by using\n     * [`signal.throwIfAborted()`]{@link https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal/throwIfAborted}\n     * or the\n     * [`abort`]{@link https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal/abort_event}\n     * event.\n     *\n     * @param reason The reason for aborting. Passed to\n     *     `AbortController.abort()`.\n     */\n    abort(reason) {\n        if (this._status === TaskStatus.PENDING) {\n            this._abortController?.abort(reason);\n        }\n    }\n    /**\n     * The result of the previous task run, if it resolved.\n     *\n     * Is `undefined` if the task has not run yet, or if the previous run errored.\n     */\n    get value() {\n        return this._value;\n    }\n    /**\n     * The error from the previous task run, if it rejected.\n     *\n     * Is `undefined` if the task has not run yet, or if the previous run\n     * completed successfully.\n     */\n    get error() {\n        return this._error;\n    }\n    get status() {\n        return this._status;\n    }\n    render(renderer) {\n        switch (this._status) {\n            case TaskStatus.INITIAL:\n                return renderer.initial?.();\n            case TaskStatus.PENDING:\n                return renderer.pending?.();\n            case TaskStatus.COMPLETE:\n                return renderer.complete?.(this.value);\n            case TaskStatus.ERROR:\n                return renderer.error?.(this.error);\n            default:\n                throw new Error(`Unexpected status: ${this._status}`);\n        }\n    }\n}\nconst shallowArrayEquals = (oldArgs, newArgs) => oldArgs === newArgs ||\n    (oldArgs.length === newArgs.length &&\n        oldArgs.every((v, i) => !(0,_lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.notEqual)(v, newArgs[i])));\n//# sourceMappingURL=task.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@lit/task/development/task.js?\n}")},"./node_modules/@volvo/vcdk-tokens/dist/web/global/breakpoints.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   breakpoints: () => (/* binding */ breakpoints)\n/* harmony export */ });\n/**\n * Viewports with fractional widths can occur under certain conditions on high-dpi devices.\n * Using values with higher precision for these comparisons.\n */\nconst breakpoints = {\n    xs: {\n        from: 0,\n        to: 599.98,\n    },\n    sm: {\n        from: 600,\n        to: 904.98,\n    },\n    md: {\n        from: 905,\n        to: 1239.98,\n    },\n    lg: {\n        from: 1240,\n        to: 1439.98,\n    },\n    xl: {\n        from: 1440,\n        to: 15360,\n    },\n};\n//# sourceMappingURL=breakpoints.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/@volvo/vcdk-tokens/dist/web/global/breakpoints.js?\n}")},"./node_modules/lit-element/development/lit-element.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LitElement: () => (/* binding */ LitElement),\n/* harmony export */   css: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.css),\n/* harmony export */   defaultConverter: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.defaultConverter),\n/* harmony export */   html: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.html),\n/* harmony export */   nothing: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.nothing),\n/* harmony export */   svg: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.svg),\n/* harmony export */   unsafeCSS: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.unsafeCSS)\n/* harmony export */ });\n/* unused harmony export _$LE */\n/* harmony import */ var _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lit/reactive-element */ \"./node_modules/@lit/reactive-element/development/reactive-element.js\");\n/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit-html */ \"./node_modules/lit-html/development/lit-html.js\");\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * The main LitElement module, which defines the {@linkcode LitElement} base\n * class and related APIs.\n *\n * LitElement components can define a template and a set of observed\n * properties. Changing an observed property triggers a re-render of the\n * element.\n *\n * Import {@linkcode LitElement} and {@linkcode html} from this module to\n * create a component:\n *\n *  ```js\n * import {LitElement, html} from 'lit-element';\n *\n * class MyElement extends LitElement {\n *\n *   // Declare observed properties\n *   static get properties() {\n *     return {\n *       adjective: {}\n *     }\n *   }\n *\n *   constructor() {\n *     this.adjective = 'awesome';\n *   }\n *\n *   // Define the element's template\n *   render() {\n *     return html`<p>your ${adjective} template here</p>`;\n *   }\n * }\n *\n * customElements.define('my-element', MyElement);\n * ```\n *\n * `LitElement` extends {@linkcode ReactiveElement} and adds lit-html\n * templating. The `ReactiveElement` class is provided for users that want to\n * build their own custom element base classes that don't use lit-html.\n *\n * @packageDocumentation\n */\n\n\n\n\n/*\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is\n * replaced at compile time by the munged name for object[property]. We cannot\n * alias this function, so we have to use a small shim that has the same\n * behavior when not compiling.\n */\n/*@__INLINE__*/\nconst JSCompiler_renameProperty = (prop, _obj) => prop;\nconst DEV_MODE = true;\n// Allows minifiers to rename references to globalThis\nconst global = globalThis;\nlet issueWarning;\nif (DEV_MODE) {\n    // Ensure warnings are issued only 1x, even if multiple versions of Lit\n    // are loaded.\n    global.litIssuedWarnings ??= new Set();\n    /**\n     * Issue a warning if we haven't already, based either on `code` or `warning`.\n     * Warnings are disabled automatically only by `warning`; disabling via `code`\n     * can be done by users.\n     */\n    issueWarning = (code, warning) => {\n        warning += ` See https://lit.dev/msg/${code} for more information.`;\n        if (!global.litIssuedWarnings.has(warning) &&\n            !global.litIssuedWarnings.has(code)) {\n            console.warn(warning);\n            global.litIssuedWarnings.add(warning);\n        }\n    };\n}\n/**\n * Base element class that manages element properties and attributes, and\n * renders a lit-html template.\n *\n * To define a component, subclass `LitElement` and implement a\n * `render` method to provide the component's template. Define properties\n * using the {@linkcode LitElement.properties properties} property or the\n * {@linkcode property} decorator.\n */\nclass LitElement extends _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.ReactiveElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * @category rendering\n         */\n        this.renderOptions = { host: this };\n        this.__childPart = undefined;\n    }\n    /**\n     * @category rendering\n     */\n    createRenderRoot() {\n        const renderRoot = super.createRenderRoot();\n        // When adoptedStyleSheets are shimmed, they are inserted into the\n        // shadowRoot by createRenderRoot. Adjust the renderBefore node so that\n        // any styles in Lit content render before adoptedStyleSheets. This is\n        // important so that adoptedStyleSheets have precedence over styles in\n        // the shadowRoot.\n        this.renderOptions.renderBefore ??= renderRoot.firstChild;\n        return renderRoot;\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes\n     * and calls `render` to render DOM via lit-html. Setting properties inside\n     * this method will *not* trigger another update.\n     * @param changedProperties Map of changed properties with old values\n     * @category updates\n     */\n    update(changedProperties) {\n        // Setting properties in `render` should not trigger an update. Since\n        // updates are allowed after super.update, it's important to call `render`\n        // before that.\n        const value = this.render();\n        if (!this.hasUpdated) {\n            this.renderOptions.isConnected = this.isConnected;\n        }\n        super.update(changedProperties);\n        this.__childPart = (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.render)(value, this.renderRoot, this.renderOptions);\n    }\n    /**\n     * Invoked when the component is added to the document's DOM.\n     *\n     * In `connectedCallback()` you should setup tasks that should only occur when\n     * the element is connected to the document. The most common of these is\n     * adding event listeners to nodes external to the element, like a keydown\n     * event handler added to the window.\n     *\n     * ```ts\n     * connectedCallback() {\n     *   super.connectedCallback();\n     *   addEventListener('keydown', this._handleKeydown);\n     * }\n     * ```\n     *\n     * Typically, anything done in `connectedCallback()` should be undone when the\n     * element is disconnected, in `disconnectedCallback()`.\n     *\n     * @category lifecycle\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        this.__childPart?.setConnected(true);\n    }\n    /**\n     * Invoked when the component is removed from the document's DOM.\n     *\n     * This callback is the main signal to the element that it may no longer be\n     * used. `disconnectedCallback()` should ensure that nothing is holding a\n     * reference to the element (such as event listeners added to nodes external\n     * to the element), so that it is free to be garbage collected.\n     *\n     * ```ts\n     * disconnectedCallback() {\n     *   super.disconnectedCallback();\n     *   window.removeEventListener('keydown', this._handleKeydown);\n     * }\n     * ```\n     *\n     * An element may be re-connected after being disconnected.\n     *\n     * @category lifecycle\n     */\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        this.__childPart?.setConnected(false);\n    }\n    /**\n     * Invoked on each update to perform rendering tasks. This method may return\n     * any value renderable by lit-html's `ChildPart` - typically a\n     * `TemplateResult`. Setting properties inside this method will *not* trigger\n     * the element to update.\n     * @category rendering\n     */\n    render() {\n        return lit_html__WEBPACK_IMPORTED_MODULE_1__.noChange;\n    }\n}\n// This property needs to remain unminified.\nLitElement['_$litElement$'] = true;\n/**\n * Ensure this class is marked as `finalized` as an optimization ensuring\n * it will not needlessly try to `finalize`.\n *\n * Note this property name is a string to prevent breaking Closure JS Compiler\n * optimizations. See @lit/reactive-element for more information.\n */\nLitElement[JSCompiler_renameProperty('finalized', LitElement)] = true;\n// Install hydration if available\nglobal.litElementHydrateSupport?.({ LitElement });\n// Apply polyfills if available\nconst polyfillSupport = DEV_MODE\n    ? global.litElementPolyfillSupportDevMode\n    : global.litElementPolyfillSupport;\npolyfillSupport?.({ LitElement });\n/**\n * END USERS SHOULD NOT RELY ON THIS OBJECT.\n *\n * Private exports for use by other Lit packages, not intended for use by\n * external users.\n *\n * We currently do not make a mangled rollup build of the lit-ssr code. In order\n * to keep a number of (otherwise private) top-level exports  mangled in the\n * client side code, we export a _$LE object containing those members (or\n * helper methods for accessing private fields of those members), and then\n * re-export them for use in lit-ssr. This keeps lit-ssr agnostic to whether the\n * client-side code is being used in `dev` mode or `prod` mode.\n *\n * This has a unique name, to disambiguate it from private exports in\n * lit-html, since this module re-exports all of lit-html.\n *\n * @private\n */\nconst _$LE = {\n    _$attributeToProperty: (el, name, value) => {\n        // eslint-disable-next-line\n        el._$attributeToProperty(name, value);\n    },\n    // eslint-disable-next-line\n    _$changedProperties: (el) => el._$changedProperties,\n};\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for LitElement usage.\n(global.litElementVersions ??= []).push('4.2.1');\nif (DEV_MODE && global.litElementVersions.length > 1) {\n    queueMicrotask(() => {\n        issueWarning('multiple-versions', `Multiple versions of Lit loaded. Loading multiple versions ` +\n            `is not recommended.`);\n    });\n}\n//# sourceMappingURL=lit-element.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit-element/development/lit-element.js?\n}")},"./node_modules/lit-html/development/async-directive.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsyncDirective: () => (/* binding */ AsyncDirective),\n/* harmony export */   directive: () => (/* reexport safe */ _directive_js__WEBPACK_IMPORTED_MODULE_1__.directive)\n/* harmony export */ });\n/* harmony import */ var _directive_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./directive-helpers.js */ \"./node_modules/lit-html/development/directive-helpers.js\");\n/* harmony import */ var _directive_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./directive.js */ \"./node_modules/lit-html/development/directive.js\");\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n\n\nconst DEV_MODE = true;\n/**\n * Recursively walks down the tree of Parts/TemplateInstances/Directives to set\n * the connected state of directives and run `disconnected`/ `reconnected`\n * callbacks.\n *\n * @return True if there were children to disconnect; false otherwise\n */\nconst notifyChildrenConnectedChanged = (parent, isConnected) => {\n    const children = parent._$disconnectableChildren;\n    if (children === undefined) {\n        return false;\n    }\n    for (const obj of children) {\n        // The existence of `_$notifyDirectiveConnectionChanged` is used as a \"brand\" to\n        // disambiguate AsyncDirectives from other DisconnectableChildren\n        // (as opposed to using an instanceof check to know when to call it); the\n        // redundancy of \"Directive\" in the API name is to avoid conflicting with\n        // `_$notifyConnectionChanged`, which exists `ChildParts` which are also in\n        // this list\n        // Disconnect Directive (and any nested directives contained within)\n        // This property needs to remain unminified.\n        obj['_$notifyDirectiveConnectionChanged']?.(isConnected, false);\n        // Disconnect Part/TemplateInstance\n        notifyChildrenConnectedChanged(obj, isConnected);\n    }\n    return true;\n};\n/**\n * Removes the given child from its parent list of disconnectable children, and\n * if the parent list becomes empty as a result, removes the parent from its\n * parent, and so forth up the tree when that causes subsequent parent lists to\n * become empty.\n */\nconst removeDisconnectableFromParent = (obj) => {\n    let parent, children;\n    do {\n        if ((parent = obj._$parent) === undefined) {\n            break;\n        }\n        children = parent._$disconnectableChildren;\n        children.delete(obj);\n        obj = parent;\n    } while (children?.size === 0);\n};\nconst addDisconnectableToParent = (obj) => {\n    // Climb the parent tree, creating a sparse tree of children needing\n    // disconnection\n    for (let parent; (parent = obj._$parent); obj = parent) {\n        let children = parent._$disconnectableChildren;\n        if (children === undefined) {\n            parent._$disconnectableChildren = children = new Set();\n        }\n        else if (children.has(obj)) {\n            // Once we've reached a parent that already contains this child, we\n            // can short-circuit\n            break;\n        }\n        children.add(obj);\n        installDisconnectAPI(parent);\n    }\n};\n/**\n * Changes the parent reference of the ChildPart, and updates the sparse tree of\n * Disconnectable children accordingly.\n *\n * Note, this method will be patched onto ChildPart instances and called from\n * the core code when parts are moved between different parents.\n */\nfunction reparentDisconnectables(newParent) {\n    if (this._$disconnectableChildren !== undefined) {\n        removeDisconnectableFromParent(this);\n        this._$parent = newParent;\n        addDisconnectableToParent(this);\n    }\n    else {\n        this._$parent = newParent;\n    }\n}\n/**\n * Sets the connected state on any directives contained within the committed\n * value of this part (i.e. within a TemplateInstance or iterable of\n * ChildParts) and runs their `disconnected`/`reconnected`s, as well as within\n * any directives stored on the ChildPart (when `valueOnly` is false).\n *\n * `isClearingValue` should be passed as `true` on a top-level part that is\n * clearing itself, and not as a result of recursively disconnecting directives\n * as part of a `clear` operation higher up the tree. This both ensures that any\n * directive on this ChildPart that produced a value that caused the clear\n * operation is not disconnected, and also serves as a performance optimization\n * to avoid needless bookkeeping when a subtree is going away; when clearing a\n * subtree, only the top-most part need to remove itself from the parent.\n *\n * `fromPartIndex` is passed only in the case of a partial `_clear` running as a\n * result of truncating an iterable.\n *\n * Note, this method will be patched onto ChildPart instances and called from the\n * core code when parts are cleared or the connection state is changed by the\n * user.\n */\nfunction notifyChildPartConnectedChanged(isConnected, isClearingValue = false, fromPartIndex = 0) {\n    const value = this._$committedValue;\n    const children = this._$disconnectableChildren;\n    if (children === undefined || children.size === 0) {\n        return;\n    }\n    if (isClearingValue) {\n        if (Array.isArray(value)) {\n            // Iterable case: Any ChildParts created by the iterable should be\n            // disconnected and removed from this ChildPart's disconnectable\n            // children (starting at `fromPartIndex` in the case of truncation)\n            for (let i = fromPartIndex; i < value.length; i++) {\n                notifyChildrenConnectedChanged(value[i], false);\n                removeDisconnectableFromParent(value[i]);\n            }\n        }\n        else if (value != null) {\n            // TemplateInstance case: If the value has disconnectable children (will\n            // only be in the case that it is a TemplateInstance), we disconnect it\n            // and remove it from this ChildPart's disconnectable children\n            notifyChildrenConnectedChanged(value, false);\n            removeDisconnectableFromParent(value);\n        }\n    }\n    else {\n        notifyChildrenConnectedChanged(this, isConnected);\n    }\n}\n/**\n * Patches disconnection API onto ChildParts.\n */\nconst installDisconnectAPI = (obj) => {\n    if (obj.type == _directive_js__WEBPACK_IMPORTED_MODULE_1__.PartType.CHILD) {\n        obj._$notifyConnectionChanged ??=\n            notifyChildPartConnectedChanged;\n        obj._$reparentDisconnectables ??= reparentDisconnectables;\n    }\n};\n/**\n * An abstract `Directive` base class whose `disconnected` method will be\n * called when the part containing the directive is cleared as a result of\n * re-rendering, or when the user calls `part.setConnected(false)` on\n * a part that was previously rendered containing the directive (as happens\n * when e.g. a LitElement disconnects from the DOM).\n *\n * If `part.setConnected(true)` is subsequently called on a\n * containing part, the directive's `reconnected` method will be called prior\n * to its next `update`/`render` callbacks. When implementing `disconnected`,\n * `reconnected` should also be implemented to be compatible with reconnection.\n *\n * Note that updates may occur while the directive is disconnected. As such,\n * directives should generally check the `this.isConnected` flag during\n * render/update to determine whether it is safe to subscribe to resources\n * that may prevent garbage collection.\n */\nclass AsyncDirective extends _directive_js__WEBPACK_IMPORTED_MODULE_1__.Directive {\n    constructor() {\n        super(...arguments);\n        // @internal\n        this._$disconnectableChildren = undefined;\n    }\n    /**\n     * Initialize the part with internal fields\n     * @param part\n     * @param parent\n     * @param attributeIndex\n     */\n    _$initialize(part, parent, attributeIndex) {\n        super._$initialize(part, parent, attributeIndex);\n        addDisconnectableToParent(this);\n        this.isConnected = part._$isConnected;\n    }\n    // This property needs to remain unminified.\n    /**\n     * Called from the core code when a directive is going away from a part (in\n     * which case `shouldRemoveFromParent` should be true), and from the\n     * `setChildrenConnected` helper function when recursively changing the\n     * connection state of a tree (in which case `shouldRemoveFromParent` should\n     * be false).\n     *\n     * @param isConnected\n     * @param isClearingDirective - True when the directive itself is being\n     *     removed; false when the tree is being disconnected\n     * @internal\n     */\n    ['_$notifyDirectiveConnectionChanged'](isConnected, isClearingDirective = true) {\n        if (isConnected !== this.isConnected) {\n            this.isConnected = isConnected;\n            if (isConnected) {\n                this.reconnected?.();\n            }\n            else {\n                this.disconnected?.();\n            }\n        }\n        if (isClearingDirective) {\n            notifyChildrenConnectedChanged(this, isConnected);\n            removeDisconnectableFromParent(this);\n        }\n    }\n    /**\n     * Sets the value of the directive's Part outside the normal `update`/`render`\n     * lifecycle of a directive.\n     *\n     * This method should not be called synchronously from a directive's `update`\n     * or `render`.\n     *\n     * @param directive The directive to update\n     * @param value The value to set\n     */\n    setValue(value) {\n        if ((0,_directive_helpers_js__WEBPACK_IMPORTED_MODULE_0__.isSingleExpression)(this.__part)) {\n            this.__part._$setValue(value, this);\n        }\n        else {\n            // this.__attributeIndex will be defined in this case, but\n            // assert it in dev mode\n            if (DEV_MODE && this.__attributeIndex === undefined) {\n                throw new Error(`Expected this.__attributeIndex to be a number`);\n            }\n            const newValues = [...this.__part._$committedValue];\n            newValues[this.__attributeIndex] = value;\n            this.__part._$setValue(newValues, this, 0);\n        }\n    }\n    /**\n     * User callbacks for implementing logic to release any resources/subscriptions\n     * that may have been retained by this directive. Since directives may also be\n     * re-connected, `reconnected` should also be implemented to restore the\n     * working state of the directive prior to the next render.\n     */\n    disconnected() { }\n    reconnected() { }\n}\n//# sourceMappingURL=async-directive.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit-html/development/async-directive.js?\n}")},"./node_modules/lit-html/development/directive-helpers.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isSingleExpression: () => (/* binding */ isSingleExpression),\n/* harmony export */   setCommittedValue: () => (/* binding */ setCommittedValue)\n/* harmony export */ });\n/* unused harmony exports isPrimitive, TemplateResultType, isTemplateResult, isCompiledTemplateResult, isDirectiveResult, getDirectiveClass, insertPart, setChildPartValue, getCommittedValue, removePart, clearPart */\n/* harmony import */ var _lit_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lit-html.js */ \"./node_modules/lit-html/development/lit-html.js\");\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\nconst { _ChildPart: ChildPart } = _lit_html_js__WEBPACK_IMPORTED_MODULE_0__._$LH;\nconst ENABLE_SHADYDOM_NOPATCH = true;\nconst wrap = ENABLE_SHADYDOM_NOPATCH &&\n    window.ShadyDOM?.inUse &&\n    window.ShadyDOM?.noPatch === true\n    ? window.ShadyDOM.wrap\n    : (node) => node;\n/**\n * Tests if a value is a primitive value.\n *\n * See https://tc39.github.io/ecma262/#sec-typeof-operator\n */\nconst isPrimitive = (value) => value === null || (typeof value != 'object' && typeof value != 'function');\nconst TemplateResultType = {\n    HTML: 1,\n    SVG: 2,\n    MATHML: 3,\n};\n/**\n * Tests if a value is a TemplateResult or a CompiledTemplateResult.\n */\nconst isTemplateResult = (value, type) => type === undefined\n    ? // This property needs to remain unminified.\n        value?.['_$litType$'] !== undefined\n    : value?.['_$litType$'] === type;\n/**\n * Tests if a value is a CompiledTemplateResult.\n */\nconst isCompiledTemplateResult = (value) => {\n    return value?.['_$litType$']?.h != null;\n};\n/**\n * Tests if a value is a DirectiveResult.\n */\nconst isDirectiveResult = (value) => \n// This property needs to remain unminified.\nvalue?.['_$litDirective$'] !== undefined;\n/**\n * Retrieves the Directive class for a DirectiveResult\n */\nconst getDirectiveClass = (value) => \n// This property needs to remain unminified.\nvalue?.['_$litDirective$'];\n/**\n * Tests whether a part has only a single-expression with no strings to\n * interpolate between.\n *\n * Only AttributePart and PropertyPart can have multiple expressions.\n * Multi-expression parts have a `strings` property and single-expression\n * parts do not.\n */\nconst isSingleExpression = (part) => part.strings === undefined;\nconst createMarker = () => document.createComment('');\n/**\n * Inserts a ChildPart into the given container ChildPart's DOM, either at the\n * end of the container ChildPart, or before the optional `refPart`.\n *\n * This does not add the part to the containerPart's committed value. That must\n * be done by callers.\n *\n * @param containerPart Part within which to add the new ChildPart\n * @param refPart Part before which to add the new ChildPart; when omitted the\n *     part added to the end of the `containerPart`\n * @param part Part to insert, or undefined to create a new part\n */\nconst insertPart = (containerPart, refPart, part) => {\n    const container = wrap(containerPart._$startNode).parentNode;\n    const refNode = refPart === undefined ? containerPart._$endNode : refPart._$startNode;\n    if (part === undefined) {\n        const startNode = wrap(container).insertBefore(createMarker(), refNode);\n        const endNode = wrap(container).insertBefore(createMarker(), refNode);\n        part = new ChildPart(startNode, endNode, containerPart, containerPart.options);\n    }\n    else {\n        const endNode = wrap(part._$endNode).nextSibling;\n        const oldParent = part._$parent;\n        const parentChanged = oldParent !== containerPart;\n        if (parentChanged) {\n            part._$reparentDisconnectables?.(containerPart);\n            // Note that although `_$reparentDisconnectables` updates the part's\n            // `_$parent` reference after unlinking from its current parent, that\n            // method only exists if Disconnectables are present, so we need to\n            // unconditionally set it here\n            part._$parent = containerPart;\n            // Since the _$isConnected getter is somewhat costly, only\n            // read it once we know the subtree has directives that need\n            // to be notified\n            let newConnectionState;\n            if (part._$notifyConnectionChanged !== undefined &&\n                (newConnectionState = containerPart._$isConnected) !==\n                    oldParent._$isConnected) {\n                part._$notifyConnectionChanged(newConnectionState);\n            }\n        }\n        if (endNode !== refNode || parentChanged) {\n            let start = part._$startNode;\n            while (start !== endNode) {\n                const n = wrap(start).nextSibling;\n                wrap(container).insertBefore(start, refNode);\n                start = n;\n            }\n        }\n    }\n    return part;\n};\n/**\n * Sets the value of a Part.\n *\n * Note that this should only be used to set/update the value of user-created\n * parts (i.e. those created using `insertPart`); it should not be used\n * by directives to set the value of the directive's container part. Directives\n * should return a value from `update`/`render` to update their part state.\n *\n * For directives that require setting their part value asynchronously, they\n * should extend `AsyncDirective` and call `this.setValue()`.\n *\n * @param part Part to set\n * @param value Value to set\n * @param index For `AttributePart`s, the index to set\n * @param directiveParent Used internally; should not be set by user\n */\nconst setChildPartValue = (part, value, directiveParent = part) => {\n    part._$setValue(value, directiveParent);\n    return part;\n};\n// A sentinel value that can never appear as a part value except when set by\n// live(). Used to force a dirty-check to fail and cause a re-render.\nconst RESET_VALUE = {};\n/**\n * Sets the committed value of a ChildPart directly without triggering the\n * commit stage of the part.\n *\n * This is useful in cases where a directive needs to update the part such\n * that the next update detects a value change or not. When value is omitted,\n * the next update will be guaranteed to be detected as a change.\n *\n * @param part\n * @param value\n */\nconst setCommittedValue = (part, value = RESET_VALUE) => (part._$committedValue = value);\n/**\n * Returns the committed value of a ChildPart.\n *\n * The committed value is used for change detection and efficient updates of\n * the part. It can differ from the value set by the template or directive in\n * cases where the template value is transformed before being committed.\n *\n * - `TemplateResult`s are committed as a `TemplateInstance`\n * - Iterables are committed as `Array<ChildPart>`\n * - All other types are committed as the template value or value returned or\n *   set by a directive.\n *\n * @param part\n */\nconst getCommittedValue = (part) => part._$committedValue;\n/**\n * Removes a ChildPart from the DOM, including any of its content and markers.\n *\n * Note: The only difference between this and clearPart() is that this also\n * removes the part's start node. This means that the ChildPart must own its\n * start node, ie it must be a marker node specifically for this part and not an\n * anchor from surrounding content.\n *\n * @param part The Part to remove\n */\nconst removePart = (part) => {\n    part._$clear();\n    part._$startNode.remove();\n};\nconst clearPart = (part) => {\n    part._$clear();\n};\n//# sourceMappingURL=directive-helpers.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit-html/development/directive-helpers.js?\n}")},"./node_modules/lit-html/development/directive.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Directive: () => (/* binding */ Directive),\n/* harmony export */   PartType: () => (/* binding */ PartType),\n/* harmony export */   directive: () => (/* binding */ directive)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst PartType = {\n    ATTRIBUTE: 1,\n    CHILD: 2,\n    PROPERTY: 3,\n    BOOLEAN_ATTRIBUTE: 4,\n    EVENT: 5,\n    ELEMENT: 6,\n};\n/**\n * Creates a user-facing directive function from a Directive class. This\n * function has the same parameters as the directive's render() method.\n */\nconst directive = (c) => (...values) => ({\n    // This property needs to remain unminified.\n    ['_$litDirective$']: c,\n    values,\n});\n/**\n * Base class for creating custom directives. Users should extend this class,\n * implement `render` and/or `update`, and then pass their subclass to\n * `directive`.\n */\nclass Directive {\n    constructor(_partInfo) { }\n    // See comment in Disconnectable interface for why this is a getter\n    get _$isConnected() {\n        return this._$parent._$isConnected;\n    }\n    /** @internal */\n    _$initialize(part, parent, attributeIndex) {\n        this.__part = part;\n        this._$parent = parent;\n        this.__attributeIndex = attributeIndex;\n    }\n    /** @internal */\n    _$resolve(part, props) {\n        return this.update(part, props);\n    }\n    update(_part, props) {\n        return this.render(...props);\n    }\n}\n//# sourceMappingURL=directive.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit-html/development/directive.js?\n}")},"./node_modules/lit-html/development/directives/class-map.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   classMap: () => (/* binding */ classMap)\n/* harmony export */ });\n/* harmony import */ var _lit_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lit-html.js */ \"./node_modules/lit-html/development/lit-html.js\");\n/* harmony import */ var _directive_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../directive.js */ \"./node_modules/lit-html/development/directive.js\");\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n\nclass ClassMapDirective extends _directive_js__WEBPACK_IMPORTED_MODULE_1__.Directive {\n    constructor(partInfo) {\n        super(partInfo);\n        if (partInfo.type !== _directive_js__WEBPACK_IMPORTED_MODULE_1__.PartType.ATTRIBUTE ||\n            partInfo.name !== 'class' ||\n            partInfo.strings?.length > 2) {\n            throw new Error('`classMap()` can only be used in the `class` attribute ' +\n                'and must be the only part in the attribute.');\n        }\n    }\n    render(classInfo) {\n        // Add spaces to ensure separation from static classes\n        return (' ' +\n            Object.keys(classInfo)\n                .filter((key) => classInfo[key])\n                .join(' ') +\n            ' ');\n    }\n    update(part, [classInfo]) {\n        // Remember dynamic classes on the first render\n        if (this._previousClasses === undefined) {\n            this._previousClasses = new Set();\n            if (part.strings !== undefined) {\n                this._staticClasses = new Set(part.strings\n                    .join(' ')\n                    .split(/\\s/)\n                    .filter((s) => s !== ''));\n            }\n            for (const name in classInfo) {\n                if (classInfo[name] && !this._staticClasses?.has(name)) {\n                    this._previousClasses.add(name);\n                }\n            }\n            return this.render(classInfo);\n        }\n        const classList = part.element.classList;\n        // Remove old classes that no longer apply\n        for (const name of this._previousClasses) {\n            if (!(name in classInfo)) {\n                classList.remove(name);\n                this._previousClasses.delete(name);\n            }\n        }\n        // Add or remove classes based on their classMap value\n        for (const name in classInfo) {\n            // We explicitly want a loose truthy check of `value` because it seems\n            // more convenient that '' and 0 are skipped.\n            const value = !!classInfo[name];\n            if (value !== this._previousClasses.has(name) &&\n                !this._staticClasses?.has(name)) {\n                if (value) {\n                    classList.add(name);\n                    this._previousClasses.add(name);\n                }\n                else {\n                    classList.remove(name);\n                    this._previousClasses.delete(name);\n                }\n            }\n        }\n        return _lit_html_js__WEBPACK_IMPORTED_MODULE_0__.noChange;\n    }\n}\n/**\n * A directive that applies dynamic CSS classes.\n *\n * This must be used in the `class` attribute and must be the only part used in\n * the attribute. It takes each property in the `classInfo` argument and adds\n * the property name to the element's `classList` if the property value is\n * truthy; if the property value is falsy, the property name is removed from\n * the element's `class`.\n *\n * For example `{foo: bar}` applies the class `foo` if the value of `bar` is\n * truthy.\n *\n * @param classInfo\n */\nconst classMap = (0,_directive_js__WEBPACK_IMPORTED_MODULE_1__.directive)(ClassMapDirective);\n//# sourceMappingURL=class-map.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit-html/development/directives/class-map.js?\n}")},"./node_modules/lit-html/development/directives/if-defined.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ifDefined: () => (/* binding */ ifDefined)\n/* harmony export */ });\n/* harmony import */ var _lit_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lit-html.js */ "./node_modules/lit-html/development/lit-html.js");\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n/**\n * For AttributeParts, sets the attribute if the value is defined and removes\n * the attribute if the value is undefined.\n *\n * For other part types, this directive is a no-op.\n */\nconst ifDefined = (value) => value ?? _lit_html_js__WEBPACK_IMPORTED_MODULE_0__.nothing;\n//# sourceMappingURL=if-defined.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit-html/development/directives/if-defined.js?\n}')},"./node_modules/lit-html/development/directives/live.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   live: () => (/* binding */ live)\n/* harmony export */ });\n/* harmony import */ var _lit_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lit-html.js */ \"./node_modules/lit-html/development/lit-html.js\");\n/* harmony import */ var _directive_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../directive.js */ \"./node_modules/lit-html/development/directive.js\");\n/* harmony import */ var _directive_helpers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../directive-helpers.js */ \"./node_modules/lit-html/development/directive-helpers.js\");\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n\n\nclass LiveDirective extends _directive_js__WEBPACK_IMPORTED_MODULE_1__.Directive {\n    constructor(partInfo) {\n        super(partInfo);\n        if (!(partInfo.type === _directive_js__WEBPACK_IMPORTED_MODULE_1__.PartType.PROPERTY ||\n            partInfo.type === _directive_js__WEBPACK_IMPORTED_MODULE_1__.PartType.ATTRIBUTE ||\n            partInfo.type === _directive_js__WEBPACK_IMPORTED_MODULE_1__.PartType.BOOLEAN_ATTRIBUTE)) {\n            throw new Error('The `live` directive is not allowed on child or event bindings');\n        }\n        if (!(0,_directive_helpers_js__WEBPACK_IMPORTED_MODULE_2__.isSingleExpression)(partInfo)) {\n            throw new Error('`live` bindings can only contain a single expression');\n        }\n    }\n    render(value) {\n        return value;\n    }\n    update(part, [value]) {\n        if (value === _lit_html_js__WEBPACK_IMPORTED_MODULE_0__.noChange || value === _lit_html_js__WEBPACK_IMPORTED_MODULE_0__.nothing) {\n            return value;\n        }\n        const element = part.element;\n        const name = part.name;\n        if (part.type === _directive_js__WEBPACK_IMPORTED_MODULE_1__.PartType.PROPERTY) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (value === element[name]) {\n                return _lit_html_js__WEBPACK_IMPORTED_MODULE_0__.noChange;\n            }\n        }\n        else if (part.type === _directive_js__WEBPACK_IMPORTED_MODULE_1__.PartType.BOOLEAN_ATTRIBUTE) {\n            if (!!value === element.hasAttribute(name)) {\n                return _lit_html_js__WEBPACK_IMPORTED_MODULE_0__.noChange;\n            }\n        }\n        else if (part.type === _directive_js__WEBPACK_IMPORTED_MODULE_1__.PartType.ATTRIBUTE) {\n            if (element.getAttribute(name) === String(value)) {\n                return _lit_html_js__WEBPACK_IMPORTED_MODULE_0__.noChange;\n            }\n        }\n        // Resets the part's value, causing its dirty-check to fail so that it\n        // always sets the value.\n        (0,_directive_helpers_js__WEBPACK_IMPORTED_MODULE_2__.setCommittedValue)(part);\n        return value;\n    }\n}\n/**\n * Checks binding values against live DOM values, instead of previously bound\n * values, when determining whether to update the value.\n *\n * This is useful for cases where the DOM value may change from outside of\n * lit-html, such as with a binding to an `<input>` element's `value` property,\n * a content editable elements text, or to a custom element that changes it's\n * own properties or attributes.\n *\n * In these cases if the DOM value changes, but the value set through lit-html\n * bindings hasn't, lit-html won't know to update the DOM value and will leave\n * it alone. If this is not what you want--if you want to overwrite the DOM\n * value with the bound value no matter what--use the `live()` directive:\n *\n * ```js\n * html`<input .value=${live(x)}>`\n * ```\n *\n * `live()` performs a strict equality check against the live DOM value, and if\n * the new value is equal to the live value, does nothing. This means that\n * `live()` should not be used when the binding will cause a type conversion. If\n * you use `live()` with an attribute binding, make sure that only strings are\n * passed in, or the binding will update every render.\n */\nconst live = (0,_directive_js__WEBPACK_IMPORTED_MODULE_1__.directive)(LiveDirective);\n//# sourceMappingURL=live.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit-html/development/directives/live.js?\n}")},"./node_modules/lit-html/development/directives/map.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   map: () => (/* binding */ map)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * Returns an iterable containing the result of calling `f(value)` on each\n * value in `items`.\n *\n * @example\n *\n * ```ts\n * render() {\n *   return html`\n *     <ul>\n *       ${map(items, (i) => html`<li>${i}</li>`)}\n *     </ul>\n *   `;\n * }\n * ```\n */\nfunction* map(items, f) {\n    if (items !== undefined) {\n        let i = 0;\n        for (const value of items) {\n            yield f(value, i++);\n        }\n    }\n}\n//# sourceMappingURL=map.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit-html/development/directives/map.js?\n}")},"./node_modules/lit-html/development/directives/ref.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createRef: () => (/* binding */ createRef),\n/* harmony export */   ref: () => (/* binding */ ref)\n/* harmony export */ });\n/* harmony import */ var _lit_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lit-html.js */ \"./node_modules/lit-html/development/lit-html.js\");\n/* harmony import */ var _async_directive_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../async-directive.js */ \"./node_modules/lit-html/development/async-directive.js\");\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n\n/**\n * Creates a new Ref object, which is container for a reference to an element.\n */\nconst createRef = () => new Ref();\n/**\n * An object that holds a ref value.\n */\nclass Ref {\n}\n// When callbacks are used for refs, this map tracks the last value the callback\n// was called with, for ensuring a directive doesn't clear the ref if the ref\n// has already been rendered to a new spot. It is double-keyed on both the\n// context (`options.host`) and the callback, since we auto-bind class methods\n// to `options.host`.\nconst lastElementForContextAndCallback = new WeakMap();\nclass RefDirective extends _async_directive_js__WEBPACK_IMPORTED_MODULE_1__.AsyncDirective {\n    render(_ref) {\n        return _lit_html_js__WEBPACK_IMPORTED_MODULE_0__.nothing;\n    }\n    update(part, [ref]) {\n        const refChanged = ref !== this._ref;\n        if (refChanged && this._ref !== undefined) {\n            // The ref passed to the directive has changed;\n            // unset the previous ref's value\n            this._updateRefValue(undefined);\n        }\n        if (refChanged || this._lastElementForRef !== this._element) {\n            // We either got a new ref or this is the first render;\n            // store the ref/element & update the ref value\n            this._ref = ref;\n            this._context = part.options?.host;\n            this._updateRefValue((this._element = part.element));\n        }\n        return _lit_html_js__WEBPACK_IMPORTED_MODULE_0__.nothing;\n    }\n    _updateRefValue(element) {\n        if (!this.isConnected) {\n            element = undefined;\n        }\n        if (typeof this._ref === 'function') {\n            // If the current ref was called with a previous value, call with\n            // `undefined`; We do this to ensure callbacks are called in a consistent\n            // way regardless of whether a ref might be moving up in the tree (in\n            // which case it would otherwise be called with the new value before the\n            // previous one unsets it) and down in the tree (where it would be unset\n            // before being set). Note that element lookup is keyed by\n            // both the context and the callback, since we allow passing unbound\n            // functions that are called on options.host, and we want to treat\n            // these as unique \"instances\" of a function.\n            const context = this._context ?? globalThis;\n            let lastElementForCallback = lastElementForContextAndCallback.get(context);\n            if (lastElementForCallback === undefined) {\n                lastElementForCallback = new WeakMap();\n                lastElementForContextAndCallback.set(context, lastElementForCallback);\n            }\n            if (lastElementForCallback.get(this._ref) !== undefined) {\n                this._ref.call(this._context, undefined);\n            }\n            lastElementForCallback.set(this._ref, element);\n            // Call the ref with the new element value\n            if (element !== undefined) {\n                this._ref.call(this._context, element);\n            }\n        }\n        else {\n            this._ref.value = element;\n        }\n    }\n    get _lastElementForRef() {\n        return typeof this._ref === 'function'\n            ? lastElementForContextAndCallback\n                .get(this._context ?? globalThis)\n                ?.get(this._ref)\n            : this._ref?.value;\n    }\n    disconnected() {\n        // Only clear the box if our element is still the one in it (i.e. another\n        // directive instance hasn't rendered its element to it before us); that\n        // only happens in the event of the directive being cleared (not via manual\n        // disconnection)\n        if (this._lastElementForRef === this._element) {\n            this._updateRefValue(undefined);\n        }\n    }\n    reconnected() {\n        // If we were manually disconnected, we can safely put our element back in\n        // the box, since no rendering could have occurred to change its state\n        this._updateRefValue(this._element);\n    }\n}\n/**\n * Sets the value of a Ref object or calls a ref callback with the element it's\n * bound to.\n *\n * A Ref object acts as a container for a reference to an element. A ref\n * callback is a function that takes an element as its only argument.\n *\n * The ref directive sets the value of the Ref object or calls the ref callback\n * during rendering, if the referenced element changed.\n *\n * Note: If a ref callback is rendered to a different element position or is\n * removed in a subsequent render, it will first be called with `undefined`,\n * followed by another call with the new element it was rendered to (if any).\n *\n * ```js\n * // Using Ref object\n * const inputRef = createRef();\n * render(html`<input ${ref(inputRef)}>`, container);\n * inputRef.value.focus();\n *\n * // Using callback\n * const callback = (inputElement) => inputElement.focus();\n * render(html`<input ${ref(callback)}>`, container);\n * ```\n */\nconst ref = (0,_async_directive_js__WEBPACK_IMPORTED_MODULE_1__.directive)(RefDirective);\n//# sourceMappingURL=ref.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit-html/development/directives/ref.js?\n}")},"./node_modules/lit-html/development/directives/style-map.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   styleMap: () => (/* binding */ styleMap)\n/* harmony export */ });\n/* harmony import */ var _lit_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lit-html.js */ \"./node_modules/lit-html/development/lit-html.js\");\n/* harmony import */ var _directive_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../directive.js */ \"./node_modules/lit-html/development/directive.js\");\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n\nconst important = 'important';\n// The leading space is important\nconst importantFlag = ' !' + important;\n// How many characters to remove from a value, as a negative number\nconst flagTrim = 0 - importantFlag.length;\nclass StyleMapDirective extends _directive_js__WEBPACK_IMPORTED_MODULE_1__.Directive {\n    constructor(partInfo) {\n        super(partInfo);\n        if (partInfo.type !== _directive_js__WEBPACK_IMPORTED_MODULE_1__.PartType.ATTRIBUTE ||\n            partInfo.name !== 'style' ||\n            partInfo.strings?.length > 2) {\n            throw new Error('The `styleMap` directive must be used in the `style` attribute ' +\n                'and must be the only part in the attribute.');\n        }\n    }\n    render(styleInfo) {\n        return Object.keys(styleInfo).reduce((style, prop) => {\n            const value = styleInfo[prop];\n            if (value == null) {\n                return style;\n            }\n            // Convert property names from camel-case to dash-case, i.e.:\n            //  `backgroundColor` -> `background-color`\n            // Vendor-prefixed names need an extra `-` appended to front:\n            //  `webkitAppearance` -> `-webkit-appearance`\n            // Exception is any property name containing a dash, including\n            // custom properties; we assume these are already dash-cased i.e.:\n            //  `--my-button-color` --\x3e `--my-button-color`\n            prop = prop.includes('-')\n                ? prop\n                : prop\n                    .replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g, '-$&')\n                    .toLowerCase();\n            return style + `${prop}:${value};`;\n        }, '');\n    }\n    update(part, [styleInfo]) {\n        const { style } = part.element;\n        if (this._previousStyleProperties === undefined) {\n            this._previousStyleProperties = new Set(Object.keys(styleInfo));\n            return this.render(styleInfo);\n        }\n        // Remove old properties that no longer exist in styleInfo\n        for (const name of this._previousStyleProperties) {\n            // If the name isn't in styleInfo or it's null/undefined\n            if (styleInfo[name] == null) {\n                this._previousStyleProperties.delete(name);\n                if (name.includes('-')) {\n                    style.removeProperty(name);\n                }\n                else {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    style[name] = null;\n                }\n            }\n        }\n        // Add or update properties\n        for (const name in styleInfo) {\n            const value = styleInfo[name];\n            if (value != null) {\n                this._previousStyleProperties.add(name);\n                const isImportant = typeof value === 'string' && value.endsWith(importantFlag);\n                if (name.includes('-') || isImportant) {\n                    style.setProperty(name, isImportant\n                        ? value.slice(0, flagTrim)\n                        : value, isImportant ? important : '');\n                }\n                else {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    style[name] = value;\n                }\n            }\n        }\n        return _lit_html_js__WEBPACK_IMPORTED_MODULE_0__.noChange;\n    }\n}\n/**\n * A directive that applies CSS properties to an element.\n *\n * `styleMap` can only be used in the `style` attribute and must be the only\n * expression in the attribute. It takes the property names in the\n * {@link StyleInfo styleInfo} object and adds the properties to the inline\n * style of the element.\n *\n * Property names with dashes (`-`) are assumed to be valid CSS\n * property names and set on the element's style object using `setProperty()`.\n * Names without dashes are assumed to be camelCased JavaScript property names\n * and set on the element's style object using property assignment, allowing the\n * style object to translate JavaScript-style names to CSS property names.\n *\n * For example `styleMap({backgroundColor: 'red', 'border-top': '5px', '--size':\n * '0'})` sets the `background-color`, `border-top` and `--size` properties.\n *\n * @param styleInfo\n * @see {@link https://lit.dev/docs/templates/directives/#stylemap styleMap code samples on Lit.dev}\n */\nconst styleMap = (0,_directive_js__WEBPACK_IMPORTED_MODULE_1__.directive)(StyleMapDirective);\n//# sourceMappingURL=style-map.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit-html/development/directives/style-map.js?\n}")},"./node_modules/lit-html/development/directives/unsafe-html.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UnsafeHTMLDirective: () => (/* binding */ UnsafeHTMLDirective)\n/* harmony export */ });\n/* unused harmony export unsafeHTML */\n/* harmony import */ var _lit_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lit-html.js */ \"./node_modules/lit-html/development/lit-html.js\");\n/* harmony import */ var _directive_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../directive.js */ \"./node_modules/lit-html/development/directive.js\");\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n\nconst HTML_RESULT = 1;\nclass UnsafeHTMLDirective extends _directive_js__WEBPACK_IMPORTED_MODULE_1__.Directive {\n    constructor(partInfo) {\n        super(partInfo);\n        this._value = _lit_html_js__WEBPACK_IMPORTED_MODULE_0__.nothing;\n        if (partInfo.type !== _directive_js__WEBPACK_IMPORTED_MODULE_1__.PartType.CHILD) {\n            throw new Error(`${this.constructor.directiveName}() can only be used in child bindings`);\n        }\n    }\n    render(value) {\n        if (value === _lit_html_js__WEBPACK_IMPORTED_MODULE_0__.nothing || value == null) {\n            this._templateResult = undefined;\n            return (this._value = value);\n        }\n        if (value === _lit_html_js__WEBPACK_IMPORTED_MODULE_0__.noChange) {\n            return value;\n        }\n        if (typeof value != 'string') {\n            throw new Error(`${this.constructor.directiveName}() called with a non-string value`);\n        }\n        if (value === this._value) {\n            return this._templateResult;\n        }\n        this._value = value;\n        const strings = [value];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        strings.raw = strings;\n        // WARNING: impersonating a TemplateResult like this is extremely\n        // dangerous. Third-party directives should not do this.\n        return (this._templateResult = {\n            // Cast to a known set of integers that satisfy ResultType so that we\n            // don't have to export ResultType and possibly encourage this pattern.\n            // This property needs to remain unminified.\n            ['_$litType$']: this.constructor\n                .resultType,\n            strings,\n            values: [],\n        });\n    }\n}\nUnsafeHTMLDirective.directiveName = 'unsafeHTML';\nUnsafeHTMLDirective.resultType = HTML_RESULT;\n/**\n * Renders the result as HTML, rather than text.\n *\n * The values `undefined`, `null`, and `nothing`, will all result in no content\n * (empty string) being rendered.\n *\n * Note, this is unsafe to use with any user-provided input that hasn't been\n * sanitized or escaped, as it may lead to cross-site-scripting\n * vulnerabilities.\n */\nconst unsafeHTML = (0,_directive_js__WEBPACK_IMPORTED_MODULE_1__.directive)(UnsafeHTMLDirective);\n//# sourceMappingURL=unsafe-html.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit-html/development/directives/unsafe-html.js?\n}")},"./node_modules/lit-html/development/directives/unsafe-svg.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   unsafeSVG: () => (/* binding */ unsafeSVG)\n/* harmony export */ });\n/* harmony import */ var _directive_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../directive.js */ "./node_modules/lit-html/development/directive.js");\n/* harmony import */ var _unsafe_html_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./unsafe-html.js */ "./node_modules/lit-html/development/directives/unsafe-html.js");\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n\nconst SVG_RESULT = 2;\nclass UnsafeSVGDirective extends _unsafe_html_js__WEBPACK_IMPORTED_MODULE_1__.UnsafeHTMLDirective {\n}\nUnsafeSVGDirective.directiveName = \'unsafeSVG\';\nUnsafeSVGDirective.resultType = SVG_RESULT;\n/**\n * Renders the result as SVG, rather than text.\n *\n * The values `undefined`, `null`, and `nothing`, will all result in no content\n * (empty string) being rendered.\n *\n * Note, this is unsafe to use with any user-provided input that hasn\'t been\n * sanitized or escaped, as it may lead to cross-site-scripting\n * vulnerabilities.\n */\nconst unsafeSVG = (0,_directive_js__WEBPACK_IMPORTED_MODULE_0__.directive)(UnsafeSVGDirective);\n//# sourceMappingURL=unsafe-svg.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit-html/development/directives/unsafe-svg.js?\n}')},"./node_modules/lit-html/development/directives/when.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   when: () => (/* binding */ when)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nfunction when(condition, trueCase, falseCase) {\n    return condition ? trueCase(condition) : falseCase?.(condition);\n}\n//# sourceMappingURL=when.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit-html/development/directives/when.js?\n}")},"./node_modules/lit-html/development/is-server.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* unused harmony export isServer */\n/**\n * @license\n * Copyright 2022 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * @fileoverview\n *\n * This file exports a boolean const whose value will depend on what environment\n * the module is being imported from.\n */\nconst NODE_MODE = false;\n/**\n * A boolean that will be `true` in server environments like Node, and `false`\n * in browser environments. Note that your server environment or toolchain must\n * support the `"node"` export condition for this to be `true`.\n *\n * This can be used when authoring components to change behavior based on\n * whether or not the component is executing in an SSR context.\n */\nconst isServer = NODE_MODE;\n//# sourceMappingURL=is-server.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit-html/development/is-server.js?\n}')},"./node_modules/lit-html/development/lit-html.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _$LH: () => (/* binding */ _$LH),\n/* harmony export */   html: () => (/* binding */ html),\n/* harmony export */   noChange: () => (/* binding */ noChange),\n/* harmony export */   nothing: () => (/* binding */ nothing),\n/* harmony export */   render: () => (/* binding */ render),\n/* harmony export */   svg: () => (/* binding */ svg)\n/* harmony export */ });\n/* unused harmony export mathml */\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst DEV_MODE = true;\nconst ENABLE_EXTRA_SECURITY_HOOKS = true;\nconst ENABLE_SHADYDOM_NOPATCH = true;\nconst NODE_MODE = false;\n// Allows minifiers to rename references to globalThis\nconst global = globalThis;\n/**\n * Useful for visualizing and logging insights into what the Lit template system is doing.\n *\n * Compiled out of prod mode builds.\n */\nconst debugLogEvent = DEV_MODE\n    ? (event) => {\n        const shouldEmit = global\n            .emitLitDebugLogEvents;\n        if (!shouldEmit) {\n            return;\n        }\n        global.dispatchEvent(new CustomEvent('lit-debug', {\n            detail: event,\n        }));\n    }\n    : undefined;\n// Used for connecting beginRender and endRender events when there are nested\n// renders when errors are thrown preventing an endRender event from being\n// called.\nlet debugLogRenderId = 0;\nlet issueWarning;\nif (DEV_MODE) {\n    global.litIssuedWarnings ??= new Set();\n    /**\n     * Issue a warning if we haven't already, based either on `code` or `warning`.\n     * Warnings are disabled automatically only by `warning`; disabling via `code`\n     * can be done by users.\n     */\n    issueWarning = (code, warning) => {\n        warning += code\n            ? ` See https://lit.dev/msg/${code} for more information.`\n            : '';\n        if (!global.litIssuedWarnings.has(warning) &&\n            !global.litIssuedWarnings.has(code)) {\n            console.warn(warning);\n            global.litIssuedWarnings.add(warning);\n        }\n    };\n    queueMicrotask(() => {\n        issueWarning('dev-mode', `Lit is in dev mode. Not recommended for production!`);\n    });\n}\nconst wrap = ENABLE_SHADYDOM_NOPATCH &&\n    global.ShadyDOM?.inUse &&\n    global.ShadyDOM?.noPatch === true\n    ? global.ShadyDOM.wrap\n    : (node) => node;\nconst trustedTypes = global.trustedTypes;\n/**\n * Our TrustedTypePolicy for HTML which is declared using the html template\n * tag function.\n *\n * That HTML is a developer-authored constant, and is parsed with innerHTML\n * before any untrusted expressions have been mixed in. Therefor it is\n * considered safe by construction.\n */\nconst policy = trustedTypes\n    ? trustedTypes.createPolicy('lit-html', {\n        createHTML: (s) => s,\n    })\n    : undefined;\nconst identityFunction = (value) => value;\nconst noopSanitizer = (_node, _name, _type) => identityFunction;\n/** Sets the global sanitizer factory. */\nconst setSanitizer = (newSanitizer) => {\n    if (!ENABLE_EXTRA_SECURITY_HOOKS) {\n        return;\n    }\n    if (sanitizerFactoryInternal !== noopSanitizer) {\n        throw new Error(`Attempted to overwrite existing lit-html security policy.` +\n            ` setSanitizeDOMValueFactory should be called at most once.`);\n    }\n    sanitizerFactoryInternal = newSanitizer;\n};\n/**\n * Only used in internal tests, not a part of the public API.\n */\nconst _testOnlyClearSanitizerFactoryDoNotCallOrElse = () => {\n    sanitizerFactoryInternal = noopSanitizer;\n};\nconst createSanitizer = (node, name, type) => {\n    return sanitizerFactoryInternal(node, name, type);\n};\n// Added to an attribute name to mark the attribute as bound so we can find\n// it easily.\nconst boundAttributeSuffix = '$lit$';\n// This marker is used in many syntactic positions in HTML, so it must be\n// a valid element name and attribute name. We don't support dynamic names (yet)\n// but this at least ensures that the parse tree is closer to the template\n// intention.\nconst marker = `lit$${Math.random().toFixed(9).slice(2)}$`;\n// String used to tell if a comment is a marker comment\nconst markerMatch = '?' + marker;\n// Text used to insert a comment marker node. We use processing instruction\n// syntax because it's slightly smaller, but parses as a comment node.\nconst nodeMarker = `<${markerMatch}>`;\nconst d = NODE_MODE && global.document === undefined\n    ? {\n        createTreeWalker() {\n            return {};\n        },\n    }\n    : document;\n// Creates a dynamic marker. We never have to search for these in the DOM.\nconst createMarker = () => d.createComment('');\nconst isPrimitive = (value) => value === null || (typeof value != 'object' && typeof value != 'function');\nconst isArray = Array.isArray;\nconst isIterable = (value) => isArray(value) ||\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    typeof value?.[Symbol.iterator] === 'function';\nconst SPACE_CHAR = `[ \\t\\n\\f\\r]`;\nconst ATTR_VALUE_CHAR = `[^ \\t\\n\\f\\r\"'\\`<>=]`;\nconst NAME_CHAR = `[^\\\\s\"'>=/]`;\n// These regexes represent the five parsing states that we care about in the\n// Template's HTML scanner. They match the *end* of the state they're named\n// after.\n// Depending on the match, we transition to a new state. If there's no match,\n// we stay in the same state.\n// Note that the regexes are stateful. We utilize lastIndex and sync it\n// across the multiple regexes used. In addition to the five regexes below\n// we also dynamically create a regex to find the matching end tags for raw\n// text elements.\n/**\n * End of text is: `<` followed by:\n *   (comment start) or (tag) or (dynamic tag binding)\n */\nconst textEndRegex = /<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g;\nconst COMMENT_START = 1;\nconst TAG_NAME = 2;\nconst DYNAMIC_TAG_NAME = 3;\nconst commentEndRegex = /--\x3e/g;\n/**\n * Comments not started with \x3c!--, like </{, can be ended by a single `>`\n */\nconst comment2EndRegex = />/g;\n/**\n * The tagEnd regex matches the end of the \"inside an opening\" tag syntax\n * position. It either matches a `>`, an attribute-like sequence, or the end\n * of the string after a space (attribute-name position ending).\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\t\\n\\f\\r\" are HTML space characters:\n * https://infra.spec.whatwg.org/#ascii-whitespace\n *\n * So an attribute is:\n *  * The name: any character except a whitespace character, (\"), ('), \">\",\n *    \"=\", or \"/\". Note: this is different from the HTML spec which also excludes control characters.\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nconst tagEndRegex = new RegExp(`>|${SPACE_CHAR}(?:(${NAME_CHAR}+)(${SPACE_CHAR}*=${SPACE_CHAR}*(?:${ATTR_VALUE_CHAR}|(\"|')|))|$)`, 'g');\nconst ENTIRE_MATCH = 0;\nconst ATTRIBUTE_NAME = 1;\nconst SPACES_AND_EQUALS = 2;\nconst QUOTE_CHAR = 3;\nconst singleQuoteAttrEndRegex = /'/g;\nconst doubleQuoteAttrEndRegex = /\"/g;\n/**\n * Matches the raw text elements.\n *\n * Comments are not parsed within raw text elements, so we need to search their\n * text content for marker strings.\n */\nconst rawTextElement = /^(?:script|style|textarea|title)$/i;\n/** TemplateResult types */\nconst HTML_RESULT = 1;\nconst SVG_RESULT = 2;\nconst MATHML_RESULT = 3;\n// TemplatePart types\n// IMPORTANT: these must match the values in PartType\nconst ATTRIBUTE_PART = 1;\nconst CHILD_PART = 2;\nconst PROPERTY_PART = 3;\nconst BOOLEAN_ATTRIBUTE_PART = 4;\nconst EVENT_PART = 5;\nconst ELEMENT_PART = 6;\nconst COMMENT_PART = 7;\n/**\n * Generates a template literal tag function that returns a TemplateResult with\n * the given result type.\n */\nconst tag = (type) => (strings, ...values) => {\n    // Warn against templates octal escape sequences\n    // We do this here rather than in render so that the warning is closer to the\n    // template definition.\n    if (DEV_MODE && strings.some((s) => s === undefined)) {\n        console.warn('Some template strings are undefined.\\n' +\n            'This is probably caused by illegal octal escape sequences.');\n    }\n    if (DEV_MODE) {\n        // Import static-html.js results in a circular dependency which g3 doesn't\n        // handle. Instead we know that static values must have the field\n        // `_$litStatic$`.\n        if (values.some((val) => val?.['_$litStatic$'])) {\n            issueWarning('', `Static values 'literal' or 'unsafeStatic' cannot be used as values to non-static templates.\\n` +\n                `Please use the static 'html' tag function. See https://lit.dev/docs/templates/expressions/#static-expressions`);\n        }\n    }\n    return {\n        // This property needs to remain unminified.\n        ['_$litType$']: type,\n        strings,\n        values,\n    };\n};\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n *\n * ```ts\n * const header = (title: string) => html`<h1>${title}</h1>`;\n * ```\n *\n * The `html` tag returns a description of the DOM to render as a value. It is\n * lazy, meaning no work is done until the template is rendered. When rendering,\n * if a template comes from the same expression as a previously rendered result,\n * it's efficiently updated instead of replaced.\n */\nconst html = tag(HTML_RESULT);\n/**\n * Interprets a template literal as an SVG fragment that can efficiently render\n * to and update a container.\n *\n * ```ts\n * const rect = svg`<rect width=\"10\" height=\"10\"></rect>`;\n *\n * const myImage = html`\n *   <svg viewBox=\"0 0 10 10\" xmlns=\"http://www.w3.org/2000/svg\">\n *     ${rect}\n *   </svg>`;\n * ```\n *\n * The `svg` *tag function* should only be used for SVG fragments, or elements\n * that would be contained **inside** an `<svg>` HTML element. A common error is\n * placing an `<svg>` *element* in a template tagged with the `svg` tag\n * function. The `<svg>` element is an HTML element and should be used within a\n * template tagged with the {@linkcode html} tag function.\n *\n * In LitElement usage, it's invalid to return an SVG fragment from the\n * `render()` method, as the SVG fragment will be contained within the element's\n * shadow root and thus not be properly contained within an `<svg>` HTML\n * element.\n */\nconst svg = tag(SVG_RESULT);\n/**\n * Interprets a template literal as MathML fragment that can efficiently render\n * to and update a container.\n *\n * ```ts\n * const num = mathml`<mn>1</mn>`;\n *\n * const eq = html`\n *   <math>\n *     ${num}\n *   </math>`;\n * ```\n *\n * The `mathml` *tag function* should only be used for MathML fragments, or\n * elements that would be contained **inside** a `<math>` HTML element. A common\n * error is placing a `<math>` *element* in a template tagged with the `mathml`\n * tag function. The `<math>` element is an HTML element and should be used\n * within a template tagged with the {@linkcode html} tag function.\n *\n * In LitElement usage, it's invalid to return an MathML fragment from the\n * `render()` method, as the MathML fragment will be contained within the\n * element's shadow root and thus not be properly contained within a `<math>`\n * HTML element.\n */\nconst mathml = tag(MATHML_RESULT);\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nconst noChange = Symbol.for('lit-noChange');\n/**\n * A sentinel value that signals a ChildPart to fully clear its content.\n *\n * ```ts\n * const button = html`${\n *  user.isAdmin\n *    ? html`<button>DELETE</button>`\n *    : nothing\n * }`;\n * ```\n *\n * Prefer using `nothing` over other falsy values as it provides a consistent\n * behavior between various expression binding contexts.\n *\n * In child expressions, `undefined`, `null`, `''`, and `nothing` all behave the\n * same and render no nodes. In attribute expressions, `nothing` _removes_ the\n * attribute, while `undefined` and `null` will render an empty string. In\n * property expressions `nothing` becomes `undefined`.\n */\nconst nothing = Symbol.for('lit-nothing');\n/**\n * The cache of prepared templates, keyed by the tagged TemplateStringsArray\n * and _not_ accounting for the specific template tag used. This means that\n * template tags cannot be dynamic - they must statically be one of html, svg,\n * or attr. This restriction simplifies the cache lookup, which is on the hot\n * path for rendering.\n */\nconst templateCache = new WeakMap();\nconst walker = d.createTreeWalker(d, 129 /* NodeFilter.SHOW_{ELEMENT|COMMENT} */);\nlet sanitizerFactoryInternal = noopSanitizer;\nfunction trustFromTemplateString(tsa, stringFromTSA) {\n    // A security check to prevent spoofing of Lit template results.\n    // In the future, we may be able to replace this with Array.isTemplateObject,\n    // though we might need to make that check inside of the html and svg\n    // functions, because precompiled templates don't come in as\n    // TemplateStringArray objects.\n    if (!isArray(tsa) || !tsa.hasOwnProperty('raw')) {\n        let message = 'invalid template strings array';\n        if (DEV_MODE) {\n            message = `\n          Internal Error: expected template strings to be an array\n          with a 'raw' field. Faking a template strings array by\n          calling html or svg like an ordinary function is effectively\n          the same as calling unsafeHtml and can lead to major security\n          issues, e.g. opening your code up to XSS attacks.\n          If you're using the html or svg tagged template functions normally\n          and still seeing this error, please file a bug at\n          https://github.com/lit/lit/issues/new?template=bug_report.md\n          and include information about your build tooling, if any.\n        `\n                .trim()\n                .replace(/\\n */g, '\\n');\n        }\n        throw new Error(message);\n    }\n    return policy !== undefined\n        ? policy.createHTML(stringFromTSA)\n        : stringFromTSA;\n}\n/**\n * Returns an HTML string for the given TemplateStringsArray and result type\n * (HTML or SVG), along with the case-sensitive bound attribute names in\n * template order. The HTML contains comment markers denoting the `ChildPart`s\n * and suffixes on bound attributes denoting the `AttributeParts`.\n *\n * @param strings template strings array\n * @param type HTML or SVG\n * @return Array containing `[html, attrNames]` (array returned for terseness,\n *     to avoid object fields since this code is shared with non-minified SSR\n *     code)\n */\nconst getTemplateHtml = (strings, type) => {\n    // Insert makers into the template HTML to represent the position of\n    // bindings. The following code scans the template strings to determine the\n    // syntactic position of the bindings. They can be in text position, where\n    // we insert an HTML comment, attribute value position, where we insert a\n    // sentinel string and re-write the attribute name, or inside a tag where\n    // we insert the sentinel string.\n    const l = strings.length - 1;\n    // Stores the case-sensitive bound attribute names in the order of their\n    // parts. ElementParts are also reflected in this array as undefined\n    // rather than a string, to disambiguate from attribute bindings.\n    const attrNames = [];\n    let html = type === SVG_RESULT ? '<svg>' : type === MATHML_RESULT ? '<math>' : '';\n    // When we're inside a raw text tag (not it's text content), the regex\n    // will still be tagRegex so we can find attributes, but will switch to\n    // this regex when the tag ends.\n    let rawTextEndRegex;\n    // The current parsing state, represented as a reference to one of the\n    // regexes\n    let regex = textEndRegex;\n    for (let i = 0; i < l; i++) {\n        const s = strings[i];\n        // The index of the end of the last attribute name. When this is\n        // positive at end of a string, it means we're in an attribute value\n        // position and need to rewrite the attribute name.\n        // We also use a special value of -2 to indicate that we encountered\n        // the end of a string in attribute name position.\n        let attrNameEndIndex = -1;\n        let attrName;\n        let lastIndex = 0;\n        let match;\n        // The conditions in this loop handle the current parse state, and the\n        // assignments to the `regex` variable are the state transitions.\n        while (lastIndex < s.length) {\n            // Make sure we start searching from where we previously left off\n            regex.lastIndex = lastIndex;\n            match = regex.exec(s);\n            if (match === null) {\n                break;\n            }\n            lastIndex = regex.lastIndex;\n            if (regex === textEndRegex) {\n                if (match[COMMENT_START] === '!--') {\n                    regex = commentEndRegex;\n                }\n                else if (match[COMMENT_START] !== undefined) {\n                    // We started a weird comment, like </{\n                    regex = comment2EndRegex;\n                }\n                else if (match[TAG_NAME] !== undefined) {\n                    if (rawTextElement.test(match[TAG_NAME])) {\n                        // Record if we encounter a raw-text element. We'll switch to\n                        // this regex at the end of the tag.\n                        rawTextEndRegex = new RegExp(`</${match[TAG_NAME]}`, 'g');\n                    }\n                    regex = tagEndRegex;\n                }\n                else if (match[DYNAMIC_TAG_NAME] !== undefined) {\n                    if (DEV_MODE) {\n                        throw new Error('Bindings in tag names are not supported. Please use static templates instead. ' +\n                            'See https://lit.dev/docs/templates/expressions/#static-expressions');\n                    }\n                    regex = tagEndRegex;\n                }\n            }\n            else if (regex === tagEndRegex) {\n                if (match[ENTIRE_MATCH] === '>') {\n                    // End of a tag. If we had started a raw-text element, use that\n                    // regex\n                    regex = rawTextEndRegex ?? textEndRegex;\n                    // We may be ending an unquoted attribute value, so make sure we\n                    // clear any pending attrNameEndIndex\n                    attrNameEndIndex = -1;\n                }\n                else if (match[ATTRIBUTE_NAME] === undefined) {\n                    // Attribute name position\n                    attrNameEndIndex = -2;\n                }\n                else {\n                    attrNameEndIndex = regex.lastIndex - match[SPACES_AND_EQUALS].length;\n                    attrName = match[ATTRIBUTE_NAME];\n                    regex =\n                        match[QUOTE_CHAR] === undefined\n                            ? tagEndRegex\n                            : match[QUOTE_CHAR] === '\"'\n                                ? doubleQuoteAttrEndRegex\n                                : singleQuoteAttrEndRegex;\n                }\n            }\n            else if (regex === doubleQuoteAttrEndRegex ||\n                regex === singleQuoteAttrEndRegex) {\n                regex = tagEndRegex;\n            }\n            else if (regex === commentEndRegex || regex === comment2EndRegex) {\n                regex = textEndRegex;\n            }\n            else {\n                // Not one of the five state regexes, so it must be the dynamically\n                // created raw text regex and we're at the close of that element.\n                regex = tagEndRegex;\n                rawTextEndRegex = undefined;\n            }\n        }\n        if (DEV_MODE) {\n            // If we have a attrNameEndIndex, which indicates that we should\n            // rewrite the attribute name, assert that we're in a valid attribute\n            // position - either in a tag, or a quoted attribute value.\n            console.assert(attrNameEndIndex === -1 ||\n                regex === tagEndRegex ||\n                regex === singleQuoteAttrEndRegex ||\n                regex === doubleQuoteAttrEndRegex, 'unexpected parse state B');\n        }\n        // We have four cases:\n        //  1. We're in text position, and not in a raw text element\n        //     (regex === textEndRegex): insert a comment marker.\n        //  2. We have a non-negative attrNameEndIndex which means we need to\n        //     rewrite the attribute name to add a bound attribute suffix.\n        //  3. We're at the non-first binding in a multi-binding attribute, use a\n        //     plain marker.\n        //  4. We're somewhere else inside the tag. If we're in attribute name\n        //     position (attrNameEndIndex === -2), add a sequential suffix to\n        //     generate a unique attribute name.\n        // Detect a binding next to self-closing tag end and insert a space to\n        // separate the marker from the tag end:\n        const end = regex === tagEndRegex && strings[i + 1].startsWith('/>') ? ' ' : '';\n        html +=\n            regex === textEndRegex\n                ? s + nodeMarker\n                : attrNameEndIndex >= 0\n                    ? (attrNames.push(attrName),\n                        s.slice(0, attrNameEndIndex) +\n                            boundAttributeSuffix +\n                            s.slice(attrNameEndIndex)) +\n                        marker +\n                        end\n                    : s + marker + (attrNameEndIndex === -2 ? i : end);\n    }\n    const htmlResult = html +\n        (strings[l] || '<?>') +\n        (type === SVG_RESULT ? '</svg>' : type === MATHML_RESULT ? '</math>' : '');\n    // Returned as an array for terseness\n    return [trustFromTemplateString(strings, htmlResult), attrNames];\n};\nclass Template {\n    constructor(\n    // This property needs to remain unminified.\n    { strings, ['_$litType$']: type }, options) {\n        this.parts = [];\n        let node;\n        let nodeIndex = 0;\n        let attrNameIndex = 0;\n        const partCount = strings.length - 1;\n        const parts = this.parts;\n        // Create template element\n        const [html, attrNames] = getTemplateHtml(strings, type);\n        this.el = Template.createElement(html, options);\n        walker.currentNode = this.el.content;\n        // Re-parent SVG or MathML nodes into template root\n        if (type === SVG_RESULT || type === MATHML_RESULT) {\n            const wrapper = this.el.content.firstChild;\n            wrapper.replaceWith(...wrapper.childNodes);\n        }\n        // Walk the template to find binding markers and create TemplateParts\n        while ((node = walker.nextNode()) !== null && parts.length < partCount) {\n            if (node.nodeType === 1) {\n                if (DEV_MODE) {\n                    const tag = node.localName;\n                    // Warn if `textarea` includes an expression and throw if `template`\n                    // does since these are not supported. We do this by checking\n                    // innerHTML for anything that looks like a marker. This catches\n                    // cases like bindings in textarea there markers turn into text nodes.\n                    if (/^(?:textarea|template)$/i.test(tag) &&\n                        node.innerHTML.includes(marker)) {\n                        const m = `Expressions are not supported inside \\`${tag}\\` ` +\n                            `elements. See https://lit.dev/msg/expression-in-${tag} for more ` +\n                            `information.`;\n                        if (tag === 'template') {\n                            throw new Error(m);\n                        }\n                        else\n                            issueWarning('', m);\n                    }\n                }\n                // TODO (justinfagnani): for attempted dynamic tag names, we don't\n                // increment the bindingIndex, and it'll be off by 1 in the element\n                // and off by two after it.\n                if (node.hasAttributes()) {\n                    for (const name of node.getAttributeNames()) {\n                        if (name.endsWith(boundAttributeSuffix)) {\n                            const realName = attrNames[attrNameIndex++];\n                            const value = node.getAttribute(name);\n                            const statics = value.split(marker);\n                            const m = /([.?@])?(.*)/.exec(realName);\n                            parts.push({\n                                type: ATTRIBUTE_PART,\n                                index: nodeIndex,\n                                name: m[2],\n                                strings: statics,\n                                ctor: m[1] === '.'\n                                    ? PropertyPart\n                                    : m[1] === '?'\n                                        ? BooleanAttributePart\n                                        : m[1] === '@'\n                                            ? EventPart\n                                            : AttributePart,\n                            });\n                            node.removeAttribute(name);\n                        }\n                        else if (name.startsWith(marker)) {\n                            parts.push({\n                                type: ELEMENT_PART,\n                                index: nodeIndex,\n                            });\n                            node.removeAttribute(name);\n                        }\n                    }\n                }\n                // TODO (justinfagnani): benchmark the regex against testing for each\n                // of the 3 raw text element names.\n                if (rawTextElement.test(node.tagName)) {\n                    // For raw text elements we need to split the text content on\n                    // markers, create a Text node for each segment, and create\n                    // a TemplatePart for each marker.\n                    const strings = node.textContent.split(marker);\n                    const lastIndex = strings.length - 1;\n                    if (lastIndex > 0) {\n                        node.textContent = trustedTypes\n                            ? trustedTypes.emptyScript\n                            : '';\n                        // Generate a new text node for each literal section\n                        // These nodes are also used as the markers for child parts\n                        for (let i = 0; i < lastIndex; i++) {\n                            node.append(strings[i], createMarker());\n                            // Walk past the marker node we just added\n                            walker.nextNode();\n                            parts.push({ type: CHILD_PART, index: ++nodeIndex });\n                        }\n                        // Note because this marker is added after the walker's current\n                        // node, it will be walked to in the outer loop (and ignored), so\n                        // we don't need to adjust nodeIndex here\n                        node.append(strings[lastIndex], createMarker());\n                    }\n                }\n            }\n            else if (node.nodeType === 8) {\n                const data = node.data;\n                if (data === markerMatch) {\n                    parts.push({ type: CHILD_PART, index: nodeIndex });\n                }\n                else {\n                    let i = -1;\n                    while ((i = node.data.indexOf(marker, i + 1)) !== -1) {\n                        // Comment node has a binding marker inside, make an inactive part\n                        // The binding won't work, but subsequent bindings will\n                        parts.push({ type: COMMENT_PART, index: nodeIndex });\n                        // Move to the end of the match\n                        i += marker.length - 1;\n                    }\n                }\n            }\n            nodeIndex++;\n        }\n        if (DEV_MODE) {\n            // If there was a duplicate attribute on a tag, then when the tag is\n            // parsed into an element the attribute gets de-duplicated. We can detect\n            // this mismatch if we haven't precisely consumed every attribute name\n            // when preparing the template. This works because `attrNames` is built\n            // from the template string and `attrNameIndex` comes from processing the\n            // resulting DOM.\n            if (attrNames.length !== attrNameIndex) {\n                throw new Error(`Detected duplicate attribute bindings. This occurs if your template ` +\n                    `has duplicate attributes on an element tag. For example ` +\n                    `\"<input ?disabled=\\${true} ?disabled=\\${false}>\" contains a ` +\n                    `duplicate \"disabled\" attribute. The error was detected in ` +\n                    `the following template: \\n` +\n                    '`' +\n                    strings.join('${...}') +\n                    '`');\n            }\n        }\n        // We could set walker.currentNode to another node here to prevent a memory\n        // leak, but every time we prepare a template, we immediately render it\n        // and re-use the walker in new TemplateInstance._clone().\n        debugLogEvent &&\n            debugLogEvent({\n                kind: 'template prep',\n                template: this,\n                clonableTemplate: this.el,\n                parts: this.parts,\n                strings,\n            });\n    }\n    // Overridden via `litHtmlPolyfillSupport` to provide platform support.\n    /** @nocollapse */\n    static createElement(html, _options) {\n        const el = d.createElement('template');\n        el.innerHTML = html;\n        return el;\n    }\n}\nfunction resolveDirective(part, value, parent = part, attributeIndex) {\n    // Bail early if the value is explicitly noChange. Note, this means any\n    // nested directive is still attached and is not run.\n    if (value === noChange) {\n        return value;\n    }\n    let currentDirective = attributeIndex !== undefined\n        ? parent.__directives?.[attributeIndex]\n        : parent.__directive;\n    const nextDirectiveConstructor = isPrimitive(value)\n        ? undefined\n        : // This property needs to remain unminified.\n            value['_$litDirective$'];\n    if (currentDirective?.constructor !== nextDirectiveConstructor) {\n        // This property needs to remain unminified.\n        currentDirective?.['_$notifyDirectiveConnectionChanged']?.(false);\n        if (nextDirectiveConstructor === undefined) {\n            currentDirective = undefined;\n        }\n        else {\n            currentDirective = new nextDirectiveConstructor(part);\n            currentDirective._$initialize(part, parent, attributeIndex);\n        }\n        if (attributeIndex !== undefined) {\n            (parent.__directives ??= [])[attributeIndex] =\n                currentDirective;\n        }\n        else {\n            parent.__directive = currentDirective;\n        }\n    }\n    if (currentDirective !== undefined) {\n        value = resolveDirective(part, currentDirective._$resolve(part, value.values), currentDirective, attributeIndex);\n    }\n    return value;\n}\n/**\n * An updateable instance of a Template. Holds references to the Parts used to\n * update the template instance.\n */\nclass TemplateInstance {\n    constructor(template, parent) {\n        this._$parts = [];\n        /** @internal */\n        this._$disconnectableChildren = undefined;\n        this._$template = template;\n        this._$parent = parent;\n    }\n    // Called by ChildPart parentNode getter\n    get parentNode() {\n        return this._$parent.parentNode;\n    }\n    // See comment in Disconnectable interface for why this is a getter\n    get _$isConnected() {\n        return this._$parent._$isConnected;\n    }\n    // This method is separate from the constructor because we need to return a\n    // DocumentFragment and we don't want to hold onto it with an instance field.\n    _clone(options) {\n        const { el: { content }, parts: parts, } = this._$template;\n        const fragment = (options?.creationScope ?? d).importNode(content, true);\n        walker.currentNode = fragment;\n        let node = walker.nextNode();\n        let nodeIndex = 0;\n        let partIndex = 0;\n        let templatePart = parts[0];\n        while (templatePart !== undefined) {\n            if (nodeIndex === templatePart.index) {\n                let part;\n                if (templatePart.type === CHILD_PART) {\n                    part = new ChildPart(node, node.nextSibling, this, options);\n                }\n                else if (templatePart.type === ATTRIBUTE_PART) {\n                    part = new templatePart.ctor(node, templatePart.name, templatePart.strings, this, options);\n                }\n                else if (templatePart.type === ELEMENT_PART) {\n                    part = new ElementPart(node, this, options);\n                }\n                this._$parts.push(part);\n                templatePart = parts[++partIndex];\n            }\n            if (nodeIndex !== templatePart?.index) {\n                node = walker.nextNode();\n                nodeIndex++;\n            }\n        }\n        // We need to set the currentNode away from the cloned tree so that we\n        // don't hold onto the tree even if the tree is detached and should be\n        // freed.\n        walker.currentNode = d;\n        return fragment;\n    }\n    _update(values) {\n        let i = 0;\n        for (const part of this._$parts) {\n            if (part !== undefined) {\n                debugLogEvent &&\n                    debugLogEvent({\n                        kind: 'set part',\n                        part,\n                        value: values[i],\n                        valueIndex: i,\n                        values,\n                        templateInstance: this,\n                    });\n                if (part.strings !== undefined) {\n                    part._$setValue(values, part, i);\n                    // The number of values the part consumes is part.strings.length - 1\n                    // since values are in between template spans. We increment i by 1\n                    // later in the loop, so increment it by part.strings.length - 2 here\n                    i += part.strings.length - 2;\n                }\n                else {\n                    part._$setValue(values[i]);\n                }\n            }\n            i++;\n        }\n    }\n}\nclass ChildPart {\n    // See comment in Disconnectable interface for why this is a getter\n    get _$isConnected() {\n        // ChildParts that are not at the root should always be created with a\n        // parent; only RootChildNode's won't, so they return the local isConnected\n        // state\n        return this._$parent?._$isConnected ?? this.__isConnected;\n    }\n    constructor(startNode, endNode, parent, options) {\n        this.type = CHILD_PART;\n        this._$committedValue = nothing;\n        // The following fields will be patched onto ChildParts when required by\n        // AsyncDirective\n        /** @internal */\n        this._$disconnectableChildren = undefined;\n        this._$startNode = startNode;\n        this._$endNode = endNode;\n        this._$parent = parent;\n        this.options = options;\n        // Note __isConnected is only ever accessed on RootParts (i.e. when there is\n        // no _$parent); the value on a non-root-part is \"don't care\", but checking\n        // for parent would be more code\n        this.__isConnected = options?.isConnected ?? true;\n        if (ENABLE_EXTRA_SECURITY_HOOKS) {\n            // Explicitly initialize for consistent class shape.\n            this._textSanitizer = undefined;\n        }\n    }\n    /**\n     * The parent node into which the part renders its content.\n     *\n     * A ChildPart's content consists of a range of adjacent child nodes of\n     * `.parentNode`, possibly bordered by 'marker nodes' (`.startNode` and\n     * `.endNode`).\n     *\n     * - If both `.startNode` and `.endNode` are non-null, then the part's content\n     * consists of all siblings between `.startNode` and `.endNode`, exclusively.\n     *\n     * - If `.startNode` is non-null but `.endNode` is null, then the part's\n     * content consists of all siblings following `.startNode`, up to and\n     * including the last child of `.parentNode`. If `.endNode` is non-null, then\n     * `.startNode` will always be non-null.\n     *\n     * - If both `.endNode` and `.startNode` are null, then the part's content\n     * consists of all child nodes of `.parentNode`.\n     */\n    get parentNode() {\n        let parentNode = wrap(this._$startNode).parentNode;\n        const parent = this._$parent;\n        if (parent !== undefined &&\n            parentNode?.nodeType === 11 /* Node.DOCUMENT_FRAGMENT */) {\n            // If the parentNode is a DocumentFragment, it may be because the DOM is\n            // still in the cloned fragment during initial render; if so, get the real\n            // parentNode the part will be committed into by asking the parent.\n            parentNode = parent.parentNode;\n        }\n        return parentNode;\n    }\n    /**\n     * The part's leading marker node, if any. See `.parentNode` for more\n     * information.\n     */\n    get startNode() {\n        return this._$startNode;\n    }\n    /**\n     * The part's trailing marker node, if any. See `.parentNode` for more\n     * information.\n     */\n    get endNode() {\n        return this._$endNode;\n    }\n    _$setValue(value, directiveParent = this) {\n        if (DEV_MODE && this.parentNode === null) {\n            throw new Error(`This \\`ChildPart\\` has no \\`parentNode\\` and therefore cannot accept a value. This likely means the element containing the part was manipulated in an unsupported way outside of Lit's control such that the part's marker nodes were ejected from DOM. For example, setting the element's \\`innerHTML\\` or \\`textContent\\` can do this.`);\n        }\n        value = resolveDirective(this, value, directiveParent);\n        if (isPrimitive(value)) {\n            // Non-rendering child values. It's important that these do not render\n            // empty text nodes to avoid issues with preventing default <slot>\n            // fallback content.\n            if (value === nothing || value == null || value === '') {\n                if (this._$committedValue !== nothing) {\n                    debugLogEvent &&\n                        debugLogEvent({\n                            kind: 'commit nothing to child',\n                            start: this._$startNode,\n                            end: this._$endNode,\n                            parent: this._$parent,\n                            options: this.options,\n                        });\n                    this._$clear();\n                }\n                this._$committedValue = nothing;\n            }\n            else if (value !== this._$committedValue && value !== noChange) {\n                this._commitText(value);\n            }\n            // This property needs to remain unminified.\n        }\n        else if (value['_$litType$'] !== undefined) {\n            this._commitTemplateResult(value);\n        }\n        else if (value.nodeType !== undefined) {\n            if (DEV_MODE && this.options?.host === value) {\n                this._commitText(`[probable mistake: rendered a template's host in itself ` +\n                    `(commonly caused by writing \\${this} in a template]`);\n                console.warn(`Attempted to render the template host`, value, `inside itself. This is almost always a mistake, and in dev mode `, `we render some warning text. In production however, we'll `, `render it, which will usually result in an error, and sometimes `, `in the element disappearing from the DOM.`);\n                return;\n            }\n            this._commitNode(value);\n        }\n        else if (isIterable(value)) {\n            this._commitIterable(value);\n        }\n        else {\n            // Fallback, will render the string representation\n            this._commitText(value);\n        }\n    }\n    _insert(node) {\n        return wrap(wrap(this._$startNode).parentNode).insertBefore(node, this._$endNode);\n    }\n    _commitNode(value) {\n        if (this._$committedValue !== value) {\n            this._$clear();\n            if (ENABLE_EXTRA_SECURITY_HOOKS &&\n                sanitizerFactoryInternal !== noopSanitizer) {\n                const parentNodeName = this._$startNode.parentNode?.nodeName;\n                if (parentNodeName === 'STYLE' || parentNodeName === 'SCRIPT') {\n                    let message = 'Forbidden';\n                    if (DEV_MODE) {\n                        if (parentNodeName === 'STYLE') {\n                            message =\n                                `Lit does not support binding inside style nodes. ` +\n                                    `This is a security risk, as style injection attacks can ` +\n                                    `exfiltrate data and spoof UIs. ` +\n                                    `Consider instead using css\\`...\\` literals ` +\n                                    `to compose styles, and do dynamic styling with ` +\n                                    `css custom properties, ::parts, <slot>s, ` +\n                                    `and by mutating the DOM rather than stylesheets.`;\n                        }\n                        else {\n                            message =\n                                `Lit does not support binding inside script nodes. ` +\n                                    `This is a security risk, as it could allow arbitrary ` +\n                                    `code execution.`;\n                        }\n                    }\n                    throw new Error(message);\n                }\n            }\n            debugLogEvent &&\n                debugLogEvent({\n                    kind: 'commit node',\n                    start: this._$startNode,\n                    parent: this._$parent,\n                    value: value,\n                    options: this.options,\n                });\n            this._$committedValue = this._insert(value);\n        }\n    }\n    _commitText(value) {\n        // If the committed value is a primitive it means we called _commitText on\n        // the previous render, and we know that this._$startNode.nextSibling is a\n        // Text node. We can now just replace the text content (.data) of the node.\n        if (this._$committedValue !== nothing &&\n            isPrimitive(this._$committedValue)) {\n            const node = wrap(this._$startNode).nextSibling;\n            if (ENABLE_EXTRA_SECURITY_HOOKS) {\n                if (this._textSanitizer === undefined) {\n                    this._textSanitizer = createSanitizer(node, 'data', 'property');\n                }\n                value = this._textSanitizer(value);\n            }\n            debugLogEvent &&\n                debugLogEvent({\n                    kind: 'commit text',\n                    node,\n                    value,\n                    options: this.options,\n                });\n            node.data = value;\n        }\n        else {\n            if (ENABLE_EXTRA_SECURITY_HOOKS) {\n                const textNode = d.createTextNode('');\n                this._commitNode(textNode);\n                // When setting text content, for security purposes it matters a lot\n                // what the parent is. For example, <style> and <script> need to be\n                // handled with care, while <span> does not. So first we need to put a\n                // text node into the document, then we can sanitize its content.\n                if (this._textSanitizer === undefined) {\n                    this._textSanitizer = createSanitizer(textNode, 'data', 'property');\n                }\n                value = this._textSanitizer(value);\n                debugLogEvent &&\n                    debugLogEvent({\n                        kind: 'commit text',\n                        node: textNode,\n                        value,\n                        options: this.options,\n                    });\n                textNode.data = value;\n            }\n            else {\n                this._commitNode(d.createTextNode(value));\n                debugLogEvent &&\n                    debugLogEvent({\n                        kind: 'commit text',\n                        node: wrap(this._$startNode).nextSibling,\n                        value,\n                        options: this.options,\n                    });\n            }\n        }\n        this._$committedValue = value;\n    }\n    _commitTemplateResult(result) {\n        // This property needs to remain unminified.\n        const { values, ['_$litType$']: type } = result;\n        // If $litType$ is a number, result is a plain TemplateResult and we get\n        // the template from the template cache. If not, result is a\n        // CompiledTemplateResult and _$litType$ is a CompiledTemplate and we need\n        // to create the <template> element the first time we see it.\n        const template = typeof type === 'number'\n            ? this._$getTemplate(result)\n            : (type.el === undefined &&\n                (type.el = Template.createElement(trustFromTemplateString(type.h, type.h[0]), this.options)),\n                type);\n        if (this._$committedValue?._$template === template) {\n            debugLogEvent &&\n                debugLogEvent({\n                    kind: 'template updating',\n                    template,\n                    instance: this._$committedValue,\n                    parts: this._$committedValue._$parts,\n                    options: this.options,\n                    values,\n                });\n            this._$committedValue._update(values);\n        }\n        else {\n            const instance = new TemplateInstance(template, this);\n            const fragment = instance._clone(this.options);\n            debugLogEvent &&\n                debugLogEvent({\n                    kind: 'template instantiated',\n                    template,\n                    instance,\n                    parts: instance._$parts,\n                    options: this.options,\n                    fragment,\n                    values,\n                });\n            instance._update(values);\n            debugLogEvent &&\n                debugLogEvent({\n                    kind: 'template instantiated and updated',\n                    template,\n                    instance,\n                    parts: instance._$parts,\n                    options: this.options,\n                    fragment,\n                    values,\n                });\n            this._commitNode(fragment);\n            this._$committedValue = instance;\n        }\n    }\n    // Overridden via `litHtmlPolyfillSupport` to provide platform support.\n    /** @internal */\n    _$getTemplate(result) {\n        let template = templateCache.get(result.strings);\n        if (template === undefined) {\n            templateCache.set(result.strings, (template = new Template(result)));\n        }\n        return template;\n    }\n    _commitIterable(value) {\n        // For an Iterable, we create a new InstancePart per item, then set its\n        // value to the item. This is a little bit of overhead for every item in\n        // an Iterable, but it lets us recurse easily and efficiently update Arrays\n        // of TemplateResults that will be commonly returned from expressions like:\n        // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n        // If value is an array, then the previous render was of an\n        // iterable and value will contain the ChildParts from the previous\n        // render. If value is not an array, clear this part and make a new\n        // array for ChildParts.\n        if (!isArray(this._$committedValue)) {\n            this._$committedValue = [];\n            this._$clear();\n        }\n        // Lets us keep track of how many items we stamped so we can clear leftover\n        // items from a previous render\n        const itemParts = this._$committedValue;\n        let partIndex = 0;\n        let itemPart;\n        for (const item of value) {\n            if (partIndex === itemParts.length) {\n                // If no existing part, create a new one\n                // TODO (justinfagnani): test perf impact of always creating two parts\n                // instead of sharing parts between nodes\n                // https://github.com/lit/lit/issues/1266\n                itemParts.push((itemPart = new ChildPart(this._insert(createMarker()), this._insert(createMarker()), this, this.options)));\n            }\n            else {\n                // Reuse an existing part\n                itemPart = itemParts[partIndex];\n            }\n            itemPart._$setValue(item);\n            partIndex++;\n        }\n        if (partIndex < itemParts.length) {\n            // itemParts always have end nodes\n            this._$clear(itemPart && wrap(itemPart._$endNode).nextSibling, partIndex);\n            // Truncate the parts array so _value reflects the current state\n            itemParts.length = partIndex;\n        }\n    }\n    /**\n     * Removes the nodes contained within this Part from the DOM.\n     *\n     * @param start Start node to clear from, for clearing a subset of the part's\n     *     DOM (used when truncating iterables)\n     * @param from  When `start` is specified, the index within the iterable from\n     *     which ChildParts are being removed, used for disconnecting directives\n     *     in those Parts.\n     *\n     * @internal\n     */\n    _$clear(start = wrap(this._$startNode).nextSibling, from) {\n        this._$notifyConnectionChanged?.(false, true, from);\n        while (start !== this._$endNode) {\n            // The non-null assertion is safe because if _$startNode.nextSibling is\n            // null, then _$endNode is also null, and we would not have entered this\n            // loop.\n            const n = wrap(start).nextSibling;\n            wrap(start).remove();\n            start = n;\n        }\n    }\n    /**\n     * Implementation of RootPart's `isConnected`. Note that this method\n     * should only be called on `RootPart`s (the `ChildPart` returned from a\n     * top-level `render()` call). It has no effect on non-root ChildParts.\n     * @param isConnected Whether to set\n     * @internal\n     */\n    setConnected(isConnected) {\n        if (this._$parent === undefined) {\n            this.__isConnected = isConnected;\n            this._$notifyConnectionChanged?.(isConnected);\n        }\n        else if (DEV_MODE) {\n            throw new Error('part.setConnected() may only be called on a ' +\n                'RootPart returned from render().');\n        }\n    }\n}\nclass AttributePart {\n    get tagName() {\n        return this.element.tagName;\n    }\n    // See comment in Disconnectable interface for why this is a getter\n    get _$isConnected() {\n        return this._$parent._$isConnected;\n    }\n    constructor(element, name, strings, parent, options) {\n        this.type = ATTRIBUTE_PART;\n        /** @internal */\n        this._$committedValue = nothing;\n        /** @internal */\n        this._$disconnectableChildren = undefined;\n        this.element = element;\n        this.name = name;\n        this._$parent = parent;\n        this.options = options;\n        if (strings.length > 2 || strings[0] !== '' || strings[1] !== '') {\n            this._$committedValue = new Array(strings.length - 1).fill(new String());\n            this.strings = strings;\n        }\n        else {\n            this._$committedValue = nothing;\n        }\n        if (ENABLE_EXTRA_SECURITY_HOOKS) {\n            this._sanitizer = undefined;\n        }\n    }\n    /**\n     * Sets the value of this part by resolving the value from possibly multiple\n     * values and static strings and committing it to the DOM.\n     * If this part is single-valued, `this._strings` will be undefined, and the\n     * method will be called with a single value argument. If this part is\n     * multi-value, `this._strings` will be defined, and the method is called\n     * with the value array of the part's owning TemplateInstance, and an offset\n     * into the value array from which the values should be read.\n     * This method is overloaded this way to eliminate short-lived array slices\n     * of the template instance values, and allow a fast-path for single-valued\n     * parts.\n     *\n     * @param value The part value, or an array of values for multi-valued parts\n     * @param valueIndex the index to start reading values from. `undefined` for\n     *   single-valued parts\n     * @param noCommit causes the part to not commit its value to the DOM. Used\n     *   in hydration to prime attribute parts with their first-rendered value,\n     *   but not set the attribute, and in SSR to no-op the DOM operation and\n     *   capture the value for serialization.\n     *\n     * @internal\n     */\n    _$setValue(value, directiveParent = this, valueIndex, noCommit) {\n        const strings = this.strings;\n        // Whether any of the values has changed, for dirty-checking\n        let change = false;\n        if (strings === undefined) {\n            // Single-value binding case\n            value = resolveDirective(this, value, directiveParent, 0);\n            change =\n                !isPrimitive(value) ||\n                    (value !== this._$committedValue && value !== noChange);\n            if (change) {\n                this._$committedValue = value;\n            }\n        }\n        else {\n            // Interpolation case\n            const values = value;\n            value = strings[0];\n            let i, v;\n            for (i = 0; i < strings.length - 1; i++) {\n                v = resolveDirective(this, values[valueIndex + i], directiveParent, i);\n                if (v === noChange) {\n                    // If the user-provided value is `noChange`, use the previous value\n                    v = this._$committedValue[i];\n                }\n                change ||=\n                    !isPrimitive(v) || v !== this._$committedValue[i];\n                if (v === nothing) {\n                    value = nothing;\n                }\n                else if (value !== nothing) {\n                    value += (v ?? '') + strings[i + 1];\n                }\n                // We always record each value, even if one is `nothing`, for future\n                // change detection.\n                this._$committedValue[i] = v;\n            }\n        }\n        if (change && !noCommit) {\n            this._commitValue(value);\n        }\n    }\n    /** @internal */\n    _commitValue(value) {\n        if (value === nothing) {\n            wrap(this.element).removeAttribute(this.name);\n        }\n        else {\n            if (ENABLE_EXTRA_SECURITY_HOOKS) {\n                if (this._sanitizer === undefined) {\n                    this._sanitizer = sanitizerFactoryInternal(this.element, this.name, 'attribute');\n                }\n                value = this._sanitizer(value ?? '');\n            }\n            debugLogEvent &&\n                debugLogEvent({\n                    kind: 'commit attribute',\n                    element: this.element,\n                    name: this.name,\n                    value,\n                    options: this.options,\n                });\n            wrap(this.element).setAttribute(this.name, (value ?? ''));\n        }\n    }\n}\nclass PropertyPart extends AttributePart {\n    constructor() {\n        super(...arguments);\n        this.type = PROPERTY_PART;\n    }\n    /** @internal */\n    _commitValue(value) {\n        if (ENABLE_EXTRA_SECURITY_HOOKS) {\n            if (this._sanitizer === undefined) {\n                this._sanitizer = sanitizerFactoryInternal(this.element, this.name, 'property');\n            }\n            value = this._sanitizer(value);\n        }\n        debugLogEvent &&\n            debugLogEvent({\n                kind: 'commit property',\n                element: this.element,\n                name: this.name,\n                value,\n                options: this.options,\n            });\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.element[this.name] = value === nothing ? undefined : value;\n    }\n}\nclass BooleanAttributePart extends AttributePart {\n    constructor() {\n        super(...arguments);\n        this.type = BOOLEAN_ATTRIBUTE_PART;\n    }\n    /** @internal */\n    _commitValue(value) {\n        debugLogEvent &&\n            debugLogEvent({\n                kind: 'commit boolean attribute',\n                element: this.element,\n                name: this.name,\n                value: !!(value && value !== nothing),\n                options: this.options,\n            });\n        wrap(this.element).toggleAttribute(this.name, !!value && value !== nothing);\n    }\n}\nclass EventPart extends AttributePart {\n    constructor(element, name, strings, parent, options) {\n        super(element, name, strings, parent, options);\n        this.type = EVENT_PART;\n        if (DEV_MODE && this.strings !== undefined) {\n            throw new Error(`A \\`<${element.localName}>\\` has a \\`@${name}=...\\` listener with ` +\n                'invalid content. Event listeners in templates must have exactly ' +\n                'one expression and no surrounding text.');\n        }\n    }\n    // EventPart does not use the base _$setValue/_resolveValue implementation\n    // since the dirty checking is more complex\n    /** @internal */\n    _$setValue(newListener, directiveParent = this) {\n        newListener =\n            resolveDirective(this, newListener, directiveParent, 0) ?? nothing;\n        if (newListener === noChange) {\n            return;\n        }\n        const oldListener = this._$committedValue;\n        // If the new value is nothing or any options change we have to remove the\n        // part as a listener.\n        const shouldRemoveListener = (newListener === nothing && oldListener !== nothing) ||\n            newListener.capture !==\n                oldListener.capture ||\n            newListener.once !==\n                oldListener.once ||\n            newListener.passive !==\n                oldListener.passive;\n        // If the new value is not nothing and we removed the listener, we have\n        // to add the part as a listener.\n        const shouldAddListener = newListener !== nothing &&\n            (oldListener === nothing || shouldRemoveListener);\n        debugLogEvent &&\n            debugLogEvent({\n                kind: 'commit event listener',\n                element: this.element,\n                name: this.name,\n                value: newListener,\n                options: this.options,\n                removeListener: shouldRemoveListener,\n                addListener: shouldAddListener,\n                oldListener,\n            });\n        if (shouldRemoveListener) {\n            this.element.removeEventListener(this.name, this, oldListener);\n        }\n        if (shouldAddListener) {\n            this.element.addEventListener(this.name, this, newListener);\n        }\n        this._$committedValue = newListener;\n    }\n    handleEvent(event) {\n        if (typeof this._$committedValue === 'function') {\n            this._$committedValue.call(this.options?.host ?? this.element, event);\n        }\n        else {\n            this._$committedValue.handleEvent(event);\n        }\n    }\n}\nclass ElementPart {\n    constructor(element, parent, options) {\n        this.element = element;\n        this.type = ELEMENT_PART;\n        /** @internal */\n        this._$disconnectableChildren = undefined;\n        this._$parent = parent;\n        this.options = options;\n    }\n    // See comment in Disconnectable interface for why this is a getter\n    get _$isConnected() {\n        return this._$parent._$isConnected;\n    }\n    _$setValue(value) {\n        debugLogEvent &&\n            debugLogEvent({\n                kind: 'commit to element binding',\n                element: this.element,\n                value,\n                options: this.options,\n            });\n        resolveDirective(this, value);\n    }\n}\n/**\n * END USERS SHOULD NOT RELY ON THIS OBJECT.\n *\n * Private exports for use by other Lit packages, not intended for use by\n * external users.\n *\n * We currently do not make a mangled rollup build of the lit-ssr code. In order\n * to keep a number of (otherwise private) top-level exports mangled in the\n * client side code, we export a _$LH object containing those members (or\n * helper methods for accessing private fields of those members), and then\n * re-export them for use in lit-ssr. This keeps lit-ssr agnostic to whether the\n * client-side code is being used in `dev` mode or `prod` mode.\n *\n * This has a unique name, to disambiguate it from private exports in\n * lit-element, which re-exports all of lit-html.\n *\n * @private\n */\nconst _$LH = {\n    // Used in lit-ssr\n    _boundAttributeSuffix: boundAttributeSuffix,\n    _marker: marker,\n    _markerMatch: markerMatch,\n    _HTML_RESULT: HTML_RESULT,\n    _getTemplateHtml: getTemplateHtml,\n    // Used in tests and private-ssr-support\n    _TemplateInstance: TemplateInstance,\n    _isIterable: isIterable,\n    _resolveDirective: resolveDirective,\n    _ChildPart: ChildPart,\n    _AttributePart: AttributePart,\n    _BooleanAttributePart: BooleanAttributePart,\n    _EventPart: EventPart,\n    _PropertyPart: PropertyPart,\n    _ElementPart: ElementPart,\n};\n// Apply polyfills if available\nconst polyfillSupport = DEV_MODE\n    ? global.litHtmlPolyfillSupportDevMode\n    : global.litHtmlPolyfillSupport;\npolyfillSupport?.(Template, ChildPart);\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n(global.litHtmlVersions ??= []).push('3.3.1');\nif (DEV_MODE && global.litHtmlVersions.length > 1) {\n    queueMicrotask(() => {\n        issueWarning('multiple-versions', `Multiple versions of Lit loaded. ` +\n            `Loading multiple versions is not recommended.`);\n    });\n}\n/**\n * Renders a value, usually a lit-html TemplateResult, to the container.\n *\n * This example renders the text \"Hello, Zoe!\" inside a paragraph tag, appending\n * it to the container `document.body`.\n *\n * ```js\n * import {html, render} from 'lit';\n *\n * const name = \"Zoe\";\n * render(html`<p>Hello, ${name}!</p>`, document.body);\n * ```\n *\n * @param value Any [renderable\n *   value](https://lit.dev/docs/templates/expressions/#child-expressions),\n *   typically a {@linkcode TemplateResult} created by evaluating a template tag\n *   like {@linkcode html} or {@linkcode svg}.\n * @param container A DOM container to render to. The first render will append\n *   the rendered value to the container, and subsequent renders will\n *   efficiently update the rendered value if the same result type was\n *   previously rendered there.\n * @param options See {@linkcode RenderOptions} for options documentation.\n * @see\n * {@link https://lit.dev/docs/libraries/standalone-templates/#rendering-lit-html-templates| Rendering Lit HTML Templates}\n */\nconst render = (value, container, options) => {\n    if (DEV_MODE && container == null) {\n        // Give a clearer error message than\n        //     Uncaught TypeError: Cannot read properties of null (reading\n        //     '_$litPart$')\n        // which reads like an internal Lit error.\n        throw new TypeError(`The container to render into may not be ${container}`);\n    }\n    const renderId = DEV_MODE ? debugLogRenderId++ : 0;\n    const partOwnerNode = options?.renderBefore ?? container;\n    // This property needs to remain unminified.\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let part = partOwnerNode['_$litPart$'];\n    debugLogEvent &&\n        debugLogEvent({\n            kind: 'begin render',\n            id: renderId,\n            value,\n            container,\n            options,\n            part,\n        });\n    if (part === undefined) {\n        const endNode = options?.renderBefore ?? null;\n        // This property needs to remain unminified.\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        partOwnerNode['_$litPart$'] = part = new ChildPart(container.insertBefore(createMarker(), endNode), endNode, undefined, options ?? {});\n    }\n    part._$setValue(value);\n    debugLogEvent &&\n        debugLogEvent({\n            kind: 'end render',\n            id: renderId,\n            value,\n            container,\n            options,\n            part,\n        });\n    return part;\n};\nif (ENABLE_EXTRA_SECURITY_HOOKS) {\n    render.setSanitizer = setSanitizer;\n    render.createSanitizer = createSanitizer;\n    if (DEV_MODE) {\n        render._testOnlyClearSanitizerFactoryDoNotCallOrElse =\n            _testOnlyClearSanitizerFactoryDoNotCallOrElse;\n    }\n}\n//# sourceMappingURL=lit-html.js.map\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit-html/development/lit-html.js?\n}")},"./node_modules/lit/decorators.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   property: () => (/* reexport safe */ _lit_reactive_element_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property),\n/* harmony export */   query: () => (/* reexport safe */ _lit_reactive_element_decorators_query_js__WEBPACK_IMPORTED_MODULE_4__.query),\n/* harmony export */   queryAssignedElements: () => (/* reexport safe */ _lit_reactive_element_decorators_query_assigned_elements_js__WEBPACK_IMPORTED_MODULE_7__.queryAssignedElements),\n/* harmony export */   queryAssignedNodes: () => (/* reexport safe */ _lit_reactive_element_decorators_query_assigned_nodes_js__WEBPACK_IMPORTED_MODULE_8__.queryAssignedNodes),\n/* harmony export */   state: () => (/* reexport safe */ _lit_reactive_element_decorators_state_js__WEBPACK_IMPORTED_MODULE_2__.state)\n/* harmony export */ });\n/* harmony import */ var _lit_reactive_element_decorators_custom_element_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lit/reactive-element/decorators/custom-element.js */ "./node_modules/@lit/reactive-element/development/decorators/custom-element.js");\n/* harmony import */ var _lit_reactive_element_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lit/reactive-element/decorators/property.js */ "./node_modules/@lit/reactive-element/development/decorators/property.js");\n/* harmony import */ var _lit_reactive_element_decorators_state_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lit/reactive-element/decorators/state.js */ "./node_modules/@lit/reactive-element/development/decorators/state.js");\n/* harmony import */ var _lit_reactive_element_decorators_event_options_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lit/reactive-element/decorators/event-options.js */ "./node_modules/@lit/reactive-element/development/decorators/event-options.js");\n/* harmony import */ var _lit_reactive_element_decorators_query_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lit/reactive-element/decorators/query.js */ "./node_modules/@lit/reactive-element/development/decorators/query.js");\n/* harmony import */ var _lit_reactive_element_decorators_query_all_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @lit/reactive-element/decorators/query-all.js */ "./node_modules/@lit/reactive-element/development/decorators/query-all.js");\n/* harmony import */ var _lit_reactive_element_decorators_query_async_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @lit/reactive-element/decorators/query-async.js */ "./node_modules/@lit/reactive-element/development/decorators/query-async.js");\n/* harmony import */ var _lit_reactive_element_decorators_query_assigned_elements_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @lit/reactive-element/decorators/query-assigned-elements.js */ "./node_modules/@lit/reactive-element/development/decorators/query-assigned-elements.js");\n/* harmony import */ var _lit_reactive_element_decorators_query_assigned_nodes_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @lit/reactive-element/decorators/query-assigned-nodes.js */ "./node_modules/@lit/reactive-element/development/decorators/query-assigned-nodes.js");\n\n//# sourceMappingURL=decorators.js.map\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit/decorators.js?\n}')},"./node_modules/lit/directives/class-map.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   classMap: () => (/* reexport safe */ lit_html_directives_class_map_js__WEBPACK_IMPORTED_MODULE_0__.classMap)\n/* harmony export */ });\n/* harmony import */ var lit_html_directives_class_map_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html/directives/class-map.js */ "./node_modules/lit-html/development/directives/class-map.js");\n\n//# sourceMappingURL=class-map.js.map\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit/directives/class-map.js?\n}')},"./node_modules/lit/directives/if-defined.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ifDefined: () => (/* reexport safe */ lit_html_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_0__.ifDefined)\n/* harmony export */ });\n/* harmony import */ var lit_html_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html/directives/if-defined.js */ "./node_modules/lit-html/development/directives/if-defined.js");\n\n//# sourceMappingURL=if-defined.js.map\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit/directives/if-defined.js?\n}')},"./node_modules/lit/directives/live.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   live: () => (/* reexport safe */ lit_html_directives_live_js__WEBPACK_IMPORTED_MODULE_0__.live)\n/* harmony export */ });\n/* harmony import */ var lit_html_directives_live_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html/directives/live.js */ "./node_modules/lit-html/development/directives/live.js");\n\n//# sourceMappingURL=live.js.map\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit/directives/live.js?\n}')},"./node_modules/lit/directives/map.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   map: () => (/* reexport safe */ lit_html_directives_map_js__WEBPACK_IMPORTED_MODULE_0__.map)\n/* harmony export */ });\n/* harmony import */ var lit_html_directives_map_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html/directives/map.js */ "./node_modules/lit-html/development/directives/map.js");\n\n//# sourceMappingURL=map.js.map\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit/directives/map.js?\n}')},"./node_modules/lit/directives/ref.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createRef: () => (/* reexport safe */ lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_0__.createRef),\n/* harmony export */   ref: () => (/* reexport safe */ lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_0__.ref)\n/* harmony export */ });\n/* harmony import */ var lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html/directives/ref.js */ "./node_modules/lit-html/development/directives/ref.js");\n\n//# sourceMappingURL=ref.js.map\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit/directives/ref.js?\n}')},"./node_modules/lit/directives/style-map.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   styleMap: () => (/* reexport safe */ lit_html_directives_style_map_js__WEBPACK_IMPORTED_MODULE_0__.styleMap)\n/* harmony export */ });\n/* harmony import */ var lit_html_directives_style_map_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html/directives/style-map.js */ "./node_modules/lit-html/development/directives/style-map.js");\n\n//# sourceMappingURL=style-map.js.map\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit/directives/style-map.js?\n}')},"./node_modules/lit/directives/unsafe-svg.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   unsafeSVG: () => (/* reexport safe */ lit_html_directives_unsafe_svg_js__WEBPACK_IMPORTED_MODULE_0__.unsafeSVG)\n/* harmony export */ });\n/* harmony import */ var lit_html_directives_unsafe_svg_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html/directives/unsafe-svg.js */ "./node_modules/lit-html/development/directives/unsafe-svg.js");\n\n//# sourceMappingURL=unsafe-svg.js.map\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit/directives/unsafe-svg.js?\n}')},"./node_modules/lit/directives/when.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   when: () => (/* reexport safe */ lit_html_directives_when_js__WEBPACK_IMPORTED_MODULE_0__.when)\n/* harmony export */ });\n/* harmony import */ var lit_html_directives_when_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html/directives/when.js */ "./node_modules/lit-html/development/directives/when.js");\n\n//# sourceMappingURL=when.js.map\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit/directives/when.js?\n}')},"./node_modules/lit/index.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LitElement: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.LitElement),\n/* harmony export */   css: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.css),\n/* harmony export */   defaultConverter: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.defaultConverter),\n/* harmony export */   html: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.html),\n/* harmony export */   nothing: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.nothing),\n/* harmony export */   svg: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.svg),\n/* harmony export */   unsafeCSS: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.unsafeCSS)\n/* harmony export */ });\n/* harmony import */ var _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lit/reactive-element */ "./node_modules/@lit/reactive-element/development/reactive-element.js");\n/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit-html */ "./node_modules/lit-html/development/lit-html.js");\n/* harmony import */ var lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit-element/lit-element.js */ "./node_modules/lit-element/development/lit-element.js");\n/* harmony import */ var lit_html_is_server_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit-html/is-server.js */ "./node_modules/lit-html/development/is-server.js");\n\n//# sourceMappingURL=index.js.map\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lit/index.js?\n}')},"./node_modules/lodash-es/_Symbol.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _root_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_root.js */ "./node_modules/lodash-es/_root.js");\n\n\n/** Built-in value references. */\nvar Symbol = _root_js__WEBPACK_IMPORTED_MODULE_0__["default"].Symbol;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Symbol);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/_Symbol.js?\n}')},"./node_modules/lodash-es/_arrayMap.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (arrayMap);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/_arrayMap.js?\n}')},"./node_modules/lodash-es/_arrayPush.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (arrayPush);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/_arrayPush.js?\n}')},"./node_modules/lodash-es/_arrayReduce.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (arrayReduce);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/_arrayReduce.js?\n}')},"./node_modules/lodash-es/_asciiWords.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/** Used to match words composed of alphanumeric characters. */\nvar reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n/**\n * Splits an ASCII `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction asciiWords(string) {\n  return string.match(reAsciiWord) || [];\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (asciiWords);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/_asciiWords.js?\n}')},"./node_modules/lodash-es/_baseFlatten.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _arrayPush_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_arrayPush.js */ "./node_modules/lodash-es/_arrayPush.js");\n/* harmony import */ var _isFlattenable_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_isFlattenable.js */ "./node_modules/lodash-es/_isFlattenable.js");\n\n\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = _isFlattenable_js__WEBPACK_IMPORTED_MODULE_1__["default"]);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        (0,_arrayPush_js__WEBPACK_IMPORTED_MODULE_0__["default"])(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (baseFlatten);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/_baseFlatten.js?\n}')},"./node_modules/lodash-es/_baseGetTag.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_Symbol.js */ "./node_modules/lodash-es/_Symbol.js");\n/* harmony import */ var _getRawTag_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_getRawTag.js */ "./node_modules/lodash-es/_getRawTag.js");\n/* harmony import */ var _objectToString_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./_objectToString.js */ "./node_modules/lodash-es/_objectToString.js");\n\n\n\n\n/** `Object#toString` result references. */\nvar nullTag = \'[object Null]\',\n    undefinedTag = \'[object Undefined]\';\n\n/** Built-in value references. */\nvar symToStringTag = _Symbol_js__WEBPACK_IMPORTED_MODULE_0__["default"] ? _Symbol_js__WEBPACK_IMPORTED_MODULE_0__["default"].toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? (0,_getRawTag_js__WEBPACK_IMPORTED_MODULE_1__["default"])(value)\n    : (0,_objectToString_js__WEBPACK_IMPORTED_MODULE_2__["default"])(value);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (baseGetTag);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/_baseGetTag.js?\n}')},"./node_modules/lodash-es/_baseIsArguments.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _baseGetTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_baseGetTag.js */ "./node_modules/lodash-es/_baseGetTag.js");\n/* harmony import */ var _isObjectLike_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./isObjectLike.js */ "./node_modules/lodash-es/isObjectLike.js");\n\n\n\n/** `Object#toString` result references. */\nvar argsTag = \'[object Arguments]\';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return (0,_isObjectLike_js__WEBPACK_IMPORTED_MODULE_1__["default"])(value) && (0,_baseGetTag_js__WEBPACK_IMPORTED_MODULE_0__["default"])(value) == argsTag;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (baseIsArguments);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/_baseIsArguments.js?\n}')},"./node_modules/lodash-es/_basePropertyOf.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (basePropertyOf);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/_basePropertyOf.js?\n}')},"./node_modules/lodash-es/_baseToString.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_Symbol.js */ "./node_modules/lodash-es/_Symbol.js");\n/* harmony import */ var _arrayMap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_arrayMap.js */ "./node_modules/lodash-es/_arrayMap.js");\n/* harmony import */ var _isArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./isArray.js */ "./node_modules/lodash-es/isArray.js");\n/* harmony import */ var _isSymbol_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./isSymbol.js */ "./node_modules/lodash-es/isSymbol.js");\n\n\n\n\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = _Symbol_js__WEBPACK_IMPORTED_MODULE_0__["default"] ? _Symbol_js__WEBPACK_IMPORTED_MODULE_0__["default"].prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn\'t convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == \'string\') {\n    return value;\n  }\n  if ((0,_isArray_js__WEBPACK_IMPORTED_MODULE_2__["default"])(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return (0,_arrayMap_js__WEBPACK_IMPORTED_MODULE_1__["default"])(value, baseToString) + \'\';\n  }\n  if ((0,_isSymbol_js__WEBPACK_IMPORTED_MODULE_3__["default"])(value)) {\n    return symbolToString ? symbolToString.call(value) : \'\';\n  }\n  var result = (value + \'\');\n  return (result == \'0\' && (1 / value) == -INFINITY) ? \'-0\' : result;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (baseToString);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/_baseToString.js?\n}')},"./node_modules/lodash-es/_baseTrim.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _trimmedEndIndex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_trimmedEndIndex.js */ "./node_modules/lodash-es/_trimmedEndIndex.js");\n\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, (0,_trimmedEndIndex_js__WEBPACK_IMPORTED_MODULE_0__["default"])(string) + 1).replace(reTrimStart, \'\')\n    : string;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (baseTrim);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/_baseTrim.js?\n}')},"./node_modules/lodash-es/_createCompounder.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _arrayReduce_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_arrayReduce.js */ "./node_modules/lodash-es/_arrayReduce.js");\n/* harmony import */ var _deburr_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./deburr.js */ "./node_modules/lodash-es/deburr.js");\n/* harmony import */ var _words_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./words.js */ "./node_modules/lodash-es/words.js");\n\n\n\n\n/** Used to compose unicode capture groups. */\nvar rsApos = "[\'\\u2019]";\n\n/** Used to match apostrophes. */\nvar reApos = RegExp(rsApos, \'g\');\n\n/**\n * Creates a function like `_.camelCase`.\n *\n * @private\n * @param {Function} callback The function to combine each word.\n * @returns {Function} Returns the new compounder function.\n */\nfunction createCompounder(callback) {\n  return function(string) {\n    return (0,_arrayReduce_js__WEBPACK_IMPORTED_MODULE_0__["default"])((0,_words_js__WEBPACK_IMPORTED_MODULE_2__["default"])((0,_deburr_js__WEBPACK_IMPORTED_MODULE_1__["default"])(string).replace(reApos, \'\')), callback, \'\');\n  };\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (createCompounder);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/_createCompounder.js?\n}')},"./node_modules/lodash-es/_deburrLetter.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _basePropertyOf_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_basePropertyOf.js */ \"./node_modules/lodash-es/_basePropertyOf.js\");\n\n\n/** Used to map Latin Unicode letters to basic Latin letters. */\nvar deburredLetters = {\n  // Latin-1 Supplement block.\n  '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n  '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n  '\\xc7': 'C',  '\\xe7': 'c',\n  '\\xd0': 'D',  '\\xf0': 'd',\n  '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n  '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n  '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n  '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n  '\\xd1': 'N',  '\\xf1': 'n',\n  '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n  '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n  '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n  '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n  '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n  '\\xc6': 'Ae', '\\xe6': 'ae',\n  '\\xde': 'Th', '\\xfe': 'th',\n  '\\xdf': 'ss',\n  // Latin Extended-A block.\n  '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n  '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n  '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n  '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n  '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n  '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n  '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n  '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n  '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n  '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n  '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n  '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n  '\\u0134': 'J',  '\\u0135': 'j',\n  '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n  '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n  '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n  '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n  '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n  '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n  '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n  '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n  '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n  '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n  '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n  '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n  '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n  '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n  '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n  '\\u0174': 'W',  '\\u0175': 'w',\n  '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n  '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n  '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n  '\\u0132': 'IJ', '\\u0133': 'ij',\n  '\\u0152': 'Oe', '\\u0153': 'oe',\n  '\\u0149': \"'n\", '\\u017f': 's'\n};\n\n/**\n * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n * letters to basic Latin letters.\n *\n * @private\n * @param {string} letter The matched letter to deburr.\n * @returns {string} Returns the deburred letter.\n */\nvar deburrLetter = (0,_basePropertyOf_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(deburredLetters);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (deburrLetter);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/_deburrLetter.js?\n}")},"./node_modules/lodash-es/_freeGlobal.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof __webpack_require__.g == 'object' && __webpack_require__.g && __webpack_require__.g.Object === Object && __webpack_require__.g;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (freeGlobal);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/_freeGlobal.js?\n}")},"./node_modules/lodash-es/_getRawTag.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_Symbol.js */ "./node_modules/lodash-es/_Symbol.js");\n\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = _Symbol_js__WEBPACK_IMPORTED_MODULE_0__["default"] ? _Symbol_js__WEBPACK_IMPORTED_MODULE_0__["default"].toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (getRawTag);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/_getRawTag.js?\n}')},"./node_modules/lodash-es/_hasUnicodeWord.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/** Used to detect strings that need a more robust regexp to match words. */\nvar reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n/**\n * Checks if `string` contains a word composed of Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a word is found, else `false`.\n */\nfunction hasUnicodeWord(string) {\n  return reHasUnicodeWord.test(string);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (hasUnicodeWord);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/_hasUnicodeWord.js?\n}')},"./node_modules/lodash-es/_isFlattenable.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_Symbol.js */ "./node_modules/lodash-es/_Symbol.js");\n/* harmony import */ var _isArguments_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./isArguments.js */ "./node_modules/lodash-es/isArguments.js");\n/* harmony import */ var _isArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./isArray.js */ "./node_modules/lodash-es/isArray.js");\n\n\n\n\n/** Built-in value references. */\nvar spreadableSymbol = _Symbol_js__WEBPACK_IMPORTED_MODULE_0__["default"] ? _Symbol_js__WEBPACK_IMPORTED_MODULE_0__["default"].isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return (0,_isArray_js__WEBPACK_IMPORTED_MODULE_2__["default"])(value) || (0,_isArguments_js__WEBPACK_IMPORTED_MODULE_1__["default"])(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (isFlattenable);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/_isFlattenable.js?\n}')},"./node_modules/lodash-es/_objectToString.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (objectToString);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/_objectToString.js?\n}')},"./node_modules/lodash-es/_root.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _freeGlobal_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_freeGlobal.js */ "./node_modules/lodash-es/_freeGlobal.js");\n\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == \'object\' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = _freeGlobal_js__WEBPACK_IMPORTED_MODULE_0__["default"] || freeSelf || Function(\'return this\')();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (root);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/_root.js?\n}')},"./node_modules/lodash-es/_trimmedEndIndex.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (trimmedEndIndex);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/_trimmedEndIndex.js?\n}')},"./node_modules/lodash-es/_unicodeWords.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsDingbatRange = '\\\\u2700-\\\\u27bf',\n    rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n    rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n    rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n    rsPunctuationRange = '\\\\u2000-\\\\u206f',\n    rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n    rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f',\n    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\",\n    rsBreak = '[' + rsBreakRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsDigits = '\\\\d+',\n    rsDingbat = '[' + rsDingbatRange + ']',\n    rsLower = '[' + rsLowerRange + ']',\n    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsUpper = '[' + rsUpperRange + ']',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n    rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n    rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n    rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n    reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n    rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq;\n\n/** Used to match complex or compound words. */\nvar reUnicodeWord = RegExp([\n  rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n  rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n  rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n  rsUpper + '+' + rsOptContrUpper,\n  rsOrdUpper,\n  rsOrdLower,\n  rsDigits,\n  rsEmoji\n].join('|'), 'g');\n\n/**\n * Splits a Unicode `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction unicodeWords(string) {\n  return string.match(reUnicodeWord) || [];\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (unicodeWords);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/_unicodeWords.js?\n}")},"./node_modules/lodash-es/debounce.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _isObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isObject.js */ \"./node_modules/lodash-es/isObject.js\");\n/* harmony import */ var _now_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./now.js */ \"./node_modules/lodash-es/now.js\");\n/* harmony import */ var _toNumber_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./toNumber.js */ \"./node_modules/lodash-es/toNumber.js\");\n\n\n\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = (0,_toNumber_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(wait) || 0;\n  if ((0,_isObject_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax((0,_toNumber_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = (0,_now_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge((0,_now_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])());\n  }\n\n  function debounced() {\n    var time = (0,_now_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (debounce);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/debounce.js?\n}")},"./node_modules/lodash-es/deburr.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _deburrLetter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_deburrLetter.js */ \"./node_modules/lodash-es/_deburrLetter.js\");\n/* harmony import */ var _toString_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./toString.js */ \"./node_modules/lodash-es/toString.js\");\n\n\n\n/** Used to match Latin Unicode letters (excluding mathematical operators). */\nvar reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n/** Used to compose unicode character classes. */\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;\n\n/** Used to compose unicode capture groups. */\nvar rsCombo = '[' + rsComboRange + ']';\n\n/**\n * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n */\nvar reComboMark = RegExp(rsCombo, 'g');\n\n/**\n * Deburrs `string` by converting\n * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n * letters to basic Latin letters and removing\n * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to deburr.\n * @returns {string} Returns the deburred string.\n * @example\n *\n * _.deburr('dj vu');\n * // => 'deja vu'\n */\nfunction deburr(string) {\n  string = (0,_toString_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(string);\n  return string && string.replace(reLatin, _deburrLetter_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]).replace(reComboMark, '');\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (deburr);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/deburr.js?\n}")},"./node_modules/lodash-es/flatten.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _baseFlatten_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_baseFlatten.js */ "./node_modules/lodash-es/_baseFlatten.js");\n\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? (0,_baseFlatten_js__WEBPACK_IMPORTED_MODULE_0__["default"])(array, 1) : [];\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (flatten);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/flatten.js?\n}')},"./node_modules/lodash-es/isArguments.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _baseIsArguments_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_baseIsArguments.js */ "./node_modules/lodash-es/_baseIsArguments.js");\n/* harmony import */ var _isObjectLike_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./isObjectLike.js */ "./node_modules/lodash-es/isObjectLike.js");\n\n\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = (0,_baseIsArguments_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function() { return arguments; }()) ? _baseIsArguments_js__WEBPACK_IMPORTED_MODULE_0__["default"] : function(value) {\n  return (0,_isObjectLike_js__WEBPACK_IMPORTED_MODULE_1__["default"])(value) && hasOwnProperty.call(value, \'callee\') &&\n    !propertyIsEnumerable.call(value, \'callee\');\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (isArguments);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/isArguments.js?\n}')},"./node_modules/lodash-es/isArray.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (isArray);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/isArray.js?\n}")},"./node_modules/lodash-es/isObject.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (isObject);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/isObject.js?\n}")},"./node_modules/lodash-es/isObjectLike.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * Checks if `value` is object-like. A value is object-like if it\'s not `null`\n * and has a `typeof` result of "object".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == \'object\';\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (isObjectLike);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/isObjectLike.js?\n}')},"./node_modules/lodash-es/isString.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _baseGetTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_baseGetTag.js */ "./node_modules/lodash-es/_baseGetTag.js");\n/* harmony import */ var _isArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./isArray.js */ "./node_modules/lodash-es/isArray.js");\n/* harmony import */ var _isObjectLike_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./isObjectLike.js */ "./node_modules/lodash-es/isObjectLike.js");\n\n\n\n\n/** `Object#toString` result references. */\nvar stringTag = \'[object String]\';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString(\'abc\');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == \'string\' ||\n    (!(0,_isArray_js__WEBPACK_IMPORTED_MODULE_1__["default"])(value) && (0,_isObjectLike_js__WEBPACK_IMPORTED_MODULE_2__["default"])(value) && (0,_baseGetTag_js__WEBPACK_IMPORTED_MODULE_0__["default"])(value) == stringTag);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (isString);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/isString.js?\n}')},"./node_modules/lodash-es/isSymbol.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _baseGetTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_baseGetTag.js */ "./node_modules/lodash-es/_baseGetTag.js");\n/* harmony import */ var _isObjectLike_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./isObjectLike.js */ "./node_modules/lodash-es/isObjectLike.js");\n\n\n\n/** `Object#toString` result references. */\nvar symbolTag = \'[object Symbol]\';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol(\'abc\');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == \'symbol\' ||\n    ((0,_isObjectLike_js__WEBPACK_IMPORTED_MODULE_1__["default"])(value) && (0,_baseGetTag_js__WEBPACK_IMPORTED_MODULE_0__["default"])(value) == symbolTag);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (isSymbol);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/isSymbol.js?\n}')},"./node_modules/lodash-es/kebabCase.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _createCompounder_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_createCompounder.js */ \"./node_modules/lodash-es/_createCompounder.js\");\n\n\n/**\n * Converts `string` to\n * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the kebab cased string.\n * @example\n *\n * _.kebabCase('Foo Bar');\n * // => 'foo-bar'\n *\n * _.kebabCase('fooBar');\n * // => 'foo-bar'\n *\n * _.kebabCase('__FOO_BAR__');\n * // => 'foo-bar'\n */\nvar kebabCase = (0,_createCompounder_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function(result, word, index) {\n  return result + (index ? '-' : '') + word.toLowerCase();\n});\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (kebabCase);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/kebabCase.js?\n}")},"./node_modules/lodash-es/noop.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (noop);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/noop.js?\n}')},"./node_modules/lodash-es/now.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _root_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_root.js */ "./node_modules/lodash-es/_root.js");\n\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return _root_js__WEBPACK_IMPORTED_MODULE_0__["default"].Date.now();\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (now);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/now.js?\n}')},"./node_modules/lodash-es/toNumber.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _baseTrim_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_baseTrim.js */ "./node_modules/lodash-es/_baseTrim.js");\n/* harmony import */ var _isObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./isObject.js */ "./node_modules/lodash-es/isObject.js");\n/* harmony import */ var _isSymbol_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./isSymbol.js */ "./node_modules/lodash-es/isSymbol.js");\n\n\n\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber(\'3.2\');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == \'number\') {\n    return value;\n  }\n  if ((0,_isSymbol_js__WEBPACK_IMPORTED_MODULE_2__["default"])(value)) {\n    return NAN;\n  }\n  if ((0,_isObject_js__WEBPACK_IMPORTED_MODULE_1__["default"])(value)) {\n    var other = typeof value.valueOf == \'function\' ? value.valueOf() : value;\n    value = (0,_isObject_js__WEBPACK_IMPORTED_MODULE_1__["default"])(other) ? (other + \'\') : other;\n  }\n  if (typeof value != \'string\') {\n    return value === 0 ? value : +value;\n  }\n  value = (0,_baseTrim_js__WEBPACK_IMPORTED_MODULE_0__["default"])(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (toNumber);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/toNumber.js?\n}')},"./node_modules/lodash-es/toString.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _baseToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_baseToString.js */ \"./node_modules/lodash-es/_baseToString.js\");\n\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : (0,_baseToString_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(value);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (toString);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/toString.js?\n}")},"./node_modules/lodash-es/uniqueId.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _toString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./toString.js */ \"./node_modules/lodash-es/toString.js\");\n\n\n/** Used to generate unique IDs. */\nvar idCounter = 0;\n\n/**\n * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {string} [prefix=''] The value to prefix the ID with.\n * @returns {string} Returns the unique ID.\n * @example\n *\n * _.uniqueId('contact_');\n * // => 'contact_104'\n *\n * _.uniqueId();\n * // => '105'\n */\nfunction uniqueId(prefix) {\n  var id = ++idCounter;\n  return (0,_toString_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(prefix) + id;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (uniqueId);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/uniqueId.js?\n}")},"./node_modules/lodash-es/words.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _asciiWords_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_asciiWords.js */ \"./node_modules/lodash-es/_asciiWords.js\");\n/* harmony import */ var _hasUnicodeWord_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_hasUnicodeWord.js */ \"./node_modules/lodash-es/_hasUnicodeWord.js\");\n/* harmony import */ var _toString_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./toString.js */ \"./node_modules/lodash-es/toString.js\");\n/* harmony import */ var _unicodeWords_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./_unicodeWords.js */ \"./node_modules/lodash-es/_unicodeWords.js\");\n\n\n\n\n\n/**\n * Splits `string` into an array of its words.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {RegExp|string} [pattern] The pattern to match words.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the words of `string`.\n * @example\n *\n * _.words('fred, barney, & pebbles');\n * // => ['fred', 'barney', 'pebbles']\n *\n * _.words('fred, barney, & pebbles', /[^, ]+/g);\n * // => ['fred', 'barney', '&', 'pebbles']\n */\nfunction words(string, pattern, guard) {\n  string = (0,_toString_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(string);\n  pattern = guard ? undefined : pattern;\n\n  if (pattern === undefined) {\n    return (0,_hasUnicodeWord_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(string) ? (0,_unicodeWords_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(string) : (0,_asciiWords_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(string);\n  }\n  return string.match(pattern) || [];\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (words);\n\n\n//# sourceURL=webpack://volvotrucks-na/./node_modules/lodash-es/words.js?\n}")},"./scripts lazy recursive ^.*\\/blocks\\/get\\-an\\-offer\\/get\\-an\\-offer\\.js$ referencedExports: showOffer, showOffer":module=>{eval('{function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error("Cannot find module \'" + req + "\'");\n\t\te.code = \'MODULE_NOT_FOUND\';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = "./scripts lazy recursive ^.*\\\\/blocks\\\\/get\\\\-an\\\\-offer\\\\/get\\\\-an\\\\-offer\\\\.js$ referencedExports: showOffer, showOffer";\nmodule.exports = webpackEmptyAsyncContext;\n\n//# sourceURL=webpack://volvotrucks-na/./scripts/_lazy_^.*\\/blocks\\/get\\-an\\-offer\\/get\\-an\\-offer\\.js$_referencedExports:_showOffer,_showOffer_namespace_object?\n}')},"./scripts/aem.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildBlock: () => (/* binding */ buildBlock),\n/* harmony export */   createOptimizedPicture: () => (/* binding */ createOptimizedPicture),\n/* harmony export */   decorateBlock: () => (/* binding */ decorateBlock),\n/* harmony export */   decorateBlocks: () => (/* binding */ decorateBlocks),\n/* harmony export */   decorateIcons: () => (/* binding */ decorateIcons),\n/* harmony export */   decorateSections: () => (/* binding */ decorateSections),\n/* harmony export */   decorateTemplateAndTheme: () => (/* binding */ decorateTemplateAndTheme),\n/* harmony export */   getMetadata: () => (/* binding */ getMetadata),\n/* harmony export */   loadBlock: () => (/* binding */ loadBlock),\n/* harmony export */   loadCSS: () => (/* binding */ loadCSS),\n/* harmony export */   loadFooter: () => (/* binding */ loadFooter),\n/* harmony export */   loadHeader: () => (/* binding */ loadHeader),\n/* harmony export */   loadScript: () => (/* binding */ loadScript),\n/* harmony export */   loadSections: () => (/* binding */ loadSections),\n/* harmony export */   readBlockConfig: () => (/* binding */ readBlockConfig),\n/* harmony export */   sampleRUM: () => (/* binding */ sampleRUM),\n/* harmony export */   toClassName: () => (/* binding */ toClassName)\n/* harmony export */ });\n/* unused harmony exports decorateButtons, fetchPlaceholders, loadSection, setup, toCamelCase, waitForFirstImage, wrapTextNodes */\n/*\n * Copyright 2024 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// eslint-disable-next-line no-undef\nconst context = __webpack_require__(\"./blocks sync recursive ^[^/]+\\\\/[^/]+\\\\.js$\");\n\n/* eslint-env browser */\n\nfunction sampleRUM(checkpoint, data) {\n  const timeShift = () => (window.performance ? window.performance.now() : Date.now() - window.hlx.rum.firstReadTime);\n  try {\n    window.hlx = window.hlx || {};\n    sampleRUM.enhance = () => {};\n    if (!window.hlx.rum) {\n      const param = new URLSearchParams(window.location.search).get('rum');\n      const weight =\n        (window.SAMPLE_PAGEVIEWS_AT_RATE === 'high' && 10) || (window.SAMPLE_PAGEVIEWS_AT_RATE === 'low' && 1000) || (param === 'on' && 1) || 100;\n      const id = Math.random().toString(36).slice(-4);\n      const isSelected = param !== 'off' && Math.random() * weight < 1;\n\n      window.hlx.rum = {\n        weight,\n        id,\n        isSelected,\n        firstReadTime: window.performance ? window.performance.timeOrigin : Date.now(),\n        sampleRUM,\n        queue: [],\n        collector: (...args) => window.hlx.rum.queue.push(args),\n      };\n      if (isSelected) {\n        const dataFromErrorObj = (error) => {\n          const errData = { source: 'undefined error' };\n          try {\n            errData.target = error.toString();\n            errData.source = error.stack\n              .split('\\n')\n              .filter((line) => line.match(/https?:\\/\\//))\n              .shift()\n              .replace(/at ([^ ]+) \\((.+)\\)/, '$1@$2')\n              .replace(/ at /, '@')\n              .trim();\n          } catch (err) {\n            /* error structure was not as expected */\n          }\n          return errData;\n        };\n\n        window.addEventListener('error', ({ error }) => {\n          const errData = dataFromErrorObj(error);\n          sampleRUM('error', errData);\n        });\n\n        window.addEventListener('unhandledrejection', ({ reason }) => {\n          let errData = {\n            source: 'Unhandled Rejection',\n            target: reason || 'Unknown',\n          };\n          if (reason instanceof Error) {\n            errData = dataFromErrorObj(reason);\n          }\n          sampleRUM('error', errData);\n        });\n\n        sampleRUM.baseURL = sampleRUM.baseURL || new URL(window.RUM_BASE || '/', new URL('https://rum.hlx.page'));\n        sampleRUM.collectBaseURL = sampleRUM.collectBaseURL || sampleRUM.baseURL;\n        sampleRUM.sendPing = (ck, time, pingData = {}) => {\n          const rumData = JSON.stringify({\n            weight,\n            id,\n            referer: window.location.href,\n            checkpoint: ck,\n            t: time,\n            ...pingData,\n          });\n          const urlParams = window.RUM_PARAMS ? `?${new URLSearchParams(window.RUM_PARAMS).toString()}` : '';\n          const { href: url, origin } = new URL(`.rum/${weight}${urlParams}`, sampleRUM.collectBaseURL);\n          const body = origin === window.location.origin ? new Blob([rumData], { type: 'application/json' }) : rumData;\n          navigator.sendBeacon(url, body);\n\n          console.debug(`ping:${ck}`, pingData);\n        };\n        sampleRUM.sendPing('top', timeShift());\n\n        sampleRUM.enhance = () => {\n          // only enhance once\n          if (document.querySelector('script[src*=\"rum-enhancer\"]')) {\n            return;\n          }\n          const { enhancerVersion, enhancerHash } = sampleRUM.enhancerContext || {};\n          const script = document.createElement('script');\n          if (enhancerHash) {\n            script.integrity = enhancerHash;\n            script.setAttribute('crossorigin', 'anonymous');\n          }\n          script.src = new URL(`.rum/@adobe/helix-rum-enhancer@${enhancerVersion || '^2'}/src/index.js`, sampleRUM.baseURL).href;\n          document.head.appendChild(script);\n        };\n        if (!window.hlx.RUM_MANUAL_ENHANCE) {\n          sampleRUM.enhance();\n        }\n      }\n    }\n    if (window.hlx.rum && window.hlx.rum.isSelected && checkpoint) {\n      window.hlx.rum.collector(checkpoint, data, timeShift());\n    }\n    document.dispatchEvent(new CustomEvent('rum', { detail: { checkpoint, data } }));\n  } catch (error) {\n    // something went awry\n  }\n}\n\n/**\n * Setup block utils.\n */\nfunction setup() {\n  window.hlx = window.hlx || {};\n  window.hlx.RUM_MASK_URL = 'full';\n  window.hlx.RUM_MANUAL_ENHANCE = true;\n  window.hlx.codeBasePath = '';\n  window.hlx.lighthouse = new URLSearchParams(window.location.search).get('lighthouse') === 'on';\n\n  const scriptEl = document.querySelector('script[src$=\"/scripts/scripts.js\"]');\n  if (scriptEl) {\n    try {\n      [window.hlx.codeBasePath] = new URL(scriptEl.src).pathname.split('/scripts/scripts.js');\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\n\n/**\n * Auto initialization.\n */\nfunction init() {\n  setup();\n  sampleRUM.collectBaseURL = window.origin;\n  sampleRUM();\n}\n\n/**\n * Sanitizes a string for use as class name.\n * @param {string} name The unsanitized string\n * @returns {string} The class name\n */\nfunction toClassName(name) {\n  return typeof name === 'string'\n    ? name\n        .toLowerCase()\n        .replace(/[^0-9a-z]/gi, '-')\n        .replace(/-+/g, '-')\n        .replace(/^-|-$/g, '')\n    : '';\n}\n\n/**\n * Sanitizes a string for use as a js property name.\n * @param {string} name The unsanitized string\n * @returns {string} The camelCased name\n */\nfunction toCamelCase(name) {\n  return toClassName(name).replace(/-([a-z])/g, (g) => g[1].toUpperCase());\n}\n\n/**\n * Extracts the config from a block.\n * @param {Element} block The block element\n * @returns {object} The block config\n */\nfunction readBlockConfig(block) {\n  const config = {};\n  block.querySelectorAll(':scope > div').forEach((row) => {\n    if (row.children) {\n      const cols = [...row.children];\n      if (cols[1]) {\n        const col = cols[1];\n        const name = toClassName(cols[0].textContent);\n        let value = '';\n        if (col.querySelector('a')) {\n          const as = [...col.querySelectorAll('a')];\n          if (as.length === 1) {\n            value = as[0].href;\n          } else {\n            value = as.map((a) => a.href);\n          }\n        } else if (col.querySelector('img')) {\n          const imgs = [...col.querySelectorAll('img')];\n          if (imgs.length === 1) {\n            value = imgs[0].src;\n          } else {\n            value = imgs.map((img) => img.src);\n          }\n        } else if (col.querySelector('p')) {\n          const ps = [...col.querySelectorAll('p')];\n          if (ps.length === 1) {\n            value = ps[0].textContent;\n          } else {\n            value = ps.map((p) => p.textContent);\n          }\n        } else {\n          value = row.children[1].textContent;\n        }\n        config[name] = value;\n      }\n    }\n  });\n  return config;\n}\n\n/**\n * Loads a CSS file.\n * @param {string} href URL to the CSS file\n */\nasync function loadCSS(href) {\n  return new Promise((resolve, reject) => {\n    if (!document.querySelector(`head > link[href=\"${href}\"]`)) {\n      const link = document.createElement('link');\n      link.rel = 'stylesheet';\n      link.href = href;\n      link.onload = resolve;\n      link.onerror = reject;\n      document.head.append(link);\n    } else {\n      resolve();\n    }\n  });\n}\n\n/**\n * Loads a non module JS file.\n * @param {string} src URL to the JS file\n * @param {Object} attrs additional optional attributes\n */\nasync function loadScript(src, attrs) {\n  return new Promise((resolve, reject) => {\n    if (!document.querySelector(`head > script[src=\"${src}\"]`)) {\n      const script = document.createElement('script');\n      script.src = src;\n      if (attrs) {\n        for (const attr in attrs) {\n          script.setAttribute(attr, attrs[attr]);\n        }\n      }\n      script.onload = resolve;\n      script.onerror = reject;\n      document.head.append(script);\n    } else {\n      resolve();\n    }\n  });\n}\n\n/**\n * Retrieves the content of metadata tags.\n * @param {string} name The metadata name (or property)\n * @param {Document} doc Document object to query for metadata. Defaults to the window's document\n * @returns {string} The metadata value(s)\n */\nfunction getMetadata(name, doc = document) {\n  const attr = name && name.includes(':') ? 'property' : 'name';\n  const meta = [...doc.head.querySelectorAll(`meta[${attr}=\"${name}\"]`)].map((m) => m.content).join(', ');\n  return meta || '';\n}\n\n/**\n * Returns a picture element with webp and fallbacks\n * @param {string} src The image URL\n * @param {string} [alt] The image alternative text\n * @param {boolean} [eager] Set loading attribute to eager\n * @param {Array} [breakpoints] Breakpoints and corresponding params (eg. width)\n * @returns {Element} The picture element\n */\nfunction createOptimizedPicture(src, alt = '', eager = false, breakpoints = [{ media: '(min-width: 600px)', width: '2000' }, { width: '750' }]) {\n  const url = new URL(src, window.location.href);\n  const picture = document.createElement('picture');\n  const { pathname } = url;\n  const ext = pathname.substring(pathname.lastIndexOf('.') + 1);\n\n  // webp\n  breakpoints.forEach((br) => {\n    const source = document.createElement('source');\n    if (br.media) {\n      source.setAttribute('media', br.media);\n    }\n    source.setAttribute('type', 'image/webp');\n    source.setAttribute('srcset', `${pathname}?width=${br.width}&format=webply&optimize=medium`);\n    picture.appendChild(source);\n  });\n\n  // fallback\n  breakpoints.forEach((br, i) => {\n    if (i < breakpoints.length - 1) {\n      const source = document.createElement('source');\n      if (br.media) {\n        source.setAttribute('media', br.media);\n      }\n      source.setAttribute('srcset', `${pathname}?width=${br.width}&format=${ext}&optimize=medium`);\n      picture.appendChild(source);\n    } else {\n      const img = document.createElement('img');\n      img.setAttribute('loading', eager ? 'eager' : 'lazy');\n      img.setAttribute('alt', alt);\n      picture.appendChild(img);\n      img.setAttribute('src', `${pathname}?width=${br.width}&format=${ext}&optimize=medium`);\n    }\n  });\n\n  return picture;\n}\n\n/**\n * Set template (page structure) and theme (page styles).\n */\nfunction decorateTemplateAndTheme() {\n  const addClasses = (element, classes) => {\n    classes.split(',').forEach((c) => {\n      element.classList.add(toClassName(c.trim()));\n    });\n  };\n  const template = getMetadata('template');\n  if (template) {\n    addClasses(document.body, template);\n  }\n  const theme = getMetadata('theme');\n  if (theme) {\n    addClasses(document.body, theme);\n  }\n}\n\n/**\n * Wrap inline text content of block cells within a <p> tag.\n * @param {Element} block the block element\n */\nfunction wrapTextNodes(block) {\n  const validWrappers = ['P', 'PRE', 'UL', 'OL', 'PICTURE', 'TABLE', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6'];\n\n  const wrap = (el) => {\n    const wrapper = document.createElement('p');\n    wrapper.append(...el.childNodes);\n    el.append(wrapper);\n  };\n\n  block.querySelectorAll(':scope > div > div').forEach((blockColumn) => {\n    if (blockColumn.hasChildNodes()) {\n      const hasWrapper = !!blockColumn.firstElementChild && validWrappers.some((tagName) => blockColumn.firstElementChild.tagName === tagName);\n      if (!hasWrapper) {\n        wrap(blockColumn);\n      } else if (blockColumn.firstElementChild.tagName === 'PICTURE' && (blockColumn.children.length > 1 || !!blockColumn.textContent.trim())) {\n        wrap(blockColumn);\n      }\n    }\n  });\n}\n\n/**\n * Decorates paragraphs containing a single link as buttons.\n * @param {Element} element container element\n */\nfunction decorateButtons(element) {\n  element.querySelectorAll('a').forEach((a) => {\n    a.title = a.title || a.textContent;\n    if (a.href !== a.textContent) {\n      const up = a.parentElement;\n      const twoup = a.parentElement.parentElement;\n      if (!a.querySelector('img')) {\n        if (up.childNodes.length === 1 && (up.tagName === 'P' || up.tagName === 'DIV')) {\n          a.className = 'button'; // default\n          up.classList.add('button-container');\n        }\n        if (up.childNodes.length === 1 && up.tagName === 'STRONG' && twoup.childNodes.length === 1 && twoup.tagName === 'P') {\n          a.className = 'button primary';\n          twoup.classList.add('button-container');\n        }\n        if (up.childNodes.length === 1 && up.tagName === 'EM' && twoup.childNodes.length === 1 && twoup.tagName === 'P') {\n          a.className = 'button secondary';\n          twoup.classList.add('button-container');\n        }\n      }\n    }\n  });\n}\n\n/**\n * Add <img> for icon, prefixed with codeBasePath and optional prefix.\n * @param {Element} [span] span element with icon classes\n * @param {string} [prefix] prefix to be added to icon src\n * @param {string} [alt] alt text to be added to icon\n */\nfunction decorateIcon(span, prefix = '', alt = '') {\n  const iconName = Array.from(span.classList)\n    .find((c) => c.startsWith('icon-'))\n    .substring(5);\n  const img = document.createElement('img');\n  img.dataset.iconName = iconName;\n  img.src = `${window.hlx.codeBasePath}${prefix}/icons/${iconName}.svg`;\n  img.alt = alt;\n  img.loading = 'lazy';\n  span.append(img);\n}\n\n/**\n * Add <img> for icons, prefixed with codeBasePath and optional prefix.\n * @param {Element} [element] Element containing icons\n * @param {string} [prefix] prefix to be added to icon the src\n */\nfunction decorateIcons(element, prefix = '') {\n  const icons = element.querySelectorAll('span.icon');\n  icons.forEach((span) => {\n    decorateIcon(span, prefix);\n  });\n}\n\n/**\n * Decorates all sections in a container element.\n * @param {Element} main The container element\n */\nfunction decorateSections(main) {\n  main.querySelectorAll(':scope > div').forEach((section) => {\n    const wrappers = [];\n    let defaultContent = false;\n    [...section.children].forEach((e) => {\n      if (e.tagName === 'DIV' || !defaultContent) {\n        const wrapper = document.createElement('div');\n        wrappers.push(wrapper);\n        defaultContent = e.tagName !== 'DIV';\n        if (defaultContent) {\n          wrapper.classList.add('default-content-wrapper');\n        }\n      }\n      wrappers[wrappers.length - 1].append(e);\n    });\n    wrappers.forEach((wrapper) => section.append(wrapper));\n    section.classList.add('section');\n    section.dataset.sectionStatus = 'initialized';\n    section.style.display = 'none';\n\n    // Process section metadata\n    const sectionMeta = section.querySelector('div.section-metadata');\n    if (sectionMeta) {\n      const meta = readBlockConfig(sectionMeta);\n      Object.keys(meta).forEach((key) => {\n        if (key === 'style') {\n          const styles = meta.style\n            .split(',')\n            .filter((style) => style)\n            .map((style) => toClassName(style.trim()));\n          styles.forEach((style) => section.classList.add(style));\n        } else {\n          section.dataset[toCamelCase(key)] = meta[key];\n        }\n      });\n      sectionMeta.parentNode.remove();\n    }\n  });\n}\n\n/**\n * Gets placeholders object.\n * @param {string} [prefix] Location of placeholders\n * @returns {object} Window placeholders object\n */\nasync function fetchPlaceholders(prefix = 'default') {\n  window.placeholders = window.placeholders || {};\n  if (!window.placeholders[prefix]) {\n    window.placeholders[prefix] = new Promise((resolve) => {\n      fetch(`${prefix === 'default' ? '' : prefix}/placeholders.json`)\n        .then((resp) => {\n          if (resp.ok) {\n            return resp.json();\n          }\n          return {};\n        })\n        .then((json) => {\n          const placeholders = {};\n          json.data\n            .filter((placeholder) => placeholder.Key)\n            .forEach((placeholder) => {\n              placeholders[toCamelCase(placeholder.Key)] = placeholder.Text;\n            });\n          window.placeholders[prefix] = placeholders;\n          resolve(window.placeholders[prefix]);\n        })\n        .catch(() => {\n          // error loading placeholders\n          window.placeholders[prefix] = {};\n          resolve(window.placeholders[prefix]);\n        });\n    });\n  }\n  return window.placeholders[`${prefix}`];\n}\n\n/**\n * Builds a block DOM Element from a two dimensional array, string, or object\n * @param {string} blockName name of the block\n * @param {*} content two dimensional array or string or object of content\n */\nfunction buildBlock(blockName, content) {\n  const table = Array.isArray(content) ? content : [[content]];\n  const blockEl = document.createElement('div');\n  // build image block nested div structure\n  blockEl.classList.add(blockName);\n  table.forEach((row) => {\n    const rowEl = document.createElement('div');\n    row.forEach((col) => {\n      const colEl = document.createElement('div');\n      const vals = col.elems ? col.elems : [col];\n      vals.forEach((val) => {\n        if (val) {\n          if (typeof val === 'string') {\n            colEl.innerHTML += val;\n          } else {\n            colEl.appendChild(val);\n          }\n        }\n      });\n      rowEl.appendChild(colEl);\n    });\n    blockEl.appendChild(rowEl);\n  });\n  return blockEl;\n}\n\n/**\n * Loads JS and CSS for a block.\n * @param {Element} block The block element\n */\nasync function loadBlock(block) {\n  const status = block.dataset.blockStatus;\n  if (status !== 'loading' && status !== 'loaded') {\n    block.dataset.blockStatus = 'loading';\n    const { blockName } = block.dataset;\n    try {\n      const cssLoaded = loadCSS(`${window.hlx.codeBasePath}/blocks/${blockName}/${blockName}.css`);\n      const decorationComplete = new Promise((resolve) => {\n        (async () => {\n          try {\n            const blockPath = `${blockName}/${blockName}.js`;\n            const mod = await context(blockPath);\n            if (mod.default) {\n              await mod.default(block);\n            }\n          } catch (error) {\n            console.log(`failed to load module for ${blockName}`, error);\n          }\n          resolve();\n        })();\n      });\n      await Promise.all([cssLoaded, decorationComplete]);\n    } catch (error) {\n      console.log(`failed to load block ${blockName}`, error);\n    }\n    block.dataset.blockStatus = 'loaded';\n  }\n  return block;\n}\n\n/**\n * Decorates a block.\n * @param {Element} block The block element\n */\nfunction decorateBlock(block) {\n  const shortBlockName = block.classList[0];\n  if (shortBlockName) {\n    block.classList.add('block');\n    block.dataset.blockName = shortBlockName;\n    block.dataset.blockStatus = 'initialized';\n    wrapTextNodes(block);\n    const blockWrapper = block.parentElement;\n    blockWrapper.classList.add(`${shortBlockName}-wrapper`);\n    const section = block.closest('.section');\n    if (section) {\n      section.classList.add(`${shortBlockName}-container`);\n    }\n  }\n}\n\n/**\n * Decorates all blocks in a container element.\n * @param {Element} main The container element\n */\nfunction decorateBlocks(main) {\n  main.querySelectorAll('div.section > div > div').forEach(decorateBlock);\n}\n\n/**\n * Loads a block named 'header' into header\n * @param {Element} header header element\n * @returns {Promise}\n */\nasync function loadHeader(header) {\n  const headerBlock = buildBlock('header', '');\n  header.append(headerBlock);\n  decorateBlock(headerBlock);\n  return loadBlock(headerBlock);\n}\n\n/**\n * Loads a block named 'footer' into footer\n * @param footer footer element\n * @returns {Promise}\n */\nasync function loadFooter(footer) {\n  const footerBlock = buildBlock('footer', '');\n  footer.append(footerBlock);\n  decorateBlock(footerBlock);\n  return loadBlock(footerBlock);\n}\n\n/**\n * Wait for Image.\n * @param {Element} section section element\n */\nasync function waitForFirstImage(section) {\n  const lcpCandidate = section.querySelector('img');\n  await new Promise((resolve) => {\n    if (lcpCandidate && !lcpCandidate.complete) {\n      lcpCandidate.setAttribute('loading', 'eager');\n      lcpCandidate.addEventListener('load', resolve);\n      lcpCandidate.addEventListener('error', resolve);\n    } else {\n      resolve();\n    }\n  });\n}\n\n/**\n * Loads all blocks in a section.\n * @param {Element} section The section element\n */\n\nasync function loadSection(section, loadCallback) {\n  const status = section.dataset.sectionStatus;\n  if (!status || status === 'initialized') {\n    section.dataset.sectionStatus = 'loading';\n    const blocks = [...section.querySelectorAll('div.block')];\n    for (let i = 0; i < blocks.length; i += 1) {\n      await loadBlock(blocks[i]);\n    }\n    if (loadCallback) {\n      await loadCallback(section);\n    }\n    section.dataset.sectionStatus = 'loaded';\n    section.style.display = null;\n  }\n}\n\n/**\n * Loads all sections.\n * @param {Element} element The parent element of sections to load\n */\n\nasync function loadSections(element) {\n  const sections = [...element.querySelectorAll('div.section')];\n  for (let i = 0; i < sections.length; i += 1) {\n    await loadSection(sections[i]);\n    if (i === 0 && sampleRUM.enhance) {\n      sampleRUM.enhance();\n    }\n  }\n}\n\ninit();\n\n\n\n\n//# sourceURL=webpack://volvotrucks-na/./scripts/aem.js?\n}")},"./scripts/carousel-helper.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   listenScroll: () => (/* binding */ listenScroll),\n/* harmony export */   moveNavigationLine: () => (/* binding */ moveNavigationLine),\n/* harmony export */   setCarouselPosition: () => (/* binding */ setCarouselPosition)\n/* harmony export */ });\n/* unused harmony export createArrowControls */\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./scripts/common.js\");\n/* harmony import */ var _motion_helper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./motion-helper.js */ \"./scripts/motion-helper.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_common_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\n\n/**\n * Listens to scroll events and triggers a function when elements intersect with the viewport\n *\n * @param {HTMLElement} carousel - The carousel container element.\n * @param {HTMLElement[]} elements - The elements to observe for intersection.\n * @param {HTMLElement} navigation - The navigation element.\n * @param {Function} updateFn - Function to be called when an element intersects with the viewport\n * @param {number} [threshold=1] - The threshold at which to trigger the update function.\n */\nconst listenScroll = (carousel, elements, navigation, updateFn, threshold = 1) => {\n  const io = new IntersectionObserver(\n    (entries) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          updateFn(elements, entry, navigation);\n        }\n      });\n    },\n    {\n      root: carousel,\n      threshold,\n    },\n  );\n\n  elements.forEach((el) => {\n    io.observe(el);\n  });\n};\n\n/**\n * Sets the position of the carousel to the specified index.\n *\n * @param {HTMLElement} carousel - The carousel element.\n * @param {number} index - The index to set the carousel position to.\n * @param {boolean} [smoothScroll=true] - Whether to use smooth scrolling or not. Default is true.\n * @param {number} [scrollDuration=960] - The duration of the scroll animation. Default is 960ms.\n */\nconst setCarouselPosition = (carousel, index, smoothScroll = true, scrollDuration = 960) => {\n  const carouselStyle = window.getComputedStyle(carousel);\n  const gap = parseFloat(carouselStyle.columnGap || 0);\n  const firstEl = carousel.firstElementChild;\n  const elementWidth = firstEl.getBoundingClientRect().width;\n  const totalWidth = elementWidth + gap;\n  const targetX = index * totalWidth;\n\n  if (smoothScroll) {\n    (0,_motion_helper_js__WEBPACK_IMPORTED_MODULE_1__.smoothScrollHorizontal)(carousel, targetX, scrollDuration);\n  } else {\n    const style = window.getComputedStyle(firstEl);\n    const marginLeft = parseFloat(style.marginLeft);\n\n    carousel.scrollTo({\n      left: targetX + marginLeft,\n      behavior: 'instant',\n    });\n  }\n};\n\n/**\n * Moves the navigation line to the active tab by manipulating CSS custom properties.\n *\n * @param {HTMLElement} activeTab - The active tab element.\n * @param {HTMLElement} tabNavigation - The tab navigation element.\n */\nconst moveNavigationLine = (activeTab, tabNavigation) => {\n  const { x: navigationX } = tabNavigation.getBoundingClientRect();\n  const { x, width } = activeTab.getBoundingClientRect();\n  tabNavigation.style.setProperty('--navigation-line-width', `${width}`);\n  tabNavigation.style.setProperty('--navigation-line-left', `${x + tabNavigation.scrollLeft - navigationX}px`);\n};\n\n/**\n * Creates arrow controls for a carousel.\n *\n * @param {HTMLElement} carousel - The carousel element.\n * @param {string} scrollSelector - The selector for the scrollable items within the carousel.\n * @param {string[]} controlClasses - The classes to apply to the arrow controls.\n * @param {DocumentFragment} arrowFragment - The arrow controls as a document fragment.\n */\nconst createArrowControls = (carousel, scrollSelector, controlClasses, arrowFragment) => {\n  /**\n   * Navigates the carousel in the specified direction.\n   *\n   * @param {string} direction - The direction to navigate ('left' or 'right').\n   */\n  function navigate(direction) {\n    const activeItem = carousel.querySelector(scrollSelector);\n    let index = [...activeItem.parentNode.children].indexOf(activeItem);\n    if (direction === 'left') {\n      index -= 1;\n      if (index === -1) {\n        // Go to the last item if at the start\n        index = carousel.childElementCount;\n      }\n    } else {\n      index += 1;\n      if (index > carousel.childElementCount - 1) {\n        index = 0; // Go to the first item if at the end\n      }\n    }\n\n    setCarouselPosition(carousel, index);\n  }\n\n  const arrowControls = (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('ul', { classes: controlClasses });\n  arrowControls.append(...arrowFragment.children);\n  carousel.insertAdjacentElement('beforebegin', arrowControls);\n  const [prevButton, nextButton] = arrowControls.querySelectorAll(':scope button');\n  prevButton.addEventListener('click', () => navigate('left'));\n  nextButton.addEventListener('click', () => navigate('right'));\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./scripts/carousel-helper.js?\n}")},"./scripts/common.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COOKIE_CONFIGS: () => (/* binding */ COOKIE_CONFIGS),\n/* harmony export */   HEADER_CONFIGS: () => (/* binding */ HEADER_CONFIGS),\n/* harmony export */   HOLIDAYS: () => (/* binding */ HOLIDAYS),\n/* harmony export */   MAGAZINE_CONFIGS: () => (/* binding */ MAGAZINE_CONFIGS),\n/* harmony export */   SEARCH_CONFIGS: () => (/* binding */ SEARCH_CONFIGS),\n/* harmony export */   TOOLS_CONFIGS: () => (/* binding */ TOOLS_CONFIGS),\n/* harmony export */   TRUCK_CONFIGURATOR_URLS: () => (/* binding */ TRUCK_CONFIGURATOR_URLS),\n/* harmony export */   addClassIfChildHasClass: () => (/* binding */ addClassIfChildHasClass),\n/* harmony export */   adjustPretitle: () => (/* binding */ adjustPretitle),\n/* harmony export */   createElement: () => (/* binding */ createElement),\n/* harmony export */   createNewSection: () => (/* binding */ createNewSection),\n/* harmony export */   createResponsivePicture: () => (/* binding */ createResponsivePicture),\n/* harmony export */   debounce: () => (/* binding */ debounce),\n/* harmony export */   decorateIcons: () => (/* binding */ decorateIcons),\n/* harmony export */   deepMerge: () => (/* binding */ deepMerge),\n/* harmony export */   extractObjectFromArray: () => (/* binding */ extractObjectFromArray),\n/* harmony export */   formatStringToArray: () => (/* binding */ formatStringToArray),\n/* harmony export */   generateId: () => (/* binding */ generateId),\n/* harmony export */   getDateFromTimestamp: () => (/* binding */ getDateFromTimestamp),\n/* harmony export */   getHref: () => (/* binding */ getHref),\n/* harmony export */   getJsonFromUrl: () => (/* binding */ getJsonFromUrl),\n/* harmony export */   getLanguagePath: () => (/* binding */ getLanguagePath),\n/* harmony export */   getLocale: () => (/* binding */ getLocale),\n/* harmony export */   getOrigin: () => (/* binding */ getOrigin),\n/* harmony export */   getPlaceholders: () => (/* binding */ getPlaceholders),\n/* harmony export */   getTextLabel: () => (/* binding */ getTextLabel),\n/* harmony export */   isDevHost: () => (/* binding */ isDevHost),\n/* harmony export */   isHttp: () => (/* binding */ isHttp),\n/* harmony export */   isMobileOrTabletViewport: () => (/* binding */ isMobileOrTabletViewport),\n/* harmony export */   isMobileViewport: () => (/* binding */ isMobileViewport),\n/* harmony export */   isPerformanceAllowed: () => (/* binding */ isPerformanceAllowed),\n/* harmony export */   isSocialAllowed: () => (/* binding */ isSocialAllowed),\n/* harmony export */   isTabletOnlyViewport: () => (/* binding */ isTabletOnlyViewport),\n/* harmony export */   isTargetingAllowed: () => (/* binding */ isTargetingAllowed),\n/* harmony export */   loadTemplate: () => (/* binding */ loadTemplate),\n/* harmony export */   normalizeUrlText: () => (/* binding */ normalizeUrlText),\n/* harmony export */   removeEmptyTags: () => (/* binding */ removeEmptyTags),\n/* harmony export */   slugify: () => (/* binding */ slugify),\n/* harmony export */   toPathKey: () => (/* binding */ toPathKey),\n/* harmony export */   unwrapDivs: () => (/* binding */ unwrapDivs),\n/* harmony export */   variantsClassesToBEM: () => (/* binding */ variantsClassesToBEM),\n/* harmony export */   waitForElementInDOM: () => (/* binding */ waitForElementInDOM)\n/* harmony export */ });\n/* unused harmony exports NEWS_FEED_CONFIGS, checkOneTrustGroup */\n/* harmony import */ var _aem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./aem.js */ \"./scripts/aem.js\");\n\n\n/**\n * Placeholders data for the application and the translations\n * @type {Object|null}\n */\nlet placeholders = null;\n/**\n * Promise that resolves to the placeholders data.\n * Used to cache and share the placeholders loading operation across multiple requests.\n * @type {Promise<Object>|null}\n */\nlet placeholdersPromise = null;\n\n/**\n * Returns the true origin of the current page in the browser.\n * If the page is running in a iframe with srcdoc, the ancestor origin is returned.\n * @returns {String} The true origin\n */\nfunction getOrigin() {\n  return window.location.href === 'about:srcdoc' ? window.parent.location.origin : window.location.origin;\n}\n\nfunction getHref() {\n  if (window.location.href !== 'about:srcdoc') {\n    return window.location.href;\n  }\n\n  const urlParams = new URLSearchParams(window.parent.location.search);\n\n  return `${window.parent.location.origin}${urlParams.get('path')}`;\n}\n\nconst getLanguagePath = () => {\n  const { pathname } = new URL(window.location.href);\n  const langCodeMatch = pathname.match('^(/[a-z]{2}(-[a-z]{2})?/).*');\n  return langCodeMatch ? langCodeMatch[1] : '/';\n};\n\n/**\n * Updates the `placeholders` variable by fetching the `placeholder.json` file.\n *\n * This function ensures placeholders are fetched only once by maintaining a promise-based\n * locking mechanism. Subsequent calls will wait for the initial fetch to complete.\n * The placeholders data is retrieved from a language-specific JSON file and stored globally.\n *\n * @async\n * @returns {Promise<void>} Resolves when placeholders have been fetched and the global variable updated\n * @throws {Error} Logs error to console if placeholder fetch fails, but does not reject\n *\n * @example\n * await getPlaceholders();\n * // placeholders global variable is now populated\n */\nasync function getPlaceholders() {\n  if (!placeholders && !placeholdersPromise) {\n    const url = `${getLanguagePath()}placeholder.json`;\n    placeholdersPromise = fetch(url)\n      .then((resp) => resp.json())\n      .then((data) => {\n        placeholders = data;\n        placeholdersPromise = null;\n      })\n      .catch((error) => {\n        console.error('Error fetching placeholders:', error);\n        placeholdersPromise = null;\n      });\n  }\n  await placeholdersPromise;\n}\n\n/**\n * Returns the text label for the given key from the placeholders data.\n *\n * If the key is not found, or placeholders are not loaded, it returns the key itself.\n * @param {String} key The key to look for in the placeholders data\n * @returns {String} The text label or the key if not found\n */\nfunction getTextLabel(key) {\n  return placeholders?.data.find((el) => el.Key === key)?.Text || key;\n}\n\n/**\n * Create an element with the given id and classes.\n * @param {string} tagName the tag\n * @param {Object} options the element options\n * @param {string[]|string} [options.classes=[]] the class or classes to add\n * @param {Object} [options.props={}] any other attributes to add to the element\n * @returns {HTMLElement} the element\n */\nfunction createElement(tagName, options = {}) {\n  const { classes = [], props = {} } = options;\n  const elem = document.createElement(tagName);\n  const isString = typeof classes === 'string';\n  if (classes || (isString && classes !== '') || (!isString && classes.length > 0)) {\n    const classesArr = isString ? [classes] : classes;\n    elem.classList.add(...classesArr);\n  }\n  if (!isString && classes.length === 0) {\n    elem.removeAttribute('class');\n  }\n\n  if (props) {\n    Object.keys(props).forEach((propName) => {\n      const value = propName === props[propName] ? '' : props[propName];\n      elem.setAttribute(propName, value);\n    });\n  }\n\n  return elem;\n}\n\n/**\n * Create a new section with the specific name.\n * Append the given node to this section.\n * @param {string} blockName - Block name.\n * @param {string} sectionName - Name of the section\n *  (content-section, media-section etc...).\n * @param {HTMLElement} node - HTML element that represents\n *  the node to append to the section.\n * @returns {HTMLElement} - Returns an HTML element representing\n *  the new section with appended cell.\n */\nfunction createNewSection(blockName, sectionName, node) {\n  const section = createElement('div', { classes: `${blockName}__${sectionName}-section` });\n  section.append(node);\n  return section;\n}\n\n/**\n * Waits for a descendant matching selector to exist within parent AND be in the DOM,\n * then calls callback(element).\n */\nfunction waitForElementInDOM(parent, selector, callback) {\n  const el = parent.querySelector(selector);\n  if (el && document.body.contains(el)) {\n    callback(el);\n    return;\n  }\n  const observer = new MutationObserver(() => {\n    const el = parent.querySelector(selector);\n    if (el && document.body.contains(el)) {\n      observer.disconnect();\n      callback(el);\n    }\n  });\n  observer.observe(parent, { childList: true, subtree: true });\n}\n\nconst ICONS_CACHE = {};\n/**\n * Replace icons with inline SVG and prefix with codeBasePath.\n * @param {Element} [element] Element containing icons\n */\nasync function decorateIcons(element) {\n  // Prepare the inline sprite\n  let svgSprite = document.getElementById('franklin-svg-sprite');\n  if (!svgSprite) {\n    const div = document.createElement('div');\n    div.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" id=\"franklin-svg-sprite\" style=\"display: none\"></svg>';\n    svgSprite = div.firstElementChild;\n    document.body.append(div.firstElementChild);\n  }\n\n  // Download all new icons\n  const icons = [...element.querySelectorAll('span.icon')];\n  await Promise.all(\n    icons.map(async (span) => {\n      const iconName = Array.from(span.classList)\n        .find((c) => c.startsWith('icon-'))\n        .substring(5);\n      if (!ICONS_CACHE[iconName]) {\n        ICONS_CACHE[iconName] = true;\n        try {\n          const response = await fetch(`${window.hlx.codeBasePath}/icons/${iconName}.svg`);\n          if (!response.ok) {\n            ICONS_CACHE[iconName] = false;\n            return;\n          }\n          // Styled icons don't play nice with the sprite approach because of shadow dom isolation\n          const svg = await response.text();\n          if (svg.match(/(<style | class=)/)) {\n            ICONS_CACHE[iconName] = { styled: true, html: svg };\n          } else {\n            ICONS_CACHE[iconName] = {\n              html: svg\n                .replace('<svg', `<symbol id=\"icons-sprite-${iconName}\"`)\n                .replace(/ width=\".*?\"/, '')\n                .replace(/ height=\".*?\"/, '')\n                .replace('</svg>', '</symbol>'),\n            };\n          }\n        } catch (error) {\n          ICONS_CACHE[iconName] = false;\n\n          console.error(error);\n        }\n      }\n    }),\n  );\n\n  const symbols = Object.keys(ICONS_CACHE)\n    .filter((k) => !svgSprite.querySelector(`#icons-sprite-${k}`))\n    .map((k) => ICONS_CACHE[k])\n    .filter((v) => !v.styled)\n    .map((v) => v.html)\n    .join('\\n');\n  svgSprite.innerHTML += symbols;\n\n  icons.forEach((span) => {\n    const iconName = Array.from(span.classList)\n      .find((c) => c.startsWith('icon-'))\n      .substring(5);\n    const parent = span.firstElementChild?.tagName === 'A' ? span.firstElementChild : span;\n    // Styled icons need to be inlined as-is, while unstyled ones can leverage the sprite\n    if (ICONS_CACHE[iconName].styled) {\n      parent.innerHTML = ICONS_CACHE[iconName].html;\n    } else {\n      parent.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\"><use href=\"#icons-sprite-${iconName}\"/></svg>`;\n    }\n  });\n}\n\nasync function loadTemplate(doc, templateName) {\n  try {\n    await (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.loadCSS)(`${window.hlx.codeBasePath}/templates/${templateName}/${templateName}.css`);\n    const decorationComplete = new Promise((resolve) => {\n      (async () => {\n        try {\n          const mod = await __webpack_require__(\"./templates lazy recursive ^\\\\.\\\\/.*\\\\/.*\\\\.js$ referencedExports: default, default\")(`./${templateName}/${templateName}.js`);\n          if (mod.default) {\n            await mod.default(doc);\n          }\n        } catch (error) {\n          console.log(`failed to load template for ${templateName}`, error);\n        }\n        resolve();\n      })();\n    });\n    await decorationComplete;\n  } catch (error) {\n    console.log(`failed to load block ${templateName}`, error);\n  }\n}\n\nconst removeEmptyTags = (block, isRecursive) => {\n  const isEmpty = (node) => {\n    const tagName = `</${node.tagName}>`;\n\n    // exclude iframes\n    if (node.tagName.toUpperCase() === 'IFRAME') {\n      return false;\n    }\n    // checking that the tag is not autoclosed to make sure we don't remove <meta />\n    // checking the innerHTML and trim it to make sure the content inside the tag is 0\n    return node.outerHTML.slice(tagName.length * -1).toUpperCase() === tagName && node.innerHTML.trim().length === 0;\n  };\n\n  if (isRecursive) {\n    block.querySelectorAll(':scope > *').forEach((node) => {\n      if (node.children.length > 0) {\n        removeEmptyTags(node, true);\n      }\n\n      if (isEmpty(node)) {\n        node.remove();\n      }\n    });\n    return;\n  }\n\n  block.querySelectorAll('*').forEach((node) => {\n    if (isEmpty(node)) {\n      node.remove();\n    }\n  });\n};\n\nconst unwrapDivs = (element, options = {}) => {\n  const stack = [element];\n  const { ignoreDataAlign = false } = options;\n\n  while (stack.length > 0) {\n    const currentElement = stack.pop();\n\n    let i = 0;\n    while (i < currentElement.children.length) {\n      const node = currentElement.children[i];\n      const attributesLength = [...node.attributes].filter((el) => {\n        if (ignoreDataAlign) {\n          return !(el.name.startsWith('data-align') || el.name.startsWith('data-valign'));\n        }\n\n        return el;\n      }).length;\n\n      if (node.tagName === 'DIV' && attributesLength === 0) {\n        while (node.firstChild) {\n          currentElement.insertBefore(node.firstChild, node);\n        }\n        node.remove();\n      } else {\n        stack.push(node);\n        i += 1;\n      }\n    }\n  }\n};\n\nconst variantsClassesToBEM = (blockClasses, expectedVariantsNames, blockName) => {\n  expectedVariantsNames.forEach((variant) => {\n    if (blockClasses.contains(variant)) {\n      blockClasses.remove(variant);\n      blockClasses.add(`${blockName}--${variant}`);\n    }\n  });\n};\n\n/**\n * Adds a CSS class to the parent element of a child element\n * if the child element's class list includes the specified class.\n *\n * @param {HTMLElement} child - The child HTML element.\n * @param {string} className - The name of the class to check and add.\n */\nfunction addClassIfChildHasClass(child, className) {\n  if (child.className.includes(className)) {\n    child.parentElement.classList.add(className);\n  }\n}\n\nconst adjustPretitle = (element) => {\n  const headingSelector = 'h1, h2, h3, h4, h5, h6';\n\n  [...element.querySelectorAll(headingSelector)].forEach((heading) => {\n    const isNextElHeading = heading.nextElementSibling?.matches(headingSelector);\n\n    if (!isNextElHeading) {\n      return;\n    }\n\n    const currentLevel = Number(heading.tagName[1]);\n    const nextElLevel = Number(heading.nextElementSibling.tagName[1]);\n\n    if (currentLevel > nextElLevel) {\n      const pretitle = createElement('span', { classes: ['pretitle'] });\n      pretitle.append(...heading.childNodes);\n\n      heading.replaceWith(pretitle);\n    }\n  });\n};\n\nconst slugify = (text) =>\n  text\n    .toString()\n    .toLowerCase()\n    .trim()\n    // separate accent from letter\n    .normalize('NFD')\n    // remove all separated accents\n    .replace(/[\\u0300-\\u036f]/g, '')\n    // replace spaces with -\n    .replace(/\\s+/g, '-')\n    // replace & with 'and'\n    .replace(/&/g, '-and-')\n    // remove all non-word chars\n    .replace(/[^\\w-]+/g, '')\n    // replace multiple '-' with single '-'\n    .replace(/--+/g, '-');\n\n/**\n * loads the constants file where configuration values are stored\n */\nasync function getConstantValues() {\n  const url = `${getLanguagePath()}constants.json`;\n  let constants;\n  try {\n    const response = await fetch(url).then((resp) => resp.json());\n    if (!response.ok) {\n      constants = response;\n    }\n  } catch (error) {\n    console.error('Error with constants file', error);\n  }\n  return constants;\n}\n\n/**\n * Transforms an array of strings in the format 'key: value' into an object.\n * @param {string[]} data - Array of strings in the format 'key: value'.\n * @returns {Object} - Object with keys and values.\n * @throws {TypeError} - If an item in the array is not in the format 'key: value'.\n */\nconst extractObjectFromArray = (data) => {\n  if (!Array.isArray(data)) {\n    return {};\n  }\n  const obj = {};\n\n  for (const item of data) {\n    try {\n      if (typeof item !== 'string' || !item.includes(':')) {\n        throw new TypeError(`Invalid input: \"${item}\". Expected a string: \"key: value\".`);\n      }\n      const [key, value] = item.split(':', 2);\n      obj[key.trim()] = value.trim();\n    } catch (error) {\n      console.warn(`Error with item: \"${item}\"`, error);\n    }\n  }\n  return obj;\n};\n\nconst formatValues = (values) => {\n  const obj = {};\n  if (values) {\n    values.forEach(({ name, value }) => (obj[name] = value));\n  }\n  return obj;\n};\n\nconst { searchConfig, cookieValues, magazineConfig, tools, headerConfig, newsFeedConfig, truckConfiguratorUrls, holidays } =\n  await getConstantValues();\n\n// This data comes from the sharepoint 'constants.xlsx' file\nconst TOOLS_CONFIGS = formatValues(tools?.data);\nconst SEARCH_CONFIGS = formatValues(searchConfig?.data);\nconst COOKIE_CONFIGS = formatValues(cookieValues?.data);\nconst MAGAZINE_CONFIGS = formatValues(magazineConfig?.data);\nconst HEADER_CONFIGS = formatValues(headerConfig?.data);\nconst NEWS_FEED_CONFIGS = formatValues(newsFeedConfig?.data);\nconst TRUCK_CONFIGURATOR_URLS = formatValues(truckConfiguratorUrls?.data);\nconst HOLIDAYS = formatValues(holidays?.data);\n\n/**\n * Check if one trust group is checked.\n * @param {String} groupName the one trust croup like: C0002\n */\nfunction checkOneTrustGroup(groupName) {\n  if (typeof groupName !== 'string') {\n    return false;\n  }\n  const oneTrustCookie = decodeURIComponent(document.cookie.split(';').find((cookie) => cookie.trim().startsWith('OptanonConsent=')));\n  return oneTrustCookie.includes(`${groupName}:1`);\n}\n\nconst { PERFORMANCE_COOKIE = false, TARGETING_COOKIE = false, SOCIAL_COOKIE = false } = COOKIE_CONFIGS;\n\nfunction isPerformanceAllowed() {\n  return checkOneTrustGroup(PERFORMANCE_COOKIE);\n}\n\nfunction isTargetingAllowed() {\n  return checkOneTrustGroup(TARGETING_COOKIE);\n}\n\nfunction isSocialAllowed() {\n  return checkOneTrustGroup(SOCIAL_COOKIE);\n}\n\n/**\n * See https://www.aem.live/developer/spreadsheets#arrays\n * Converts a string representation of an array, removing all brackets, backslashes, and quotes,\n * into an actual JavaScript array. Splits on commas, trims each string, and filters out empty\n * strings to ensure all elements contain valid data.\n *\n * @param {string} inputString - The string to be converted. It should mimic a serialized array,\n *                               often found in JSON-like structures where arrays are represented\n *                               as strings due to data transmission constraints.\n * @returns {string[]} An array of strings derived from the cleaned input string. Each element\n *                     is a trimmed, non-empty string that was separated by a comma in the\n *                     original input.\n * @returns {Array} An empty array if the input is not a string\n */\nconst formatStringToArray = (inputString) => {\n  if (typeof inputString !== 'string') {\n    return [];\n  }\n  const cleanedString = inputString.replace(/[[\\]\\\\'\"]+/g, '');\n  return cleanedString\n    .split(',')\n    .map((item) => item.trim())\n    .filter((item) => item);\n};\n\n/*\n  The generateId function should be used only\n  for generating the id for UI elements\n*/\nlet idValue = 0;\n\nconst generateId = (prefix = 'id') => {\n  idValue += 1;\n  return `${prefix}-${idValue}`;\n};\n\n/**\n * Helper for delaying a function\n * @param {function} func callback function\n * @param {number} timeout time to debouce in ms, default 200\n */\nfunction debounce(func, timeout = 200) {\n  let timer;\n  return (...args) => {\n    clearTimeout(timer);\n\n    timer = setTimeout(() => {\n      func.apply(this, args);\n    }, timeout);\n  };\n}\n\n/**\n * Returns a list of properties listed in the block\n * @param {string} route get the Json data from the route\n * @returns {Object} the json data object\n */\nconst getJsonFromUrl = async (route) => {\n  try {\n    const response = await fetch(route);\n    if (!response.ok) {\n      return null;\n    }\n    const json = await response.json();\n    return json;\n  } catch (error) {\n    console.error('getJsonFromUrl:', { error });\n  }\n  return null;\n};\n\nconst deepMerge = (target, source) => {\n  Object.keys(source).forEach((key) => {\n    if (source[key] && typeof source[key] === 'object') {\n      if (!target[key]) {\n        target[key] = {};\n      }\n      deepMerge(target[key], source[key]);\n    } else {\n      target[key] = source[key];\n    }\n  });\n  return target;\n};\n\nconst isDevHost = () => {\n  const devHosts = ['localhost', '127.0.0.1', 'aem.page', 'aem.live'];\n  return devHosts.some((url) => window.location.host.includes(url));\n};\n\n/**\n * Function that checks for the locale field in metadata an returns it.\n * It defaults to 'en-us'\n * @returns {string} The locale string\n */\nconst getLocale = () => (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.getMetadata)('locale') || 'en-us';\n\n/**\n * Function that recieves a timestamp in seconds and returns a date\n * in its locale's format. Defaults to US format date (MM/DD/YYYY)\n * @param {string} timestamp The date in seconds as a string\n * @param {object} options The date options obj for a specific format\n */\nconst getDateFromTimestamp = (timestamp, options) => {\n  const date = new Date(timestamp * 1000 + new Date().getTimezoneOffset() * 60000);\n  const localeDate = Intl.DateTimeFormat(getLocale(), options).format(date);\n\n  return localeDate;\n};\n\n/**\n * Creates a picture element based on provided image data and breakpoints\n * @param {Array} images - Array of objects defining image data and breakpoints\n * @param {boolean} eager - Whether to load images eagerly\n * @param {string} alt - Alt text for the image\n * @param {string[]|string} imageClass - Class for the image\n * @returns {HTMLElement} The created picture element\n */\nfunction createResponsivePicture(images, eager, alt, imageClass) {\n  const picture = document.createElement('picture');\n  let fallbackWidth = '';\n  let fallbackSrc = '';\n\n  function constructSrcset(src, width, format) {\n    const baseUrl = `${src}?format=${format}&optimize=medium`;\n    return `${baseUrl}&width=${width} 1x, ${baseUrl}&width=${width * 2} 2x`;\n  }\n\n  images.forEach((image) => {\n    const originalFormat = image.src.split('.').pop();\n\n    image.breakpoints.forEach((bp) => {\n      if (!bp.media) {\n        return;\n      }\n\n      const srcsetWebp = constructSrcset(image.src, bp.width, 'webp');\n      const srcsetOriginal = constructSrcset(image.src, bp.width, originalFormat);\n\n      const webpSource = createElement('source', {\n        props: {\n          type: 'image/webp',\n          srcset: srcsetWebp,\n          media: bp.media,\n        },\n      });\n\n      const originalSource = createElement('source', {\n        props: {\n          type: `image/${originalFormat}`,\n          srcset: srcsetOriginal,\n          media: bp.media,\n        },\n      });\n\n      picture.insertBefore(originalSource, picture.firstChild);\n      picture.insertBefore(webpSource, originalSource);\n    });\n\n    const fallbackBreakpoint = image.breakpoints.find((bp) => !bp.media);\n    if (fallbackBreakpoint && !fallbackSrc) {\n      fallbackWidth = fallbackBreakpoint.width;\n      fallbackSrc = `${image.src}?width=${fallbackWidth}&format=${originalFormat}&optimize=medium`;\n    }\n  });\n\n  const img = createElement('img', {\n    classes: imageClass,\n    props: {\n      src: fallbackSrc,\n      alt,\n      loading: eager ? 'eager' : 'lazy',\n      width: fallbackWidth,\n    },\n  });\n\n  picture.appendChild(img);\n\n  return picture;\n}\n\n/**\n * Checks whether the viewport is in the mobile range.\n * Mobile is defined as a viewport width  744px (CSS pixels).\n *\n * @returns {boolean} True if the media query '(max-width: 744px)' matches.\n */\nconst isMobileViewport = () => window.matchMedia('(max-width: 744px)').matches;\n\n/**\n * Checks whether the viewport is in the mobile or tablet range.\n * Mobile/Tablet is defined as a viewport width  1199px (CSS pixels).\n *\n * @returns {boolean} True if the media query '(max-width: 1199px)' matches.\n */\nconst isMobileOrTabletViewport = () => window.matchMedia('(max-width: 1199px)').matches;\n\n/**\n * Checks whether the viewport is in the tablet-only range.\n * Tablet-only is defined as 768px  viewport width  1199px (CSS pixels).\n *\n * @returns {boolean} True if the media query '(min-width: 768px) and (max-width: 1199px)' matches.\n */\nconst isTabletOnlyViewport = () => window.matchMedia('(min-width: 768px) and (max-width: 1199px)').matches;\n\n/**\n * Normalize a URL to a comparable pathname key.\n * Lowercases, collapses duplicate slashes, strips trailing slash.\n * @param {string} href\n * @returns {string} pathname key or \"\"\n */\nconst toPathKey = (href) => {\n  if (!href) {\n    return '';\n  }\n  try {\n    const u = new URL(href, window.location.origin);\n    let p = decodeURI(u.pathname)\n      .toLowerCase()\n      .replace(/\\/{2,}/g, '/');\n    if (p.length > 1) {\n      p = p.replace(/\\/+$/, '');\n    }\n    return p;\n  } catch {\n    return '';\n  }\n};\n\n/**\n * Normalize a string intended to be used as a URL.\n *\n * - Coerces `undefined`/`null` to an empty string.\n * - Replaces non-breaking spaces with regular spaces.\n * - Strips out angle brackets (`<`, `>`).\n * - Trims leading/trailing whitespace.\n *\n * @param {string} [s] - Raw string (possibly from DOM or dataset).\n * @returns {string} A cleaned string safe to pass to `new URL()`.\n */\nconst normalizeUrlText = (s) =>\n  String(s || '')\n    .replace(/\\u00A0/g, ' ')\n    .replace(/[<>]/g, '')\n    .trim();\n\n/**\n * Test whether a given URL protocol is HTTP or HTTPS.\n *\n * @param {string} protocol - Protocol string (e.g. `\"http:\"`, `\"https:\"`).\n * @returns {boolean} `true` if the protocol is HTTP/HTTPS, otherwise `false`.\n */\nconst isHttp = (protocol) => /^https?:$/i.test(protocol);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } }, 1);\n\n//# sourceURL=webpack://volvotrucks-na/./scripts/common.js?\n}")},"./scripts/entrypoint.js":(module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";eval('{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony import */ var _volvo_vcdk_button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @volvo/vcdk/button */ "./node_modules/@volvo/vcdk/dist/web-components/button/index.js");\n/* harmony import */ var _volvo_vcdk_accordion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @volvo/vcdk/accordion */ "./node_modules/@volvo/vcdk/dist/web-components/accordion/index.js");\n/* harmony import */ var _volvo_vcdk_dropdown__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @volvo/vcdk/dropdown */ "./node_modules/@volvo/vcdk/dist/web-components/dropdown/index.js");\n/* harmony import */ var _volvo_vcdk_themes_volvo_semantic_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @volvo/vcdk/themes/volvo/semantic.css */ "./node_modules/@volvo/vcdk/dist/themes/volvo/semantic.css");\n/* harmony import */ var _volvo_vcdk_themes_volvo_semantic_light_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @volvo/vcdk/themes/volvo/semantic-light.css */ "./node_modules/@volvo/vcdk/dist/themes/volvo/semantic-light.css");\n/* harmony import */ var _aem_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./aem.js */ "./scripts/aem.js");\n/* harmony import */ var _scripts_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./scripts.js */ "./scripts/scripts.js");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_scripts_js__WEBPACK_IMPORTED_MODULE_6__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_scripts_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_async_dependencies_result__[0];\n// Import all:\n// import \'@volvo/vcdk\';\n\n// Or import only what you need:\n\n\n\n\n\n\n\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./scripts/entrypoint.js?\n}')},"./scripts/lib-ffetch.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ffetch: () => (/* binding */ ffetch)\n/* harmony export */ });\n/*\n * Copyright 2023 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nasync function* request(url, context) {\n  const { chunks, sheet, fetch } = context;\n  for (let offset = 0, total = Infinity; offset < total; offset += chunks) {\n    const params = new URLSearchParams(`offset=${offset}&limit=${chunks}`);\n    if (sheet) {\n      params.append('sheet', sheet);\n    }\n    const resp = await fetch(`${url}?${params.toString()}`);\n    if (resp.ok) {\n      const json = await resp.json();\n      total = json.total;\n      for (const entry of json.data) {\n        yield entry;\n      }\n    } else {\n      return;\n    }\n  }\n}\n\n// Operations:\n\nfunction withFetch(upstream, context, fetch) {\n  context.fetch = fetch;\n  return upstream;\n}\n\nfunction withHtmlParser(upstream, context, parseHtml) {\n  context.parseHtml = parseHtml;\n  return upstream;\n}\n\nfunction chunks(upstream, context, chunks) {\n  context.chunks = chunks;\n  return upstream;\n}\n\nfunction sheet(upstream, context, sheet) {\n  context.sheet = sheet;\n  return upstream;\n}\n\nasync function* skip(upstream, context, skip) {\n  let skipped = 0;\n  for await (const entry of upstream) {\n    if (skipped < skip) {\n      skipped += 1;\n    } else {\n      yield entry;\n    }\n  }\n}\n\nasync function* limit(upstream, context, limit) {\n  let yielded = 0;\n  for await (const entry of upstream) {\n    yield entry;\n    yielded += 1;\n    if (yielded === limit) {\n      return;\n    }\n  }\n}\n\nasync function* map(upstream, context, fn, maxInFlight = 5) {\n  const promises = [];\n  for await (let entry of upstream) {\n    promises.push(fn(entry));\n    if (promises.length === maxInFlight) {\n      for (entry of promises) {\n        entry = await entry;\n        if (entry) {\n          yield entry;\n        }\n      }\n      promises.splice(0, promises.length);\n    }\n  }\n  for (let entry of promises) {\n    entry = await entry;\n    if (entry) {\n      yield entry;\n    }\n  }\n}\n\nasync function* filter(upstream, context, fn) {\n  for await (const entry of upstream) {\n    if (fn(entry)) {\n      yield entry;\n    }\n  }\n}\n\nfunction slice(upstream, context, from, to) {\n  return limit(skip(upstream, context, from), context, to - from);\n}\n\nfunction follow(upstream, context, name, maxInFlight = 5) {\n  const { fetch, parseHtml } = context;\n  return map(\n    upstream,\n    context,\n    async (entry) => {\n      const value = entry[name];\n      if (value) {\n        const resp = await fetch(value);\n        return { ...entry, [name]: resp.ok ? parseHtml(await resp.text()) : null };\n      }\n      return entry;\n    },\n    maxInFlight,\n  );\n}\n\nasync function all(upstream) {\n  const result = [];\n  for await (const entry of upstream) {\n    result.push(entry);\n  }\n  return result;\n}\n\nasync function first(upstream) {\n  for await (const entry of upstream) {\n    return entry;\n  }\n  return null;\n}\n\n// Helper\n\nfunction assignOperations(generator, context) {\n  // operations that return a new generator\n  function createOperation(fn) {\n    return (...rest) => assignOperations(fn.apply(null, [generator, context, ...rest]), context);\n  }\n  const operations = {\n    skip: createOperation(skip),\n    limit: createOperation(limit),\n    slice: createOperation(slice),\n    map: createOperation(map),\n    filter: createOperation(filter),\n    follow: createOperation(follow),\n  };\n\n  // functions that either return the upstream generator or no generator at all\n  const functions = {\n    chunks: chunks.bind(null, generator, context),\n    all: all.bind(null, generator, context),\n    first: first.bind(null, generator, context),\n    withFetch: withFetch.bind(null, generator, context),\n    withHtmlParser: withHtmlParser.bind(null, generator, context),\n    sheet: sheet.bind(null, generator, context),\n  };\n\n  return Object.assign(generator, operations, functions);\n}\n\nfunction ffetch(url) {\n  let chunks = 255;\n  const fetch = (...rest) => window.fetch.apply(null, rest);\n  const parseHtml = (html) => new window.DOMParser().parseFromString(html, 'text/html');\n\n  try {\n    if ('connection' in window.navigator && window.navigator.connection.saveData === true) {\n      // request smaller chunks in save data mode\n      chunks = 64;\n    }\n  } catch (e) {\n    /* ignore */\n  }\n\n  const context = { chunks, fetch, parseHtml };\n  const generator = request(url, context);\n\n  return assignOperations(generator, context);\n}\n\n\n//# sourceURL=webpack://volvotrucks-na/./scripts/lib-ffetch.js?\n}")},"./scripts/magazine-press.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createList: () => (/* binding */ createList)\n/* harmony export */ });\n/* unused harmony export splitTags */\n/* harmony import */ var _aem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./aem.js */ \"./scripts/aem.js\");\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_common_js__WEBPACK_IMPORTED_MODULE_1__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_async_dependencies_result__[0];\n\n\n\n/*\n * Common functions for searching the press releases and magazines\n */\nfunction getSelectionFromUrl(field) {\n  return (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.toClassName)(new URLSearchParams(window.location.search).get(field)) || '';\n}\n\nfunction createInputSearch(name, searchTerm, placeholder) {\n  const container = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', {\n    classes: (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.toClassName)(`${name}-field`),\n  });\n  const input = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('input', {\n    props: {\n      type: 'text',\n      name,\n      placeholder,\n    },\n  });\n\n  if (searchTerm) {\n    input.value = searchTerm;\n  }\n  const btn = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('button');\n  btn.innerHTML = `\n    <i class=\"fa fa-search\"></i>\n  `;\n  container.append(input, btn);\n  return container;\n}\n\nfunction createDropdown(options, selected, name, placeholder, label) {\n  const container = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', {\n    classes: (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.toClassName)(`${name}-field`),\n  });\n  if (label) {\n    const labelEl = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('label', {\n      props: { for: name },\n    });\n    labelEl.innerText = label;\n    container.append(labelEl);\n  }\n  const input = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('select', {\n    props: {\n      name,\n      id: name,\n    },\n  });\n  if (placeholder) {\n    const optionTag = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('option', { props: { value: '' } });\n    optionTag.innerText = placeholder;\n    if (!selected) {\n      optionTag.selected = true;\n    }\n    input.append(optionTag);\n  }\n\n  if (options) {\n    options.forEach((option) => {\n      const optionTag = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('option', {\n        props: { value: option },\n      });\n      optionTag.innerText = option;\n      if (optionTag.value === selected) {\n        optionTag.selected = true;\n      }\n      input.append(optionTag);\n    });\n  }\n\n  container.append(input);\n\n  return container;\n}\n\nfunction createPaginationLink(page, label) {\n  const newUrl = new URL(window.location);\n  const listElement = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('li');\n  const link = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('a', { classes: label });\n  newUrl.searchParams.set('page', page);\n  link.href = newUrl.toString();\n  listElement.append(link);\n  return listElement;\n}\n\nfunction createPagination(entries, page, limit) {\n  const listPagination = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: 'pager' });\n  const totalResults = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: 'total' });\n  totalResults.textContent = `${entries.length} results`;\n  listPagination.appendChild(totalResults);\n  const pagination = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: 'pagination' });\n\n  if (entries.length > limit) {\n    const maxPages = Math.ceil(entries.length / limit);\n\n    const listSize = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('span', { classes: 'size' });\n    if (entries.length > limit) {\n      listSize.innerHTML = `<strong>Page ${page}</strong> of ${maxPages}`;\n    }\n    const list = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('ol', { classes: 'scroll' });\n    if (page === 1) {\n      list.append(createPaginationLink(page + 1, 'next'));\n      list.append(createPaginationLink(maxPages, 'last'));\n    } else if (page > 1 && page < maxPages) {\n      list.append(createPaginationLink(1, 'first'));\n      list.append(createPaginationLink(page - 1, 'prev'));\n      list.append(createPaginationLink(page + 1, 'next'));\n      list.append(createPaginationLink(maxPages, 'last'));\n    } else if (page === maxPages) {\n      list.append(createPaginationLink(1, 'first'));\n      list.append(createPaginationLink(page - 1, 'prev'));\n    }\n\n    pagination.append(listSize, list);\n    listPagination.appendChild(pagination);\n  }\n  return listPagination;\n}\n\nfunction splitTags(tags) {\n  return tags ? JSON.parse(tags) : [];\n}\n\nfunction getActiveFilters() {\n  const result = {};\n  [...new URLSearchParams(window.location.search).entries()]\n    .filter(([_, value]) => value !== '')\n    .forEach(([key, value]) => {\n      result[key] = value;\n    });\n  return result;\n}\n\nasync function renderFilters(data, createFilters) {\n  // render filters\n  const filter = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: 'list-filter' });\n  const form = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('form', { props: { method: 'get', name: 'list-filter' } });\n  const formFieldSet = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('fieldset');\n\n  const filters = await createFilters(data, getActiveFilters(), createDropdown, createInputSearch);\n  formFieldSet.append(...filters);\n  if (filters.length > 0) {\n    form.append(formFieldSet);\n    filter.append(form);\n    return filter;\n  }\n  return null;\n}\n\nasync function buildElements(pressReleases, filter, createFilters, buildPressReleaseArticle, limitPerPage, cfg) {\n  const elements = {};\n  let actFilter = getActiveFilters();\n  let relatedPressReleases = false;\n  if (cfg.tags) {\n    actFilter = {\n      ...actFilter,\n      ...{ tags: (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.toClassName)(cfg.tags) },\n    };\n    relatedPressReleases = true;\n  }\n\n  let filteredData = filter ? await filter(pressReleases, actFilter) : pressReleases;\n\n  let page = parseInt(getSelectionFromUrl('page'), 10);\n  page = Number.isNaN(page) ? 1 : page;\n\n  if (!relatedPressReleases && createFilters) {\n    const filterElements = await renderFilters(pressReleases, createFilters);\n    if (filterElements) {\n      elements.filter = filterElements;\n    }\n    if (limitPerPage > 0) {\n      elements.pagination = createPagination(filteredData, page, limitPerPage);\n    }\n  }\n  if (limitPerPage > 0) {\n    const start = (page - 1) * limitPerPage;\n    filteredData = filteredData.slice(start, start + limitPerPage);\n  }\n  const articleList = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('ul', { classes: 'article-list' });\n  filteredData.forEach((pressRelease) => {\n    const articleItem = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('li');\n    const pressReleaseArticle = buildPressReleaseArticle(pressRelease);\n    articleItem.appendChild(pressReleaseArticle);\n    articleList.appendChild(articleItem);\n  });\n  elements.list = articleList;\n  return elements;\n}\n\nasync function createList(pressReleases, filter, createFilters, buildPressReleaseArticle, limitPerPage, mainEl) {\n  const cfg = (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.readBlockConfig)(mainEl);\n\n  async function reloadList(params) {\n    // push the new querystring state\n    const url = new URL(window.location);\n    [...params.entries()].forEach(([k, v]) => url.searchParams.set(k, v));\n    window.history.pushState({}, '', url);\n    // rebuild the list\n    const elements = await buildElements(pressReleases, filter, createFilters, buildPressReleaseArticle, limitPerPage, cfg);\n    renderList(mainEl, elements);\n  }\n\n  function reloadFilteredList(event) {\n    if (event) {\n      event.preventDefault();\n    }\n    const params = new URLSearchParams(new FormData(this));\n    const urlParams = new URL(window.location).searchParams;\n    const page = urlParams.get('page');\n    if (page && +page > 1) {\n      params.set('page', 1);\n    }\n    reloadList(params);\n  }\n\n  function reloadPaginatedList(event) {\n    event.preventDefault();\n    reloadList(new URL(event.target.href).searchParams);\n  }\n\n  function attachSubmitListeners(filter) {\n    const form = filter.querySelector('form');\n    if (form) {\n      form.submit = reloadFilteredList.bind(form);\n      form.addEventListener('submit', reloadFilteredList.bind(form));\n    }\n    return filter;\n  }\n\n  function attachClickListeners(pagination) {\n    pagination.querySelectorAll('a').forEach((a) => a.addEventListener('click', reloadPaginatedList));\n    return pagination;\n  }\n\n  function renderList(el, { filter, pagination, list }) {\n    const children = [];\n    if (filter) {\n      children.push(attachSubmitListeners(filter));\n    }\n    if (pagination) {\n      children.push(attachClickListeners(pagination));\n    }\n    children.push(list);\n    if (pagination) {\n      children.push(attachClickListeners(pagination.cloneNode(true)));\n    }\n    el.replaceChildren(...children);\n  }\n\n  const elements = await buildElements(pressReleases, filter, createFilters, buildPressReleaseArticle, limitPerPage, cfg);\n  renderList(mainEl, elements);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./scripts/magazine-press.js?\n}")},"./scripts/motion-helper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   smoothScrollHorizontal: () => (/* binding */ smoothScrollHorizontal)\n/* harmony export */ });\n/* unused harmony exports disableScrollSnap, enableScrollSnap */\nfunction disableScrollSnap(element) {\n  element.style.scrollSnapType = 'none';\n  element.style.scrollBehavior = 'auto';\n}\n\nfunction enableScrollSnap(element) {\n  // Reverts it back to its original value (or stylesheet value).\n  element.style.scrollSnapType = '';\n  element.style.scrollBehavior = '';\n}\n\nconst smoothScrollHorizontal = (element, targetX, duration) => {\n  const start = element.scrollLeft;\n  const timeStart = new Date().getTime();\n  const scrollingClass = 'is-animating'; // Class to be added/removed\n\n  function cubicBezier(x) {\n    const p0 = { x: 0, y: 0 };\n    const p1 = { x: 0, y: 0 };\n    const p2 = { x: 0, y: 1 };\n    const p3 = { x: 1, y: 1 };\n\n    // Find the t value for the given x in Bezier curve\n    let t = x;\n    for (let i = 0; i < 5; i += 1) {\n      const xT = (1 - t) ** 3 * p0.x + 3 * (1 - t) ** 2 * t * p1.x + 3 * (1 - t) * t ** 2 * p2.x + t ** 3 * p3.x;\n\n      const difference = xT - x;\n      t -= difference / 2;\n    }\n\n    // Return the y value for the computed t\n    return (1 - t) ** 3 * p0.y + 3 * (1 - t) ** 2 * t * p1.y + 3 * (1 - t) * t ** 2 * p2.y + t ** 3 * p3.y;\n  }\n\n  const ease = (time, startValue, changeInValue, easeDuration) => {\n    const progress = time / easeDuration;\n    const easingFactor = cubicBezier(progress);\n    return startValue + easingFactor * changeInValue;\n  };\n\n  function animation() {\n    const timeCurrent = new Date().getTime();\n    const timeElapsed = timeCurrent - timeStart;\n\n    const nextX = ease(timeElapsed, start, targetX - start, duration);\n    element.scrollLeft = nextX;\n\n    if (timeElapsed < duration) {\n      requestAnimationFrame(animation);\n    } else {\n      element.scrollLeft = targetX;\n      enableScrollSnap(element); // Re-enable scroll snap after the animation completes\n      element.classList.remove(scrollingClass);\n    }\n  }\n\n  disableScrollSnap(element); // Disable scroll snap before starting the animation\n  element.classList.add(scrollingClass);\n  requestAnimationFrame(animation);\n};\n\n\n//# sourceURL=webpack://volvotrucks-na/./scripts/motion-helper.js?\n}")},"./scripts/scripts.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MEDIA_BREAKPOINTS: () => (/* binding */ MEDIA_BREAKPOINTS),\n/* harmony export */   createCustomOptimizedPicture: () => (/* binding */ createCustomOptimizedPicture),\n/* harmony export */   decorateLinks: () => (/* binding */ decorateLinks),\n/* harmony export */   decorateMain: () => (/* binding */ decorateMain),\n/* harmony export */   getImageForBreakpoint: () => (/* binding */ getImageForBreakpoint)\n/* harmony export */ });\n/* harmony import */ var _aem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./aem.js */ \"./scripts/aem.js\");\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./common.js */ \"./scripts/common.js\");\n/* harmony import */ var _video_helper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./video-helper.js */ \"./scripts/video-helper.js\");\n/* harmony import */ var _validate_countries_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./validate-countries.js */ \"./scripts/validate-countries.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_common_js__WEBPACK_IMPORTED_MODULE_1__, _video_helper_js__WEBPACK_IMPORTED_MODULE_2__, _validate_countries_js__WEBPACK_IMPORTED_MODULE_3__]);\n([_common_js__WEBPACK_IMPORTED_MODULE_1__, _video_helper_js__WEBPACK_IMPORTED_MODULE_2__, _validate_countries_js__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\nlet modal;\n\nfunction getCTAContainer(ctaLink) {\n  return ['strong', 'em'].includes(ctaLink.parentElement.localName) ? ctaLink.parentElement.parentElement : ctaLink.parentElement;\n}\n\nfunction isCTALinkCheck(ctaLink) {\n  const btnContainer = getCTAContainer(ctaLink);\n  if (!btnContainer.classList.contains('button-container')) {\n    return false;\n  }\n  const nextSibling = btnContainer?.nextElementSibling;\n  const previousSibling = btnContainer?.previousElementSibling;\n  const twoPreviousSibling = previousSibling?.previousElementSibling;\n  const siblings = [previousSibling, nextSibling, twoPreviousSibling];\n  return siblings.some((elem) => elem?.localName === 'h1');\n}\n\n/**\n * Returns a picture element with webp and fallbacks / allow multiple src paths for every breakpoint\n * @param {string} src Default image URL (if no src is passed to breakpoints object)\n * @param {boolean} eager load image eager\n * @param {Array} breakpoints breakpoints and corresponding params (eg. src, width, media)\n */\nfunction createCustomOptimizedPicture(\n  src,\n  alt = '',\n  eager = false,\n  breakpoints = [{ media: '(min-width: 400px)', width: '2000' }, { width: '750' }],\n) {\n  const url = new URL(src, (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.getHref)());\n  const picture = document.createElement('picture');\n  let { pathname } = url;\n  const ext = pathname.substring(pathname.lastIndexOf('.') + 1);\n\n  breakpoints.forEach((br) => {\n    // custom src path in breakpoint\n    if (br.src) {\n      const customUrl = new URL(br.src, (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.getHref)());\n      pathname = customUrl.pathname;\n    }\n\n    const source = document.createElement('source');\n    if (br.media) {\n      source.setAttribute('media', br.media);\n    }\n    source.setAttribute('type', 'image/webp');\n    source.setAttribute('srcset', `${pathname}?width=${br.width}&format=webply&optimize=medium`);\n    picture.appendChild(source);\n  });\n\n  // fallback\n  breakpoints.forEach((br, i) => {\n    if (i < breakpoints.length - 1) {\n      const source = document.createElement('source');\n      if (br.media) {\n        source.setAttribute('media', br.media);\n      }\n      source.setAttribute('srcset', `${pathname}?width=${br.width}&format=${ext}&optimize=medium`);\n      picture.appendChild(source);\n    } else {\n      const img = document.createElement('img');\n      img.setAttribute('loading', eager ? 'eager' : 'lazy');\n      img.setAttribute('alt', alt);\n      img.setAttribute('width', br.width);\n      img.setAttribute('height', br.height);\n      picture.appendChild(img);\n      img.setAttribute('src', `${pathname}?width=${br.width}&format=${ext}&optimize=medium`);\n    }\n  });\n\n  return picture;\n}\n\nfunction buildHeroBlock(main) {\n  // switching off hero autoblock for redesign\n  if (document.querySelector('main').classList.contains('redesign-v2')) {\n    return;\n  }\n\n  // don't create a hero if the first item is a block, except hero block\n  const firstSection = main.querySelector('div');\n  if (!firstSection) {\n    return;\n  }\n  const firstElement = firstSection.firstElementChild;\n  if (firstElement.tagName === 'DIV' && firstElement.classList.length && !firstElement.classList.contains('hero')) {\n    return;\n  }\n\n  const h1 = firstSection.querySelector('h1');\n  const picture = firstSection.querySelector('picture');\n  let ctaLink = firstSection.querySelector('a');\n  let video = null;\n\n  if (ctaLink && (0,_video_helper_js__WEBPACK_IMPORTED_MODULE_2__.isLowResolutionVideoUrl)(ctaLink.getAttribute('href'))) {\n    const videoTemp = `\n      <video muted loop class=\"hero-video\">\n        <source src=\"${ctaLink.getAttribute('href')}\" type=\"video/mp4\"></source>\n      </video>\n    `;\n\n    const videoWrapper = document.createElement('div');\n    videoWrapper.innerHTML = videoTemp;\n    video = videoWrapper.querySelector('video');\n    ctaLink.parentElement.remove();\n    ctaLink = firstSection.querySelector('a');\n\n    // adding video with delay to not affect page loading time\n    setTimeout(() => {\n      picture.replaceWith(video);\n\n      // TODO: This is just a way of prevent the code to break due to the NotAllowedError error on iOS and Safari\n      // For this to work better needs further development and either way it will always be an hack can at any point can stop working\n      try {\n        video.play();\n      } catch (error) {\n        if (error.name === 'NotAllowedError') {\n          console.error('Playback was prevented by the browser:', error);\n        } else {\n          console.error('An error occurred while trying to play the video:', error);\n        }\n      }\n    }, 3000);\n  }\n\n  // check if the previous element or the previous of that is an h1\n  const isCTALink = ctaLink && isCTALinkCheck(ctaLink);\n  if (isCTALink) {\n    ctaLink.classList.add('cta');\n  }\n\n  if (h1 && picture && h1.compareDocumentPosition(picture) & Node.DOCUMENT_POSITION_PRECEDING) {\n    const headings = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: 'hero-headings' });\n    const elems = [picture, headings];\n    if (\n      h1.nextElementSibling &&\n      (h1.nextElementSibling.matches('h2,h3,h4') ||\n        // also consider a <p> without any children as sub heading except BR\n        (h1.nextElementSibling.matches('p') && ![...h1.nextElementSibling.children].filter((el) => el.tagName !== 'BR').length))\n    ) {\n      const h4 = document.createElement('h4');\n      h4.innerHTML = h1.nextElementSibling.innerHTML;\n      h1.nextElementSibling.remove();\n      headings.appendChild(h4);\n    }\n    headings.appendChild(h1);\n    if (isCTALink) {\n      headings.appendChild(getCTAContainer(ctaLink));\n    }\n    const section = document.createElement('div');\n    const newHeroBlock = (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.buildBlock)('hero', { elems });\n    newHeroBlock.classList.add(...firstElement.classList);\n    section.append(newHeroBlock);\n    // remove the empty pre-section to avoid decorate it as empty section\n    const containerChildren = firstSection.children;\n    const wrapperChildren = containerChildren[0].children;\n    if (containerChildren.length <= 1 && wrapperChildren.length === 0) {\n      firstSection.remove();\n    } else if (wrapperChildren.length === 0) {\n      containerChildren[0].remove();\n    }\n\n    if (video) {\n      section.querySelector('.hero')?.classList.add('hero-with-video');\n    }\n\n    // after all are settled, the new section can be added\n    main.prepend(section);\n  }\n}\n\nfunction buildSubNavigation(main, head) {\n  const subnav = head.querySelector('meta[name=\"sub-navigation\"]');\n  if (subnav && subnav.content.startsWith('/')) {\n    const block = (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.buildBlock)('sub-nav', []);\n    main.previousElementSibling.prepend(block);\n    (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.decorateBlock)(block);\n  }\n}\n\n/**\n * Builds all synthetic blocks in a container element.\n * @param {Element} main The container element\n * @param {Element} head The header element\n */\nfunction buildAutoBlocks(main, head) {\n  try {\n    buildHeroBlock(main);\n    buildSubNavigation(main, head);\n\n    buildCtaList(main);\n  } catch (error) {\n    console.error('Auto Blocking failed', error);\n  }\n}\n\nfunction createTabbedSection(tabItems, tabType, { fullWidth }) {\n  const tabSection = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: ['section', 'tabbed-container'] });\n  if (fullWidth) {\n    tabSection.classList.add('tabbed-container-full-width');\n  }\n  tabSection.dataset.sectionStatus = 'initialized';\n  const wrapper = document.createElement('div');\n  tabSection.append(wrapper);\n  const tabBlock = (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.buildBlock)(`tabbed-${tabType}`, [tabItems]);\n  wrapper.append(tabBlock);\n  return tabSection;\n}\n\nfunction buildCtaList(main) {\n  [...main.querySelectorAll('ul')].forEach((list) => {\n    const lis = [...list.querySelectorAll('li')];\n    const isCtaList = lis.every((li) => {\n      if (li.children.length !== 1) {\n        return false;\n      }\n      const firstChild = li.firstElementChild;\n      if (firstChild.tagName === 'A') {\n        return true;\n      }\n      if (firstChild.children.length !== 1) {\n        return false;\n      }\n      const firstGrandChild = firstChild.firstElementChild;\n      return (firstChild.tagName === 'STRONG' || firstChild.tagName === 'EM') && firstGrandChild.tagName === 'A';\n    });\n\n    if (isCtaList) {\n      list.classList.add('cta-list');\n      const primaryLink = lis[0].querySelector('a.primary');\n      if (primaryLink) {\n        primaryLink.classList.add('dark');\n      }\n    }\n  });\n}\n\nfunction buildTabbedBlock(main) {\n  let tabItems = [];\n  let tabType;\n  let fullWidth = false;\n  [...main.querySelectorAll(':scope > div')].forEach((section) => {\n    const sectionMeta = section.dataset.carousel || section.dataset.tabs;\n    if (sectionMeta) {\n      const tabContent = document.createElement('div');\n      tabType = tabType || (section.dataset.carousel ? 'carousel' : 'accordion');\n      tabContent.dataset[tabType] = sectionMeta;\n      tabContent.className = 'tab-content';\n      fullWidth = fullWidth || section.matches('.full-width');\n      tabContent.innerHTML = section.innerHTML;\n      tabContent.querySelectorAll('p > picture').forEach((pic) => {\n        if (!pic.nextElementSibling && !pic.previousElementSibling) {\n          pic.parentElement.classList.add('picture');\n        }\n      });\n      tabItems.push(tabContent);\n      section.remove();\n    } else if (tabItems.length > 0) {\n      const tabbedSection = createTabbedSection(tabItems, tabType, { fullWidth });\n      section.parentNode.insertBefore(tabbedSection, section);\n      (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.decorateBlock)(tabbedSection.querySelector('.tabbed-carousel, .tabbed-accordion'));\n      tabItems = [];\n      tabType = undefined;\n      fullWidth = false;\n    }\n  });\n  if (tabItems.length > 0) {\n    const tabbedCarouselSection = createTabbedSection(tabItems, tabType, { fullWidth });\n    main.append(tabbedCarouselSection);\n    (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.decorateBlock)(tabbedCarouselSection.querySelector('.tabbed-carousel, .tabbed-accordion'));\n  }\n\n  async function triggerLoad() {\n    await (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.loadSections)(main);\n  }\n\n  triggerLoad();\n}\n\nfunction createTruckLineupSection(tabItems) {\n  const tabSection = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: 'section' });\n  tabSection.dataset.sectionStatus = 'initialized';\n  const wrapper = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div');\n  tabSection.append(wrapper);\n  const tabBlock = (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.buildBlock)('v2-truck-lineup', [tabItems]);\n  wrapper.append(tabBlock);\n  return tabSection;\n}\n\nfunction buildTruckLineupBlock(main) {\n  const tabItems = [];\n  let nextElement;\n  const BREAKPOINTS = {\n    0: '(min-width: 400px)',\n    1: '(min-width: 1200px)',\n  };\n  let inpageMeta;\n\n  const mainChildren = [...main.querySelectorAll(':scope > div')];\n  mainChildren.forEach((section, i) => {\n    const sectionMetaTruckCarousel = section.dataset.truckCarousel;\n    const isTruckCarousel = !!sectionMetaTruckCarousel;\n    if (!isTruckCarousel) {\n      return;\n    }\n\n    const carouselMetaFieldName = section.dataset.metaFieldName || 'v2-truck-lineup-meta-active';\n\n    // save carousel position\n    nextElement = mainChildren[i + 1];\n    if (!inpageMeta && section.dataset.inpage) {\n      inpageMeta = section.dataset.inpage.toLowerCase();\n    }\n\n    const tabContent = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { classes: 'v2-truck-lineup__content' });\n    tabContent.dataset.truckCarousel = sectionMetaTruckCarousel;\n    tabContent.dataset.metaFieldName = carouselMetaFieldName;\n    tabContent.innerHTML = section.innerHTML;\n    const images = tabContent.querySelectorAll('p > picture');\n\n    const imageBreakpoints = [];\n    const firstImage = images[0]?.lastElementChild;\n    const baseImageObj = {\n      src: firstImage?.src,\n      alt: firstImage?.alt,\n    };\n\n    images.forEach((pic, j) => {\n      const img = pic.lastElementChild;\n      imageBreakpoints.push({\n        src: img.src,\n        width: img.width,\n        height: img.height,\n        media: BREAKPOINTS[j],\n      });\n\n      pic.parentNode.remove();\n    });\n    imageBreakpoints.reverse(); // order first big and then small version\n    const newPicture = createCustomOptimizedPicture(baseImageObj.src, baseImageObj.alt, false, imageBreakpoints);\n\n    tabContent.prepend(newPicture);\n\n    tabItems.push(tabContent);\n    section.remove();\n  });\n\n  if (tabItems.length > 0) {\n    const truckLineupSection = createTruckLineupSection(tabItems);\n\n    if (inpageMeta) {\n      truckLineupSection.setAttribute('data-inpageid', inpageMeta);\n    }\n\n    if (nextElement) {\n      // if we saved a position push the carousel in that position if not\n      main.insertBefore(truckLineupSection, nextElement);\n    } else {\n      main.append(truckLineupSection);\n    }\n    (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.decorateIcons)(truckLineupSection);\n    (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.decorateBlock)(truckLineupSection.querySelector('.v2-truck-lineup'));\n  }\n}\n\nfunction decorateSectionBackgrounds(main) {\n  const variantClasses = ['black-background', 'gray-background'];\n\n  main.querySelectorAll(':scope > .section').forEach((section) => {\n    // transform background color variants into BEM classnames\n    (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.variantsClassesToBEM)(section.classList, variantClasses, 'section');\n\n    // If the section contains a background image\n    const src = section.dataset.background;\n    if (src) {\n      const picture = (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.createOptimizedPicture)(src, '', false);\n      section.appendChild(picture);\n      section.classList.add('section-with-background');\n    }\n  });\n}\n\nfunction decorateHyperlinkImages(container) {\n  // picture + br + a in the same paragraph\n  [...container.querySelectorAll('picture + br + a, picture + a')]\n    // link text is an unformatted URL paste\n    .filter((a) => a.textContent.trim().startsWith('http'))\n    .forEach((a) => {\n      const br = a.previousElementSibling;\n      let picture = br.previousElementSibling;\n      if (br.tagName === 'PICTURE') {\n        picture = br;\n      }\n      picture.remove();\n      br.remove();\n      a.innerHTML = picture.outerHTML;\n      // make sure the link is not decorated as a button\n      a.parentNode.classList.remove('button-container');\n      a.className = '';\n    });\n\n  // with link and image in separate paragraphs\n  [...container.querySelectorAll('p > a[href]')]\n    // link (in a <p>) has no siblings\n    .filter((a) => a.parentNode.childElementCount === 1)\n    // is preceded by an image (in a <p>) and image has no other siblings\n    .filter((a) => a.parentNode.previousElementSibling?.firstElementChild?.tagName === 'PICTURE')\n    .filter((a) => a.parentNode.previousElementSibling?.childElementCount === 1)\n    // link text is an unformatted URL paste\n    .filter((a) => a.textContent.trim().startsWith('http'))\n    .forEach((a) => {\n      const picture = a.parentNode.previousElementSibling.firstElementChild;\n      picture.parentNode.remove();\n      a.innerHTML = picture.outerHTML;\n      // make sure the link is not decorated as a button\n      a.parentNode.classList.remove('button-container');\n      a.className = '';\n    });\n}\n\nfunction handleFetchError(statusCode, mainElement) {\n  const errorType = statusCode === 404 ? '404' : 'unknown';\n  const errorMessage = document.createRange().createContextualFragment(`\n    <div class=\"section\">\n      <div class=\"inline-message-wrapper\">\n        <div class=\"inline-message block inline-message--error\">\n          <span class=\"icon icon-control-remove\" aria-hidden=\"true\"></span>\n          <h2>${(0,_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)(`modal:error-title-${errorType}`)}</h2>\n          <p>${(0,_common_js__WEBPACK_IMPORTED_MODULE_1__.getTextLabel)(`modal:error-text-${errorType}`)}</p>\n        </div>\n      </div>\n    </div>\n  `);\n\n  (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.decorateIcons)(errorMessage);\n  mainElement.appendChild(errorMessage);\n\n  const modalEvent = new CustomEvent('open-modal', {\n    detail: {\n      content: mainElement.children, // Now this refers to the errorContainer which mimics a section\n      target: document.activeElement, // might consider the previous active element or a default\n    },\n  });\n  document.dispatchEvent(modalEvent, { bubbles: true });\n}\n\nfunction handleModalLinks(link) {\n  if (!modal) {\n    loadModalScript();\n  }\n  link.addEventListener('click', async (event) => {\n    event.preventDefault();\n    const modalContentLink = link.getAttribute('data-modal-content');\n    const resp = await fetch(`${modalContentLink}.plain.html`);\n    const main = document.createElement('main');\n\n    if (resp.ok) {\n      main.innerHTML = await resp.text();\n\n      decorateMain(main, main);\n      await (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.loadSections)(main);\n      const modalEvent = new CustomEvent('open-modal', {\n        detail: {\n          content: main.children,\n          target: event.target,\n        },\n      });\n      document.dispatchEvent(modalEvent, { bubbles: true });\n    } else {\n      handleFetchError(resp.status, main);\n    }\n  });\n}\n\nfunction decorateLinks(block) {\n  [...block.querySelectorAll('a')]\n    .filter(({ href }) => !!href)\n    .forEach((link) => {\n      if ((0,_video_helper_js__WEBPACK_IMPORTED_MODULE_2__.isVideoLink)(link)) {\n        (0,_video_helper_js__WEBPACK_IMPORTED_MODULE_2__.addVideoShowHandler)(link);\n        return;\n      }\n      if ((0,_video_helper_js__WEBPACK_IMPORTED_MODULE_2__.isSoundcloudLink)(link)) {\n        (0,_video_helper_js__WEBPACK_IMPORTED_MODULE_2__.addSoundcloudShowHandler)(link);\n      }\n      if (link.getAttribute('href').startsWith('/modal-content=')) {\n        const href = link.getAttribute('href');\n        link.setAttribute('data-modal-content', href.split('modal-content=')[1]);\n        // removing the `/modal-content=` so the link can be opened in the other tab by coping link\n        link.setAttribute('href', link.getAttribute('href').replace('/modal-content=', ''));\n        handleModalLinks(link);\n        return;\n      }\n\n      const url = new URL(link.href);\n      const external =\n        !url.host.match('volvotrucks.(us|ca|mx)') && !url.host.match(/\\.hlx\\.(page|live)|\\.aem\\.(page|live)/) && !url.host.match('localhost');\n      if (url.host.match('build.volvotrucks.(us)') || url.pathname.endsWith('.pdf') || url.pathname.endsWith('.jpeg') || external) {\n        link.target = '_blank';\n      }\n    });\n}\n\nfunction decorateOfferLinks(main) {\n  async function openOffer(event) {\n    event.preventDefault();\n    const module = await __webpack_require__(\"./scripts lazy recursive ^.*\\\\/blocks\\\\/get\\\\-an\\\\-offer\\\\/get\\\\-an\\\\-offer\\\\.js$ referencedExports: showOffer, showOffer\")(`${window.hlx.codeBasePath}/blocks/get-an-offer/get-an-offer.js`);\n    if (module.showOffer) {\n      await module.showOffer(event.target);\n    }\n  }\n  main.querySelectorAll('a[href*=\"offer\"]').forEach((a) => {\n    if (a.href.endsWith('-offer')) {\n      let list = a.closest('ul');\n      if (!list) {\n        list = document.createElement('ul');\n        const parent = a.parentElement;\n        const li = document.createElement('li');\n        list.append(li);\n        li.append(a);\n        parent.after(list);\n        if (parent.textContent === '' && parent.children.length === 0) {\n          parent.remove();\n        }\n      }\n      list.classList.add('inline');\n      const li = document.createElement('li');\n      const clone = a.cloneNode(true);\n      clone.textContent = 'Details';\n      clone.title = clone.textContent;\n      li.append(clone);\n      list.append(li);\n      a.addEventListener('click', openOffer);\n      clone.addEventListener('click', openOffer);\n    }\n  });\n}\n\nfunction createInpageNavigation(main) {\n  const navItems = [];\n  const tabItemsObj = [];\n\n  // Extract the inpage navigation info from sections\n  [...main.querySelectorAll(':scope > div')].forEach((section) => {\n    const title = section.dataset.inpage;\n    if (title) {\n      const countDuplicated = tabItemsObj.filter((item) => item.title === title)?.length || 0;\n      const order = parseFloat(section.dataset.inpageOrder);\n      const anchorID = countDuplicated > 0 ? (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.slugify)(`${section.dataset.inpage}-${countDuplicated}`) : (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.slugify)(section.dataset.inpage);\n      const obj = {\n        title,\n        id: anchorID,\n      };\n\n      if (order) {\n        obj.order = order;\n      }\n\n      tabItemsObj.push(obj);\n\n      // Set section with ID\n      section.dataset.inpageid = anchorID;\n    }\n  });\n\n  // Sort the object by order\n  const sortedObject = tabItemsObj.slice().sort((obj1, obj2) => {\n    const order1 = obj1.order ?? Infinity; // Fallback to a large number if 'order' is not present\n    const order2 = obj2.order ?? Infinity;\n\n    return order1 - order2;\n  });\n\n  // From the array of objects create the DOM\n  sortedObject.forEach((item) => {\n    const subnavItem = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div');\n    const subnavLink = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('button', {\n      props: {\n        'data-id': item.id,\n        title: item.title,\n      },\n    });\n\n    subnavLink.textContent = item.title;\n\n    subnavItem.append(subnavLink);\n    navItems.push(subnavLink);\n  });\n\n  return navItems;\n}\n\nfunction buildInpageNavigationBlock(main) {\n  const inpageClassName = 'v2-inpage-navigation';\n\n  const items = createInpageNavigation(main);\n\n  if (items.length > 0) {\n    const section = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div');\n    const inpageBlock = (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.buildBlock)(inpageClassName, { elems: items });\n\n    section.append(inpageBlock);\n    main.prepend(section);\n\n    (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.decorateBlock)(section.querySelector(`.${inpageClassName}`));\n    (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.loadBlock)(inpageBlock);\n  }\n}\n\nconst reparentChildren = (element) => {\n  const parent = element.parentNode;\n  while (element.firstChild) {\n    parent.insertBefore(element.firstChild, element);\n  }\n  element.remove();\n};\n\nconst shouldDecorateLink = (a) => {\n  a.title = a.title || a.textContent;\n  return a.href !== a.textContent && !a.querySelector('img');\n};\n\nconst getButtonClass = (up, twoUp) => {\n  if ((up.tagName === 'EM' && twoUp.tagName === 'STRONG') || (up.tagName === 'STRONG' && twoUp.tagName === 'EM')) {\n    reparentChildren(up);\n    reparentChildren(twoUp);\n    return 'marketing';\n  }\n\n  if (up.tagName === 'STRONG' || up.tagName === 'EM') {\n    reparentChildren(up);\n    return up.tagName === 'STRONG' ? 'primary' : 'secondary';\n  }\n\n  return 'tertiary';\n};\n\nconst addClassToContainer = (element) => {\n  if (element.childNodes.length === 1 && ['P', 'DIV', 'LI'].includes(element.tagName)) {\n    element.classList.add('button-container');\n  }\n};\n\n/**\n * Applies button styling to anchor tags within a specified element,\n * decorating them as button-like if they meet certain criteria.\n * @param {Element} element - The container element within which to search and style anchor tags.\n */\nconst decorateButtons = (element) => {\n  element.querySelectorAll('a').forEach((a) => {\n    if (shouldDecorateLink(a)) {\n      let up = a.parentElement;\n      const twoUp = up.parentElement;\n      const threeUp = twoUp.parentElement;\n      const buttonClass = getButtonClass(up, twoUp);\n\n      up = a.parentElement;\n      if (['P', 'DIV', 'LI'].includes(up.tagName)) {\n        a.className = `button ${buttonClass}`;\n      } else {\n        a.className = buttonClass;\n      }\n\n      addClassToContainer(up);\n      addClassToContainer(twoUp);\n      addClassToContainer(threeUp);\n\n      if (![up, twoUp, threeUp].some((el) => el.classList.contains('button-container'))) {\n        a.className = '';\n      }\n    }\n  });\n};\n\nfunction decorateConfigurator(main) {\n  moveClassToHtmlEl('truck-configurator');\n\n  const currentUrl = window.location.href;\n  const isConfiguratorPage = document.documentElement.classList.contains('truck-configurator') || currentUrl.includes('/summary?config=');\n\n  if (isConfiguratorPage) {\n    const allowedCountries = (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.getMetadata)('allowed-countries');\n    const errorPageUrl = (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.getMetadata)('redirect-url');\n    if (allowedCountries && errorPageUrl) {\n      (0,_validate_countries_js__WEBPACK_IMPORTED_MODULE_3__.validateCountries)(allowedCountries, errorPageUrl);\n    }\n\n    const container = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.createElement)('div', { props: { id: 'configurator' } });\n    main.innerHTML = '';\n    main.append(container);\n\n    const { JS = false, CSS = false } = _common_js__WEBPACK_IMPORTED_MODULE_1__.TRUCK_CONFIGURATOR_URLS;\n    const cssUrls = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.formatStringToArray)(CSS);\n    const jsUrls = (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.formatStringToArray)(JS);\n    if (jsUrls.length > 0 && currentUrl.includes('/summary?config=')) {\n      document.documentElement.classList.add('external-app');\n      const truckConfiguratorBaseUrl = new URL(jsUrls[0]).origin;\n      const currentUrlHash = new URL(currentUrl).hash;\n      jsUrls.unshift(`${truckConfiguratorBaseUrl}/${currentUrlHash}`);\n    }\n\n    // if there are no css files, remove js files as well to avoid a weird animation\n    if (cssUrls.length === 0) {\n      jsUrls.length = 0;\n    }\n\n    jsUrls.forEach((url) => {\n      (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.loadScript)(url, { type: 'text/javascript', charset: 'UTF-8', defer: 'defer' });\n    });\n\n    cssUrls.forEach((url) => {\n      (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.loadCSS)(url);\n    });\n  }\n}\n\n/**\n * Decorates the main element.\n * @param {Element} main The main element\n * @param {Element} head The header element\n */\nfunction decorateMain(main, head) {\n  const pageStyle = head.querySelector('[name=\"style\"]')?.content;\n  if (pageStyle) {\n    pageStyle\n      .split(',')\n      .map((style) => (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.toClassName)(style.trim()))\n      .forEach((style) => main.classList.add(style));\n  }\n  // hopefully forward compatible button decoration\n  decorateButtons(main);\n  (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.decorateIcons)(main);\n  buildAutoBlocks(main, head);\n  (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.decorateSections)(main);\n  (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.decorateBlocks)(main);\n\n  // These autoblocks need to be built after the sections and blocks are decorated :(\n  buildTruckLineupBlock(main);\n  buildInpageNavigationBlock(main);\n\n  decorateHyperlinkImages(main);\n  decorateSectionBackgrounds(main);\n  decorateLinks(main);\n  buildTabbedBlock(main);\n  decorateOfferLinks(main);\n  decorateConfigurator(main);\n}\n\n/**\n * loads everything needed to get to LCP.\n */\nasync function loadEager(doc) {\n  (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.decorateTemplateAndTheme)();\n\n  const disableHeader = (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.getMetadata)('disable-header').toLowerCase() === 'true';\n  const main = doc.querySelector('main');\n  const { head } = doc;\n\n  if (!disableHeader) {\n    const header = doc.querySelector('header');\n    header && (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.loadHeader)(header);\n  }\n\n  if (main) {\n    decorateMain(main, head);\n    document.body.classList.add('appear');\n    const meta_i18n = doc.querySelector('meta[name=\"i18n\"]');\n    const meta_locale = doc.querySelector('meta[name=\"locale\"]');\n    document.documentElement.lang = (meta_i18n && meta_i18n.content) || (meta_locale && meta_locale.content.toLowerCase()) || 'en';\n    const templateName = (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.getMetadata)('template');\n    if (templateName) {\n      await (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.loadTemplate)(doc, templateName);\n    }\n  } else {\n    document.documentElement.lang = 'en';\n  }\n\n  await (0,_common_js__WEBPACK_IMPORTED_MODULE_1__.getPlaceholders)();\n}\n\nconst MEDIA_BREAKPOINTS = {\n  MOBILE: 'MOBILE',\n  TABLET: 'TABLET',\n  DESKTOP: 'DESKTOP',\n};\n\nfunction getImageForBreakpoint(imagesList, onChange = () => {}) {\n  const mobileMQ = window.matchMedia('(max-width: 743px)');\n  const tabletMQ = window.matchMedia('(min-width: 744px) and (max-width: 1199px)');\n  const desktopMQ = window.matchMedia('(min-width: 1200px)');\n\n  const [mobilePic, tabletPic, desktopPic] = imagesList.querySelectorAll('picture');\n\n  const onBreakpointChange = (mq, picture, breakpoint) => {\n    if (mq.matches) {\n      onChange(picture, breakpoint);\n    }\n  };\n  const onMobileChange = (mq) => onBreakpointChange(mq, mobilePic, MEDIA_BREAKPOINTS.MOBILE);\n  const onTabletChange = (mq) => onBreakpointChange(mq, tabletPic, MEDIA_BREAKPOINTS.TABLET);\n  const onDesktopChange = (mq) => onBreakpointChange(mq, desktopPic, MEDIA_BREAKPOINTS.DESKTOP);\n\n  mobileMQ.addEventListener('change', onMobileChange);\n  tabletMQ.addEventListener('change', onTabletChange);\n  desktopMQ.addEventListener('change', onDesktopChange);\n\n  if (mobileMQ.matches) {\n    onMobileChange(mobileMQ);\n    return;\n  }\n\n  if (tabletMQ.matches) {\n    onTabletChange(tabletMQ);\n    return;\n  }\n  onDesktopChange(desktopMQ);\n}\n\nconst moveClassToHtmlEl = (className, elementSelector = 'main') => {\n  if (document.querySelector(elementSelector).classList.contains(className)) {\n    document.querySelector('html').classList.add(className);\n    document.querySelector(elementSelector).classList.remove(className);\n  }\n};\n\n/**\n * loads everything that doesn't need to be delayed.\n */\nasync function loadLazy(doc) {\n  const main = doc.querySelector('main');\n  await (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.loadSections)(main);\n\n  const { hash } = window.location;\n  const element = hash ? doc.getElementById(hash.substring(1)) : false;\n  if (hash && element) {\n    element.scrollIntoView();\n  }\n  const header = doc.querySelector('header');\n\n  const disableFooter = (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.getMetadata)('disable-footer').toLowerCase() === 'true';\n\n  if (!disableFooter) {\n    (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.loadFooter)(doc.querySelector('footer'));\n  }\n\n  const subnav = header?.querySelector('.block.sub-nav');\n  if (subnav) {\n    (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.loadBlock)(subnav);\n    header.appendChild(subnav);\n  }\n\n  (0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.loadCSS)(`${window.hlx.codeBasePath}/styles/lazy-styles.css`);\n\n  __webpack_require__.e(/*! import() */ \"tools_sidekick_aem-genai-variations_js\").then(__webpack_require__.t.bind(__webpack_require__, /*! ../tools/sidekick/aem-genai-variations.js */ \"./tools/sidekick/aem-genai-variations.js\", 23));\n}\n\n/**\n * Loads everything that happens a lot later,\n * without impacting the user experience.\n */\nfunction loadDelayed() {\n  window.setTimeout(() => {\n    __webpack_require__.e(/*! import() */ \"scripts_delayed_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./delayed.js */ \"./scripts/delayed.js\"));\n  }, 3000);\n  // load anything that can be postponed to the latest here\n}\n\n/**\n * Main page initialization logic.\n * Loads eager/lazy resources and conditionally loads video support.\n */\nasync function loadPage() {\n  await loadEager(document);\n  await loadLazy(document);\n  loadDelayed();\n\n  if ((0,_video_helper_js__WEBPACK_IMPORTED_MODULE_2__.hasVideoOnPage)()) {\n    await (0,_video_helper_js__WEBPACK_IMPORTED_MODULE_2__.loadVideoJs)();\n  }\n}\n\nloadPage();\n\n/* REDESIGN CLASS CHECK */\nmoveClassToHtmlEl('redesign-v2');\n\n/* MODAL */\nasync function loadModalScript() {\n  if (!modal) {\n    modal = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../common/modal/modal.js */ \"./common/modal/modal.js\"));\n  }\n\n  return modal;\n}\n\ndocument.addEventListener('open-modal', (event) => {\n  loadModalScript().then((modal) => {\n    const variantClasses = ['black', 'gray', 'reveal'];\n    const modalClasses = [...event.detail.target.closest('.section').classList].filter((el) => el.startsWith('modal-'));\n    // changing the modal variants classes to BEM naming\n    variantClasses.forEach((variant) => {\n      const index = modalClasses.findIndex((el) => el === `modal-${variant}`);\n\n      if (index >= 0) {\n        modalClasses[index] = modalClasses[index].replace('modal-', 'modal--');\n      }\n    });\n\n    modal.showModal(event.detail.content, { modalClasses, invokeContext: event.detail.target });\n  });\n});\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./scripts/scripts.js?\n}")},"./scripts/search-api.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TENANT: () => (/* binding */ TENANT),\n/* harmony export */   autosuggestQuery: () => (/* binding */ autosuggestQuery),\n/* harmony export */   fetchSearchData: () => (/* binding */ fetchSearchData),\n/* harmony export */   magazineSearchQuery: () => (/* binding */ magazineSearchQuery),\n/* harmony export */   pressReleaseQuery: () => (/* binding */ pressReleaseQuery),\n/* harmony export */   sanitizeQueryTerm: () => (/* binding */ sanitizeQueryTerm),\n/* harmony export */   searchQuery: () => (/* binding */ searchQuery),\n/* harmony export */   topicSearchQuery: () => (/* binding */ topicSearchQuery)\n/* harmony export */ });\n/* unused harmony exports SEARCH_URL_PROD, SEARCH_URL_DEV */\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_common_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\nconst { TENANT = false, SEARCH_URL_PROD = false, SEARCH_URL_DEV = false } = _common_js__WEBPACK_IMPORTED_MODULE_0__.SEARCH_CONFIGS;\n\n// because the dev url has different items is better to use the prod one also in dev\nasync function fetchSearchData(queryObj) {\n  const query = {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      'Content-Length': queryObj.length,\n    },\n    body: JSON.stringify(queryObj),\n  };\n\n  if (!SEARCH_URL_PROD && !SEARCH_URL_DEV) {\n    throw new Error('Search link not found');\n  }\n\n  try {\n    let response = await fetch(SEARCH_URL_PROD, query);\n    if (!response.ok) {\n      response = await fetch(SEARCH_URL_DEV, query);\n    }\n\n    return response.json();\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    throw error;\n  }\n}\n\nfunction sanitizeQueryTerm(query) {\n  return query.replace(/[<>]/g, (tag) => {\n    const replacements = {\n      '<': '&lt;',\n      '>': '&gt;',\n    };\n    return replacements[tag] || tag;\n  });\n}\n\nconst searchQuery = () => `\nquery Edssearch($tenant: String!, $language: EdsLocaleEnum!, $q: String, $limit: Int, $offset: Int,\n$facets: [EdsFieldEnum], $sort: EdsSortOptionsEnum, $article: ArticleFilter, $category: [String]) {\n  edssearch(tenant: $tenant, language: $language, q: $q, limit: $limit, offset: $offset,\n  facets: $facets, sort: $sort, article: $article, category: $category) {\n    count\n    items {\n      uuid\n      score\n      metadata {\n        title\n        description\n        url\n        lastModified\n        language\n        category\n        article {\n          category\n          topic\n          truck\n        }\n      }\n    }\n    facets {\n      field\n      items {\n        value\n        count\n      }\n    }\n  }\n}\n`;\n\nconst autosuggestQuery = () => `\nquery EdsWordPhraseSuggest($term: String!, $tenant: String!, $language: EdsLocaleEnum!, $sizeSuggestions: Int) {\n  edsWordPhraseSuggest(term: $term, tenant: $tenant, language: $language, sizeSuggestions: $sizeSuggestions) {\n    terms\n  }\n}\n`;\n\nconst magazineSearchQuery = () => `\nquery Edssearch($tenant: String!, $language: EdsLocaleEnum!, $q: String, $limit: Int, $offset: Int,\n$category: [String], $facets: [EdsFieldEnum], $article: ArticleFilter, $sort: EdsSortOptionsEnum) {\n  edssearch(tenant: $tenant, language: $language, q: $q, limit: $limit, offset: $offset,\n  category: $category, facets: $facets, article: $article, sort: $sort) {\n    count\n    items {\n      uuid\n      score\n      metadata {\n        title\n        description\n        url\n        lastModified\n        language\n        category\n        publishDate\n        image\n        article {\n          author\n          category\n          topic\n          truck\n          readTime\n        }\n      }\n    }\n    facets {\n      field\n      items {\n        value\n        count\n      }\n    }\n  }\n}\n`;\n\nconst topicSearchQuery = () => `\n  query Edsrecommend($tenant: String!, $language: EdsLocaleEnum!, $limit: Int, $offset: Int, $category: String, $article: ArticleFilter, $sort: EdsSortOptionsEnum, $facets: [EdsFieldEnum]) {\n    edsrecommend(tenant: $tenant, language: $language, limit: $limit, offset: $offset, category: $category, article: $article, sort: $sort, facets: $facets) {\n      count\n      items {\n        uuid\n        score\n        metadata {\n          title\n          description\n          url\n          language\n          lastModified\n          publishDate\n          image\n          article {\n            author\n            topic\n            truck\n            readTime\n          }\n        }\n      }\n      facets {\n        field\n        items {\n          value\n          count\n        }\n      }\n    }\n  }\n`;\n\nconst pressReleaseQuery = () => `\n query Edssearch($tenant: String!, $language: EdsLocaleEnum!, $q: String, $limit: Int, $offset: Int,\n  $facets: [EdsFieldEnum], $sort: EdsSortOptionsEnum, $article: ArticleFilter, $category: [String]) {\n    edssearch(tenant: $tenant, language: $language, q: $q, limit: $limit, offset: $offset,\n    facets: $facets, sort: $sort, article: $article, category: $category) {\n      count\n      items {\n        uuid\n        metadata {\n          title\n          description\n          image\n          url\n          language\n          category\n          publishDate\n        }\n      }\n    }\n  } \n`;\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./scripts/search-api.js?\n}")},"./scripts/services/magazine.service.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchMagazineArticles: () => (/* binding */ fetchMagazineArticles),\n/* harmony export */   fetchRecommendedArticles: () => (/* binding */ fetchRecommendedArticles),\n/* harmony export */   parseArticleData: () => (/* binding */ parseArticleData),\n/* harmony export */   removeArticlesWithNoImage: () => (/* binding */ removeArticlesWithNoImage),\n/* harmony export */   sortArticlesByDateField: () => (/* binding */ sortArticlesByDateField)\n/* harmony export */ });\n/* unused harmony exports getValuesFromObjectsArray, extractLimitFromBlock, clearCurrentArticle, isMagazineTemplate */\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common.js */ \"./scripts/common.js\");\n/* harmony import */ var _search_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../search-api.js */ \"./scripts/search-api.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_common_js__WEBPACK_IMPORTED_MODULE_0__, _search_api_js__WEBPACK_IMPORTED_MODULE_1__]);\n([_common_js__WEBPACK_IMPORTED_MODULE_0__, _search_api_js__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n/**\n * Extracts the articles that don't have an image field\n * @param {Array} articles - An array of articles\n * @returns {Array} - The same array of articles but without those that don't have an image field\n */\nconst removeArticlesWithNoImage = (articles) => {\n  const filteredArray = [...articles.items];\n  filteredArray.filter((art) => !art.metadata.image);\n  return filteredArray;\n};\n\n/**\n * Extracts the values from an array of objects and returns an array of values\n * example: [{ key: 'value' }] => ['value']\n * @param {Array} array - An array of objects\n * @returns {Array} An array of values\n */\nfunction getValuesFromObjectsArray(array = []) {\n  if (!Array.isArray(array) || array.length === 0) {\n    return [];\n  }\n  return array.map((item) => Object.values(item)[0]);\n}\n\n/**\n * Extract the classes of a block and in case there is a 'limit-X' set, extract it as a number\n * @param {block} block - The block element\n * @returns {number} - A number representing the limit\n */\nconst extractLimitFromBlock = (block) => {\n  let limit = null;\n  const blockClass = [...block.classList].find((className) => className.startsWith('limit-'));\n  if (blockClass) {\n    const [, value] = blockClass.split('-');\n    limit = Number(value);\n  }\n  return limit;\n};\n\n/**\n * Extracts the last folder from a URL.\n *\n * @param {string} url - The URL from which to extract the last folder.\n * @returns {string} The last folder in the URL.\n *\n * @example\n * // Example usage:\n * const url = 'https://example.com/folder1/folder2';\n * const lastFolder = getLastURLFolder(url);\n * console.log(lastFolder); // Output: 'folder2'\n *\n * @description\n * This function splits the URL by '/' and filters out any empty segments.\n * It then returns the last non-empty segment, which represents the last folder in the URL.\n * */\nconst getLastURLFolder = (url) =>\n  url\n    .split('/')\n    .filter((item) => item.trim() !== '')\n    .pop();\n\n/**\n * Filters out the current article from the list of articles.\n *\n * @param {Array<Object>} articles - The list of articles to filter.\n * @returns {Array<Object>} - The filtered list of articles excluding the current article.\n *\n * @example\n * // Example usage:\n * const articles = [\n *  { metadata: { url: 'https://example.com/article1' } },\n *  { metadata: { url: 'https://example.com/article2' } },\n *  { metadata: { url: 'https://example.com/article3' } },\n * ];\n * const filteredArticles = clearCurrentArticle(articles);\n * console.log(filteredArticles);\n * // Output: [{ metadata: { url: 'https://example.com/article1' } }, { metadata: { url: 'https://example.com/article2' } }]\n *\n * @description\n * This function filters out the current article from the list of articles based on the URL.\n * It compares the last folder of the current URL with the last folder of each article's URL.\n * If they match, the article is excluded from the filtered list.\n * The function returns a new array containing only the articles that do not match the current article's URL.\n */\nconst clearCurrentArticle = (articles) =>\n  articles.filter((article) => {\n    const currentArticlePath = getLastURLFolder(window.location.href);\n    const lastElementInUrl = getLastURLFolder(article.metadata.url);\n    return lastElementInUrl !== currentArticlePath ? article : null;\n  });\n\n/**\n * Checks whether the current page is a magazine template.\n */\nconst isMagazineTemplate = document.body.classList.contains('v2-magazine') || document.body.classList.contains('magazine');\n\n/**\n * Sorts an array of articles by a specified date field within the `metadata` object.\n * @param {Array<Object>} articles - The array of article objects to be sorted.\n * Each article must have a `metadata` property.\n * @param {string} dateField - The name of the date field within the `metadata` object to sort by\n * (e.g., \"lastModified\" or \"publishDate\").\n * @returns {Array<Object>} A new array of articles sorted in descending order by the specified\n * date field. Articles with invalid or missing date fields are excluded from the result.\n */\nconst sortArticlesByDateField = (articles, dateField) => {\n  const articlesWithTimestamps = articles.map((article) => {\n    const rawTimestamp = article.metadata?.[dateField];\n    const timestamp = rawTimestamp ? new Date(rawTimestamp * 1000).getTime() : null;\n\n    if (timestamp === null) {\n      console.warn(`Date field \"${dateField}\" not found or invalid in metadata for article`, article);\n    }\n\n    return {\n      ...article,\n      timestamp,\n    };\n  });\n\n  const sortedArticles = articlesWithTimestamps.filter((article) => article.timestamp !== null).sort((a, b) => b.timestamp - a.timestamp);\n\n  return sortedArticles;\n};\n\n/**\n * Fetches magazine articles based on the provided criteria.\n *\n * @param {Object} options - Options for fetching magazine articles.\n * @param {number} options.limit - The maximum number of articles to fetch.\n * @param {number} [options.offset=0] - The starting point for fetching articles (pagination).\n * @param {Object|null} [options.tags=null] - An object with keys \"truck\", \"topic\" and/or \"category\" to filter articles, or null.\n * @param {string} [options.q='truck'] - The query term to search for articles.\n * @param {string} [options.sort] - The sorting criteria for articles.\n * @param {string} [options.tenant=TENANT] - The tenant identifier.\n * @param {string} [options.language=getLocale().split('-')[0].toUpperCase()] -\n * The language code for the articles.\n * @param {string} [options.category='magazine'] - The category of articles to fetch.\n * @param {Array<string>} [options.facets=['ARTICLE', 'TOPIC', 'TRUCK']] -\n * The facets to include in the search.\n * @returns {Promise<Object|null>} The fetched articles data, or null if an error occurs.\n *\n * @async\n * @throws {Error} Logs errors to the console and returns null if the fetch fails.\n */\nconst fetchMagazineArticles = async ({\n  limit = 100,\n  offset = 0,\n  tags = {},\n  q = 'truck',\n  sort,\n  tenant = _search_api_js__WEBPACK_IMPORTED_MODULE_1__.TENANT,\n  language = (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.getLocale)().split('-')[0].toUpperCase(),\n  category = 'Magazine',\n  facets = ['ARTICLE', 'TOPIC', 'TRUCK'],\n} = {}) => {\n  const variables = {\n    tenant,\n    language,\n    q,\n    category,\n    limit,\n    offset,\n    facets,\n    sort,\n    article: tags,\n  };\n\n  try {\n    if (!tenant) {\n      throw new Error('TENANT not defined');\n    }\n\n    const rawData = await (0,_search_api_js__WEBPACK_IMPORTED_MODULE_1__.fetchSearchData)({\n      query: (0,_search_api_js__WEBPACK_IMPORTED_MODULE_1__.magazineSearchQuery)(),\n      variables,\n    });\n    return rawData?.data?.edssearch || null;\n  } catch (error) {\n    console.error('Error fetching magazine articles:', error);\n    return null;\n  }\n};\n\nconst fetchRecommendedArticles = async ({\n  tenant = _search_api_js__WEBPACK_IMPORTED_MODULE_1__.TENANT,\n  language = (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.getLocale)().split('-')[0].toUpperCase(),\n  limit = 7,\n  offset = 0,\n  category = 'Magazine',\n  tags = {},\n  sort = 'PUBLISH_DATE_DESC',\n  facets = ['ARTICLE', 'TOPIC', 'TRUCK'],\n}) => {\n  const variables = {\n    tenant,\n    language,\n    limit,\n    offset,\n    category,\n    facets,\n    sort,\n    article: tags,\n  };\n\n  try {\n    if (!tenant) {\n      throw new Error('TENANT not defined');\n    }\n\n    const rawData = await (0,_search_api_js__WEBPACK_IMPORTED_MODULE_1__.fetchSearchData)({\n      query: (0,_search_api_js__WEBPACK_IMPORTED_MODULE_1__.topicSearchQuery)(),\n      variables,\n    });\n    return rawData?.data?.edsrecommend || null;\n  } catch (error) {\n    console.error('Error fetching recommended articles:', error);\n    return null;\n  }\n};\n\nconst defaultAuthor = (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('magazine:default_author');\nconst defaultReadTime = (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('magazine:default_read_time');\n/**\n * Extract the classes of a block and in case there is a 'limit-X' set, extract it as a number\n * @param {Object} item - The raw article item that comes from opensearch\n * @returns {Object} - The parsed object without the metadata field and some other properties\n */\nconst parseArticleData = (item) => {\n  // Add a check for item and item.metadata in case 'item' is falsy\n  if (!item || !item.metadata) {\n    console.warn('parseArticleData received invalid item or metadata:', item);\n    return;\n  }\n\n  const isImageLink = (link) => `${link}`.split('?')[0].match(/\\.(jpeg|jpg|gif|png|svg|bmp|webp)$/) !== null;\n\n  const getDefaultImage = () => {\n    const logoImageURL = '/media/logo/media_10a115d2f3d50f3a22ecd2075307b4f4dcaedb366.jpeg';\n    return (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.getOrigin)() + logoImageURL;\n  };\n\n  const { article, image } = item.metadata;\n  const filterTag = ['category', 'topic', 'truck'].map((key) => item.metadata.article[key]).filter(Boolean);\n\n  return {\n    ...item.metadata,\n    filterTag,\n    author: article.author || defaultAuthor,\n    image: isImageLink(image) ? (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.getOrigin)() + image : getDefaultImage(),\n    path: item.metadata?.url,\n    readingTime: /\\d+/.test(article.readTime) ? article.readTime : defaultReadTime,\n    isDefaultImage: !isImageLink(image),\n    category: article.category,\n  };\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./scripts/services/magazine.service.js?\n}")},"./scripts/services/press-release.service.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchPressReleases: () => (/* binding */ fetchPressReleases)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common.js */ \"./scripts/common.js\");\n/* harmony import */ var _search_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../search-api.js */ \"./scripts/search-api.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_common_js__WEBPACK_IMPORTED_MODULE_0__, _search_api_js__WEBPACK_IMPORTED_MODULE_1__]);\n([_common_js__WEBPACK_IMPORTED_MODULE_0__, _search_api_js__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n/**\n * Fetches magazine articles based on the provided criteria.\n *\n * @param {Object} options - Options for fetching magazine articles.\n * @param {number} options.limit - The maximum number of articles to fetch.\n * @param {number} [options.offset=0] - The starting point for fetching articles (pagination).\n * @param {Object|null} [options.tags=null] - An object with keys \"truck\", \"topic\" and/or \"category\" to filter articles, or null.\n * @param {string} [options.q='truck'] - The query term to search for articles.\n * @param {string} [options.sort] - The sorting criteria for articles.\n * @param {string} [options.tenant=TENANT] - The tenant identifier.\n * @param {string} [options.language=getLocale().split('-')[0].toUpperCase()] -\n * The language code for the articles.\n * @param {string} [options.category='magazine'] - The category of articles to fetch.\n * @param {Array<string>} [options.facets=['ARTICLE', 'TOPIC', 'TRUCK']] -\n * The facets to include in the search.\n * @returns {Promise<Object|null>} The fetched articles data, or null if an error occurs.\n *\n * @async\n * @throws {Error} Logs errors to the console and returns null if the fetch fails.\n */\nconst fetchPressReleases = async ({\n  tenant = _search_api_js__WEBPACK_IMPORTED_MODULE_1__.TENANT,\n  language = (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.getLocale)().split('-')[0].toUpperCase(),\n  q = 'Volvo',\n  limit = 100,\n  offset = 0,\n  category = 'Press releases',\n  sort,\n} = {}) => {\n  const variables = {\n    tenant,\n    language,\n    q,\n    limit,\n    offset,\n    category,\n    sort,\n  };\n\n  try {\n    if (!tenant) {\n      throw new Error('TENANT not defined');\n    }\n\n    const rawData = await (0,_search_api_js__WEBPACK_IMPORTED_MODULE_1__.fetchSearchData)({\n      query: (0,_search_api_js__WEBPACK_IMPORTED_MODULE_1__.pressReleaseQuery)(),\n      variables,\n    });\n    return rawData?.data?.edssearch || null;\n  } catch (error) {\n    console.error('Error fetching magazine articles:', error);\n    return null;\n  }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./scripts/services/press-release.service.js?\n}")},"./scripts/validate-countries.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   validateCountries: () => (/* binding */ validateCountries)\n/* harmony export */ });\n/* unused harmony exports splitString, getUserCountryName */\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./scripts/common.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_common_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n\n\nconst { GOOGLE_API_KEY = false } = _common_js__WEBPACK_IMPORTED_MODULE_0__.TOOLS_CONFIGS;\nconst languageCode = 'en';\nconst API_KEY = GOOGLE_API_KEY || '';\n\nconst splitString = (str) => str.split(',').map((item) => item.trim());\n\nconst getUserCountryName = async (lat, lng) => {\n  const apiUrl = `https://maps.googleapis.com/maps/api/geocode/json?latlng=${lat},${lng}&language=${languageCode}&key=${API_KEY || ''}`;\n\n  const response = await (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.getJsonFromUrl)(apiUrl);\n  const locationString = response?.plus_code.compound_code;\n\n  return locationString;\n};\n\nconst checkForRedirect = (list, country, url) => {\n  // Check if country is included in the list that comes from the metadata\n  if (!list.includes(country)) {\n    console.error('Truck configurator not avaliable for: ', country);\n    const completeUrl = window.location.origin + url;\n    window.location.replace(completeUrl);\n  }\n};\n\nconst validateCountries = async (countries, url) => {\n  const allowedCountries = splitString(countries);\n\n  const locationSuccess = async (position) => {\n    const { latitude, longitude } = position.coords;\n    const response = await getUserCountryName(latitude, longitude);\n    if (!response) {\n      return;\n    }\n\n    const country = splitString(response).reverse()[0];\n    if (country) {\n      checkForRedirect(allowedCountries, country, url);\n    }\n  };\n  const locationError = (error) => {\n    console.error('Error: ', error);\n  };\n\n  navigator.geolocation.getCurrentPosition(locationSuccess, locationError);\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./scripts/validate-countries.js?\n}")},"./scripts/video-helper.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AEM_ASSETS: () => (/* binding */ AEM_ASSETS),\n/* harmony export */   VideoEventManager: () => (/* binding */ VideoEventManager),\n/* harmony export */   addMuteControls: () => (/* binding */ addMuteControls),\n/* harmony export */   addPlayIcon: () => (/* binding */ addPlayIcon),\n/* harmony export */   addSoundcloudShowHandler: () => (/* binding */ addSoundcloudShowHandler),\n/* harmony export */   addVideoConfig: () => (/* binding */ addVideoConfig),\n/* harmony export */   addVideoShowHandler: () => (/* binding */ addVideoShowHandler),\n/* harmony export */   cleanupVideoLink: () => (/* binding */ cleanupVideoLink),\n/* harmony export */   createIframe: () => (/* binding */ createIframe),\n/* harmony export */   createLowResolutionBanner: () => (/* binding */ createLowResolutionBanner),\n/* harmony export */   createVideo: () => (/* binding */ createVideo),\n/* harmony export */   createVideoWithPoster: () => (/* binding */ createVideoWithPoster),\n/* harmony export */   getDeviceSpecificVideoUrl: () => (/* binding */ getDeviceSpecificVideoUrl),\n/* harmony export */   getDynamicVideoHeight: () => (/* binding */ getDynamicVideoHeight),\n/* harmony export */   getYoutubeVideoId: () => (/* binding */ getYoutubeVideoId),\n/* harmony export */   handleVideoMessage: () => (/* binding */ handleVideoMessage),\n/* harmony export */   hasVideoOnPage: () => (/* binding */ hasVideoOnPage),\n/* harmony export */   isAEMVideoUrl: () => (/* binding */ isAEMVideoUrl),\n/* harmony export */   isHlsVideoUrl: () => (/* binding */ isHlsVideoUrl),\n/* harmony export */   isLowResolutionVideoUrl: () => (/* binding */ isLowResolutionVideoUrl),\n/* harmony export */   isSoundcloudLink: () => (/* binding */ isSoundcloudLink),\n/* harmony export */   isVideoLink: () => (/* binding */ isVideoLink),\n/* harmony export */   isYoutubeVideoUrl: () => (/* binding */ isYoutubeVideoUrl),\n/* harmony export */   loadVideoJs: () => (/* binding */ loadVideoJs),\n/* harmony export */   loadYouTubeIframeAPI: () => (/* binding */ loadYouTubeIframeAPI),\n/* harmony export */   pausePlayback: () => (/* binding */ pausePlayback),\n/* harmony export */   playMutedInline: () => (/* binding */ playMutedInline),\n/* harmony export */   queryVideoEl: () => (/* binding */ queryVideoEl),\n/* harmony export */   selectVideoLink: () => (/* binding */ selectVideoLink),\n/* harmony export */   setupPlayer: () => (/* binding */ setupPlayer),\n/* harmony export */   showVideoModal: () => (/* binding */ showVideoModal),\n/* harmony export */   wrapImageWithVideoLink: () => (/* binding */ wrapImageWithVideoLink)\n/* harmony export */ });\n/* unused harmony exports VIDEO_JS_SCRIPT, VIDEO_JS_CSS, youtubeVideoRegex, videoTypes, standardVideoConfig, videoConfigs, getVideoConfig, setPlaybackControls */\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./scripts/common.js\");\n/* harmony import */ var _aem_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./aem.js */ \"./scripts/aem.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_common_js__WEBPACK_IMPORTED_MODULE_0__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_async_dependencies_result__[0];\n/* global videojs */\n\n\n\nconst VIDEO_JS_SCRIPT = '/scripts/videojs/video.min.js';\nconst VIDEO_JS_CSS = '/scripts/videojs/video-js.min.css';\n\n// videoURLRegex: verify if a given string follows a specific pattern indicating it is a video URL\n// videoIdRegex: extract the video ID from the URL\nconst AEM_ASSETS = {\n  aemCloudDomain: '.adobeaemcloud.com',\n  videoURLRegex: /\\/assets\\/urn:aaid:aem:[\\w-]+\\/play/,\n  videoIdRegex: /(urn:aaid:aem:[0-9a-fA-F-]+|https?:\\/\\/[^\\s]+\\.m3u8)/,\n};\n\nconst youtubeVideoRegex =\n  /^(?:(?:https?:)?\\/\\/)?(?:(?:(?:www|m(?:usic)?)\\.)?youtu(?:\\.be|be\\.com)\\/(?:shorts\\/|live\\/|v\\/|e(?:mbed)?\\/|watch(?:\\/|\\?(?:\\S+=\\S+&)*v=)|oembed\\?url=https?%3A\\/\\/(?:www|m(?:usic)?)\\.youtube\\.com\\/watch\\?(?:\\S+=\\S+&)*v%3D|attribution_link\\?(?:\\S+=\\S+&)*u=(?:\\/|%2F)watch(?:\\?|%3F)v(?:=|%3D))?|www\\.youtube-nocookie\\.com\\/embed\\/)([\\w-]{11})[?&#]?\\S*$/;\n\nconst { aemCloudDomain, videoURLRegex } = AEM_ASSETS;\n\nconst videoTypes = {\n  aem: 'aem',\n  youtube: 'youtube',\n  local: 'local',\n  both: 'both',\n};\n\nconst standardVideoConfig = {\n  autoplay: false,\n  muted: false,\n  controls: true,\n  disablePictureInPicture: false,\n  currentTime: 0,\n  playsinline: true,\n};\n\nconst videoConfigs = {};\n\nasync function waitForVideoJs() {\n  return new Promise((resolve) => {\n    const scriptTag = document.querySelector(`head > script[src=\"${VIDEO_JS_SCRIPT}\"]`);\n    const cssLink = document.querySelector(`head > link[href=\"${VIDEO_JS_CSS}\"]`);\n    const isJsLoaded = scriptTag && scriptTag.dataset.loaded;\n    const isCSSLoaded = cssLink && cssLink.dataset.loaded;\n    if (!isJsLoaded || !isCSSLoaded) {\n      const successHandler = () => {\n        document.removeEventListener('videojs-loaded', successHandler);\n        resolve();\n      };\n\n      document.addEventListener('videojs-loaded', successHandler);\n      return;\n    }\n\n    resolve();\n  });\n}\n\nfunction setupAutopause(videoElement, player) {\n  const observer = new IntersectionObserver(\n    (entries) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          player.play();\n        } else {\n          player.pause();\n        }\n      });\n    },\n    {\n      threshold: [0.5],\n    },\n  );\n\n  observer.observe(videoElement);\n}\n\nasync function setupPlayer(url, videoContainer, config, video) {\n  let videoElement = video;\n  if (!videoElement) {\n    videoElement = document.createElement('video');\n    videoElement.id = `video-${Math.random().toString(36).substr(2, 9)}`;\n  }\n\n  videoElement.classList.add('video-js');\n\n  if (config.playsinline || config.autoplay) {\n    videoElement.setAttribute('playsinline', '');\n  }\n\n  videoContainer.append(videoElement);\n\n  const videojsConfig = {\n    ...config,\n    preload: config.poster && !config.autoplay ? 'none' : 'auto',\n    bigPlayButton: config.controls ?? true,\n    controls: config.controls ?? false,\n  };\n\n  if (config.autoplay) {\n    videojsConfig.loop = true;\n    videojsConfig.autoplay = true;\n  }\n\n  if (config.muted) {\n    videojsConfig.muted = true;\n  }\n\n  await waitForVideoJs();\n\n  if (!videojs) {\n    throw new Error('Video.js is not loaded');\n  }\n\n  const player = videojs(videoElement, videojsConfig);\n  player.src(url);\n\n  player.ready(() => {\n    if (config.autoplay) {\n      setupAutopause(videoElement, player);\n    }\n  });\n\n  return player;\n}\n\nfunction getDeviceSpecificVideoUrl(videoUrl) {\n  return videoUrl.replace(/manifest\\.mpd|manifest\\.m3u8|play/, 'manifest.m3u8');\n}\n\nconst addVideoConfig = (videoId, props = {}) => {\n  if (!videoConfigs[videoId]) {\n    videoConfigs[videoId] = (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.deepMerge)({}, standardVideoConfig);\n  }\n  (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.deepMerge)(videoConfigs[videoId], props);\n};\n\nconst getVideoConfig = (videoId) => videoConfigs[videoId];\n\nfunction isLowResolutionVideoUrl(url) {\n  return typeof url === 'string' && url.split('?')[0].endsWith('.mp4');\n}\n\nfunction isAEMVideoUrl(url) {\n  return videoURLRegex.test(url);\n}\n\nfunction isYoutubeVideoUrl(url) {\n  return youtubeVideoRegex.test(url);\n}\n\nfunction isHlsVideoUrl(url) {\n  return typeof url === 'string' && url.split('?')[0].endsWith('.m3u8');\n}\n\nfunction getYoutubeVideoId(url) {\n  const match = url.match(youtubeVideoRegex);\n\n  return match?.length >= 2 ? match[1] : '';\n}\n\nfunction isVideoLink(link) {\n  const linkString = link.getAttribute('href');\n  const isManifestUrl = /\\.m3u8(\\?.*)?$/.test(linkString);\n  const isYouTube = linkString.includes('youtube.com/embed/');\n  const isAEM = videoURLRegex.test(linkString);\n  const isMp4 = isLowResolutionVideoUrl(linkString);\n  return (isYouTube || isAEM || isMp4 || isManifestUrl) && link.closest('.block.embed') === null;\n}\n\nfunction selectVideoLink(links, preferredType, videoType = videoTypes.both) {\n  const linksArray = Array.isArray(links) ? links : [...links];\n  const hasConsentForSocialVideos = (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.isSocialAllowed)();\n  const isTypeBoth = videoType === videoTypes.both;\n  const prefersYouTube = (hasConsentForSocialVideos && preferredType !== 'local') || (!isTypeBoth && videoType === videoTypes.youtube);\n\n  const findLinkByCondition = (conditionFn) => linksArray.find((link) => conditionFn(link.getAttribute('href')));\n\n  const aemVideoLink = findLinkByCondition((href) => videoURLRegex.test(href));\n  const youTubeLink = findLinkByCondition((href) => href.includes('youtube.com/embed/'));\n  const hlsLink = findLinkByCondition((href) => href.split('?')[0].endsWith('.m3u8'));\n  const localMediaLink = findLinkByCondition((href) => href.split('?')[0].endsWith('.mp4'));\n\n  if (aemVideoLink) {\n    return aemVideoLink;\n  }\n  if (prefersYouTube && youTubeLink) {\n    return youTubeLink;\n  }\n  if (hlsLink) {\n    return hlsLink;\n  }\n  return localMediaLink;\n}\n\nfunction getVideoLinkContainer(link, usePosterAutoDetection) {\n  if (!usePosterAutoDetection) {\n    return link;\n  }\n\n  let poster = null;\n  let level = 2;\n  let parent = link;\n  while (parent !== null && level >= 0) {\n    poster = parent.querySelector('picture');\n    if (poster) {\n      break;\n    }\n\n    parent = parent.parentElement;\n    level -= 1;\n  }\n\n  return poster ? parent : link;\n}\n\nfunction parseVideoLink(link, usePosterAutoDetection) {\n  const isVideo = link ? isVideoLink(link) : false;\n  if (!isVideo) {\n    return null;\n  }\n\n  const container = getVideoLinkContainer(link, usePosterAutoDetection);\n  const poster = container.querySelector('picture')?.cloneNode(true);\n\n  return {\n    url: link.href,\n    poster,\n  };\n}\n\nfunction cleanupVideoLink(block, link, hasPoster) {\n  const container = getVideoLinkContainer(link, hasPoster);\n  // Remove empty ancestor nodes after removing video container containing link and poster image\n  if (container) {\n    let parent = container;\n    while (parent?.parentElement?.children.length === 1 && parent?.parentElement !== block) {\n      parent = parent.parentElement;\n    }\n\n    parent.remove();\n  }\n}\n\nfunction createLowResolutionBanner() {\n  const lowResolutionMessage = (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('video_helper:low_resolution_message');\n  const changeCookieSettings = (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('video_helper:change_cookie_settings');\n  let banner;\n\n  if (document.documentElement.classList.contains('redesign-v2')) {\n    banner = (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div', { classes: 'low-resolution-banner' });\n    const bannerText = (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('p');\n    const bannerButton = (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('button', { classes: ['button', 'secondary', 'dark'] });\n\n    bannerText.textContent = lowResolutionMessage;\n    bannerButton.textContent = changeCookieSettings;\n\n    banner.appendChild(bannerText);\n    banner.appendChild(bannerButton);\n\n    bannerButton.addEventListener('click', () => {\n      window.OneTrust.ToggleInfoDisplay();\n    });\n  } else {\n    banner = document.createElement('div');\n    banner.classList.add('low-resolution-banner');\n    banner.innerHTML = `${lowResolutionMessage} <button class=\"low-resolution-banner-cookie-settings\">${changeCookieSettings}</button>`;\n    banner.querySelector('button').addEventListener('click', () => {\n      window.OneTrust.ToggleInfoDisplay();\n    });\n  }\n\n  return banner;\n}\n\nfunction showVideoModal(linkUrl, modalClasses) {\n  Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../common/modal/modal.js */ \"./common/modal/modal.js\")).then((modal) => {\n    let beforeBanner = null;\n\n    if (isLowResolutionVideoUrl(linkUrl)) {\n      beforeBanner = createLowResolutionBanner();\n    }\n\n    modal.showModal(linkUrl, { beforeBanner, modalClasses });\n  });\n}\n\nfunction addVideoShowHandler(link) {\n  link.classList.add('text-link-with-video');\n\n  link.addEventListener('click', (event) => {\n    event.preventDefault();\n\n    const variantClasses = ['black', 'gray', 'reveal'];\n    const modalClasses = [...event.target.closest('.section').classList].filter((el) => el.startsWith('modal-'));\n    // changing the modal variants classes to BEM naming\n    variantClasses.forEach((variant) => {\n      const index = modalClasses.findIndex((el) => el === `modal-${variant}`);\n\n      if (index >= 0) {\n        modalClasses[index] = modalClasses[index].replace('modal-', 'modal--');\n      }\n    });\n\n    showVideoModal(link.getAttribute('href'), modalClasses);\n  });\n}\n\nfunction isSoundcloudLink(link) {\n  return link.getAttribute('href').includes('soundcloud.com/player') && link.closest('.block.embed') === null;\n}\n\nfunction addSoundcloudShowHandler(link) {\n  link.classList.add('text-link-with-soundcloud');\n\n  link.addEventListener('click', (event) => {\n    event.preventDefault();\n\n    const thumbnail = link.closest('div')?.querySelector('picture');\n    const title = link.closest('div')?.querySelector('h1, h2, h3');\n    const text = link.closest('div')?.querySelector('p:not(.button-container, .image)');\n\n    Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../common/modal/modal.js */ \"./common/modal/modal.js\")).then((modal) => {\n      const episodeInfo = document.createElement('div');\n      episodeInfo.classList.add('modal-soundcloud');\n      episodeInfo.innerHTML = `<div class=\"episode-image\"><picture></div>\n      <div class=\"episode-text\">\n          <h2></h2>\n          <p></p>\n      </div>`;\n      episodeInfo.querySelector('picture').innerHTML = thumbnail?.innerHTML || '';\n      episodeInfo.querySelector('h2').innerText = title?.innerText || '';\n      episodeInfo.querySelector('p').innerText = text?.innerText || '';\n\n      modal.showModal(link.getAttribute('href'), { beforeIframe: episodeInfo });\n    });\n  });\n}\n\nfunction addPlayIcon(parent) {\n  const playButton = document.createRange().createContextualFragment(`\n    <span class=\"icon icon-play-video\">\n      <svg viewBox=\"0 0 72 72\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <circle cx=\"36\" cy=\"36\" r=\"30\" fill=\"white\"/>\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M49.3312 35.9998L29.3312 24.4528L29.3312 47.5468L49.3312 35.9998ZM44.3312 35.9998L31.8312 28.7829L31.8312 43.2167L44.3312 35.9998Z\" fill=\"#141414\"/>\n      </svg>\n    </span>`);\n\n  parent.appendChild(playButton);\n}\n\nfunction wrapImageWithVideoLink(videoLink, image) {\n  videoLink.innerText = '';\n  videoLink.appendChild(image);\n  videoLink.classList.add('link-with-video');\n  videoLink.classList.remove('button', 'primary', 'text-link-with-video');\n  addPlayIcon(videoLink);\n}\n\nfunction createIframe(url, { parentEl, classes = [], props = {} }) {\n  // iframe must be recreated every time otherwise the new history record would be created\n  const iframe = (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('iframe', {\n    classes: Array.isArray(classes) ? classes : [classes],\n    props: {\n      frameborder: '0',\n      allowfullscreen: 'allowfullscreen',\n      src: url,\n      ...props,\n    },\n  });\n\n  if (parentEl) {\n    parentEl.appendChild(iframe);\n  }\n\n  return iframe;\n}\n\nfunction setPlaybackControls(container) {\n  // Playback controls - play and pause button\n  const playPauseButton = (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('button', {\n    props: { type: 'button', class: 'v2-video__playback-button' },\n  });\n\n  const videoControls = document.createRange().createContextualFragment(`\n    <span class=\"icon icon-pause-video\">\n      <svg width=\"27\" height=\"27\" viewBox=\"0 0 72 72\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <circle cx=\"36\" cy=\"36\" r=\"30\" fill=\"white\"/>\n          <rect x=\"28.25\" y=\"24.45\" width=\"2.75\" height=\"23.09\" fill=\"#141414\"/>\n          <rect x=\"41\" y=\"24.45\" width=\"2.75\" height=\"23.09\" fill=\"#141414\"/>\n      </svg>\n    </span>\n    <span class=\"icon icon-play-video\">\n      <svg width=\"27\" height=\"27\" viewBox=\"0 0 72 72\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <circle cx=\"36\" cy=\"36\" r=\"30\" fill=\"white\"/>\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M49.3312 35.9998L29.3312 24.4528L29.3312 47.5468L49.3312 35.9998ZM44.3312 35.9998L31.8312 28.7829L31.8312 43.2167L44.3312 35.9998Z\" fill=\"#141414\"/>\n      </svg>\n    </span>`);\n\n  playPauseButton.append(...videoControls.children);\n  container.appendChild(playPauseButton);\n\n  const playIcon = container.querySelector('.icon-play-video');\n  const pauseIcon = container.querySelector('.icon-pause-video');\n\n  const pauseVideoLabel = (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('Pause video');\n  const playVideoLabel = (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('Play video');\n\n  playPauseButton.setAttribute('aria-label', pauseVideoLabel);\n\n  const togglePlayPauseIcon = (isPaused) => {\n    if (isPaused) {\n      pauseIcon.style.display = 'none';\n      playIcon.style.display = 'flex';\n      playPauseButton.setAttribute('aria-label', playVideoLabel);\n    } else {\n      pauseIcon.style.display = 'flex';\n      playIcon.style.display = 'none';\n      playPauseButton.setAttribute('aria-label', pauseVideoLabel);\n    }\n  };\n\n  const video = container.querySelector('video');\n  const poster = container.querySelector('picture');\n  togglePlayPauseIcon(video.paused);\n\n  const togglePlayPause = (el) => {\n    if (el.paused) {\n      if (poster) {\n        poster.remove();\n        video.parentElement.style.display = '';\n        video.style.display = '';\n      }\n      el.play();\n    } else {\n      el.pause();\n    }\n  };\n\n  playPauseButton.addEventListener('click', () => {\n    togglePlayPause(video);\n  });\n  video.addEventListener('playing', () => {\n    togglePlayPauseIcon(video.paused);\n  });\n  video.addEventListener('pause', () => {\n    togglePlayPauseIcon(video.paused);\n  });\n}\n\nfunction createProgressivePlaybackVideo(src, className = '', props = {}) {\n  const video = (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('video', {\n    classes: className,\n  });\n\n  if (props.muted || props.autoplay) {\n    video.muted = true;\n  }\n\n  if (props) {\n    Object.keys(props).forEach((propName) => {\n      const value = props[propName];\n      if (typeof value !== 'boolean') {\n        video.setAttribute(propName, value);\n      } else if (value) {\n        video.setAttribute(propName, '');\n      }\n    });\n  }\n\n  const source = (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('source', {\n    props: {\n      src,\n      type: 'video/mp4',\n    },\n  });\n\n  // If the video is not playing, well try to play again\n  if (props.autoplay) {\n    video.addEventListener(\n      'loadedmetadata',\n      () => {\n        setTimeout(() => {\n          if (video.paused) {\n            console.warn('Failed to autoplay video, fallback code executed');\n            // TODO: This is just a way of prevent the code to break due to the NotAllowedError error on iOS and Safari\n            // For this to work better needs further development and either way it will always be an hack can at any point can stop working\n            try {\n              video.play();\n            } catch (error) {\n              if (error.name === 'NotAllowedError') {\n                console.error('Playback was prevented by the browser:', error);\n              } else {\n                console.error('An error occurred while trying to play the video:', error);\n              }\n            }\n          }\n        }, 500);\n      },\n      { once: true },\n    );\n  }\n\n  // set playback controls after video container is attached to dom\n  if (!props.controls) {\n    setTimeout(() => {\n      setPlaybackControls(video.parentElement);\n    }, 0);\n  }\n\n  video.appendChild(source);\n\n  return video;\n}\n\nfunction getDynamicVideoHeight(video) {\n  // Get the element's height(use requestAnimationFrame to get actual height instead of 0)\n  requestAnimationFrame(() => {\n    const height = video.offsetHeight - 60;\n    const playbackControls = video.parentElement?.querySelector('.v2-video__playback-button');\n    if (!playbackControls) {\n      return;\n    }\n\n    playbackControls.style.top = `${height.toString()}px`;\n  });\n\n  // Get the element's height on resize\n  const getVideoHeight = (entries) => {\n    for (const entry of entries) {\n      const height = entry.target.offsetHeight - 60;\n      const playbackControls = video.parentElement?.querySelector('.v2-video__playback-button');\n      if (!playbackControls) {\n        return;\n      }\n      playbackControls.style.top = `${height.toString()}px`;\n    }\n  };\n\n  const resizeObserver = new ResizeObserver(getVideoHeight);\n  resizeObserver.observe(video);\n}\n\n/**\n * Creates a video element with a poster image.\n * @param {string} linkUrl - Video URL.\n * @param {HTMLPictureElement} poster - Poster image.\n * @param {string} className - The name of the CSS block for styling.\n * @param {Object} videoConfig - Properties for video player.\n * @return {HTMLElement} - The container element that holds the video and poster.\n */\nfunction createVideoWithPoster(linkUrl, poster, className, videoConfig = {}) {\n  const defaultConfig = {\n    muted: false,\n    autoplay: false,\n    loop: false,\n    playsinline: true,\n    controls: true,\n  };\n\n  const config = {\n    ...defaultConfig,\n    ...videoConfig,\n  };\n\n  const videoContainer = document.createElement('div');\n  videoContainer.classList.add('video-wrapper', className);\n  videoContainer.append(poster);\n\n  const loadAndSetupPlayer = async (videoUrl) => {\n    const playerSetupPromise = setupPlayer(videoUrl, videoContainer, {\n      fill: true,\n      ...config,\n    });\n\n    const video = videoContainer.querySelector('.video-js');\n    video.style.display = 'none';\n    return playerSetupPromise;\n  };\n\n  if (isLowResolutionVideoUrl(linkUrl)) {\n    const videoOrIframe = createProgressivePlaybackVideo(linkUrl, 'video-wrapper', config);\n    if (poster) {\n      const posterSrc = poster.querySelector('img')?.src;\n      videoOrIframe.setAttribute('poster', posterSrc);\n      poster.remove();\n    }\n    videoContainer.append(videoOrIframe);\n  } else {\n    const videoUrl = getDeviceSpecificVideoUrl(linkUrl);\n    if (config.autoplay) {\n      (async () => {\n        const player = await loadAndSetupPlayer(videoUrl);\n        const video = videoContainer.querySelector('.video-js');\n        if (config.autoplay) {\n          player.on('loadeddata', () => {\n            if (poster) {\n              video.style.display = '';\n              if (video.parentElement.classList.contains('video-js')) {\n                video.parentElement.style.display = '';\n              }\n              poster.style.display = 'none';\n              if (!config.controls) {\n                setPlaybackControls(videoContainer);\n              }\n            }\n          });\n        }\n      })();\n    } else {\n      async function initializePlayerWithControls() {\n        await loadAndSetupPlayer(videoUrl);\n        setPlaybackControls(videoContainer);\n      }\n\n      initializePlayerWithControls();\n    }\n  }\n  return videoContainer;\n}\n\n/**\n * Creates a video element or videojs player, depending on whether the video is local\n * or not. Configures the element with specified classes, properties, and source.\n *\n * @param {HTMLAnchorElement | string} link - The link that contains the video URL or the URL of the video.\n * @param {string} [className=''] - Optional. CSS class names to apply to the video container.\n * @param {Object} [videoParams={}] - Optional. Properties for the video player, including attributes like 'muted', 'autoplay', 'title'.\n * @param {Object} [configs={}] - Optional. Additional configurations such as 'usePosterAutoDetection' and 'checkVideoCookie'.\n * @param {boolean} [configs.usePosterAutoDetection=false] - Whether to automatically detect and use a poster image.\n * @param {boolean} [configs.checkVideoCookie=false] - Whether to check for video cookie settings.\n * @returns {HTMLElement | null} - The created video element or player with specified configs, or null if the video link is invalid.\n */\nconst createVideo = (link, className = '', videoParams = {}, configs = {}) => {\n  let src;\n  let poster;\n\n  const { usePosterAutoDetection, checkVideoCookie } = configs;\n  if (link instanceof HTMLAnchorElement) {\n    const config = parseVideoLink(link, usePosterAutoDetection);\n    if (!config) {\n      return null;\n    }\n\n    src = config.url;\n    poster = config.poster;\n  } else {\n    src = link;\n  }\n\n  if (isLowResolutionVideoUrl(src)) {\n    return createProgressivePlaybackVideo(src, className, videoParams);\n  }\n\n  if (poster) {\n    return createVideoWithPoster(src, poster, className, videoParams);\n  }\n\n  const container = document.createElement('div');\n  container.classList.add(className);\n\n  const videoUrl = getDeviceSpecificVideoUrl(src);\n\n  async function initializePlayerWithControls() {\n    await setupPlayer(videoUrl, container, videoParams, null, checkVideoCookie);\n\n    if (!videoParams.controls) {\n      setPlaybackControls(container);\n    }\n  }\n\n  initializePlayerWithControls();\n\n  return container;\n};\n\nconst getMuteSvg = () => `<svg width=\"32\" height=\"32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <circle cx=\"16.335\" cy=\"16.335\" r=\"13.335\" fill=\"white\"/>\n    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\n          d=\"M9.887 10.181a.5.5 0 0 0-.707.708l12.934 12.928a.5.5 0 0 0 .706-.707L9.887 10.182Zm6.05 1.997a.5.5 0 0 0-.851-.357l-.56.553-.309.306-.099.098-.027.027-.007.007-.002.002.348.353-.348-.353a.5.5 0 1 0 .703.711l-.35-.353.35.353.002-.002.007-.008.028-.027.098-.097.016-.016v.738a.5.5 0 1 0 1 0v-1.935Zm-4.358 3.239h-.992v3.332h1.54c.238 0 .483.064.693.152.211.09.426.218.594.382l.002.002-.351.356.351-.355h.002l.004.005.017.017.064.063.231.229.728.719.474.47v-2.071a.5.5 0 1 1 1 0v3.27a.5.5 0 0 1-.853.354c-.186-.186-.777-.771-1.324-1.312l-.728-.719-.23-.229-.065-.063-.017-.016-.003-.003a.953.953 0 0 0-.284-.177.855.855 0 0 0-.305-.074h-1.936a.614.614 0 0 1-.604-.61v-4.112c0-.319.254-.61.604-.61h1.388a.5.5 0 0 1 0 1Zm8.418-2.332a.5.5 0 1 0-.42.908 3.406 3.406 0 0 1 1.983 3.088c0 .873-.33 1.666-.872 2.268a.5.5 0 1 0 .743.67 4.374 4.374 0 0 0 1.13-2.938c0-1.78-1.06-3.3-2.564-3.996Zm-1.787 2.23a.5.5 0 0 1 .662-.249 2.209 2.209 0 0 1 1.299 2.018 2.2 2.2 0 0 1-.342 1.183.5.5 0 1 1-.845-.535 1.2 1.2 0 0 0 .186-.648c0-.496-.29-.916-.711-1.107a.5.5 0 0 1-.249-.662Z\"\n          fill=\"#141414\"/>\n</svg>`;\n\nconst getUnmuteSvg = () => `<svg width=\"32\" height=\"32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <circle cx=\"16.335\" cy=\"16.335\" r=\"13.335\" fill=\"white\"/>\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\n              d=\"M16.284 11.633a.5.5 0 0 1 .306.46v9.811a.5.5 0 0 1-.853.354c-.186-.186-.777-.771-1.324-1.312l-.727-.719-.232-.229-.064-.063-.017-.016-.003-.003a.957.957 0 0 0-.284-.177.855.855 0 0 0-.305-.074H10.84a.613.613 0 0 1-.604-.61v-4.112c0-.064.012-.126.034-.182a.604.604 0 0 1 .576-.428h1.936c.07 0 .18-.022.305-.075a.956.956 0 0 0 .283-.174l.004-.004.017-.017.064-.063.231-.23.728-.72 1.327-1.313a.5.5 0 0 1 .544-.104Zm-2.565 2.808.352.355-.003.003a1.94 1.94 0 0 1-.594.381c-.21.089-.455.153-.693.153h-1.546v3.332h1.546c.238 0 .483.064.693.152.211.09.426.218.594.382l.002.002-.351.356.351-.355.002.001.004.004.017.017.064.063.231.229.728.719.474.47V13.29l-.474.47-.727.72-.231.23-.064.063-.017.016-.005.004v.002h-.001l-.352-.355Zm4.82-1.198a.5.5 0 0 1 .663-.244 4.406 4.406 0 0 1 2.563 3.996c0 1.78-1.06 3.299-2.563 3.995a.5.5 0 1 1-.42-.907 3.406 3.406 0 0 0 1.983-3.088c0-1.37-.815-2.547-1.983-3.088a.5.5 0 0 1-.244-.664Zm-.456 1.735a.5.5 0 1 0-.413.911 1.215 1.215 0 0 1-.004 2.216.5.5 0 1 0 .421.907 2.215 2.215 0 0 0 1.295-2.016c0-.901-.532-1.67-1.299-2.018Z\"\n              fill=\"#141414\"/>\n    </svg>`;\n\n/**\n * Adds mute controls to a given section.\n * @param {HTMLElement} section - The section element to add the controls to.\n * @returns {void}\n */\nconst addMuteControls = (section) => {\n  const muteSvg = getMuteSvg();\n  const unmuteSvg = getUnmuteSvg();\n\n  const controls = (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('button', {\n    props: { type: 'button', class: 'v2-video__mute-controls' },\n  });\n\n  const iconsHTML = document.createRange().createContextualFragment(`\n    <span class=\"icon icon-mute\">${muteSvg}</span>\n    <span class=\"icon icon-unmute\">${unmuteSvg}</span>\n  `);\n\n  controls.append(...iconsHTML.children);\n  section.appendChild(controls);\n\n  const video = section.querySelector('video');\n  const muteIcon = section.querySelector('.icon-mute');\n  const unmuteIcon = section.querySelector('.icon-unmute');\n  const muteIconLabel = (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('Mute video');\n  const unmuteIconLabel = (0,_common_js__WEBPACK_IMPORTED_MODULE_0__.getTextLabel)('Unmute video');\n\n  controls.setAttribute('aria-label', unmuteIconLabel);\n\n  if (!video) {\n    return;\n  }\n\n  const showHideMuteIcon = (isMuted) => {\n    if (isMuted) {\n      muteIcon.style.display = 'flex';\n      unmuteIcon.style.display = 'none';\n      controls.setAttribute('aria-label', muteIconLabel);\n    } else {\n      muteIcon.style.display = 'none';\n      unmuteIcon.style.display = 'flex';\n      controls.setAttribute('aria-label', unmuteIconLabel);\n    }\n  };\n\n  const toggleMute = (el) => {\n    el.muted = !el.muted;\n  };\n\n  controls.addEventListener('click', () => {\n    toggleMute(video);\n  });\n  video.addEventListener('volumechange', () => {\n    showHideMuteIcon(video.muted);\n  });\n};\n\nfunction loadYouTubeIframeAPI() {\n  return (0,_aem_js__WEBPACK_IMPORTED_MODULE_1__.loadScript)('https://www.youtube.com/iframe_api');\n}\n\nconst logVideoEvent = (eventName, videoId, timeStamp, blockName = 'video') => {\n  console.info(`[${blockName}] ${eventName} for ${videoId} at ${timeStamp}`);\n};\n\nconst formatDebugTime = (date) => {\n  const timeOptions = {\n    hour12: false,\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit',\n  };\n  const formattedTime = date.toLocaleTimeString('en-US', timeOptions);\n  const milliseconds = date.getMilliseconds().toString().padStart(3, '0');\n\n  return `${formattedTime}.${milliseconds}`;\n};\n\nconst handleVideoMessage = (event, videoId, blockName = 'video') => {\n  if (!event.origin.endsWith(aemCloudDomain)) {\n    return;\n  }\n  if (event.data.type === 'embedded-video-player-event') {\n    const timeStamp = formatDebugTime(new Date());\n\n    logVideoEvent(event.data.name, event.data.videoId, timeStamp, blockName);\n\n    if (event.data.name === 'video-config' && event.data.videoId === videoId) {\n      console.info('Sending video config:', getVideoConfig(videoId), timeStamp);\n      event.source.postMessage(JSON.stringify(getVideoConfig(videoId)), '*');\n    }\n\n    // TODO: handle events when needed in a block\n    // switch (event.data.name) {\n    //   case 'video-playing':\n    //   case 'video-play':\n    //   case 'video-ended':\n    //   case 'video-loadedmetadata':\n    //     logVideoEvent(event.data.name, event.data.videoId, timeStamp, blockName);\n    //     break;\n    //   default:\n    //     break;\n    // }\n  }\n};\n\n/**\n * Checks if the current page contains any known video-related elements.\n * @returns {boolean} True if a video block is found.\n */\nfunction hasVideoOnPage() {\n  return !!(\n    document.querySelector('.video-js') ||\n    document.querySelector('.link-with-video') ||\n    document.querySelector('.text-link-with-video') ||\n    document.querySelector('.v2-video__big-play-button') ||\n    document.querySelector('.v2-resource-gallery__video-list-item .icon-play-video')\n  );\n}\n\n/**\n * Dynamically loads Video.js script and CSS and dispatches an event once loaded.\n * @returns {Promise<void>}\n */\nasync function loadVideoJs() {\n  await Promise.all([(0,_aem_js__WEBPACK_IMPORTED_MODULE_1__.loadCSS)(VIDEO_JS_CSS), (0,_aem_js__WEBPACK_IMPORTED_MODULE_1__.loadScript)(VIDEO_JS_SCRIPT)]);\n\n  const jsScript = document.querySelector(`head > script[src=\"${VIDEO_JS_SCRIPT}\"]`);\n  const cssScript = document.querySelector(`head > link[href=\"${VIDEO_JS_CSS}\"]`);\n\n  jsScript.dataset.loaded = true;\n  cssScript.dataset.loaded = true;\n\n  document.dispatchEvent(new Event('videojs-loaded'));\n}\n\n/**\n * Queries for a playable element within a root.\n *\n * @param {ParentNode} root - Element or fragment to search in.\n * @returns {VideoPlayableEl|null} A native <video> or a Video.js element, or null if none found.\n */\nconst queryVideoEl = (root) => root?.querySelector('video, .video-js') || null;\n\n/**\n * Play muted and inline. Supports native <video> and Video.js (.video-js).\n *\n * @param {HTMLElement} videoEl - The element to play.\n * @returns {void}\n */\nconst playMutedInline = (videoEl) => {\n  if (!videoEl) {\n    return;\n  }\n\n  // Video.js\n  if (window.videojs && videoEl.classList?.contains('video-js')) {\n    const player = window.videojs.getPlayer ? window.videojs.getPlayer(videoEl) : window.videojs(videoEl);\n    player.muted(true);\n    player.play?.().catch(() => {});\n    return;\n  }\n\n  // Native <video>\n  if (videoEl.tagName === 'VIDEO') {\n    videoEl.muted = true;\n    videoEl.setAttribute('playsinline', '');\n    videoEl.play?.().catch(() => {});\n  }\n};\n\n/**\n * Pause playback. Supports native <video> and Video.js (.video-js).\n *\n * @param {HTMLElement} videoEl - The element to pause.\n * @returns {void}\n */\nconst pausePlayback = (videoEl) => {\n  if (!videoEl) {\n    return;\n  }\n\n  // Video.js\n  if (window.videojs && videoEl.classList?.contains('video-js')) {\n    const player = window.videojs.getPlayer ? window.videojs.getPlayer(videoEl) : window.videojs(videoEl);\n    player.pause?.();\n    return;\n  }\n\n  // Native <video>\n  if (videoEl.tagName === 'VIDEO') {\n    videoEl.pause?.();\n  }\n};\n\nclass VideoEventManager {\n  constructor() {\n    this.registrations = [];\n    window.addEventListener('message', this.handleMessage.bind(this));\n  }\n\n  register(videoId, blockName, callback) {\n    this.registrations.push({ videoId, blockName, callback });\n  }\n\n  unregister(videoId, blockName) {\n    this.registrations = this.registrations.filter((reg) => reg.videoId !== videoId || reg.blockName !== blockName);\n  }\n\n  handleMessage(event) {\n    this.registrations.forEach(({ videoId, blockName, callback }) => {\n      if (event.data.type === 'embedded-video-player-event' && event.data.videoId === videoId) {\n        callback(event, videoId, blockName);\n      }\n    });\n  }\n}\n\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://volvotrucks-na/./scripts/video-helper.js?\n}")},"./templates lazy recursive ^\\.\\/.*\\/.*\\.js$ referencedExports: default, default":(module,__unused_webpack_exports,__webpack_require__)=>{eval('{var map = {\n\t"./article/article.js": [\n\t\t"./templates/article/article.js",\n\t\t"templates_article_article_js"\n\t],\n\t"./magazine/magazine.js": [\n\t\t"./templates/magazine/magazine.js",\n\t\t"templates_magazine_magazine_js"\n\t],\n\t"./v2-magazine/v2-magazine.js": [\n\t\t"./templates/v2-magazine/v2-magazine.js",\n\t\t"templates_v2-magazine_v2-magazine_js"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error("Cannot find module \'" + req + "\'");\n\t\t\te.code = \'MODULE_NOT_FOUND\';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = "./templates lazy recursive ^\\\\.\\\\/.*\\\\/.*\\\\.js$ referencedExports: default, default";\nmodule.exports = webpackAsyncContext;\n\n//# sourceURL=webpack://volvotrucks-na/./templates/_lazy_^\\.\\/.*\\/.*\\.js$_referencedExports:_default,_default_namespace_object?\n}')}},__webpack_module_cache__={},hasSymbol,webpackQueues,webpackExports,webpackError,resolveQueue,deferred,leafPrototypes,getProto,inProgress,dataWebpackPrefix;function __webpack_require__(e){var n=__webpack_module_cache__[e];if(void 0!==n)return n.exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](t,t.exports,__webpack_require__),t.exports}__webpack_require__.m=__webpack_modules__,hasSymbol="function"==typeof Symbol,webpackQueues=hasSymbol?Symbol("webpack queues"):"__webpack_queues__",webpackExports=hasSymbol?Symbol("webpack exports"):"__webpack_exports__",webpackError=hasSymbol?Symbol("webpack error"):"__webpack_error__",resolveQueue=e=>{e&&e.d<1&&(e.d=1,e.forEach(e=>e.r--),e.forEach(e=>e.r--?e.r++:e()))},__webpack_require__.a=(e,n,t)=>{var a;t&&((a=[]).d=-1);var r,s,o,i=new Set,l=e.exports,c=new Promise((e,n)=>{o=n,s=e});c[webpackExports]=l,c[webpackQueues]=e=>(a&&e(a),i.forEach(e),c.catch(e=>{})),e.exports=c,n(e=>{var n;r=(e=>e.map(e=>{if(null!==e&&"object"==typeof e){if(e[webpackQueues])return e;if(e.then){var n=[];n.d=0,e.then(e=>{t[webpackExports]=e,resolveQueue(n)},e=>{t[webpackError]=e,resolveQueue(n)});var t={};return t[webpackQueues]=e=>e(n),t}}var a={};return a[webpackQueues]=e=>{},a[webpackExports]=e,a}))(e);var t=()=>r.map(e=>{if(e[webpackError])throw e[webpackError];return e[webpackExports]}),s=new Promise(e=>{(n=()=>e(t)).r=0;var s=e=>e!==a&&!i.has(e)&&(i.add(e),e&&!e.d&&(n.r++,e.push(n)));r.map(e=>e[webpackQueues](s))});return n.r?s:t()},e=>(e?o(c[webpackError]=e):s(l),resolveQueue(a))),a&&a.d<0&&(a.d=0)},deferred=[],__webpack_require__.O=(e,n,t,a)=>{if(!n){var r=1/0;for(l=0;l<deferred.length;l++){for(var[n,t,a]=deferred[l],s=!0,o=0;o<n.length;o++)(!1&a||r>=a)&&Object.keys(__webpack_require__.O).every(e=>__webpack_require__.O[e](n[o]))?n.splice(o--,1):(s=!1,a<r&&(r=a));if(s){deferred.splice(l--,1);var i=t();void 0!==i&&(e=i)}}return e}a=a||0;for(var l=deferred.length;l>0&&deferred[l-1][2]>a;l--)deferred[l]=deferred[l-1];deferred[l]=[n,t,a]},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var t=Object.create(null);__webpack_require__.r(t);var a={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var r=2&n&&e;("object"==typeof r||"function"==typeof r)&&!~leafPrototypes.indexOf(r);r=getProto(r))Object.getOwnPropertyNames(r).forEach(n=>a[n]=()=>e[n]);return a.default=()=>e,__webpack_require__.d(t,a),t},__webpack_require__.d=(e,n)=>{for(var t in n)__webpack_require__.o(n,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce((n,t)=>(__webpack_require__.f[t](e,n),n),[])),__webpack_require__.u=e=>e+".js",__webpack_require__.miniCssF=e=>{},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),inProgress={},dataWebpackPrefix="volvotrucks-na:",__webpack_require__.l=(e,n,t,a)=>{if(inProgress[e])inProgress[e].push(n);else{var r,s;if(void 0!==t)for(var o=document.getElementsByTagName("script"),i=0;i<o.length;i++){var l=o[i];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==dataWebpackPrefix+t){r=l;break}}r||(s=!0,(r=document.createElement("script")).charset="utf-8",__webpack_require__.nc&&r.setAttribute("nonce",__webpack_require__.nc),r.setAttribute("data-webpack",dataWebpackPrefix+t),r.src=e),inProgress[e]=[n];var c=(n,t)=>{r.onerror=r.onload=null,clearTimeout(_);var a=inProgress[e];if(delete inProgress[e],r.parentNode&&r.parentNode.removeChild(r),a&&a.forEach(e=>e(t)),n)return n(t)},_=setTimeout(c.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=c.bind(null,r.onerror),r.onload=c.bind(null,r.onload),s&&document.head.appendChild(r)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/dist/",(()=>{var e={main:0};__webpack_require__.f.j=(n,t)=>{var a=__webpack_require__.o(e,n)?e[n]:void 0;if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((t,r)=>a=e[n]=[t,r]);t.push(a[2]=r);var s=__webpack_require__.p+__webpack_require__.u(n),o=new Error;__webpack_require__.l(s,t=>{if(__webpack_require__.o(e,n)&&(0!==(a=e[n])&&(e[n]=void 0),a)){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;o.message="Loading chunk "+n+" failed.\n("+r+": "+s+")",o.name="ChunkLoadError",o.type=r,o.request=s,a[1](o)}},"chunk-"+n,n)}},__webpack_require__.O.j=n=>0===e[n];var n=(n,t)=>{var a,r,[s,o,i]=t,l=0;if(s.some(n=>0!==e[n])){for(a in o)__webpack_require__.o(o,a)&&(__webpack_require__.m[a]=o[a]);if(i)var c=i(__webpack_require__)}for(n&&n(t);l<s.length;l++)r=s[l],__webpack_require__.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return __webpack_require__.O(c)},t=self.webpackChunkvolvotrucks_na=self.webpackChunkvolvotrucks_na||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var __webpack_exports__=__webpack_require__.O(void 0,["vcdk"],()=>__webpack_require__("./scripts/entrypoint.js"));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=main.js.map
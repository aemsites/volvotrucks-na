{"version":3,"file":"main.js","mappings":"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","sources":["webpack:///webpack/runtime/async module","webpack:///webpack/runtime/chunk loaded","webpack:///webpack/runtime/create fake namespace object","webpack:///webpack/runtime/load script","webpack:///./node_modules/lit-html/directives/if-defined.js","webpack:///./node_modules/lodash-es/_Symbol.js","webpack:///./blocks/v2-event-notify/v2-event-notify.js","webpack:///./blocks/carousel/carousel.js","webpack:///./node_modules/lit-html/directives/when.js","webpack:///./blocks/ sync ^[^/]+\\/[^/]+\\.js$","webpack:///./node_modules/@lit/reactive-element/decorators/property.js","webpack:///./node_modules/@lit/reactive-element/decorators/state.js","webpack:///./node_modules/@lit/reactive-element/decorators/base.js","webpack:///./node_modules/@lit/reactive-element/decorators/query.js","webpack:///./node_modules/@lit/reactive-element/decorators/query-assigned-elements.js","webpack:///./node_modules/@lit/reactive-element/decorators/query-assigned-nodes.js","webpack:///./scripts/search-api.js","webpack:///./blocks/bullet-points/bullet-points.js","webpack:///./blocks/engine-specifications/engine-specifications.js","webpack:///./node_modules/lit-html/directives/live.js","webpack:///./node_modules/@lit/task/task.js","webpack:///./blocks/v2-resource-gallery/v2-resource-gallery.js","webpack:///./node_modules/lodash-es/_arrayPush.js","webpack:///./node_modules/lodash-es/_baseIsArguments.js","webpack:///./node_modules/lodash-es/isArguments.js","webpack:///./node_modules/lodash-es/_isFlattenable.js","webpack:///./node_modules/lodash-es/_baseFlatten.js","webpack:///./node_modules/lodash-es/flatten.js","webpack:///./node_modules/@lit/context/lib/context-request-event.js","webpack:///./node_modules/@lit/context/lib/create-context.js","webpack:///./node_modules/@lit/context/lib/controllers/context-consumer.js","webpack:///./node_modules/@lit/context/lib/value-notifier.js","webpack:///./node_modules/@lit/context/lib/controllers/context-provider.js","webpack:///./node_modules/@lit/context/lib/context-root.js","webpack:///./node_modules/@lit/context/lib/decorators/provide.js","webpack:///./node_modules/@lit/reactive-element/css-tag.js","webpack:///./node_modules/@lit/reactive-element/reactive-element.js","webpack:///./blocks/v2-masonry-grid/v2-masonry-grid.js","webpack:///./blocks/v2-quote-with-images/v2-quote-with-images.js","webpack:///./blocks/v2-newsletter/v2-newsletter.js","webpack:///./blocks/teaser-cards/teaser-cards.js","webpack:///./blocks/v2-forms/forms/ lazy ^\\.\\/.*\\.js$ namespace object","webpack:///./node_modules/lit-html/directives/style-map.js","webpack:///./blocks/v2-text/v2-text.js","webpack:///./blocks/columns/columns.js","webpack:///./blocks/engine-specifications/performance-chart.js","webpack:///./blocks/v2-embed/v2-embed.js","webpack:///./blocks/v2-custom-form/v2-custom-form.js","webpack:///./scripts/ lazy ^.*\\/blocks\\/get\\-an\\-offer\\/get\\-an\\-offer\\.js$ namespace object","webpack:///./blocks/pardot-form/pardot-form.js","webpack:///./node_modules/lodash-es/isObject.js","webpack:///./node_modules/lodash-es/now.js","webpack:///./node_modules/lodash-es/_trimmedEndIndex.js","webpack:///./node_modules/lodash-es/_baseTrim.js","webpack:///./node_modules/lodash-es/toNumber.js","webpack:///./node_modules/lodash-es/debounce.js","webpack:///./blocks/body-builder-news/body-builder-news.js","webpack:///./blocks/cards/cards.js","webpack:///./blocks/search-results/templates.js","webpack:///./node_modules/lodash-es/isSymbol.js","webpack:///./node_modules/lit-html/directives/map.js","webpack:///./blocks/search-results/search-results.js","webpack:///./blocks/v2-hero/v2-hero.js","webpack:///./node_modules/lodash-es/isArray.js","webpack:///./scripts/video-helper.js","webpack:///./node_modules/lodash-es/noop.js","webpack:///./blocks/calculator/charts/chartHelper.js","webpack:///./blocks/calculator/charts/buildChartMPG.js","webpack:///./blocks/calculator/charts/buildChartYearSavings.js","webpack:///./blocks/calculator/charts/buildChartFuelUsage.js","webpack:///./blocks/calculator/charts/buildChartCumulativeSavings.js","webpack:///./blocks/calculator/charts.js","webpack:///./node_modules/lodash-es/_arrayReduce.js","webpack:///./node_modules/lodash-es/_deburrLetter.js","webpack:///./node_modules/lodash-es/_basePropertyOf.js","webpack:///./node_modules/lodash-es/deburr.js","webpack:///./node_modules/lodash-es/_asciiWords.js","webpack:///./node_modules/lodash-es/_hasUnicodeWord.js","webpack:///./node_modules/lodash-es/_unicodeWords.js","webpack:///./node_modules/lodash-es/words.js","webpack:///./node_modules/lodash-es/_createCompounder.js","webpack:///./node_modules/lodash-es/kebabCase.js","webpack:///./blocks/photosphere/photosphere.js","webpack:///./blocks/v2-hero-reveal/v2-hero-reveal.js","webpack:///./node_modules/lodash-es/_getRawTag.js","webpack:///./node_modules/lodash-es/_objectToString.js","webpack:///./node_modules/lodash-es/_baseGetTag.js","webpack:///./blocks/search/autosuggest.js","webpack:///./scripts/carousel-helper.js","webpack:///./blocks/related-articles/related-articles.js","webpack:///./node_modules/lit-element/lit-element.js","webpack:///./blocks/search/search.js","webpack:///./blocks/v2-section-header/v2-section-header.js","webpack:///./blocks/hero/hero.js","webpack:///./blocks/iframe/iframe.js","webpack:///./blocks/cookie-list/cookie-list.js","webpack:///./blocks/v2-iframe/v2-iframe.js","webpack:///./common/custom-dropdown/custom-dropdown.js","webpack:///./scripts/motion-helper.js","webpack:///./node_modules/lodash-es/isObjectLike.js","webpack:///./blocks/press-release-disclaimer/press-release-disclaimer.js","webpack:///./scripts/services/magazine.service.js","webpack:///./common/modal/modal.js","webpack:///./node_modules/lit-html/directives/class-map.js","webpack:///./scripts/aem.js","webpack:///./blocks/vin-number/vin-number.js","webpack:///./blocks/v2-media-gallery/v2-media-gallery.js","webpack:///./blocks/fragment/fragment.js","webpack:///./blocks/v2-video/v2-video.js","webpack:///./blocks/v2-media-with-text/v2-media-with-text.js","webpack:///./blocks/dealer-locator/my-dealer.js","webpack:///./blocks/v2-stories-carousel/v2-stories-carousel.js","webpack:///./blocks/calculator/results.js","webpack:///./blocks/teaser-grid/teaser-grid.js","webpack:///./blocks/download-images/download-images.js","webpack:///./blocks/v2-banner/v2-banner.js","webpack:///./common/pagination/pagination.js","webpack:///./blocks/v2-livestream-embed/v2-livestream-embed.js","webpack:///./scripts/common.js","webpack:///./blocks/cookie-preference-center/cookie-preference-center.js","webpack:///./node_modules/lodash-es/uniqueId.js","webpack:///./blocks/v2-inpage-navigation/v2-inpage-navigation.js","webpack:///./blocks/video-link/video-link.js","webpack:///./blocks/v2-truck-lineup/v2-truck-lineup.js","webpack:///./blocks/nhtsa-header/nhtsa-header.js","webpack:///./blocks/embed/embed.js","webpack:///./blocks/v2-media-with-tabs/v2-media-with-tabs.js","webpack:///./scripts/services/press-release.service.js","webpack:///./blocks/v2-social-block/v2-social-block.js","webpack:///./blocks/get-an-offer/get-an-offer.js","webpack:///./blocks/calculator/calculator.js","webpack:///./node_modules/lit-html/lit-html.js","webpack:///./blocks/v2-content-carousel/v2-content-carousel.js","webpack:///./blocks/footer/footer.js","webpack:///./blocks/v2-content-card/v2-content-card.js","webpack:///./blocks/v2-article-search/v2-article-search.js","webpack:///./blocks/magazine-articles/magazine-articles.js","webpack:///./blocks/v2-applications-carousel/v2-applications-carousel.js","webpack:///./blocks/image-360/image-360.js","webpack:///./scripts/magazine-press.js","webpack:///./blocks/v2-article-cards/v2-article-cards.js","webpack:///./scripts/scripts.js","webpack:///./node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs","webpack:///./node_modules/@floating-ui/core/dist/floating-ui.core.mjs","webpack:///./node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs","webpack:///./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs","webpack:///./blocks/v2-feature-carousel/v2-feature-carousel.js","webpack:///./blocks/image/image.js","webpack:///./node_modules/lit-html/directive.js","webpack:///./node_modules/lit-html/async-directive.js","webpack:///./node_modules/lit-html/directives/ref.js","webpack:///./blocks/press-releases/press-releases.js","webpack:///./blocks/dealer-locator/dealer-locator.js","webpack:///./node_modules/@volvo/vcdk-tokens/dist/web/global/breakpoints.js","webpack:///./scripts/lib-ffetch.js","webpack:///./blocks/v2-key-facts/v2-key-facts.js","webpack:///./blocks/tabbed-carousel/tabbed-carousel.js","webpack:///./node_modules/lit-html/directive-helpers.js","webpack:///./blocks/tabbed-accordion/tabbed-accordion.js","webpack:///./blocks/dealer-locator/sidebar-maps.js","webpack:///./node_modules/lit-html/directives/unsafe-html.js","webpack:///./node_modules/lit-html/directives/unsafe-svg.js","webpack:///./node_modules/lodash-es/_arrayMap.js","webpack:///./node_modules/lodash-es/_baseToString.js","webpack:///./node_modules/lodash-es/toString.js","webpack:///./blocks/search/templates.js","webpack:///./blocks/v2-visual-grid/v2-visual-grid.js","webpack:///./blocks/v2-forms/v2-forms.js","webpack:///./blocks/v2-quote/v2-quote.js","webpack:///./templates/ lazy ^\\.\\/.*\\/.*\\.js$ namespace object","webpack:///./blocks/document-list/document-list.js","webpack:///./blocks/specifications/specifications.js","webpack:///./scripts/validate-countries.js","webpack:///./blocks/sub-nav/sub-nav.js","webpack:///./blocks/v2-dealer-locator-teaser/v2-dealer-locator-teaser.js","webpack:///./blocks/get-an-offer/ lazy ^.*\\/common\\/sidebar\\/sidebar\\.js$ namespace object","webpack:///./blocks/text/text.js","webpack:///./blocks/v2-dynamic-truck-lineup/v2-dynamic-truck-lineup.js","webpack:///./blocks/header/header.js","webpack:///./node_modules/lodash-es/isString.js","webpack:///./node_modules/lodash-es/_freeGlobal.js","webpack:///./node_modules/lodash-es/_root.js","webpack:///./blocks/v2-tabbed-carousel/v2-tabbed-carousel.js","webpack:///./blocks/key-facts/key-facts.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/ensure chunk","webpack:///webpack/runtime/get javascript chunk filename","webpack:///webpack/runtime/get mini-css chunk filename","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/publicPath","webpack:///webpack/runtime/jsonp chunk loading","webpack:///webpack/startup"],"sourcesContent":["var hasSymbol = typeof Symbol === \"function\";\nvar webpackQueues = hasSymbol ? Symbol(\"webpack queues\") : \"__webpack_queues__\";\nvar webpackExports = hasSymbol ? Symbol(\"webpack exports\") : \"__webpack_exports__\";\nvar webpackError = hasSymbol ? Symbol(\"webpack error\") : \"__webpack_error__\";\n\n\nvar resolveQueue = (queue) => {\n\tif(queue && queue.d < 1) {\n\t\tqueue.d = 1;\n\t\tqueue.forEach((fn) => (fn.r--));\n\t\tqueue.forEach((fn) => (fn.r-- ? fn.r++ : fn()));\n\t}\n}\nvar wrapDeps = (deps) => (deps.map((dep) => {\n\tif(dep !== null && typeof dep === \"object\") {\n\n\t\tif(dep[webpackQueues]) return dep;\n\t\tif(dep.then) {\n\t\t\tvar queue = [];\n\t\t\tqueue.d = 0;\n\t\t\tdep.then((r) => {\n\t\t\t\tobj[webpackExports] = r;\n\t\t\t\tresolveQueue(queue);\n\t\t\t}, (e) => {\n\t\t\t\tobj[webpackError] = e;\n\t\t\t\tresolveQueue(queue);\n\t\t\t});\n\t\t\tvar obj = {};\n\n\t\t\tobj[webpackQueues] = (fn) => (fn(queue));\n\t\t\treturn obj;\n\t\t}\n\t}\n\tvar ret = {};\n\tret[webpackQueues] = x => {};\n\tret[webpackExports] = dep;\n\treturn ret;\n}));\n__webpack_require__.a = (module, body, hasAwait) => {\n\tvar queue;\n\thasAwait && ((queue = []).d = -1);\n\tvar depQueues = new Set();\n\tvar exports = module.exports;\n\tvar currentDeps;\n\tvar outerResolve;\n\tvar reject;\n\tvar promise = new Promise((resolve, rej) => {\n\t\treject = rej;\n\t\touterResolve = resolve;\n\t});\n\tpromise[webpackExports] = exports;\n\tpromise[webpackQueues] = (fn) => (queue && fn(queue), depQueues.forEach(fn), promise[\"catch\"](x => {}));\n\tmodule.exports = promise;\n\tvar handle = (deps) => {\n\t\tcurrentDeps = wrapDeps(deps);\n\t\tvar fn;\n\t\tvar getResult = () => (currentDeps.map((d) => {\n\n\t\t\tif(d[webpackError]) throw d[webpackError];\n\t\t\treturn d[webpackExports];\n\t\t}))\n\t\tvar promise = new Promise((resolve) => {\n\t\t\tfn = () => (resolve(getResult));\n\t\t\tfn.r = 0;\n\t\t\tvar fnQueue = (q) => (q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))));\n\t\t\tcurrentDeps.map((dep) => (dep[webpackQueues](fnQueue)));\n\t\t});\n\t\treturn fn.r ? promise : getResult();\n\t}\n\tvar done = (err) => ((err ? reject(promise[webpackError] = err) : outerResolve(exports)), resolveQueue(queue))\n\tbody(handle, done);\n\tqueue && queue.d < 0 && (queue.d = 0);\n};","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; (typeof current == 'object' || typeof current == 'function') && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"volvotrucks-na:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","import{nothing as t}from\"../lit-html.js\";\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const o=o=>o??t;export{o as ifDefined};\n//# sourceMappingURL=if-defined.js.map\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import { loadBlock, sampleRUM } from '../../scripts/aem.js';\nimport { createElement } from '../../scripts/common.js';\n\nconst blockName = 'v2-event-notify';\n\nlet successText;\nlet errorText;\n\n// Convert date to ICS format (e.g., 20231210T120000Z)\nfunction formatDateToICS(date) {\n  return date\n    .toISOString()\n    .replace(/[-:]/g, '')\n    .replace(/\\.\\d{3}/, '');\n}\n\n// Generate UID (e.g., 20231210T120000Z-sdfijk@exmaple.com)\nfunction generateUID() {\n  const timestamp = formatDateToICS(new Date());\n  const uniqueString = Math.random().toString(36).substr(2, 6);\n  const domain = window.location.hostname;\n  return `${timestamp}-${uniqueString}@${domain}`;\n}\n\nfunction generateICS(event) {\n  if (!event.summary || !event.startDate || !event.endDate || !event.description) {\n    throw new Error('Missing required event details');\n  }\n  const icsData = [\n    'BEGIN:VCALENDAR',\n    'VERSION:2.0',\n    'PRODID:-//Volvo Trucks//Volvo Trucks US website//EN',\n    `UID:${generateUID()}`,\n    'BEGIN:VEVENT',\n    `SUMMARY:${event.summary}`,\n    `DTSTART:${formatDateToICS(event.startDate)}`,\n    `DTEND:${formatDateToICS(event.endDate)}`,\n    `DESCRIPTION:${event.description}`,\n    `LOCATION:${event.location}`,\n    'END:VEVENT',\n    'END:VCALENDAR',\n  ].join('\\r\\n');\n  return icsData;\n}\n\nfunction downloadICSFile(icsData, filename) {\n  const blob = new Blob([icsData], { type: 'text/calendar' });\n  const url = URL.createObjectURL(blob);\n  const link = document.createElement('a');\n  link.href = url;\n  link.download = filename;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n  URL.revokeObjectURL(url);\n}\n\nconst onSuccess = async (calendarEventData) => {\n  sampleRUM('form:submit');\n  const block = document.querySelector(`.${blockName}__container`);\n  const addToEventButton = block.querySelector('.event-notify__add-event-button').cloneNode(true);\n\n  block.innerHTML = '';\n  const buttonWrapper = createElement('div', { classes: `${blockName}__button-wrapper` });\n  addToEventButton.addEventListener('click', () => {\n    const icsFileContent = generateICS(calendarEventData);\n    downloadICSFile(icsFileContent, `${calendarEventData.fileName}.ics`);\n  });\n\n  buttonWrapper.append(addToEventButton);\n  block.append(successText, buttonWrapper);\n};\n\nconst onError = (error) => {\n  console.error(error);\n\n  const block = document.querySelector(`.${blockName}__container`);\n\n  block.innerHTML = '';\n  block.append(errorText);\n};\n\nexport default async function decorate(block) {\n  const rows = [...block.querySelectorAll(':scope > div')];\n\n  const contentData = rows.reduce((data, row) => {\n    const [name, content] = row.querySelectorAll(':scope > div');\n    const key = name.innerText.toLowerCase().trim();\n\n    return { ...data, [key]: content };\n  }, {});\n\n  const formLink = contentData.link.innerText.trim();\n  const beforeFormText = contentData['before form'];\n  const policyText = contentData.policy;\n  errorText = contentData['error message'];\n  errorText.classList.add(`${blockName}__message-text`);\n  successText = contentData['success message'];\n  successText.classList.add(`${blockName}__message-text`);\n\n  // Calendar event meta data\n  const blockSection = block.parentElement?.parentElement;\n  const calendarEventData = {\n    fileName: blockSection?.dataset.eventFileName,\n    summary: blockSection?.dataset.eventSummary,\n    startDate: new Date(blockSection?.dataset.eventStartDate),\n    endDate: new Date(blockSection?.dataset.eventEndDate),\n    description: blockSection?.dataset.eventDescription,\n    location: blockSection?.dataset.eventLocation,\n  };\n\n  window.logResult = function logResult(json) {\n    if (json.result === 'success') {\n      onSuccess(calendarEventData);\n    } else if (json.result === 'error') {\n      onError(json.log);\n    }\n  };\n\n  const container = createElement('div', { classes: `${blockName}__container` });\n  const formContainer = createElement('div', { classes: `${blockName}__form-container` });\n  const form = document.createRange().createContextualFragment(`\n    <div class=\"v2-forms block\" data-block-name=\"v2-forms\" data-block-status=\"\">\n      <div>\n        <div>event-notify</div>\n      </div>\n      <div>\n        <div>${formLink}</div>\n      </div>\n    </div>`);\n\n  if (beforeFormText) {\n    container.append(beforeFormText);\n    beforeFormText.classList.add(`${blockName}__text-wrapper`);\n\n    const headingSelector = 'h1, h2, h3, h4, h5, h6';\n    const headings = [\n      ...beforeFormText.querySelectorAll(headingSelector),\n      ...errorText.querySelectorAll(headingSelector),\n      ...successText.querySelectorAll(headingSelector),\n    ];\n    headings.forEach((heading) => heading.classList.add(`${blockName}__title`));\n  }\n  formContainer.append(...form.children);\n  container.appendChild(formContainer);\n\n  block.replaceWith(container);\n\n  // we can inject the policy content when form content loaded\n  const observer = new MutationObserver((mutations) => {\n    mutations.forEach((mutation) => {\n      const formRef = [...mutation.addedNodes];\n      const formContainerEl = formRef.find((el) => el instanceof Element && el.classList.contains('v2-forms__container'));\n\n      if (!formContainerEl) {\n        return;\n      }\n\n      if (formContainerEl.getAttribute('data-initialized') === 'true') {\n        observer.disconnect();\n        formContainerEl.querySelector('form')?.reset();\n\n        return;\n      }\n\n      const policyEl = formContainerEl.querySelector('.event-notify__policy');\n      const calendarButtonEl = formContainerEl.querySelector('.event-notify__add-event-button');\n\n      policyEl.append(policyText);\n      calendarButtonEl.addEventListener('click', () => {\n        const icsFileContent = generateICS(calendarEventData);\n        downloadICSFile(icsFileContent, `${calendarEventData.fileName}.ics`);\n      });\n\n      const link = policyEl.querySelector('a');\n      link.removeAttribute('class');\n\n      observer.disconnect();\n      formContainerEl.setAttribute('data-initialized', 'true');\n    });\n  });\n\n  observer.observe(container, {\n    childList: true,\n    attributes: false,\n    subtree: true,\n  });\n\n  await loadBlock(formContainer.firstElementChild);\n}\n","import { createOptimizedPicture } from '../../scripts/aem.js';\n\nconst debounceDelay = 30;\n\nfunction adjustWidthAndControls(block, carousel, ...controls) {\n  function toggle() {\n    const documentWidth = document.documentElement.clientWidth;\n    const isDesktop = documentWidth > 767 && !block.matches('.grid-on-desktop');\n    const gap = parseInt(window.getComputedStyle(carousel).gap, 10);\n    const itemWidth = parseInt(window.getComputedStyle(carousel.firstElementChild).width, 10);\n    const itemsWidth = itemWidth * carousel.children.length + gap * (carousel.children.length - 1);\n    let containerWidth = parseInt(window.getComputedStyle(carousel.parentElement).width, 10);\n    if (isDesktop) {\n      // on desktop the container width is 2x50px smaller due to the controls\n      containerWidth -= 100;\n    }\n    const showControls = itemsWidth > containerWidth;\n    controls.forEach((ul) => (showControls ? ul.classList.remove('hidden') : ul.classList.add('hidden')));\n    if (showControls) {\n      carousel.classList.remove('centered');\n    } else {\n      carousel.classList.add('centered');\n    }\n    if (isDesktop) {\n      // set the width only on desktop\n      const maxItems = Math.floor((containerWidth - 100) / (itemsWidth / carousel.children.length));\n      const width = maxItems * itemWidth + gap * (maxItems - 1);\n      carousel.style.width = `${width}px`;\n    } else {\n      // remove on mobile viewports\n      delete carousel.style.width;\n    }\n  }\n\n  let resizeTimeout;\n  window.addEventListener('resize', () => {\n    if (resizeTimeout) {\n      clearTimeout(resizeTimeout);\n    }\n    resizeTimeout = setTimeout(toggle, debounceDelay);\n  });\n\n  // wait for the section to be loaded before we initially resize the carousel\n  const section = block.closest('.section');\n  new MutationObserver((_, observer) => {\n    if (section.dataset.sectionStatus === 'loaded') {\n      observer.disconnect();\n      setTimeout(toggle);\n    }\n  }).observe(section, { attributes: true });\n}\n\nfunction createDesktopControls(ul) {\n  function scroll(direction) {\n    const first = ul.firstElementChild;\n    const second = first.nextElementSibling;\n    const scrollOffset = second.getBoundingClientRect().x - first.getBoundingClientRect().x;\n    const left = direction === 'left' ? -1 * scrollOffset : scrollOffset;\n    ul.scrollBy({ top: 0, left, behavior: 'smooth' });\n  }\n\n  const desktopControls = document.createElement('ul');\n  desktopControls.className = 'desktop-controls hidden';\n  desktopControls.innerHTML = '<li><button type=\"button\">Left</button></li><li><button type=\"button\">Right</button></li>';\n  ul.insertAdjacentElement('beforebegin', desktopControls);\n  const [prevButton, nextButton] = desktopControls.querySelectorAll(':scope button');\n  prevButton.addEventListener('click', () => scroll('left'));\n  nextButton.addEventListener('click', () => scroll('right'));\n  return desktopControls;\n}\n\nfunction createMobileControls(ul) {\n  // create carousel controls for mobile\n  const mobileControls = document.createElement('ul');\n  mobileControls.className = 'mobile-controls';\n  [...ul.children].forEach((item, j) => {\n    const control = document.createElement('li');\n    if (!j) {\n      control.className = 'active';\n    }\n    control.innerHTML = `<button type=\"button\">${j + 1}</button>`;\n    control.firstElementChild.addEventListener('click', () => {\n      mobileControls.querySelector('li.active').classList.remove('active');\n      control.classList.add('active');\n\n      const left = item.offsetLeft + item.offsetWidth / 2 - (item.parentNode.offsetLeft + item.parentNode.offsetWidth / 2);\n      ul.scrollTo({ top: 0, left, behavior: 'smooth' });\n    });\n\n    mobileControls.append(control);\n  });\n  ul.insertAdjacentElement('beforebegin', mobileControls);\n\n  let scrollTimeout;\n  ul.addEventListener('scroll', () => {\n    if (scrollTimeout) {\n      clearTimeout(scrollTimeout);\n    }\n    scrollTimeout = setTimeout(() => {\n      const first = ul.firstElementChild;\n      const second = first.nextElementSibling;\n      const scrollOffset = second.getBoundingClientRect().x - first.getBoundingClientRect().x;\n      let index = 0;\n      // how many items have scrolled out?\n      while (ul.scrollLeft - scrollOffset * (index + 1) > 0) {\n        index += 1;\n      }\n      mobileControls.querySelector('li.active').classList.remove('active');\n      mobileControls.children[index].classList.add('active');\n    }, debounceDelay);\n  });\n  return mobileControls;\n}\n\nexport default function decorate(block) {\n  const ul = document.createElement('ul');\n  ul.classList.add('items');\n\n  // We support two formats:\n  // 1. Each slide in a cell in either columns column and/or rows.\n  // 2. all values in the first cell as a list.\n  [...block.querySelectorAll(':scope > div > div')].forEach((cell) => {\n    // collect any <li>\n    cell.querySelectorAll('li').forEach((li) => {\n      if (li.childElementCount) {\n        ul.append(li);\n      }\n    });\n    // remove any remaining <ul>\n    cell.querySelectorAll('ul').forEach((el) => el.remove());\n\n    // If cell still contains anything, add content to list\n    if (cell.childElementCount) {\n      const li = document.createElement('li');\n      li.append(...cell.childNodes);\n      // remove link decoration\n      li.querySelectorAll('.button-container,.button').forEach((el) => {\n        el.classList.remove('button-container', 'button', 'primary');\n      });\n      ul.append(li);\n    }\n    cell.remove();\n  });\n\n  // now that all cells are removed, only rows are remining.\n  const firstCell = document.createElement('div');\n  block.firstElementChild.append(firstCell);\n  firstCell.append(ul);\n\n  [...ul.children].forEach((li) => {\n    // Add wrapper around the content\n    const container = document.createElement('div');\n    container.className = 'carousel-content-wrapper';\n    container.innerHTML = li.innerHTML;\n    li.innerHTML = '';\n    li.append(container);\n\n    // add link to the image and move it outside of the wrapper\n    const a = li.querySelector('a');\n    let picture = li.querySelector('picture');\n    if (picture) {\n      const img = picture.lastElementChild;\n      const newPicture = createOptimizedPicture(img.src, img.alt, false, [{ width: '370' }]);\n      picture.replaceWith(newPicture);\n      picture = newPicture;\n    }\n    if (a && picture) {\n      const clone = a.cloneNode(false);\n      picture.replaceWith(clone);\n      clone.append(picture);\n      li.prepend(clone);\n    }\n\n    const textItems = container.innerHTML.split('<br>').filter((text) => text.trim() !== '');\n\n    container.innerHTML = `\n      <p>${textItems.join('</p><p>')}</p>\n    `;\n\n    const carouselLink = container.querySelector('a');\n    if (carouselLink) {\n      carouselLink.classList.add('button', 'carousel-link');\n    }\n  });\n\n  const desktopControls = createDesktopControls(ul);\n  const mobileControls = createMobileControls(ul);\n\n  adjustWidthAndControls(block, ul, mobileControls, desktopControls);\n}\n","/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nfunction n(n,r,t){return n?r(n):t?.(n)}export{n as when};\n//# sourceMappingURL=when.js.map\n","var map = {\n\t\"body-builder-news/body-builder-news.js\": 1783,\n\t\"bullet-points/bullet-points.js\": 375,\n\t\"calculator/calculator.js\": 6673,\n\t\"calculator/charts.js\": 2309,\n\t\"calculator/results.js\": 5179,\n\t\"cards/cards.js\": 1791,\n\t\"carousel/carousel.js\": 281,\n\t\"columns/columns.js\": 1215,\n\t\"cookie-list/cookie-list.js\": 2715,\n\t\"cookie-preference-center/cookie-preference-center.js\": 5657,\n\t\"dealer-locator/dealer-locator.js\": 8038,\n\t\"dealer-locator/my-dealer.js\": 5083,\n\t\"dealer-locator/sidebar-maps.js\": 8735,\n\t\"document-list/document-list.js\": 9135,\n\t\"download-images/download-images.js\": 5279,\n\t\"embed/embed.js\": 6043,\n\t\"engine-specifications/engine-specifications.js\": 423,\n\t\"engine-specifications/performance-chart.js\": 1287,\n\t\"footer/footer.js\": 6939,\n\t\"fragment/fragment.js\": 4321,\n\t\"get-an-offer/get-an-offer.js\": 6667,\n\t\"header/header.js\": 9687,\n\t\"hero/hero.js\": 2661,\n\t\"iframe/iframe.js\": 2698,\n\t\"image-360/image-360.js\": 7279,\n\t\"image/image.js\": 7739,\n\t\"key-facts/key-facts.js\": 9927,\n\t\"magazine-articles/magazine-articles.js\": 7079,\n\t\"nhtsa-header/nhtsa-header.js\": 5993,\n\t\"pardot-form/pardot-form.js\": 1671,\n\t\"photosphere/photosphere.js\": 2351,\n\t\"press-release-disclaimer/press-release-disclaimer.js\": 3239,\n\t\"press-releases/press-releases.js\": 8001,\n\t\"related-articles/related-articles.js\": 2439,\n\t\"search-results/search-results.js\": 2035,\n\t\"search-results/templates.js\": 1853,\n\t\"search/autosuggest.js\": 2430,\n\t\"search/search.js\": 2621,\n\t\"search/templates.js\": 8870,\n\t\"specifications/specifications.js\": 9225,\n\t\"sub-nav/sub-nav.js\": 9291,\n\t\"tabbed-accordion/tabbed-accordion.js\": 8599,\n\t\"tabbed-carousel/tabbed-carousel.js\": 8423,\n\t\"teaser-cards/teaser-cards.js\": 1081,\n\t\"teaser-grid/teaser-grid.js\": 5255,\n\t\"text/text.js\": 9451,\n\t\"v2-applications-carousel/v2-applications-carousel.js\": 7143,\n\t\"v2-article-cards/v2-article-cards.js\": 7623,\n\t\"v2-article-search/v2-article-search.js\": 7027,\n\t\"v2-banner/v2-banner.js\": 5319,\n\t\"v2-content-card/v2-content-card.js\": 6951,\n\t\"v2-content-carousel/v2-content-carousel.js\": 6807,\n\t\"v2-custom-form/v2-custom-form.js\": 1591,\n\t\"v2-dealer-locator-teaser/v2-dealer-locator-teaser.js\": 9309,\n\t\"v2-dynamic-truck-lineup/v2-dynamic-truck-lineup.js\": 9524,\n\t\"v2-embed/v2-embed.js\": 1321,\n\t\"v2-event-notify/v2-event-notify.js\": 275,\n\t\"v2-feature-carousel/v2-feature-carousel.js\": 7719,\n\t\"v2-forms/v2-forms.js\": 9009,\n\t\"v2-hero-reveal/v2-hero-reveal.js\": 2363,\n\t\"v2-hero/v2-hero.js\": 2039,\n\t\"v2-iframe/v2-iframe.js\": 2783,\n\t\"v2-inpage-navigation/v2-inpage-navigation.js\": 5773,\n\t\"v2-key-facts/v2-key-facts.js\": 8253,\n\t\"v2-livestream-embed/v2-livestream-embed.js\": 5383,\n\t\"v2-masonry-grid/v2-masonry-grid.js\": 911,\n\t\"v2-media-gallery/v2-media-gallery.js\": 4289,\n\t\"v2-media-with-tabs/v2-media-with-tabs.js\": 6255,\n\t\"v2-media-with-text/v2-media-with-text.js\": 4801,\n\t\"v2-newsletter/v2-newsletter.js\": 995,\n\t\"v2-quote-with-images/v2-quote-with-images.js\": 919,\n\t\"v2-quote/v2-quote.js\": 9015,\n\t\"v2-resource-gallery/v2-resource-gallery.js\": 599,\n\t\"v2-section-header/v2-section-header.js\": 2651,\n\t\"v2-social-block/v2-social-block.js\": 6539,\n\t\"v2-stories-carousel/v2-stories-carousel.js\": 5159,\n\t\"v2-tabbed-carousel/v2-tabbed-carousel.js\": 9849,\n\t\"v2-text/v2-text.js\": 1179,\n\t\"v2-truck-lineup/v2-truck-lineup.js\": 5903,\n\t\"v2-video/v2-video.js\": 4429,\n\t\"v2-visual-grid/v2-visual-grid.js\": 8969,\n\t\"video-link/video-link.js\": 5821,\n\t\"vin-number/vin-number.js\": 4087\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 317;","import{defaultConverter as t,notEqual as e}from\"../reactive-element.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const o={attribute:!0,type:String,converter:t,reflect:!1,hasChanged:e},r=(t=o,e,r)=>{const{kind:n,metadata:i}=r;let s=globalThis.litPropertyMetadata.get(i);if(void 0===s&&globalThis.litPropertyMetadata.set(i,s=new Map),\"setter\"===n&&((t=Object.create(t)).wrapped=!0),s.set(r.name,t),\"accessor\"===n){const{name:o}=r;return{set(r){const n=e.get.call(this);e.set.call(this,r),this.requestUpdate(o,n,t)},init(e){return void 0!==e&&this.C(o,void 0,t,e),e}}}if(\"setter\"===n){const{name:o}=r;return function(r){const n=this[o];e.call(this,r),this.requestUpdate(o,n,t)}}throw Error(\"Unsupported decorator location: \"+n)};function n(t){return(e,o)=>\"object\"==typeof o?r(t,e,o):((t,e,o)=>{const r=e.hasOwnProperty(o);return e.constructor.createProperty(o,t),r?Object.getOwnPropertyDescriptor(e,o):void 0})(t,e,o)}export{n as property,r as standardProperty};\n//# sourceMappingURL=property.js.map\n","import{property as t}from\"./property.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function r(r){return t({...r,state:!0,attribute:!1})}export{r as state};\n//# sourceMappingURL=state.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst e=(e,t,c)=>(c.configurable=!0,c.enumerable=!0,Reflect.decorate&&\"object\"!=typeof t&&Object.defineProperty(e,t,c),c);export{e as desc};\n//# sourceMappingURL=base.js.map\n","import{desc as t}from\"./base.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function e(e,r){return(n,s,i)=>{const o=t=>t.renderRoot?.querySelector(e)??null;if(r){const{get:e,set:r}=\"object\"==typeof s?n:i??(()=>{const t=Symbol();return{get(){return this[t]},set(e){this[t]=e}}})();return t(n,s,{get(){let t=e.call(this);return void 0===t&&(t=o(this),(null!==t||this.hasUpdated)&&r.call(this,t)),t}})}return t(n,s,{get(){return o(this)}})}}export{e as query};\n//# sourceMappingURL=query.js.map\n","import{desc as t}from\"./base.js\";\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function o(o){return(e,n)=>{const{slot:r,selector:s}=o??{},c=\"slot\"+(r?`[name=${r}]`:\":not([name])\");return t(e,n,{get(){const t=this.renderRoot?.querySelector(c),e=t?.assignedElements(o)??[];return void 0===s?e:e.filter((t=>t.matches(s)))}})}}export{o as queryAssignedElements};\n//# sourceMappingURL=query-assigned-elements.js.map\n","import{desc as t}from\"./base.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function n(n){return(o,r)=>{const{slot:e}=n??{},s=\"slot\"+(e?`[name=${e}]`:\":not([name])\");return t(o,r,{get(){const t=this.renderRoot?.querySelector(s);return t?.assignedNodes(n)??[]}})}}export{n as queryAssignedNodes};\n//# sourceMappingURL=query-assigned-nodes.js.map\n","import { SEARCH_CONFIGS } from './common.js';\n\nexport const { TENANT = false, SEARCH_URL_PROD = false, SEARCH_URL_DEV = false } = SEARCH_CONFIGS;\n\n// because the dev url has different items is better to use the prod one also in dev\nexport async function fetchSearchData(queryObj) {\n  const query = {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      'Content-Length': queryObj.length,\n    },\n    body: JSON.stringify(queryObj),\n  };\n\n  if (!SEARCH_URL_PROD && !SEARCH_URL_DEV) {\n    throw new Error('Search link not found');\n  }\n\n  try {\n    let response = await fetch(SEARCH_URL_PROD, query);\n    if (!response.ok) {\n      response = await fetch(SEARCH_URL_DEV, query);\n    }\n\n    return response.json();\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    throw error;\n  }\n}\n\nexport function sanitizeQueryTerm(query) {\n  return query.replace(/[<>]/g, (tag) => {\n    const replacements = {\n      '<': '&lt;',\n      '>': '&gt;',\n    };\n    return replacements[tag] || tag;\n  });\n}\n\nexport const searchQuery = () => `\nquery Edssearch($tenant: String!, $language: EdsLocaleEnum!, $q: String, $limit: Int, $offset: Int,\n$facets: [EdsFieldEnum], $sort: EdsSortOptionsEnum, $article: ArticleFilter, $category: [String]) {\n  edssearch(tenant: $tenant, language: $language, q: $q, limit: $limit, offset: $offset,\n  facets: $facets, sort: $sort, article: $article, category: $category) {\n    count\n    items {\n      uuid\n      score\n      metadata {\n        title\n        description\n        url\n        lastModified\n        language\n        category\n        article {\n          category\n          topic\n          truck\n        }\n      }\n    }\n    facets {\n      field\n      items {\n        value\n        count\n      }\n    }\n  }\n}\n`;\n\nexport const autosuggestQuery = () => `\nquery EdsWordPhraseSuggest($term: String!, $tenant: String!, $language: EdsLocaleEnum!, $sizeSuggestions: Int) {\n  edsWordPhraseSuggest(term: $term, tenant: $tenant, language: $language, sizeSuggestions: $sizeSuggestions) {\n    terms\n  }\n}\n`;\n\nexport const magazineSearchQuery = () => `\nquery Edssearch($tenant: String!, $language: EdsLocaleEnum!, $q: String, $limit: Int, $offset: Int,\n$category: [String], $facets: [EdsFieldEnum], $article: ArticleFilter, $sort: EdsSortOptionsEnum) {\n  edssearch(tenant: $tenant, language: $language, q: $q, limit: $limit, offset: $offset,\n  category: $category, facets: $facets, article: $article, sort: $sort) {\n    count\n    items {\n      uuid\n      score\n      metadata {\n        title\n        description\n        url\n        lastModified\n        language\n        category\n        publishDate\n        image\n        article {\n          author\n          category\n          topic\n          truck\n          readTime\n        }\n      }\n    }\n    facets {\n      field\n      items {\n        value\n        count\n      }\n    }\n  }\n}\n`;\n\nexport const topicSearchQuery = () => `\n  query Edsrecommend($tenant: String!, $language: EdsLocaleEnum!, $limit: Int, $offset: Int, $category: String, $article: ArticleFilter, $sort: EdsSortOptionsEnum, $facets: [EdsFieldEnum]) {\n    edsrecommend(tenant: $tenant, language: $language, limit: $limit, offset: $offset, category: $category, article: $article, sort: $sort, facets: $facets) {\n      count\n      items {\n        uuid\n        score\n        metadata {\n          title\n          description\n          url\n          language\n          lastModified\n          publishDate\n          image\n          article {\n            author\n            topic\n            truck\n            readTime\n          }\n        }\n      }\n      facets {\n        field\n        items {\n          value\n          count\n        }\n      }\n    }\n  }\n`;\n\nexport const pressReleaseQuery = () => `\n query Edssearch($tenant: String!, $language: EdsLocaleEnum!, $q: String, $limit: Int, $offset: Int,\n  $facets: [EdsFieldEnum], $sort: EdsSortOptionsEnum, $article: ArticleFilter, $category: [String]) {\n    edssearch(tenant: $tenant, language: $language, q: $q, limit: $limit, offset: $offset,\n    facets: $facets, sort: $sort, article: $article, category: $category) {\n      count\n      items {\n        uuid\n        metadata {\n          title\n          description\n          image\n          url\n          language\n          category\n          publishDate\n        }\n      }\n    }\n  } \n`;\n","export default function decorate(block) {\n  const cols = [...block.firstElementChild.children];\n  block.classList.add(`columns-${cols.length}-cols`);\n}\n","import { getTextLabel } from '../../scripts/common.js';\nimport getPerformanceChart from './performance-chart.js';\nimport { getCustomDropdown } from '../../common/custom-dropdown/custom-dropdown.js';\n\n/**\n * Gets the data from the excel/json chart that should be on the same level as the block.\n *\n * @returns {Promise<Array>} - A promise that resolves to the engine chart data.\n */\nconst getEngineChartData = async () => {\n  const response = await fetch('./performance.json');\n  const json = await response.json();\n  return json.data;\n};\n\n/**\n * Builds the engine specifications block.\n *\n * @param {HTMLElement} block - The container element where the engine specifications will be appended.\n */\nconst buildEngineSpecifications = (block) => {\n  const children = [...block.children];\n  const titleDiv = children.shift();\n\n  const title = titleDiv.querySelector('h2');\n  title.classList.add('engine-title');\n\n  const ul = document.createElement('ul');\n  ul.classList.add('item-list');\n\n  children.forEach((row) => {\n    const li = document.createElement('li');\n    li.classList.add('item-wrapper');\n\n    const sectionTitle = row.querySelector('h6');\n    sectionTitle.classList.add('item-title');\n    const content = row.querySelector('h5');\n    content.classList.add('item-content');\n\n    li.append(sectionTitle);\n    li.append(content);\n    ul.append(li);\n  });\n\n  block.textContent = '';\n\n  block.append(title);\n  block.append(ul);\n};\n\n/**\n * Determines whether to show the chart selection with tabs or a dropdown list.\n * By default, it will show the chart selection with tabs. However, if there are\n * multiple engines with the same horsepower but different torque, it will display\n * the selection with a dropdown list of the engines with a given horsepower.\n * By selecting a given horsepower, it will display the list of engines with that\n * horsepower and torque options.\n *\n * @param {Map<number, Set<number>>} horsepowerMap - A map where the keys are horsepower values and the values are sets of torque values.\n * @returns {boolean} - Returns true if tabs should be shown, false if a dropdown should be shown.\n */\nconst shouldShowTabs = (horsepowerMap) => {\n  for (const torques of horsepowerMap.values()) {\n    if (torques.size > 1) {\n      return false;\n    }\n  }\n  return true;\n};\n\n/**\n * Creates a map of horsepower to sets of torque values.\n *\n * @param {Array<{ horsepower: number, torque: number }>} peaksData - The list of objects representing engine specifications with horsepower and torque.\n * @returns {Map<number, Set<number>>} - A map where the keys are horsepower values and the values are sets of torque values.\n */\nconst getHorserpowerMap = (peaksData) => {\n  const horsepowerMap = new Map();\n\n  peaksData.forEach(({ horsepower, torque, rating }) => {\n    if (!horsepowerMap.has(horsepower)) {\n      horsepowerMap.set(horsepower, new Set());\n    }\n    horsepowerMap.get(horsepower).add({\n      torque,\n      horsepower,\n      rating,\n    });\n  });\n\n  return horsepowerMap;\n};\n\n/**\n * Extracts the peaks data from the engine data.\n *\n * @param {Array<{ peaks: string }>} engineData - The list of engine data objects.\n * @returns {Array<{ horsepower: number, torque: number }>} - The list of objects representing engine specifications with horsepower and torque.\n */\nconst getPeaksData = (engineData) =>\n  engineData.reduce((acc, engine) => {\n    const [horsepower, torque] = engine.peaks.replace(/\\[|\\]/g, '').split(',').map(Number);\n    const rating = engine.rating;\n    acc.push({ horsepower, torque, rating });\n    return acc;\n  }, []);\n\n/**\n * Build the tabs for engine ratings.\n *\n * @param {HTMLElement} hpSelector - The container element where the tabs will be appended.\n * @param {Array<number>} powerRating - The list of power ratings to create tabs for.\n */\nconst setupTabs = (container, itemsToList, displayHp = true) => {\n  const hpLabel = getTextLabel('engine_specifications:unit_hp');\n  const torqueLabel = getTextLabel('engine_specifications:unit_tq');\n  let engineRatingContainer = container.querySelector('.engine-rating');\n  let hpList = container.querySelector('.rating-list');\n\n  if (!engineRatingContainer) {\n    engineRatingContainer = document.createElement('div');\n    engineRatingContainer.classList.add('engine-rating');\n\n    hpList = document.createElement('ul');\n    hpList.classList.add('rating-list');\n  } else {\n    hpList.innerHTML = '';\n  }\n\n  itemsToList.forEach(({ torque, horsepower, rating }) => {\n    const itemEl = document.createElement('li');\n    itemEl.classList.add('rating-item');\n\n    itemEl.innerHTML = `\n      <h5 class=\"title-${rating}\">\n        <button data-rating=\"${rating}\">${displayHp ? `${horsepower} ${hpLabel}` : `${torque} ${torqueLabel}`}</button>\n      </h5>`;\n\n    hpList.appendChild(itemEl);\n  });\n  engineRatingContainer.innerHTML = '';\n  engineRatingContainer.append(hpList);\n\n  container.append(engineRatingContainer);\n};\n\n/**\n * Builds the headers for the engine ratings.\n *\n * @param {HTMLElement} hpSelector - The container element where the headers will be appended.\n */\nconst buildHeaders = (hpSelector) => {\n  const ratingTitle = document.createElement('h6');\n  ratingTitle.classList.add('rating-title');\n  ratingTitle.innerText = getTextLabel('engine_specifications:subtitle');\n\n  hpSelector.append(ratingTitle);\n};\n\n/**\n * Builds the dropdown options for engine ratings.\n *\n * @param {HTMLElement} dropdownContainer - The container element where the dropdown will be appended.\n * @param {Map<number, Set<number>>} horsepowerMap - A map where the keys are horsepower values and the values are sets of torque values.\n * @param {HTMLElement} chartOptionsContainer - The container element where the chart options will be appended.\n * @param {HTMLElement} hpSelector - The container element that holds the HP buttons.\n * @param {HTMLElement} chartListContainer - The container element that holds the charts.\n */\nconst buildDrodownOptions = async (dropdownContainer, horsepowerMap, chartOptionsContainer, hpSelector, chartListContainer) => {\n  const hpLabel = getTextLabel('engine_specifications:unit_hp');\n  const horsepowerOptions = Array.from(horsepowerMap.keys()).map((hp) => ({ value: hp, label: `${hp} ${hpLabel}` }));\n\n  const dropdownConfig = {\n    optionList: horsepowerOptions,\n    variants: ['adjust-width-to-content'],\n    onChangeCallback: (selected) => {\n      const chartParent = chartListContainer.closest('.performance-chart-list');\n      const allCharts = chartParent.querySelectorAll('.performance-chart');\n      allCharts.forEach((item) => {\n        delete item.dataset.active;\n      });\n\n      const selectedHp = horsepowerMap.get(selected.value);\n      const firstItemOfSelectedHp = horsepowerMap.get(selected.value).values().next().value;\n\n      setupTabs(chartOptionsContainer, selectedHp, false);\n      setChartUpponSelection(firstItemOfSelectedHp.rating, chartParent, hpSelector, allCharts);\n    },\n  };\n\n  const customDropdown = await getCustomDropdown(dropdownConfig);\n\n  dropdownContainer.append(customDropdown);\n};\n\nconst setChartUpponSelection = (selectedNumber, chartParent, hpSelector, allCharts) => {\n  const clickedChart = chartParent.querySelector(`.chart-${selectedNumber}`);\n  const firstBbutton = hpSelector.querySelector(`.title-${selectedNumber}`).closest('.rating-item');\n\n  if (clickedChart) {\n    allCharts.forEach((item) => {\n      delete item.dataset.active;\n    });\n\n    clickedChart.dataset.active = true;\n    firstBbutton.dataset.active = true;\n  }\n};\n\n/**\n * Sets up event listeners for the HP buttons and charts to handle interactions.\n * This function adds click event listeners to the buttons, which update the active\n * state of the buttons and the corresponding charts.\n *\n * @param {HTMLElement} hpSelector - The container element that holds the HP buttons.\n * @param {HTMLElement} chartContainer - The container element that holds the charts.\n */\nconst setupTabButtonsInteractions = (hpSelector, chartContainer) => {\n  const ratingList = hpSelector.querySelectorAll('.rating-list');\n  let allButtons = hpSelector.querySelectorAll('.rating-list .rating-item');\n\n  if (allButtons.length === 0) {\n    return;\n  }\n\n  allButtons[0].dataset.active = true;\n\n  const initialChart = chartContainer.children[0];\n  initialChart.dataset.active = true;\n  const chartParent = initialChart.closest('.performance-chart-list');\n\n  ratingList.forEach((button) => {\n    button.addEventListener('click', (e) => {\n      const buttonParent = button.closest('ul');\n      const selectedNumber = e.target.dataset.rating;\n\n      const clickedButton = buttonParent.querySelector(`.title-${selectedNumber}`).closest('.rating-item');\n      const activeButton = buttonParent.querySelector('[data-active]');\n      allButtons = buttonParent.querySelectorAll('.rating-item');\n\n      const clickedChart = chartParent.querySelector(`.chart-${selectedNumber}`);\n      const allCharts = chartParent.querySelectorAll('.performance-chart');\n\n      if (clickedChart && activeButton && activeButton.dataset.rating !== selectedNumber) {\n        [...allButtons, ...allCharts].forEach((item) => {\n          delete item.dataset.active;\n        });\n\n        clickedChart.dataset.active = true;\n        clickedButton.dataset.active = true;\n      }\n    });\n  });\n};\n\n// Builds the performance specifications block.\nconst buildPerformanceSpecifications = (block, engineData) => {\n  const peaksData = getPeaksData(engineData);\n  const horsepowerMap = getHorserpowerMap(peaksData);\n  const showTabs = shouldShowTabs(horsepowerMap);\n  const children = [...block.children];\n  const titleDiv = children.shift();\n\n  const title = titleDiv.querySelector('h2');\n  title.classList.add('performance-title');\n\n  const hpSelector = document.createElement('div');\n  hpSelector.classList.add('performance-selector-wrapper');\n\n  const chartContainer = document.createElement('div');\n  chartContainer.classList.add('performance-chart-wrapper');\n\n  const chartListContainer = document.createElement('ul');\n  chartListContainer.classList.add('performance-chart-list');\n\n  const ratings = [];\n\n  engineData.forEach((engine) => {\n    const rating = engine.rating;\n    ratings.push({ rating });\n\n    const chart = document.createElement('li');\n    chart.classList.add('performance-chart');\n    chart.classList.add(`chart-${rating}`);\n    chart.innerHTML = getPerformanceChart(engine);\n\n    chartListContainer.append(chart);\n  });\n\n  buildHeaders(hpSelector);\n\n  if (showTabs) {\n    const concatenatedTorques = Array.from(horsepowerMap.values()).flatMap((set) => Array.from(set));\n    setupTabs(hpSelector, concatenatedTorques, true);\n    setupTabButtonsInteractions(hpSelector, chartListContainer);\n\n    const initialButton = hpSelector.querySelector('.rating-item');\n    initialButton.dataset.active = true;\n  } else {\n    const firstHorsepowerSet = horsepowerMap.values().next().value;\n    const chartOptionsContainer = document.createElement('div');\n    chartOptionsContainer.classList.add('engine-specifications__chart-options-container');\n\n    const dropdownContainer = document.createElement('div');\n    dropdownContainer.classList.add('engine-specifications__dropdown-container');\n    chartOptionsContainer.append(dropdownContainer);\n\n    setupTabs(chartOptionsContainer, firstHorsepowerSet, false);\n    buildDrodownOptions(dropdownContainer, horsepowerMap, chartOptionsContainer, hpSelector, chartListContainer);\n\n    hpSelector.append(chartOptionsContainer);\n    setupTabButtonsInteractions(hpSelector, chartListContainer);\n  }\n\n  block.textContent = '';\n\n  chartContainer.append(chartListContainer);\n  block.append(title);\n  block.append(hpSelector);\n  block.append(chartContainer);\n};\n\nexport default async function decorate(block) {\n  const blockClassList = [...block.classList];\n\n  // This detects what block needs to be render and calls the corresponding function.\n  if (blockClassList.includes('engine')) {\n    buildEngineSpecifications(block);\n  } else if (blockClassList.includes('performance')) {\n    const engineData = await getEngineChartData();\n    buildPerformanceSpecifications(block, engineData);\n  }\n}\n","import{noChange as r,nothing as e}from\"../lit-html.js\";import{directive as i,Directive as t,PartType as n}from\"../directive.js\";import{isSingleExpression as o,setCommittedValue as s}from\"../directive-helpers.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const l=i(class extends t{constructor(r){if(super(r),r.type!==n.PROPERTY&&r.type!==n.ATTRIBUTE&&r.type!==n.BOOLEAN_ATTRIBUTE)throw Error(\"The `live` directive is not allowed on child or event bindings\");if(!o(r))throw Error(\"`live` bindings can only contain a single expression\")}render(r){return r}update(i,[t]){if(t===r||t===e)return t;const o=i.element,l=i.name;if(i.type===n.PROPERTY){if(t===o[l])return r}else if(i.type===n.BOOLEAN_ATTRIBUTE){if(!!t===o.hasAttribute(l))return r}else if(i.type===n.ATTRIBUTE&&o.getAttribute(l)===t+\"\")return r;return s(i),t}});export{l as live};\n//# sourceMappingURL=live.js.map\n","import{notEqual as t}from\"@lit/reactive-element\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const s={INITIAL:0,PENDING:1,COMPLETE:2,ERROR:3},i=Symbol();class h{get taskComplete(){return this.t||(1===this.i?this.t=new Promise(((t,s)=>{this.o=t,this.h=s})):3===this.i?this.t=Promise.reject(this.l):this.t=Promise.resolve(this.u)),this.t}constructor(t,s,i){this.p=0,this.i=0,(this._=t).addController(this);const h=\"object\"==typeof s?s:{task:s,args:i};this.v=h.task,this.j=h.args,this.m=h.argsEqual??r,this.k=h.onComplete,this.A=h.onError,this.autoRun=h.autoRun??!0,\"initialValue\"in h&&(this.u=h.initialValue,this.i=2,this.O=this.T?.())}hostUpdate(){!0===this.autoRun&&this.S()}hostUpdated(){\"afterUpdate\"===this.autoRun&&this.S()}T(){if(void 0===this.j)return;const t=this.j();if(!Array.isArray(t))throw Error(\"The args function must return an array\");return t}async S(){const t=this.T(),s=this.O;this.O=t,t===s||void 0===t||void 0!==s&&this.m(s,t)||await this.run(t)}async run(t){let s,h;t??=this.T(),this.O=t,1===this.i?this.q?.abort():(this.t=void 0,this.o=void 0,this.h=void 0),this.i=1,\"afterUpdate\"===this.autoRun?queueMicrotask((()=>this._.requestUpdate())):this._.requestUpdate();const r=++this.p;this.q=new AbortController;let e=!1;try{s=await this.v(t,{signal:this.q.signal})}catch(t){e=!0,h=t}if(this.p===r){if(s===i)this.i=0;else{if(!1===e){try{this.k?.(s)}catch{}this.i=2,this.o?.(s)}else{try{this.A?.(h)}catch{}this.i=3,this.h?.(h)}this.u=s,this.l=h}this._.requestUpdate()}}abort(t){1===this.i&&this.q?.abort(t)}get value(){return this.u}get error(){return this.l}get status(){return this.i}render(t){switch(this.i){case 0:return t.initial?.();case 1:return t.pending?.();case 2:return t.complete?.(this.value);case 3:return t.error?.(this.error);default:throw Error(\"Unexpected status: \"+this.i)}}}const r=(s,i)=>s===i||s.length===i.length&&s.every(((s,h)=>!t(s,i[h])));export{h as Task,s as TaskStatus,i as initialState,r as shallowArrayEquals};\n//# sourceMappingURL=task.js.map\n","import { wrapImageWithVideoLink, selectVideoLink, isVideoLink, addVideoShowHandler } from '../../scripts/video-helper.js';\nimport { createElement, decorateIcons, getTextLabel, unwrapDivs, variantsClassesToBEM } from '../../scripts/common.js';\n\nconst blockName = 'v2-resource-gallery';\nconst variantClasses = ['no-expand'];\n\nfunction toggleListEle(block, ariaValue) {\n  [...block.querySelectorAll(`li[aria-hidden=\"${ariaValue}\"]`)].forEach((li) => {\n    li.setAttribute('aria-hidden', !ariaValue);\n  });\n}\n\nexport default function decorate(block) {\n  variantsClassesToBEM(block.classList, variantClasses, blockName);\n  const blockHeading = block.querySelector('div:first-child');\n  blockHeading.classList.add(`${blockName}__heading-wrapper`);\n  const title = blockHeading.querySelector('h1, h2, h3, h4, h5, h6');\n  title?.classList.add(`${blockName}__heading`);\n  unwrapDivs(blockHeading);\n\n  const videoWrapper = createElement('div', { classes: `${blockName}__video-list` });\n  const documentWrapper = createElement('div', { classes: `${blockName}__document-list` });\n  const rows = block.querySelectorAll(':scope > div > div');\n\n  rows.forEach((row) => {\n    const picture = row.querySelector('picture');\n    const document = row.querySelector('.icon-documents');\n\n    if (picture) {\n      const listEle = createElement('div', { classes: `${blockName}__video-list-item` });\n      listEle.innerHTML = row.innerHTML;\n\n      const videos = [...listEle.querySelectorAll('a')].filter((link) => isVideoLink(link));\n\n      if (videos.length) {\n        // display image as link with play icon\n        const selectedLink = selectVideoLink(videos);\n        if (selectedLink) {\n          addVideoShowHandler(selectedLink);\n          wrapImageWithVideoLink(selectedLink, picture);\n          selectedLink.parentElement.classList.add(`${blockName}__video-image`, 'image');\n        }\n\n        if (videoWrapper.children.length > 5) {\n          listEle.classList.add(`${blockName}__video-list-item--hide`);\n          listEle.setAttribute('aria-hidden', true);\n        }\n\n        const videoTitle = listEle.querySelector('h3');\n        videoTitle.classList.add(`${blockName}__video-title`);\n\n        // remove all the videos links and exclude the selected one\n        videos.forEach((link) => link !== selectedLink && link.parentElement.remove());\n\n        videoWrapper.append(listEle);\n        listEle.firstElementChild.remove();\n        row.innerHTML = '';\n      }\n    } else if (document) {\n      const item = createElement('div', { classes: `${blockName}__document-list-item` });\n      item.innerHTML = row.innerHTML;\n      const links = item.querySelectorAll('a');\n      [...links].forEach((link) => {\n        link.classList.add('standalone-link');\n        link.classList.remove('button', 'tertiary');\n        const wrapper = link.parentElement;\n        wrapper.className = `${blockName}__document-link-wrapper`;\n        wrapper.append(wrapper.nextElementSibling);\n      });\n\n      if (documentWrapper.children.length > 5) {\n        item.classList.add(`${blockName}__document-list-item--hide`);\n        item.setAttribute('aria-hidden', true);\n      }\n\n      documentWrapper.append(item);\n      row.innerHTML = '';\n    }\n  });\n\n  if (!block.classList.contains(`${blockName}--no-expand`)) {\n    const viewAllButton = createElement('button', {\n      classes: [`${blockName}__button`, 'tertiary'],\n      props: { 'aria-expanded': false },\n    });\n    viewAllButton.innerHTML = `\n      <span class=\"icon icon-plus\"></span>\n      <span class=\"icon icon-minus\"></span>\n      <span class=\"${blockName}__button-text\">${getTextLabel('v2_resource_gallery:view_all')}</span>\n    `;\n\n    decorateIcons(viewAllButton);\n    blockHeading.append(viewAllButton);\n\n    viewAllButton.addEventListener('click', () => {\n      const buttonText = viewAllButton.lastElementChild;\n      if (viewAllButton.ariaExpanded === 'true') {\n        viewAllButton.ariaExpanded = 'false';\n        buttonText.innerText = getTextLabel('v2_resource_gallery:view_all');\n        block.classList.remove(`${blockName}__list--expand`);\n        toggleListEle(block, false);\n      } else {\n        viewAllButton.ariaExpanded = 'true';\n        buttonText.innerText = getTextLabel('v2_resource_gallery:view_less');\n        block.classList.add(`${blockName}__list--expand`);\n        toggleListEle(block, true);\n      }\n    });\n  }\n\n  block.append(videoWrapper);\n  block.append(documentWrapper);\n\n  unwrapDivs(block, { ignoreDataAlign: true });\n}\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nexport default arrayPush;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n","import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n","import Symbol from './_Symbol.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nexport default isFlattenable;\n","import arrayPush from './_arrayPush.js';\nimport isFlattenable from './_isFlattenable.js';\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nexport default baseFlatten;\n","import baseFlatten from './_baseFlatten.js';\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nexport default flatten;\n","/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nclass s extends Event{constructor(s,t,e,o){super(\"context-request\",{bubbles:!0,composed:!0}),this.context=s,this.contextTarget=t,this.callback=e,this.subscribe=o??!1}}export{s as ContextRequestEvent};\n//# sourceMappingURL=context-request-event.js.map\n","/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nfunction n(n){return n}export{n as createContext};\n//# sourceMappingURL=create-context.js.map\n","import{ContextRequestEvent as t}from\"../context-request-event.js\";\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class s{constructor(t,s,i,h){if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(t,s)=>{this.unsubscribe&&(this.unsubscribe!==s&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=t,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(t,s)),this.unsubscribe=s},this.host=t,void 0!==s.context){const t=s;this.context=t.context,this.callback=t.callback,this.subscribe=t.subscribe??!1}else this.context=s,this.callback=i,this.subscribe=h??!1;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new t(this.context,this.host,this.t,this.subscribe))}}export{s as ContextConsumer};\n//# sourceMappingURL=context-consumer.js.map\n","/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nclass s{get value(){return this.o}set value(s){this.setValue(s)}setValue(s,t=!1){const i=t||!Object.is(s,this.o);this.o=s,i&&this.updateObservers()}constructor(s){this.subscriptions=new Map,this.updateObservers=()=>{for(const[s,{disposer:t}]of this.subscriptions)s(this.o,t)},void 0!==s&&(this.value=s)}addCallback(s,t,i){if(!i)return void s(this.value);this.subscriptions.has(s)||this.subscriptions.set(s,{disposer:()=>{this.subscriptions.delete(s)},consumerHost:t});const{disposer:h}=this.subscriptions.get(s);s(this.value,h)}clearCallbacks(){this.subscriptions.clear()}}export{s as ValueNotifier};\n//# sourceMappingURL=value-notifier.js.map\n","import{ContextRequestEvent as t}from\"../context-request-event.js\";import{ValueNotifier as s}from\"../value-notifier.js\";\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class e extends Event{constructor(t,s){super(\"context-provider\",{bubbles:!0,composed:!0}),this.context=t,this.contextTarget=s}}class i extends s{constructor(s,e,i){super(void 0!==e.context?e.initialValue:i),this.onContextRequest=t=>{if(t.context!==this.context)return;const s=t.contextTarget??t.composedPath()[0];s!==this.host&&(t.stopPropagation(),this.addCallback(t.callback,s,t.subscribe))},this.onProviderRequest=s=>{if(s.context!==this.context)return;if((s.contextTarget??s.composedPath()[0])===this.host)return;const e=new Set;for(const[s,{consumerHost:i}]of this.subscriptions)e.has(s)||(e.add(s),i.dispatchEvent(new t(this.context,i,s,!0)));s.stopPropagation()},this.host=s,void 0!==e.context?this.context=e.context:this.context=e,this.attachListeners(),this.host.addController?.(this)}attachListeners(){this.host.addEventListener(\"context-request\",this.onContextRequest),this.host.addEventListener(\"context-provider\",this.onProviderRequest)}hostConnected(){this.host.dispatchEvent(new e(this.context,this.host))}}export{i as ContextProvider,e as ContextProviderEvent};\n//# sourceMappingURL=context-provider.js.map\n","import{ContextRequestEvent as e}from\"./context-request-event.js\";\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class t{constructor(){this.pendingContextRequests=new Map,this.onContextProvider=t=>{const s=this.pendingContextRequests.get(t.context);if(void 0===s)return;this.pendingContextRequests.delete(t.context);const{requests:o}=s;for(const{elementRef:s,callbackRef:n}of o){const o=s.deref(),c=n.deref();void 0===o||void 0===c||o.dispatchEvent(new e(t.context,o,c,!0))}},this.onContextRequest=e=>{if(!0!==e.subscribe)return;const t=e.contextTarget??e.composedPath()[0],s=e.callback;let o=this.pendingContextRequests.get(e.context);void 0===o&&this.pendingContextRequests.set(e.context,o={callbacks:new WeakMap,requests:[]});let n=o.callbacks.get(t);void 0===n&&o.callbacks.set(t,n=new WeakSet),n.has(s)||(n.add(s),o.requests.push({elementRef:new WeakRef(t),callbackRef:new WeakRef(s)}))}}attach(e){e.addEventListener(\"context-request\",this.onContextRequest),e.addEventListener(\"context-provider\",this.onContextProvider)}detach(e){e.removeEventListener(\"context-request\",this.onContextRequest),e.removeEventListener(\"context-provider\",this.onContextProvider)}}export{t as ContextRoot};\n//# sourceMappingURL=context-root.js.map\n","import{ContextProvider as t}from\"../controllers/context-provider.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function e({context:e}){return(n,i)=>{const r=new WeakMap;if(\"object\"==typeof i)return{get(){return n.get.call(this)},set(t){return r.get(this).setValue(t),n.set.call(this,t)},init(n){return r.set(this,new t(this,{context:e,initialValue:n})),n}};{n.constructor.addInitializer((n=>{r.set(n,new t(n,{context:e}))}));const o=Object.getOwnPropertyDescriptor(n,i);let s;if(void 0===o){const t=new WeakMap;s={get(){return t.get(this)},set(e){r.get(this).setValue(e),t.set(this,e)},configurable:!0,enumerable:!0}}else{const t=o.set;s={...o,set(e){r.get(this).setValue(e),t?.call(this,e)}}}return void Object.defineProperty(n,i,s)}}}export{e as provide};\n//# sourceMappingURL=provide.js.map\n","/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class n{constructor(t,e,o){if(this._$cssResult$=!0,o!==s)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const s=this.t;if(e&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=o.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&o.set(s,t))}return t}toString(){return this.cssText}}const r=t=>new n(\"string\"==typeof t?t:t+\"\",void 0,s),i=(t,...e)=>{const o=1===t.length?t[0]:e.reduce(((e,s,o)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(s)+t[o+1]),t[0]);return new n(o,t,s)},S=(s,o)=>{if(e)s.adoptedStyleSheets=o.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const e of o){const o=document.createElement(\"style\"),n=t.litNonce;void 0!==n&&o.setAttribute(\"nonce\",n),o.textContent=e.cssText,s.appendChild(o)}},c=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const s of t.cssRules)e+=s.cssText;return r(e)})(t):t;export{n as CSSResult,S as adoptStyles,i as css,c as getCompatibleStyle,e as supportsAdoptingStyleSheets,r as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as s}from\"./css-tag.js\";export{CSSResult,css,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{is:i,defineProperty:e,getOwnPropertyDescriptor:h,getOwnPropertyNames:r,getOwnPropertySymbols:o,getPrototypeOf:n}=Object,a=globalThis,c=a.trustedTypes,l=c?c.emptyScript:\"\",p=a.reactiveElementPolyfillSupport,d=(t,s)=>t,u={toAttribute(t,s){switch(s){case Boolean:t=t?l:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,s){let i=t;switch(s){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f=(t,s)=>!i(t,s),b={attribute:!0,type:String,converter:u,reflect:!1,useDefault:!1,hasChanged:f};Symbol.metadata??=Symbol(\"metadata\"),a.litPropertyMetadata??=new WeakMap;class y extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,s=b){if(s.state&&(s.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((s=Object.create(s)).wrapped=!0),this.elementProperties.set(t,s),!s.noAccessor){const i=Symbol(),h=this.getPropertyDescriptor(t,i,s);void 0!==h&&e(this.prototype,t,h)}}static getPropertyDescriptor(t,s,i){const{get:e,set:r}=h(this.prototype,t)??{get(){return this[s]},set(t){this[s]=t}};return{get:e,set(s){const h=e?.call(this);r?.call(this,s),this.requestUpdate(t,h,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??b}static _$Ei(){if(this.hasOwnProperty(d(\"elementProperties\")))return;const t=n(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d(\"finalized\")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d(\"properties\"))){const t=this.properties,s=[...r(t),...o(t)];for(const i of s)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const s=litPropertyMetadata.get(t);if(void 0!==s)for(const[t,i]of s)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,s]of this.elementProperties){const i=this._$Eu(t,s);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(s){const i=[];if(Array.isArray(s)){const e=new Set(s.flat(1/0).reverse());for(const s of e)i.unshift(t(s))}else void 0!==s&&i.push(t(s));return i}static _$Eu(t,s){const i=s.attribute;return!1===i?void 0:\"string\"==typeof i?i:\"string\"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,s=this.constructor.elementProperties;for(const i of s.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return s(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,s,i){this._$AK(t,i)}_$ET(t,s){const i=this.constructor.elementProperties.get(t),e=this.constructor._$Eu(t,i);if(void 0!==e&&!0===i.reflect){const h=(void 0!==i.converter?.toAttribute?i.converter:u).toAttribute(s,i.type);this._$Em=t,null==h?this.removeAttribute(e):this.setAttribute(e,h),this._$Em=null}}_$AK(t,s){const i=this.constructor,e=i._$Eh.get(t);if(void 0!==e&&this._$Em!==e){const t=i.getPropertyOptions(e),h=\"function\"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u;this._$Em=e;const r=h.fromAttribute(s,t.type);this[e]=r??this._$Ej?.get(e)??r,this._$Em=null}}requestUpdate(t,s,i){if(void 0!==t){const e=this.constructor,h=this[t];if(i??=e.getPropertyOptions(t),!((i.hasChanged??f)(h,s)||i.useDefault&&i.reflect&&h===this._$Ej?.get(t)&&!this.hasAttribute(e._$Eu(t,i))))return;this.C(t,s,i)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(t,s,{useDefault:i,reflect:e,wrapped:h},r){i&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,r??s??this[t]),!0!==h||void 0!==r)||(this._$AL.has(t)||(this.hasUpdated||i||(s=void 0),this._$AL.set(t,s)),!0===e&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,s]of this._$Ep)this[t]=s;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[s,i]of t){const{wrapped:t}=i,e=this[s];!0!==t||this._$AL.has(s)||void 0===e||this.C(s,void 0,i,e)}}let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(s)):this._$EM()}catch(s){throw t=!1,this._$EM(),s}t&&this._$AE(s)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach((t=>this._$ET(t,this[t]))),this._$EM()}updated(t){}firstUpdated(t){}}y.elementStyles=[],y.shadowRootOptions={mode:\"open\"},y[d(\"elementProperties\")]=new Map,y[d(\"finalized\")]=new Map,p?.({ReactiveElement:y}),(a.reactiveElementVersions??=[]).push(\"2.1.1\");export{y as ReactiveElement,s as adoptStyles,u as defaultConverter,t as getCompatibleStyle,f as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","import { createOptimizedPicture } from '../../scripts/aem.js';\nimport { isVideoLink, createVideo } from '../../scripts/video-helper.js';\nimport { createElement } from '../../scripts/common.js';\n\nconst blockName = 'v2-masonry-grid';\n\nexport default function decorate(block) {\n  const ul = createElement('ul', { classes: `${blockName}__items` });\n  const cells = [...block.querySelectorAll(':scope > div > div')];\n\n  cells.forEach((cell) => {\n    if (cell.childElementCount) {\n      const links = cell.querySelectorAll('a');\n      const videos = [...links].filter((link) => isVideoLink(link));\n      const picture = cell.querySelector('picture');\n\n      // if video or picture available, it's part of the grid\n      if (videos.length > 0 || picture) {\n        const li = createElement('li', { classes: [`${blockName}__item`] });\n\n        if (picture) {\n          const img = picture.lastElementChild;\n          const newPicture = createOptimizedPicture(img.src, img.alt, false);\n          li.prepend(newPicture);\n        }\n\n        if (videos.length > 0) {\n          const video = createVideo(videos[0].getAttribute('href'), `${blockName}__video`, {\n            muted: true,\n            autoplay: true,\n            loop: true,\n            playsinline: true,\n          });\n          li.prepend(video);\n        }\n\n        ul.append(li);\n      }\n    }\n  });\n\n  block.append(ul);\n\n  requestAnimationFrame(() => {\n    cells.forEach((cell) => {\n      cell.parentElement.remove();\n    });\n  });\n}\n","const blockName = 'v2-quote-with-images';\n\n/**\n * Unwrap a <picture> from its parent <p> if necessary.\n * @param {HTMLPictureElement} pictureEl\n * @returns {void}\n */\nconst unwrapPicture = (pictureEl) => {\n  const parentEl = pictureEl?.parentElement;\n  if (parentEl?.tagName !== 'P') {\n    return;\n  }\n  parentEl.parentElement.insertBefore(pictureEl, parentEl);\n  if (!parentEl.textContent.trim()) {\n    parentEl.remove();\n  }\n};\n\n/**\n * Unwrap all <picture> elements nested directly inside <p> within a container.\n * @param {HTMLElement} containerEl\n * @returns {void}\n */\nconst unwrapPicturesInParagraphs = (containerEl) => {\n  for (const pictureEl of containerEl.querySelectorAll('p > picture')) {\n    unwrapPicture(pictureEl);\n  }\n};\n\n/**\n * Add image classes to top-level <picture> elements in a container.\n * @param {HTMLElement} containerEl\n * @param {\"primary\"|\"secondary\"} variant\n * @returns {void}\n */\nconst applyTopLevelImageClasses = (containerEl, variant) => {\n  for (const pictureEl of containerEl.querySelectorAll(':scope > picture')) {\n    pictureEl.classList.add(`${blockName}__image`, `${blockName}__image--${variant}`);\n  }\n};\n\n/**\n * Convert the last two <p> elements in a column into a semantic blockquote.\n * @param {HTMLElement} columnEl\n * @returns {void}\n */\nconst convertToBlockquote = (columnEl) => {\n  if (columnEl.querySelector(`:scope > .${blockName}__quote`)) {\n    return;\n  }\n\n  const paragraphs = columnEl.querySelectorAll(':scope > p');\n  const count = paragraphs.length;\n  if (count < 2) {\n    console.warn('[v2-quote-with-images] Missing quote and attribution. Expected at least two <p> elements in the quote column.');\n    return;\n  }\n\n  const quoteText = paragraphs[count - 2].textContent.trim();\n  const attributionText = paragraphs[count - 1].textContent.trim();\n  if (!quoteText || !attributionText) {\n    console.warn('[v2-quote-with-images] Quote or attribution text is empty. Check block authoring.');\n    return;\n  }\n\n  const template = document.createElement('template');\n  template.innerHTML = `\n    <blockquote class=\"${blockName}__quote\">\n      <p class=\"${blockName}__text\">${quoteText}</p>\n      <p class=\"${blockName}__attribution\">${attributionText}</p>\n    </blockquote>`.trim();\n\n  const blockquoteEl = template.content.firstElementChild;\n  paragraphs[count - 2].replaceWith(blockquoteEl);\n  paragraphs[count - 1].remove();\n};\n\n/**\n * Enhance a single column with classes, images, and (for content column) blockquote structure.\n * @param {HTMLElement} columnEl\n * @param {boolean} isMediaColumn\n * @returns {void}\n */\nconst enhanceColumn = (columnEl, isMediaColumn) => {\n  columnEl.classList.add(`${blockName}__column`, isMediaColumn ? `${blockName}__column--media` : `${blockName}__column--quote`);\n  unwrapPicturesInParagraphs(columnEl);\n  applyTopLevelImageClasses(columnEl, isMediaColumn ? 'secondary' : 'primary');\n  if (!isMediaColumn) {\n    convertToBlockquote(columnEl);\n  }\n};\n\nexport default async function decorate(block) {\n  const rowEl = block.querySelector(':scope > div');\n  if (!rowEl) {\n    return;\n  }\n\n  rowEl.classList.add(`${blockName}__row`);\n\n  const [mediaColumnEl, quoteColumnEl] = rowEl.children;\n  if (mediaColumnEl) {\n    enhanceColumn(mediaColumnEl, true);\n  }\n  if (quoteColumnEl) {\n    enhanceColumn(quoteColumnEl, false);\n  }\n}\n","import { loadBlock, sampleRUM } from '../../scripts/aem.js';\nimport { getTextLabel, createElement } from '../../scripts/common.js';\n\nconst blockName = 'v2-newsletter';\n\nasync function handleSubmissionResult({ titleText, messageText, isSuccess }) {\n  const form = document.querySelector('form[data-submitting=true]');\n  const title = document.querySelector(`.${blockName}__title`);\n  const message = document.createRange().createContextualFragment(`<p>${messageText}</p>`);\n\n  if (isSuccess) {\n    sampleRUM('form:submit');\n  }\n\n  title.textContent = titleText;\n  form.setAttribute('data-submitting', 'false');\n  form.replaceWith(message);\n}\n\nwindow.logResult = function logResult(json) {\n  if (json.result === 'success') {\n    handleSubmissionResult({\n      titleText: getTextLabel('v2_newsletter:success_title'),\n      messageText: getTextLabel('v2_newsletter:success_text'),\n      isSuccess: true,\n    });\n  } else if (json.result === 'error') {\n    handleSubmissionResult({\n      titleText: getTextLabel('v2_newsletter:error_title'),\n      messageText: getTextLabel('v2_newsletter:error_text'),\n      isSuccess: false,\n    });\n  }\n};\n\nexport default async function decorate(block) {\n  const formLink = block.firstElementChild.innerText.trim();\n  const html = block.firstElementChild.nextElementSibling.firstElementChild.innerHTML;\n\n  const container = createElement('div', { classes: `${blockName}__container` });\n\n  const textContainer = createElement('div', { classes: `${blockName}__text` });\n  textContainer.innerHTML = html;\n\n  const headings = textContainer.querySelectorAll('h1, h2, h3, h4, h5, h6');\n  [...headings].forEach((heading) => heading.classList.add(`${blockName}__title`));\n\n  const formContainer = createElement('div', { classes: `${blockName}__form-container` });\n  const form = document.createRange().createContextualFragment(`\n    <div class=\"v2-forms block\" data-block-name=\"v2-forms\" data-block-status=\"\">\n      <div>\n        <div>subscribe</div>\n      </div>\n      <div>\n        <div>${formLink}</div>\n      </div>\n    </div>`);\n\n  formContainer.append(...form.children);\n  container.appendChild(textContainer);\n  container.appendChild(formContainer);\n\n  block.replaceWith(container);\n\n  await loadBlock(formContainer.firstElementChild);\n}\n\n// Same form in page is not working.\n","import { wrapImageWithVideoLink, selectVideoLink, isVideoLink } from '../../scripts/video-helper.js';\n\nexport default function decorate(block) {\n  const cols = block.firstElementChild.children.length;\n  block.parentElement.classList.add(`teaser-cards-${cols}`);\n  // go through all teasers\n  [...block.children].forEach((row) =>\n    [...row.children].forEach((elem) => {\n      // add teaser class for each entry\n      elem.classList.add('teaser');\n      if (elem.querySelector('.cta-list')) {\n        elem.classList.add('with-cta-list');\n      }\n      // give p containing the image a specific class\n      const picture = elem.querySelector('picture');\n      if (picture && picture.closest('p')) {\n        picture.closest('p').classList.add('image');\n      }\n\n      const links = elem.querySelectorAll('a');\n      const videos = [...links].filter((link) => isVideoLink(link));\n\n      if (videos.length) {\n        // display image as link with play icon\n        const selectedLink = selectVideoLink(videos);\n\n        if (selectedLink) {\n          picture.after(selectedLink);\n          wrapImageWithVideoLink(selectedLink, picture);\n        }\n\n        // removing all of the videos links excluding the selected one\n        videos.forEach((link) => link !== selectedLink && link.parentElement.remove());\n      }\n\n      // give all the remainig p a text class\n      elem.querySelector('p:not(.image, .button-container)')?.classList.add('text');\n\n      // give cta's link(s) a specific class name\n      const ctaLinks = elem.querySelectorAll('.button-container a.button');\n      ctaLinks.forEach((cta) => {\n        cta.classList.add('cta');\n      });\n    }),\n  );\n}\n","var map = {\n\t\"./event-notify.js\": [\n\t\t2769,\n\t\t769\n\t],\n\t\"./subscribe.js\": [\n\t\t875,\n\t\t875\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 1090;\nmodule.exports = webpackAsyncContext;","import{noChange as t}from\"../lit-html.js\";import{directive as e,Directive as r,PartType as s}from\"../directive.js\";\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const n=\"important\",i=\" !\"+n,o=e(class extends r{constructor(t){if(super(t),t.type!==s.ATTRIBUTE||\"style\"!==t.name||t.strings?.length>2)throw Error(\"The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.\")}render(t){return Object.keys(t).reduce(((e,r)=>{const s=t[r];return null==s?e:e+`${r=r.includes(\"-\")?r:r.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,\"-$&\").toLowerCase()}:${s};`}),\"\")}update(e,[r]){const{style:s}=e.element;if(void 0===this.ft)return this.ft=new Set(Object.keys(r)),this.render(r);for(const t of this.ft)null==r[t]&&(this.ft.delete(t),t.includes(\"-\")?s.removeProperty(t):s[t]=null);for(const t in r){const e=r[t];if(null!=e){this.ft.add(t);const r=\"string\"==typeof e&&e.endsWith(i);t.includes(\"-\")||r?s.setProperty(t,r?e.slice(0,-11):e,r?n:\"\"):s[t]=e}}return t}});export{o as styleMap};\n//# sourceMappingURL=style-map.js.map\n","import { unwrapDivs, variantsClassesToBEM } from '../../scripts/common.js';\n\nconst variantClasses = ['double', 'heading-3-5', 'title-small'];\n\nexport default function decorate(block) {\n  const blockName = 'v2-text';\n\n  variantsClassesToBEM(block.classList, variantClasses, blockName);\n  const textRows = block.querySelectorAll(':scope > div');\n\n  textRows.forEach((row) => {\n    row.classList.add(`${blockName}__row`);\n\n    const headings = [...row.querySelectorAll('h1, h2, h3, h4, h5, h6')];\n    headings.forEach((heading, index) => {\n      if (index === 0) {\n        heading.classList.add(`${blockName}__title`);\n        return;\n      }\n      heading.classList.add(`${blockName}__sub-title`);\n    });\n\n    const info = [...row.querySelectorAll('p')];\n    info.forEach((heading) => heading.classList.add(`${blockName}__info`));\n\n    unwrapDivs(row);\n  });\n\n  // From this point on it is just code for the POC and should be removed later:\n\n  const button = document.createRange().createContextualFragment('<vcdk-button variant=\"marketing\" size=\"medium\">Button</vcdk-button>');\n  block.appendChild(button);\n\n  const testContent = [\n    {\n      title: 'one title',\n      text: 'Lorem Ipsum is simply dummy text of the printing and typesetting wwindustry. Lorem Ipsum has been the standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book',\n    },\n    {\n      title: 'two title',\n      text: 'Lorem Ipsum is simply dummy text of the printing and typesetting wwindustry. Lorem Ipsum has been the standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book',\n    },\n    {\n      title: 'third title',\n      text: 'Lorem Ipsum is simply dummy text of the printing and typesetting wwindustry. Lorem Ipsum has been the standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book',\n    },\n  ];\n\n  const accordionContentFragmentMarckup = testContent.reduce((fragment, item) => {\n    const itemMarkup = `<vcdk-accordion>\n        <span slot=\"title\">${item.title}</span>\n        <p>${item.text}</p>\n      </vcdk-accordion>`;\n    return fragment + itemMarkup;\n  }, '');\n\n  block.appendChild(document.createRange().createContextualFragment(accordionContentFragmentMarckup));\n  block.appendChild(\n    document.createRange().createContextualFragment(`<vcdk-dropdown class=\"some-dropdown\">\n      \n      \n          <vcdk-dropdown-option value=\"en-CA\">\n            Canada\n          </vcdk-dropdown-option>\n        \n          <vcdk-dropdown-option value=\"pl-PL\" selected=\"\">\n            Poland\n          </vcdk-dropdown-option>\n        \n          <vcdk-dropdown-option value=\"sv-SE\">\n            Sweden\n          </vcdk-dropdown-option>\n        \n    </vcdk-dropdown>`),\n  );\n\n  initDropdown(block);\n}\n\nfunction initDropdown(block) {\n  const dropdown = block.querySelector('.some-dropdown');\n\n  console.log(dropdown);\n\n  dropdown.addEventListener('vcdk-dropdown-change', (e) => {\n    const selectedValue = e.target.value;\n    console.log(`Selected value: ${selectedValue}`);\n  });\n}\n","export default function decorate(block) {\n  const cols = [...block.firstElementChild.children];\n  block.classList.add(`columns-${cols.length}-cols`);\n\n  // Add target blank for nhtsa contact section link to open in new tab\n  if (block.classList.contains('nhtsa')) {\n    [...block.querySelectorAll('a')].forEach((link) => {\n      if (!link.target) {\n        link.target = '_blank';\n      }\n    });\n  }\n}\n","import { getTextLabel } from '../../scripts/common.js';\n\nconst TEXT = {\n  bottom: getTextLabel('performance_chart:bottom_label'),\n  labelTQ: getTextLabel('performance_chart:label_tq'),\n  labelHP: getTextLabel('performance_chart:label_hp'),\n  unitTQ: getTextLabel('performance_chart:unit_tq'),\n  unitHP: getTextLabel('performance_chart:unit_hp'),\n};\n\nconst COLORS = {\n  lineHP: '#78B833',\n  lineTQ: '#004FBC',\n  fillHP: '#C8E691',\n  fillTQ: '#76BAFF',\n  background: '#f7f7f7',\n  lines: '#787A7D',\n};\n\nconst STROKE = {\n  width: 3,\n  opacity: 1,\n};\n\nconst FILL = {\n  opacity: 0.5,\n};\n\n// MATH\nlet conversionFactor;\nlet verticalScaleFactor = 1;\nconst adjustHeight = 0.8;\n\n// CHART SIZES\nconst totalWidthChart = 1200;\nconst totalHeightChart = totalWidthChart * 0.4; // 480\n\nconst chartMargins = [70, 1100];\n\nconst lineChartWidth = chartMargins[1] - chartMargins[0];\nconst lineChartHeight = 400;\n\n// FUNCTIONS\n/**\n * Makes round numbers with a set interval from 0 to the max.\n * This is used for the numbers on the sides and bottom of the chart.\n * For vertical labels there is one extra value that allows the values to go 3 intervals past the max.\n * @param {number} max - The max value of that array\n * @param {number} interval - Value that should be used as interval\n * @param {number} min - The min value of that array. Defaults to 0\n * @param {boolean} isVertical - Checks if the labels are vertical. Defaults to false\n * @returns {Array} result - Returns an array with the regular sequence\n */\nconst generateNumberSequence = (max, interval, min = 0, isVertical = false) => {\n  const result = [];\n  for (let i = min; i < (isVertical ? max + interval : max); i += interval) {\n    result.push(i);\n  }\n  return result;\n};\n\n/**\n * Calculates the proportional horizontal placement between the raw values recieved\n * and returns the correct position in the SVG\n * @param {Array} values - HTML element that represents\n * @returns {Array} proportionalPositions - Returns an array with the porpotional positions\n */\nconst getRealPositionsX = (values) => {\n  const firstElement = values[0];\n  const absoluteValues = values.map((num) => num - firstElement);\n  const lastElement = absoluteValues[absoluteValues.length - 1];\n\n  const factor = lineChartWidth / lastElement;\n\n  const proportionalPositions = absoluteValues.map((num) => Math.round(num * factor + chartMargins[0]));\n\n  return proportionalPositions;\n};\n\n/**\n * From the values given applies the proportional conversion rate and plots the lines.\n * @param {Array} valuesOnX - Values to plot the line\n * @param {Array} valuesOnY - Values to plot the line\n * @returns {string} The set of points to be used to plot the line\n */\nconst plotLine = (valuesOnX, valuesOnY) => {\n  const plottedLine = valuesOnX.map((e, idx) => {\n    const decimalCount = 2;\n\n    const pureValueX = e;\n    const pureValueY = Number(lineChartHeight - valuesOnY[idx] * verticalScaleFactor);\n\n    const valueX = pureValueX.toFixed(decimalCount);\n    const valueY = pureValueY.toFixed(decimalCount);\n\n    return `${idx === 0 ? 'M' : 'C'} ${valueX} ${valueY} ${valueX} ${valueY} ${valueX} ${valueY}`;\n  });\n\n  return plottedLine.join(' ', 'z');\n};\n\n/**\n * Identifies the width of the device and returns values for the position of the peak points.\n * @returns {Object} An object with the positions and sizes needed for the peak labels.\n */\nconst getDevice = () => {\n  const width = window.innerWidth;\n  if (width < 480) {\n    return { scale: 1.9, translate: [-50, -70], text1: [-55, 25], text2: [-55, -15], triangle: [50, 70] };\n  }\n  if (width < 768) {\n    return { scale: 1.8, translate: [-40, -70], text1: [-55, 30], text2: [-55, -10], triangle: [50, 60] };\n  }\n  if (width < 1200) {\n    return { scale: 1.5, translate: [-20, -40], text1: [-30, 40], text2: [-30, 10], triangle: [30, 35] };\n  }\n  return { scale: 1.3, translate: [-10, -25], text1: [-20, 45], text2: [-20, 20], triangle: [20, 20] };\n};\n\n/**\n * Identifies the higher value and returns the label and its position on the chart.\n * Sets the first label (TQ) and for the second one, it checks that it does not overlap\n * @param {Array} valuesY - Vertical values\n * @param {Array} valuesX - Horizontal values\n * @param {string} valueType - What type of value is\n * @param {Object} deviceData - Information on the device beign used\n * @param {number} maxPeakValue - Displayable text to be used in label\n * @returns {string} The label as a string to be inserted in the SVG\n */\nlet isFirstLabel = null;\nconst buildPeakLabel = (valuesY, valuesX, valueType, deviceData, maxPeakValue) => {\n  const peakValue = Math.max(...valuesY);\n  const indexPosition = valuesY.indexOf(peakValue);\n\n  const labelWidth = Math.round(128 * deviceData.scale);\n  const labelHeight = Math.round(76 * deviceData.scale);\n\n  let positionX = Math.round(valuesX[indexPosition]);\n\n  if (isFirstLabel === null) {\n    isFirstLabel = positionX;\n  } else {\n    const overlap = (positionX - isFirstLabel) / 2;\n    if (overlap < labelWidth / 2) {\n      positionX = positionX + (labelWidth - overlap);\n    }\n    isFirstLabel = null;\n  }\n\n  const positionY = Number(lineChartHeight - peakValue * verticalScaleFactor);\n  const peakLabel = valueType === 'HP' ? [TEXT.unitHP, TEXT.labelHP, COLORS.lineHP] : [TEXT.unitTQ, TEXT.labelTQ, COLORS.lineTQ];\n\n  return `\n    <rect\n      x=${Math.round(positionX - 128 / 2)}\n      y=${Math.round(positionY - 76 - 18)}\n      width=\"${labelWidth}px\"\n      height=\"${labelHeight}px\"\n      rx=\"8\"\n      ry=\"8\"\n      opacity=\"1\"\n      stroke=\"none\"\n      class=\"peak-rectangle-${valueType.toLowerCase()}\"\n    >\n    </rect>\n\n    <text\n      x=${positionX - deviceData.text1[0]}\n      y=${positionY - deviceData.text1[1]}\n      text-anchor=\"middle\"\n      class=\"peak-value\"\n    >\n      ${maxPeakValue} ${peakLabel[0]}\n    </text>\n\n    <path \n      fill=\"${peakLabel[2]}\"\n      d=\"\n        M ${positionX} ${positionY - 6}\n        L ${positionX + 14} ${positionY - 20}\n        L ${positionX - 14} ${positionY - 20}\n        L ${positionX} ${positionY - 6}\n        Z\n        \"\n      stroke=\"${peakLabel[2]}\"\n      stroke-width=\"8\"\n      opacity=\"1\"\n      style=\"transform: translate(${deviceData.triangle[0]}px, ${deviceData.triangle[1]}px)\"\n    ></path>\n\n    <text\n      x=${positionX - deviceData.text2[0]}\n      y=${positionY - deviceData.text2[1]}\n      text-anchor=\"middle\"\n      class=\"peak-text\"\n    >\n      ${peakLabel[1]}\n    </text>\n  `;\n};\n\n/**\n * With a list of positions and values it builds the horizontal reference for RPM\n * @param {Array} positionsX - The proportional values needed to position the text in the SVG\n * @param {Array} valuesX - The values that will bee seen in these positions\n * @returns {string} The list of <text> elements to insert in the SVG element\n */\nconst getHorizontalLabels = (positionsX, valuesX) => {\n  const labels = positionsX.map((e, idx) => {\n    const label = `\n      <text x=${e} y=\"440\" class=\"chart-label-number horizontal\" text-anchor=\"middle\">\n        ${valuesX[idx]}\n      </text>`;\n    return label;\n  });\n  return labels.join(' ');\n};\n\n/**\n * With a list of values it builds the vertical references for TQ and HP\n * @param {Array} values - The whole list of values from where to extract the max value\n * @param {string} type - Used to identify what values are to be set.\n * @param {number} factor - In case the TQ values need to be adjusted to match the HP\n * @returns {string} The list of <text> elements to insert in the SVG element\n */\nconst getVerticalLabels = (values, type, factor = 1) => {\n  const maxValue = Math.max(...values);\n  const typeFixedValues = {\n    tq: { interval: 200, position: 60, align: 'end' },\n    hp: { interval: 50, position: 1120, align: 'start' },\n  };\n\n  const { interval, position, align } = typeFixedValues[type];\n\n  const regularNumberSequence = generateNumberSequence(maxValue, interval, 0, true);\n  const labels = regularNumberSequence.map((e) => {\n    const label = `\n      <text \n        x=\"${position}\"\n        y=\"${405 - e * factor * verticalScaleFactor}\"\n        class=\"chart-label-number vertical\"\n        text-anchor=\"${align}\"\n      >\n        ${e}\n      </text>`;\n    return label;\n  });\n  return labels.join(' ');\n};\n\nconst fillMissingValues = (rating, values, valuesOnAxisX, type) => {\n  if (values.length < valuesOnAxisX.length) {\n    console.warn(\n      `The number of ${type} values for the chart is less than the number of RPM values. Filling the rest with 0s. For the rating:`,\n      rating,\n    );\n    const diff = valuesOnAxisX.length - values.length;\n    for (let i = 0; i < diff; i++) {\n      values.push(0);\n    }\n  }\n};\n\n/**\n * From the regularized torque values, it creates a set of <path> elements to appear as lines in the chart\n * @param {Array} values - The whole list of values from where to extract the max value\n * @param {number} factor - Since the lines respond to the TQ values, this needs to be adjusted to match the HP proportions\n * @returns {string} The list of <path> elements to insert in the SVG element\n */\nconst plotHorizontalLines = (values, factor) => {\n  const maxValue = Math.max(...values);\n  const regularNumberSequence = generateNumberSequence(maxValue, 200, 0, true);\n\n  const lines = regularNumberSequence.map((e) => {\n    const verticalPosition = lineChartHeight - e * factor * verticalScaleFactor;\n\n    const line = `\n      <path d=\"M ${chartMargins[0]} ${verticalPosition} L ${chartMargins[1]} ${verticalPosition}\"\n        stroke=\"${COLORS.lines}\"\n        stroke-width=\"1\"\n        stroke-opacity: \"0.5\"\n      />`;\n    return line;\n  });\n  return lines.join(' ');\n};\n\n/**\n * Gets data from engine-specifications.js block and returns the SVG with all the charts.\n * @param {Object} data - The object that comes from the excell file.\n * @returns {string} The <svg> elements with all the charts plotted\n */\nconst getPerformanceChart = (data) => {\n  if (data.scale) {\n    verticalScaleFactor = (JSON.parse(data.scale) / 100) * adjustHeight;\n  }\n\n  let maxPeaks = [];\n\n  try {\n    maxPeaks = JSON.parse(data.peaks);\n  } catch (e) {\n    console.error('Error parsing peaks', e);\n  }\n\n  const [hpPeak, torquePeak] = maxPeaks;\n\n  const valuesRPM = JSON.parse(data.rpm);\n  const valuesHP = JSON.parse(data.horsepower);\n  const valuesTQ = JSON.parse(data.torque);\n\n  conversionFactor = Number((Math.max(...valuesHP) / Math.max(...valuesTQ)).toFixed(5));\n  const adjustedTQValues = valuesTQ.map((value) => parseInt(value * conversionFactor));\n\n  const device = getDevice();\n\n  const regularValuesOnAxisX = generateNumberSequence(valuesRPM[valuesRPM.length - 1], 100, valuesRPM[0]);\n\n  const realPositionsOnAxisX = getRealPositionsX(valuesRPM);\n  const regularPositionsOnAxisX = getRealPositionsX(regularValuesOnAxisX);\n\n  fillMissingValues(data.rating, valuesHP, realPositionsOnAxisX, 'HP');\n  fillMissingValues(data.rating, adjustedTQValues, realPositionsOnAxisX, 'Torque');\n\n  const svg = `\n    <svg \n      xmlns=\"http://www.w3.org/2000/svg\" \n      width=\"${totalWidthChart}\"\n      height=\"${totalHeightChart}\"\n      viewBox=\"0 0 ${totalWidthChart} ${totalHeightChart}\"\n      aria-hidden=\"false\" \n      aria-label=\"Interactive chart\"\n      class=\"chart\"\n    >\n      <!-- GRADIENTS -->\n      <defs>\n        <linearGradient id=\"gradientHP\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"1\">\n          <stop offset=\"0%\" stop-color=\"${COLORS.fillHP}\" stop-opacity=\"0.8\"/>\n          <stop offset=\"100%\" stop-color=\"${COLORS.background}\" stop-opacity=\"0\"/>\n        </linearGradient>\n        <linearGradient id=\"gradientTQ\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"1\">\n          <stop offset=\"0%\" stop-color=\"${COLORS.fillTQ}\" />\n          <stop offset=\"100%\" stop-color=\"${COLORS.background}\" stop-opacity=\"0\" />\n        </linearGradient>\n      </defs>\n\n      <!-- HORIZONTAL LINES - TQ -->\n      <g aria-hidden=\"true\" class=\"horizontal-lines\">\n        ${plotHorizontalLines(valuesTQ, conversionFactor)}\n      </g>\n\n      <!-- HORSEPOWER -->\n      <g aria-hidden=\"true\">\n        <g aria-hidden=\"true\">\n\n        <!-- FILL -->\n        <path\n          fill=\"url(#gradientHP)\"\n          d=\"\n            ${plotLine(realPositionsOnAxisX, valuesHP)}\n            L ${realPositionsOnAxisX[realPositionsOnAxisX.length - 1]} ${lineChartHeight}\n            L ${chartMargins[0]} ${lineChartHeight}\n            Z\n          \"\n          opacity=\"${FILL.opacity}\"\n        >\n        </path>\n\n        <!-- STROKE -->\n        <path fill=\"none\"\n          d=\"\n            ${plotLine(realPositionsOnAxisX, valuesHP)}\n          \"\n          stroke=\"${COLORS.lineHP}\"\n          stroke-width=\"${STROKE.width}\"\n          opacity=\"${STROKE.opacity}\"\n        >\n        </path>\n      </g>\n\n      <!-- TORQUE -->\n      <g aria-hidden=\"true\">\n      \n        <!-- FILL -->\n        <path\n          fill=\"url(#gradientTQ)\"\n          d=\"\n            ${plotLine(realPositionsOnAxisX, adjustedTQValues)}\n            L ${realPositionsOnAxisX[realPositionsOnAxisX.length - 1]} ${lineChartHeight}\n            L ${chartMargins[0]} ${lineChartHeight}\n            Z\n          \"\n          opacity=\"${FILL.opacity}\"\n        >\n        </path>\n\n        <!-- STROKE -->\n        <path\n            fill=\"none\"\n            d=\"\n              ${plotLine(realPositionsOnAxisX, adjustedTQValues)}\n            \"\n            stroke=\"${COLORS.lineTQ}\"\n            stroke-width=\"${STROKE.width}\"\n            opacity=\"${STROKE.opacity}\"\n          >\n        </path>\n      </g>\n    </g>\n\n    <!-- PEAK LABELS -->\n    <g\n      aria-hidden=\"true\"\n      style=\"transform: translate(${device.translate[0]}px, ${device.translate[1]}px);)\"\n    >\n      ${buildPeakLabel(adjustedTQValues, realPositionsOnAxisX, 'TQ', device, torquePeak)}\n      ${buildPeakLabel(valuesHP, realPositionsOnAxisX, 'HP', device, hpPeak)}\n    </g>\n\n    <!-- HORIZONTAL VALUES - RPM -->\n    <g\n      aria-hidden=\"true\"\n      class=\"chart-label-numbers ${valuesRPM.length > 20 ? 'display-less-values' : ''}\"\n    >\n      ${getHorizontalLabels(regularPositionsOnAxisX, regularValuesOnAxisX)}\n      <text \n        x=\"${totalWidthChart / 2}\"\n        y=\"${totalHeightChart}\"\n        class=\"chart-label-text\"\n        text-anchor=\"middle\"\n      >\n        ${TEXT.bottom}\n      </text>\n    </g>\n\n    <!-- VERTICAL VALUES - TQ -->\n    <g aria-hidden=\"true\">\n      ${getVerticalLabels(valuesTQ, 'tq', conversionFactor)}\n      <text \n        x=\"${25}\"\n        y=\"-15%\"\n        class=\"chart-label-text\"\n        text-anchor=\"start\"\n      >\n        ${TEXT.unitTQ}\n      </text>\n    </g>\n\n    <!-- VERTICAL VALUES - HP -->\n    <g aria-hidden=\"true\">\n      ${getVerticalLabels(valuesHP, 'hp')}\n      <text \n        x=\"${totalWidthChart - 55}\"\n        y=\"-15%\"\n        class=\"chart-label-text\"\n        text-anchor=\"end\"\n      >\n        ${TEXT.unitHP}\n      </text>\n    </g>\n  </svg>\n`;\n  return svg;\n};\n\nexport default getPerformanceChart;\n","import { addVideoConfig, AEM_ASSETS, createVideo, handleVideoMessage, VideoEventManager } from '../../scripts/video-helper.js';\n\nconst blockName = 'v2-embed';\nconst videoEventManager = new VideoEventManager();\n\nclass VideoComponent {\n  constructor(videoId) {\n    this.videoId = videoId;\n\n    videoEventManager.register(this.videoId, blockName, (event) => handleVideoMessage(event, this.videoId, blockName));\n  }\n\n  unregister() {\n    videoEventManager.unregister(this.videoId, blockName);\n  }\n}\n\nconst extractAspectRatio = (block) => {\n  const aspectRatioRegex = /aspect-ratio-(\\d+)-(\\d+)/;\n  const aspectRatioClass = Array.from(block.classList).find((className) => aspectRatioRegex.test(className));\n\n  const match = aspectRatioClass?.match(aspectRatioRegex);\n\n  return match\n    ? {\n        width: parseInt(match[1], 10),\n        height: parseInt(match[2], 10),\n      }\n    : null;\n};\n\nconst retrieveVideoConfig = (block, aspectRatio) => {\n  const image = block.querySelector('img');\n  const poster = image ? new URL(image.getAttribute('src'), window.location.href).href : undefined;\n\n  return {\n    ...(aspectRatio ? { aspectRatio: `${aspectRatio.width}:${aspectRatio.height}` } : {}),\n    ...(poster ? { poster } : {}),\n    autoplay: block.classList.contains('autoplay') ? 'any' : false,\n    muted: block.classList.contains('autoplay'),\n    loop: block.classList.contains('loop'),\n    controls: !block.classList.contains('disable-controls'),\n    disablePictureInPicture: block.classList.contains('disable-picture-in-picture'),\n    language: document.documentElement.lang,\n  };\n};\n\nconst configureVideo = (block, videoId) => {\n  const config = retrieveVideoConfig(block);\n  Object.entries(config).forEach(([key, value]) => {\n    if (value !== undefined) {\n      addVideoConfig(videoId, { [key]: value });\n    }\n  });\n};\n\nexport default function decorate(block) {\n  const linkElement = block.querySelector('a');\n  const link = linkElement?.getAttribute('href');\n  const title = linkElement?.textContent;\n  const match = link?.match(AEM_ASSETS.videoIdRegex);\n\n  if (!link) {\n    console.warn(`[${blockName}]: There is no video link`);\n    return;\n  }\n\n  if (!match) {\n    console.warn(`[${blockName}]: Video link is incorrect: ${link}`);\n    return;\n  }\n\n  const [videoId] = match;\n  block.videoId = videoId;\n\n  const aspectRatio = extractAspectRatio(block);\n  if (aspectRatio) {\n    block.style.setProperty('--video-aspect-ratio', `${aspectRatio.width}/${aspectRatio.height}`);\n  }\n\n  const videoConfig = retrieveVideoConfig(block, aspectRatio);\n  const videoProps = {\n    ...videoConfig,\n    fill: true,\n    title,\n  };\n\n  configureVideo(block, videoId);\n\n  new VideoComponent(block.videoId);\n  const videoElement = createVideo(link, `${blockName}__frame`, videoProps, false, videoId);\n\n  block.innerHTML = '';\n  block.append(videoElement);\n}\n","import { loadScript, sampleRUM } from '../../scripts/aem.js';\nimport { getTextLabel, createElement, variantsClassesToBEM, normalizeUrlText, isHttp, HOLIDAYS } from '../../scripts/common.js';\nimport { getCustomDropdown } from '../../common/custom-dropdown/custom-dropdown.js';\n\nconst blockName = 'v2-custom-form';\nconst variantClasses = ['double-column', 'redirect-new-tab'];\n\nconst CLASSES = {\n  IGNORE_ON_FORM_SUBMIT: 'ignore-on-form-submit',\n};\n\nconst successMessage = (successTitle, successText) => `<h3 class='${blockName}__title ${blockName}__title--success'>${successTitle}</h3>\n<p class='${blockName}__text ${blockName}__text--success'>${successText}</p>\n`;\n\nconst errorMessage = (errorTitle, errorText) => `<h3 class='${blockName}__title ${blockName}__title--error'>${errorTitle}</h3>\n<p class='${blockName}__text ${blockName}__text--error'>${errorText}</p>\n`;\n\nwindow.__activeForms = window.__activeForms || new Set();\n\n/**\n * Get the message text from placeholder.json based on the success and title\n * @param {Boolean} isSuccess get the success message if true, otherwise the error message\n * @param {Boolean} isTitle get the title message if true, otherwise the text message\n * @returns {String} use the fn getTextLabel to get the message from placeholder.json\n */\nconst getMessageText = (isSuccess, isTitle) => {\n  const key = isSuccess ? 'successful' : 'error';\n  const type = isTitle ? 'title' : 'text';\n  return getTextLabel(`v2_custom_form:${key}_submission_${type}`);\n};\n\n// Form Block identifies the submit endpoint via these rules and in order\n// 1. action property on the submit button\n// 2. SUBMIT_ACTION constant\n// 3. the path of the spreadsheet\nconst SUBMIT_ACTION = '';\n\n/**\n * Fetch the custom message from the thank you page fragment\n * @param {String} url the url of the thank you page fragment\n * @returns {String} the custom message from the thank you page fragment\n */\nasync function getCustomMessage(url) {\n  try {\n    const resp = await fetch(url);\n    if (resp.ok) {\n      return resp.text();\n    }\n  } catch (error) {\n    console.error('Error fetching custom message:', error);\n    return errorMessage(getMessageText(false, true), getMessageText(false, false));\n  }\n  return '';\n}\n\nfunction throwFormNotFound(form) {\n  console.error('Form with data-submitting=true not found', { form });\n}\n\nfunction tryRedirect(form, redirectKey, { warnLabel = redirectKey, redirectNewTab = false } = {}) {\n  if (!form) {\n    return false;\n  }\n\n  const redirectValue = normalizeUrlText(form.dataset?.[redirectKey]);\n  if (!redirectValue || form.dataset.redirecting === 'true') {\n    return false;\n  }\n\n  try {\n    const resolvedUrl = new URL(redirectValue, window.location.href);\n    if (isHttp(resolvedUrl.protocol)) {\n      form.dataset.redirecting = 'true';\n\n      if (redirectNewTab) {\n        window.open(resolvedUrl.href, '_blank', 'noopener,noreferrer');\n      } else {\n        window.location.assign(resolvedUrl.href);\n      }\n      return true;\n    }\n  } catch {\n    console.warn(`Invalid ${warnLabel} URL`);\n  }\n  return false;\n}\n\nasync function submissionSuccess(form, redirectNewTab = false) {\n  sampleRUM('form:submit');\n\n  if (!form) {\n    throwFormNotFound(form);\n    return;\n  }\n\n  if (tryRedirect(form, 'successRedirect', { redirectNewTab })) {\n    window.__activeForms.delete(form);\n    return;\n  }\n\n  const successDiv = createElement('div', {\n    classes: [`${blockName}--message`, `${blockName}__message--success`],\n  });\n  successDiv.innerHTML = successMessage(getMessageText(true, true), getMessageText(true, false));\n\n  const customMessageUrl = form.dataset.customMessage;\n\n  if (customMessageUrl) {\n    successDiv.innerHTML = await getCustomMessage(customMessageUrl);\n  }\n  form.setAttribute('data-submitting', 'false');\n  form.replaceWith(successDiv);\n  window.__activeForms.delete(form);\n}\n\nasync function submissionFailure(form, redirectNewTab = false) {\n  if (!form) {\n    throwFormNotFound(form);\n    return;\n  }\n\n  if (tryRedirect(form, 'errorRedirect', { warnLabel: 'errorRedirect', redirectNewTab })) {\n    console.log('redirecting to errorRedirect');\n    window.__activeForms.delete(form);\n    return;\n  } else {\n    console.log('no errorRedirect found, showing error message');\n  }\n\n  const errorDiv = createElement('div', {\n    classes: [`${blockName}--message`, `${blockName}__message--error`],\n  });\n  errorDiv.innerHTML = errorMessage(getMessageText(false, true), getMessageText(false, false));\n\n  form.setAttribute('data-submitting', 'false');\n  form.querySelector('button[type=\"submit\"]').disabled = false;\n  form.replaceWith(errorDiv);\n  window.__activeForms.delete(form);\n}\n\nwindow.showResult = function showResult(json) {\n  const activeForms = Array.from(window.__activeForms);\n  const form = activeForms.reverse().find((f) => f.dataset.submitting === 'true');\n\n  if (!form) {\n    console.warn('showResult: no active submitting form found');\n    return;\n  }\n\n  const block = form.closest(`.${blockName}`);\n  const redirectNewTab = block?.classList.contains(`${blockName}--redirect-new-tab`) || false;\n\n  if (json.result === 'success') {\n    submissionSuccess(form, redirectNewTab);\n  } else if (json.result === 'error') {\n    submissionFailure(form, redirectNewTab);\n  }\n\n  window.__activeForms.delete(form);\n  form.dataset.submitting = 'false';\n};\n\nfunction serialize(obj) {\n  const str = Object.keys(obj).map((key) => `${encodeURIComponent(key)}=${encodeURIComponent(obj[key])}`);\n  return str.join('&');\n}\n\nfunction generateUnique() {\n  return new Date().valueOf() + Math.random();\n}\n\nfunction constructPayload(form) {\n  const payload = { __id__: generateUnique() };\n  [...form.elements].forEach((fe) => {\n    if (fe.name && !fe.classList.contains(CLASSES.IGNORE_ON_FORM_SUBMIT)) {\n      if (fe.type === 'radio' && fe.checked) {\n        payload[fe.name] = fe.value;\n      } else if (fe.type === 'checkbox' && fe.checked) {\n        payload[fe.name] = payload[fe.name] ? `${payload[fe.name]},${fe.value}` : fe.value;\n      } else if (fe.type !== 'file' && fe.type !== 'checkbox' && fe.type !== 'radio') {\n        payload[fe.name] = fe.value;\n      }\n    }\n  });\n  payload.callback = 'showResult';\n  return { payload };\n}\n\nasync function prepareRequest(form) {\n  const { payload } = constructPayload(form);\n  const url = form.dataset.action;\n\n  const serializedData = serialize(payload);\n  loadScript(`${url}?${serializedData}`, { type: 'text/javascript', charset: 'UTF-8' });\n}\n\nasync function handleSubmit(form) {\n  if (form.getAttribute('data-submitting') !== 'true') {\n    form.setAttribute('data-submitting', 'true');\n    window.__activeForms.add(form);\n    await prepareRequest(form);\n  }\n}\n\nfunction setPlaceholder(element, fd) {\n  if (fd.Placeholder) {\n    element.setAttribute('placeholder', fd.Placeholder);\n  }\n}\n\nconst constraintsDef = Object.entries({\n  'email|text|textarea': [\n    ['Max', 'maxlength'],\n    ['Min', 'minlength'],\n    ['Pattern', 'pattern'],\n  ],\n  'number|range|date': ['Max', 'Min', 'Step'],\n  file: ['Accept', 'Multiple'],\n  fieldset: ['Max', 'Min'],\n}).flatMap(([types, constraintDef]) => types.split('|').map((type) => [type, constraintDef.map((cd) => (Array.isArray(cd) ? cd : [cd, cd]))]));\n\nconst constraintsObject = Object.fromEntries(constraintsDef);\n\nfunction setConstraints(element, fd) {\n  const constraints = constraintsObject[fd.Type];\n  if (constraints) {\n    constraints\n      .filter(([nm]) => fd[nm])\n      .forEach(([nm, htmlNm]) => {\n        element.setAttribute(htmlNm, htmlNm === 'pattern' ? fd[nm].replace(/^\\/|\\/$/g, '') : fd[nm]);\n      });\n  }\n}\n\nfunction createLabel(fd, tagName = 'label') {\n  const label = createElement(tagName, {\n    classes: 'field-label',\n    props: {\n      for: fd.Id,\n    },\n  });\n  if (fd.tooltip) {\n    label.title = fd.tooltip;\n  }\n  if (fd.Label) {\n    label.textContent = fd.Label;\n  }\n  return label;\n}\n\nfunction createHelpText(fd) {\n  const div = createElement('div', {\n    classes: 'field-description',\n    props: {\n      'aria-live': 'polite',\n      id: `${fd.Id}-description`,\n    },\n  });\n  div.textContent = fd.Description;\n  return div;\n}\n\nfunction kebabName(name) {\n  return name\n    .replace(/\\s+/g, '-')\n    .replace(/([a-z0-9])([A-Z])/g, '$1-$2')\n    .toLowerCase();\n}\n\nfunction createFieldWrapper(fd, tagName = 'div') {\n  const nameStyle = fd.Name ? `form-${kebabName(fd.Name)}` : '';\n  let props = {};\n\n  if (tagName !== 'div') {\n    props = {\n      id: fd.Id,\n      name: fd.Name,\n    };\n  }\n\n  const fieldWrapper = createElement(tagName, {\n    classes: [`form-${fd.Type}-wrapper`, 'field-wrapper'],\n    props,\n  });\n  if (fd.Mandatory && fd.Mandatory.toLowerCase() === 'true') {\n    fieldWrapper.setAttribute('required', 'required');\n  }\n  if (fd.Fieldset) {\n    fieldWrapper.dataset.fieldset = fd.Fieldset;\n  }\n  if (nameStyle) {\n    fieldWrapper.classList.add(nameStyle);\n  }\n  fieldWrapper.append(createLabel(fd));\n  return fieldWrapper;\n}\n\nfunction createButton(fd) {\n  const wrapper = createFieldWrapper(fd);\n  const button = createElement('button', {\n    classes: ['button', 'primary'],\n    props: {\n      type: fd.Type,\n      id: fd.Id,\n      name: fd.Name,\n    },\n  });\n  if (fd.Type === 'submit' && fd.Action) {\n    button.formAction = fd.Action;\n  }\n  if (fd.Extra) {\n    button.dataset.redirect = fd.Extra;\n  }\n  button.textContent = fd.Label;\n  wrapper.replaceChildren(button);\n  return wrapper;\n}\n\nfunction createSubmit(fd) {\n  const wrapper = createButton(fd);\n  return wrapper;\n}\n\nfunction createInput(fd) {\n  const input = createElement('input', {\n    props: {\n      type: fd.Type,\n    },\n  });\n  setPlaceholder(input, fd);\n  setConstraints(input, fd);\n  return input;\n}\n\nfunction formatDate(date) {\n  return date.toISOString().split('T')[0];\n}\n\nfunction excelDateToISO(serial) {\n  // Excel's day 1 = 1900-01-01, but it wrongly counts 1900 as a leap year\n  const excelEpoch = new Date(Date.UTC(1899, 11, 30));\n  const jsDate = new Date(excelEpoch.getTime() + serial * 86400000);\n\n  return jsDate.toISOString().split('T')[0]; // returns YYYY-MM-DD\n}\n\nfunction createDateInput(fd) {\n  const input = createElement('input', {\n    props: {\n      type: fd.Type,\n    },\n  });\n  setPlaceholder(input, fd);\n  setConstraints(input, fd);\n\n  if (fd['Custom Options'] && fd['Custom Options'] !== '') {\n    try {\n      const customOptions = fd['Custom Options'];\n      const customOptionsObj = JSON.parse(customOptions.replace(/(\\w+):/g, '\"$1\":'));\n\n      if (customOptionsObj.ignoreNonWorkingDays && customOptionsObj.ignoreNonWorkingDays === true) {\n        // Implement logic to restrict date picker to working days only\n        input.addEventListener('input', (e) => {\n          const selectedDate = new Date(e.target.value);\n          const day = selectedDate.getUTCDay();\n\n          const holidayDates = Object.values(HOLIDAYS).map((date) => excelDateToISO(date));\n          const selectedDateISO = selectedDate.toISOString().split('T')[0];\n\n          // 0 = Sunday, 6 = Saturday\n          if (day === 0 || day === 6) {\n            const invalidFormWeekendDayLabel = getTextLabel('v2_custom_form:invalid_form_weekend_day_label');\n\n            e.target.setCustomValidity(invalidFormWeekendDayLabel);\n          } else if (holidayDates.includes(selectedDateISO)) {\n            const invalidFormHolidayLabel = getTextLabel('v2_custom_form:invalid_form_holiday_label');\n            e.target.setCustomValidity(invalidFormHolidayLabel);\n          } else {\n            e.target.setCustomValidity('');\n          }\n        });\n      }\n\n      if (customOptionsObj.minDay) {\n        const today = new Date();\n        const minDate = new Date();\n\n        minDate.setDate(today.getDate() + customOptionsObj.minDay);\n\n        input.min = formatDate(minDate);\n      }\n\n      if (customOptionsObj.maxDay) {\n        let maxDay = customOptionsObj.maxDay;\n\n        if (customOptionsObj.ignoreNonWorkingDays) {\n          // If ignoreNonWorkingDays is true, we need to know how many weekend days there are between today and maxDay\n          // or if customOptionsObj.minDay is set, between minDay and maxDay\n          // if that is the case we need to add those invalid days to the maxDay\n          const today = new Date();\n          const startDate = customOptionsObj.minDay ? new Date(today.setDate(today.getDate() + customOptionsObj.minDay)) : today;\n          let nonWorkingDays = 0;\n\n          for (let i = 0; i <= maxDay + nonWorkingDays; i++) {\n            const checkDate = new Date(startDate);\n            checkDate.setDate(startDate.getDate() + i);\n            const day = checkDate.getUTCDay();\n            const checkDateISO = checkDate.toISOString().split('T')[0];\n            const isHoliday = Object.values(HOLIDAYS)\n              .map((date) => excelDateToISO(date))\n              .includes(checkDateISO);\n\n            if (day === 0 || day === 6 || isHoliday) {\n              nonWorkingDays += 1;\n            }\n          }\n\n          maxDay += nonWorkingDays;\n        }\n        const today = new Date();\n        const maxDate = new Date();\n\n        maxDate.setDate(today.getDate() + maxDay);\n\n        input.max = formatDate(maxDate);\n      }\n    } catch (error) {\n      console.error('Error parsing Custom Options JSON:', error);\n    }\n  }\n\n  return input;\n}\n\nconst withFieldWrapper = (element) => (fd) => {\n  const wrapper = createFieldWrapper(fd);\n  wrapper.append(element(fd));\n  return wrapper;\n};\n\nconst createTextArea = withFieldWrapper((fd) => {\n  const textArea = createElement('textarea');\n  setConstraints(textArea, fd);\n  setPlaceholder(textArea, fd);\n  return textArea;\n});\n\nconst createSelect = withFieldWrapper((fd) => {\n  const select = createElement('select');\n  if (fd.Placeholder) {\n    const ph = createElement('option', {\n      props: {\n        selected: '',\n        disabled: '',\n      },\n    });\n    ph.textContent = fd.Placeholder;\n    select.append(ph);\n  }\n  fd.Options.split(',').forEach((o) => {\n    const oTrimed = o.trim();\n    const option = createElement('option', {\n      props: {\n        value: oTrimed,\n      },\n    });\n    option.textContent = oTrimed;\n    select.append(option);\n  });\n  return select;\n});\n\nfunction checkboxHandler(e) {\n  if (e.type === 'keydown' && e.key !== 'Enter' && e.key !== ' ') {\n    return;\n  }\n  e.preventDefault();\n  const wrapper = e.currentTarget.closest('.field-wrapper');\n  const checkbox = wrapper.querySelector('input[type=\"checkbox\"]');\n  checkbox.checked = !checkbox.checked;\n  checkbox.dispatchEvent(new Event('change'));\n}\n\nfunction createCheckbox(fd) {\n  const wrapper = createElement('div', {\n    classes: [`form-${fd.Type}-wrapper`, 'field-wrapper', `form-${kebabName(fd.Name)}`],\n    props: {\n      id: fd.Id,\n      name: fd.Name,\n    },\n  });\n\n  if (fd.Mandatory?.toLowerCase() === 'true') {\n    wrapper.setAttribute('required', 'required');\n  }\n\n  const input = createElement('input', {\n    props: {\n      type: 'checkbox',\n      id: fd.Id,\n      name: fd.Name,\n      value: fd.Value || 'on',\n      tabindex: '-1',\n      ...(fd.Mandatory?.toLowerCase() === 'true' ? { required: true } : {}),\n    },\n  });\n\n  const label = createElement('label', {\n    props: {\n      for: fd.Id,\n      tabindex: '0',\n    },\n  });\n\n  const circle = createElement('span', {\n    classes: ['form-checkbox-circle'],\n  });\n\n  label.append(circle, document.createTextNode(fd.Label || fd.Name));\n  label.addEventListener('click', checkboxHandler);\n  label.addEventListener('keydown', checkboxHandler);\n  wrapper.append(input, label);\n  return wrapper;\n}\n\nfunction createRadio(fd) {\n  const wrapper = createRadioWrapper(fd);\n\n  const options = getRadioOptions(fd);\n  if (!options || options.length === 0) {\n    return wrapper;\n  }\n\n  options.forEach((option, index) => {\n    const radioOption = createRadioOption(option, index, fd);\n    wrapper.append(radioOption);\n  });\n\n  appendHelpText(wrapper, fd);\n\n  return wrapper;\n}\n\nfunction createRadioWrapper(fd) {\n  const isButtonVariant = fd.Type === 'buttons';\n  const classes = ['form-radio-wrapper', 'field-wrapper'];\n  if (isButtonVariant) {\n    classes.push('form-radio-wrapper--buttons');\n  }\n\n  const wrapper = createElement('fieldset', {\n    classes,\n    props: { name: fd.Name },\n  });\n\n  if (fd.Mandatory?.toLowerCase() === 'true') {\n    wrapper.setAttribute('required', 'required');\n  }\n\n  if (fd.Name) {\n    wrapper.classList.add(`form-${kebabName(fd.Name)}`);\n  }\n\n  const legend = createElement('legend', {\n    classes: ['form-radio-legend'],\n  });\n  legend.textContent = fd.Label || fd.Name;\n  wrapper.append(legend);\n\n  return wrapper;\n}\n\nfunction getRadioOptions(fd) {\n  if (!fd.Options) {\n    console.warn(`Missing \"Options\" for radio field: ${fd.Name}`);\n    return null;\n  }\n\n  const options = fd.Options.split(',')\n    .map((o) => o.trim())\n    .filter(Boolean);\n\n  if (options.length === 0) {\n    console.warn(`No valid options parsed for radio field: ${fd.Name}`);\n  }\n\n  return options;\n}\n\nfunction createRadioOption(option, index, fd) {\n  const radioId = `${fd.Id}-${index}`;\n  const radioWrapper = createElement('div', {\n    classes: ['form-radio-option'],\n  });\n\n  const input = createElement('input', {\n    classes: ['form-radio-input'],\n    props: {\n      type: 'radio',\n      id: radioId,\n      name: fd.Name,\n      value: option,\n      required: fd.Mandatory?.toLowerCase() === 'true',\n    },\n  });\n\n  const label = createElement('label', {\n    classes: ['form-radio-label'],\n    props: { for: radioId },\n  });\n\n  const visualCircle = createElement('span', {\n    classes: ['form-radio-circle'],\n  });\n\n  label.append(visualCircle, document.createTextNode(option));\n  radioWrapper.append(input, label);\n  return radioWrapper;\n}\n\nfunction appendHelpText(wrapper, fd) {\n  if (fd.Description) {\n    wrapper.append(createHelpText(fd));\n  }\n}\n\nconst createOutput = withFieldWrapper((fd) => {\n  const output = createElement('output', {\n    props: {\n      name: fd.Name,\n    },\n  });\n  if (fd.Fieldset) {\n    output.dataset.fieldset = fd.Fieldset;\n  }\n  output.textContent = fd.Value;\n  return output;\n});\n\nfunction createHidden(fd) {\n  const input = createElement('input', {\n    props: {\n      type: 'hidden',\n      id: fd.Id,\n      name: fd.Name,\n      value: fd.Value,\n    },\n  });\n  return input;\n}\n\nfunction createHiddenMeta(fd) {\n  let value = '';\n\n  // get the value from the head meta tag with the name === fd.Name\n  const meta = document.querySelector(`head meta[name=\"${fd.Name}\"]`);\n\n  if (meta) {\n    value = meta.content;\n  } else {\n    // if the meta tag doens't exist, create it and append it to the head\n    const newMeta = createElement('meta', {\n      props: {\n        name: fd.Name,\n        content: fd.Value || '',\n      },\n    });\n\n    document.head.append(newMeta);\n    value = fd.Value || '';\n  }\n\n  const inputField = createElement('input', {\n    props: {\n      type: 'hidden',\n      id: fd.Id,\n      name: fd.Name,\n      value,\n    },\n  });\n\n  // observe the head meta tag with the name === fd.Name and everytime the value changes, update the hidden input value\n  const observer = new MutationObserver((mutationsList) => {\n    for (const mutation of mutationsList) {\n      if (mutation.type === 'attributes' && mutation.attributeName === 'content') {\n        const newValue = mutation.target.content;\n        if (inputField) {\n          inputField.value = newValue;\n        }\n      }\n    }\n  });\n\n  if (meta) {\n    observer.observe(meta, { attributes: true });\n  }\n\n  return inputField;\n}\n\nfunction createLegend(fd) {\n  return createLabel(fd, 'legend');\n}\n\nfunction createFieldSet(fd) {\n  const wrapper = createFieldWrapper(fd, 'fieldset');\n  wrapper.name = fd.Name;\n  wrapper.replaceChildren(createLegend(fd));\n  if (fd.Repeatable && fd.Repeatable.toLowerCase() === 'true') {\n    setConstraints(wrapper, fd);\n    wrapper.dataset.repeatable = 'true';\n  }\n  return wrapper;\n}\n\nfunction groupFieldsByFieldSet(form) {\n  const fieldsets = form.querySelectorAll('fieldset');\n  fieldsets?.forEach((fieldset) => {\n    const fields = form.querySelectorAll(`[data-fieldset=\"${fieldset.name}\"`);\n    fields?.forEach((field) => {\n      fieldset.append(field);\n    });\n  });\n}\n\nfunction createPlainText(fd) {\n  const nameStyle = fd.Name ? `form-${kebabName(fd.Name)}` : '';\n  const paragraph = createElement('p', {\n    classes: nameStyle,\n  });\n  if (fd.Fieldset) {\n    paragraph.dataset.fieldset = fd.Fieldset;\n  }\n  paragraph.textContent = fd.Label;\n  return paragraph;\n}\n\nasync function createCustomDropdown(fd) {\n  const configFd = {\n    optionList: fd.Options.split(',').map((o) => o.trim()),\n    placeholder: fd.Placeholder,\n    id: fd.Id,\n    name: fd.Name,\n    mandatory: fd.Mandatory,\n  };\n\n  if (fd.onChangeCallback) {\n    configFd.onChangeCallback = (value) => fd.onChangeCallback({ value, name: fd.Name });\n  }\n\n  const customDropdown = await getCustomDropdown(configFd);\n  const select = customDropdown.querySelector('select');\n  // since dropdown is async, it replaces a temporary select\n  // we need to set again the invalid listener\n  select.addEventListener('invalid', showError);\n  return customDropdown;\n}\n\nconst getId = (function getId() {\n  const ids = {};\n  return (name) => {\n    ids[name] = ids[name] || 0;\n    const idSuffix = ids[name] ? `-${ids[name]}` : '';\n    ids[name] += 1;\n    return `${name}${idSuffix}`;\n  };\n})();\n\nconst fieldRenderers = {\n  radio: createRadio,\n  buttons: createRadio,\n  checkbox: createCheckbox,\n  textarea: createTextArea,\n  select: createSelect,\n  button: createButton,\n  submit: createSubmit,\n  output: createOutput,\n  hidden: createHidden,\n  fieldset: createFieldSet,\n  plaintext: createPlainText,\n  date: createDateInput,\n  'custom-dropdown': createSelect, // create a select as a placeholder for the custom dropdown\n};\n\nfunction renderField(fd) {\n  const renderer = fieldRenderers[fd.Type];\n  let field;\n  if (fd.Type === 'date' && typeof renderer === 'function') {\n    field = createFieldWrapper(fd);\n    field.append(renderer(fd));\n  } else if (typeof renderer === 'function') {\n    field = renderer(fd);\n  } else {\n    field = createFieldWrapper(fd);\n    field.append(createInput(fd));\n  }\n  if (fd.Description) {\n    field.append(createHelpText(fd));\n  }\n  return field;\n}\n\nfunction renderTitle(config) {\n  const text = config.Label || '';\n  const tag = config.Name && ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'].includes(config.Name.toLowerCase()) ? config.Name.toLowerCase() : 'h2';\n  const title = createElement(tag, {\n    classes: [`${blockName}__subtitle`],\n  });\n  title.textContent = text;\n\n  return title;\n}\n\nasync function fetchData(url) {\n  try {\n    const resp = await fetch(url);\n    const json = await resp.json();\n    return json.data.map((fd) => ({\n      ...fd,\n      Id: fd.Id || getId(fd.Name),\n      Value: fd.Value || '',\n    }));\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    return [];\n  }\n}\n\nasync function fetchForm(pathname) {\n  // get the main form\n  try {\n    const jsonData = await fetchData(pathname);\n    return jsonData;\n  } catch (error) {\n    console.error('Error fetching form data:', error);\n    return [];\n  }\n}\n\nfunction showError(evnt) {\n  const isHidden = !!evnt.currentTarget.closest('.hidden');\n  if (isHidden) {\n    return;\n  }\n\n  let field = evnt.target;\n  const fieldWrapper = field.closest('.field-wrapper');\n  fieldWrapper.classList.add('invalid');\n  let errorSpan = fieldWrapper.querySelector('span.error');\n  if (!errorSpan) {\n    errorSpan = createElement('span', { classes: 'error' });\n    fieldWrapper.append(errorSpan);\n  }\n  errorSpan.innerText = field.validationMessage;\n  if (fieldWrapper.classList.contains('form-custom-dropdown-wrapper')) {\n    field = fieldWrapper.querySelector('.custom-dropdown__button');\n  }\n  field.addEventListener('blur', hideError);\n}\n\nfunction hideError(evnt) {\n  const isCustomDropdown = evnt.target.classList.contains('custom-dropdown__button');\n  const field = isCustomDropdown ? evnt.target.parentNode.querySelector('select') : evnt.target;\n  const fieldWrapper = field.closest('.field-wrapper');\n  const isValid = field.checkValidity();\n  // to avoid showing error messages on blur\n  fieldWrapper.classList.toggle('invalid', !isValid);\n  const errorSpan = fieldWrapper.querySelector('span.error');\n  if (errorSpan && isValid) {\n    errorSpan.remove();\n  }\n}\n\nfunction decorateValidation(form) {\n  form.setAttribute('novalidate', '');\n  form.querySelectorAll('input,textarea,select').forEach((el) => {\n    el.addEventListener('invalid', showError);\n  });\n}\n\nfunction cleanErrorMessages(form) {\n  const spanErrors = form.querySelectorAll('span.error');\n  spanErrors.forEach((span) => {\n    const parentEl = span.closest('.field-wrapper.invalid');\n    if (!parentEl) {\n      span.remove();\n    }\n  });\n}\n\nfunction toggleNovalidateOnInput(element, novalidate = true) {\n  const inputField = element.querySelector('input,select,textarea');\n  if (inputField) {\n    if (novalidate) {\n      element.classList.add('hidden');\n      inputField.setAttribute('novalidate', '');\n      inputField.classList.add(CLASSES.IGNORE_ON_FORM_SUBMIT);\n      inputField.setAttribute('aria-invalid', 'false');\n      inputField.classList.remove('invalid');\n      inputField.disabled = true;\n    } else {\n      element.classList.remove('hidden');\n      inputField.classList.remove(CLASSES.IGNORE_ON_FORM_SUBMIT);\n      inputField.removeAttribute('novalidate');\n      inputField.setAttribute('aria-invalid', 'true');\n      inputField.classList.add('invalid');\n      inputField.disabled = false;\n    }\n  }\n}\n\nfunction validateSubmitButton(data) {\n  let hasAction = true;\n  let hasSubmit = false;\n  data.forEach((fd) => {\n    if (fd.Type === 'submit') {\n      hasSubmit = true;\n      if (!fd.Action || fd.Action.trim() === '') {\n        console.warn('%cSubmit button%c is missing an action attribute.', 'color: red;', 'color: inherit;');\n        hasAction = false;\n      }\n    }\n  });\n  if (!hasSubmit) {\n    console.warn('Form is missing a %csubmit button.%c No submit Type has been found', 'color: red;', 'color: inherit;');\n  }\n  return hasSubmit && hasAction;\n}\n\nasync function createForm(formURL) {\n  const { pathname } = new URL(formURL);\n  const data = await fetchForm(pathname);\n\n  if (data.length === 0) {\n    return createElement('div', {\n      classes: 'custom-form__error',\n      content: 'Error fetching form data',\n    });\n  } else if (!validateSubmitButton(data)) {\n    return;\n  }\n\n  const form = createElement('form');\n  const customDropdowns = [];\n  const dependencies = []; // these will be used to show/hide the fields based on the dependencies\n  data.forEach(async (fd) => {\n    let el;\n\n    if (fd.Type === 'title') {\n      el = renderTitle(fd);\n    } else if (fd.Type === 'paragraph') {\n      el = createPlainText(fd);\n    } else if (fd.Type === 'meta') {\n      el = createHiddenMeta(fd);\n    } else {\n      el = renderField(fd);\n\n      if (fd.Type === 'custom-dropdown') {\n        customDropdowns.push(fd);\n      }\n\n      const formField = el.querySelector('input,textarea,select');\n      if (formField) {\n        if (fd.Mandatory && fd.Mandatory.toLowerCase() === 'true') {\n          formField.setAttribute('required', 'required');\n        }\n        if (!formField.id) {\n          formField.id = fd.Id;\n        }\n        formField.name = fd.Name;\n\n        if (fd.Type !== 'radio') {\n          formField.value = fd.Value;\n        }\n\n        if (fd.Description) {\n          formField.setAttribute('aria-describedby', `${fd.Id}-description`);\n        }\n      }\n      if (fd.Dependency) {\n        // If it has a dependency, we need to hide it by default\n        dependencies.push({\n          element: el,\n          dependency: fd.Dependency,\n\n          name: (fd.Dependency && fd.Dependency.split(':')[0]) || '',\n          value: (fd.Dependency && fd.Dependency.split(':')[1]) || '',\n        });\n      }\n    }\n    form.append(el);\n  });\n\n  if (customDropdowns.length > 0) {\n    customDropdowns.forEach(async (fd, index) => {\n      const hasDependency = dependencies.find((d) => d.name === fd.Name);\n\n      if (hasDependency) {\n        fd.onChangeCallback = (selected) => {\n          const { name, value } = selected;\n          dependencies.forEach((d) => {\n            if (d.name === name) {\n              toggleNovalidateOnInput(d.element, d.value !== value);\n            }\n          });\n        };\n      }\n\n      const customDropdownPlaceholder = form.querySelectorAll('.form-custom-dropdown-wrapper')[index];\n      const placeholderSelect = customDropdownPlaceholder.querySelector('select');\n      const customDropdown = await createCustomDropdown(fd);\n      placeholderSelect.replaceWith(customDropdown);\n\n      if (hasDependency) {\n        const { value } = hasDependency;\n\n        setTimeout(() => {\n          dependencies.forEach((d) => {\n            if (d.name === hasDependency.name) {\n              toggleNovalidateOnInput(d.element, d.value !== value);\n            }\n          });\n        }, 0);\n      }\n    });\n  }\n\n  groupFieldsByFieldSet(form);\n  form.addEventListener('submit', (e) => {\n    let isValid = true;\n    if (form.hasAttribute('novalidate')) {\n      isValid = form.checkValidity();\n    }\n    // after been submitted, the form needs to clean the error messages if the fields are valid\n    cleanErrorMessages(form);\n    e.preventDefault();\n\n    const honeypot = form.querySelector('input[name=\"form_extra_field\"]');\n    if (honeypot && honeypot.value) {\n      console.warn('Form submission blocked: honeypot field was filled (possible bot).');\n      return;\n    }\n\n    if (isValid) {\n      const block = form.closest(`.${blockName}`);\n      const formTitle = block.querySelector(`.${blockName}__title`);\n      if (formTitle) {\n        formTitle.remove();\n      }\n      e.submitter.setAttribute('disabled', '');\n      form.dataset.action = e.submitter.formAction || SUBMIT_ACTION || pathname.split('.json')[0];\n      handleSubmit(form);\n    }\n  });\n  decorateValidation(form);\n  return form;\n}\n\nfunction decorateTitles(block) {\n  const previousSibling = block.parentElement.previousElementSibling;\n  if (!previousSibling) {\n    return;\n  }\n  const title = previousSibling.querySelector('h3');\n  const subtitle = previousSibling.querySelector('h5');\n  if (title) {\n    title.classList.add('h3');\n  }\n  if (subtitle) {\n    subtitle.classList.add('h5');\n  }\n}\n\nfunction addTitleText(titleText, block) {\n  const titleTextContent = createElement('div', {\n    classes: [`${blockName}__title`],\n  });\n  titleTextContent.innerHTML = titleText.innerHTML;\n  block.append(titleTextContent);\n}\n\nfunction createHoneypotField() {\n  const fragment = document.createRange().createContextualFragment(`\n    <div class=\"field-wrapper visually-hidden\" aria-hidden=\"true\">\n      <label for=\"form_extra_field\">Comments</label>\n      <input\n        type=\"text\"\n        id=\"form_extra_field\"\n        name=\"form_extra_field\"\n        tabindex=\"-1\"\n        autocomplete=\"off\"\n      >\n    </div>\n  `);\n  return fragment.firstElementChild;\n}\n\nfunction getConfigValueCell(block, propName) {\n  for (const row of block.querySelectorAll(':scope > div')) {\n    const [propCell, valueCell] = row.children || [];\n    if (propCell && propCell.textContent.trim() === propName) {\n      return valueCell || null;\n    }\n  }\n  return null;\n}\n\nexport default async function decorate(block) {\n  variantsClassesToBEM(block.classList, variantClasses, blockName);\n\n  const titleCell = getConfigValueCell(block, 'title');\n  const linkCell = getConfigValueCell(block, 'link');\n  const successFragmentCell = getConfigValueCell(block, 'successFragmentUrl');\n  const successRedirectCell = getConfigValueCell(block, 'successRedirectUrl');\n  const errorRedirectCell = getConfigValueCell(block, 'errorRedirectUrl');\n\n  const formUrl = linkCell ? (linkCell.querySelector('a')?.href || linkCell.textContent).trim() : '';\n  const isJsonUrl = formUrl.toLowerCase().trim().endsWith('.json');\n  const thankYouPageUrl = successFragmentCell ? (successFragmentCell.querySelector('a')?.href || successFragmentCell.textContent).trim() : '';\n  const successRedirectUrl = successRedirectCell ? (successRedirectCell.querySelector('a')?.href || successRedirectCell.textContent).trim() : '';\n  const errorRedirectUrl = errorRedirectCell ? (errorRedirectCell.querySelector('a')?.href || errorRedirectCell.textContent).trim() : '';\n\n  if (!formUrl || !isJsonUrl) {\n    console.error('%cForm link%c is missing or not a .json', 'color:red', 'color:inherit', { formUrl });\n    block.textContent = '';\n    return;\n  }\n\n  decorateTitles(block);\n\n  const form = await createForm(formUrl);\n  if (!form) {\n    console.error('%cForm%c could not be created. No form data found.', 'color:red', 'color:inherit', { formUrl, form });\n    block.textContent = '';\n    return;\n  }\n\n  if (successRedirectUrl) {\n    form.dataset.successRedirect = successRedirectUrl;\n  }\n  if (errorRedirectUrl) {\n    form.dataset.errorRedirect = errorRedirectUrl;\n  }\n  if (!successRedirectUrl && thankYouPageUrl) {\n    form.dataset.customMessage = `${thankYouPageUrl}.plain.html`;\n  }\n\n  block.textContent = '';\n  if (titleCell) {\n    addTitleText(titleCell, block);\n  }\n\n  form.append(createHoneypotField());\n  block.append(form);\n\n  window.addEventListener('unhandledrejection', ({ reason, error }) => {\n    console.error('Unhandled rejection. Error submitting form:', { reason, error });\n\n    const activeForms = Array.from(window.__activeForms || []);\n    const form = activeForms.reverse().find((f) => f.dataset.submitting === 'true');\n\n    if (!form) {\n      throwFormNotFound(form);\n      return;\n    }\n\n    const block = form.closest(`.${blockName}`);\n    const redirectNewTab = block?.classList.contains(`${blockName}--redirect-new-tab`) || false;\n    submissionFailure(form, redirectNewTab);\n  });\n}\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 1625;\nmodule.exports = webpackEmptyAsyncContext;","import { loadScript, sampleRUM } from '../../scripts/aem.js';\nimport { getTextLabel } from '../../scripts/common.js';\n\nconst successMessage = `<p class='pardot-form__title pardot-form__title--success'>${getTextLabel('Successful submission title')}</p>\n<p class='pardot-form__text pardot-form__text--success'>${getTextLabel('Successful submission text')}</p>\n`;\n\nconst errorMessage = `<p class='pardot-form__title pardot-form__title--error'>${getTextLabel('Error submission title')}</p>\n<p class='pardot-form__text pardot-form__text--error'>${getTextLabel('Error submission text')}</p>\n`;\n\n// Form Block identifies the submit endpoint via these rules and in order\n// 1. action property on the submit button\n// 2. SUBMIT_ACTION constant\n// 3. the path of the spreadsheet\nconst SUBMIT_ACTION = '';\n\nasync function submissionSuccess() {\n  sampleRUM('form:submit');\n  const successDiv = document.createElement('div');\n  successDiv.innerHTML = successMessage;\n  const form = document.querySelector('form[data-submitting=true]');\n  form.setAttribute('data-submitting', 'false');\n  form.replaceWith(successDiv);\n}\n\nasync function submissionFailure() {\n  const errorDiv = document.createElement('div');\n  errorDiv.innerHTML = errorMessage;\n  const form = document.querySelector('form[data-submitting=true]');\n  form.setAttribute('data-submitting', 'false');\n  form.querySelector('button[type=\"submit\"]').disabled = false;\n  form.replaceWith(errorDiv);\n}\n\nfunction serialize(obj) {\n  const str = Object.keys(obj).map((key) => `${encodeURIComponent(key)}=${encodeURIComponent(obj[key])}`);\n  return str.join('&');\n}\n\nwindow.logResult = function logResult(json) {\n  if (json.result === 'success') {\n    submissionSuccess();\n  } else if (json.result === 'error') {\n    submissionFailure();\n  }\n};\n\nfunction generateUnique() {\n  return new Date().valueOf() + Math.random();\n}\n\nfunction constructPayload(form) {\n  const payload = { __id__: generateUnique() };\n  [...form.elements].forEach((fe) => {\n    if (fe.name) {\n      if (fe.type === 'radio') {\n        if (fe.checked) {\n          payload[fe.name] = fe.value;\n        }\n      } else if (fe.type === 'checkbox') {\n        if (fe.checked) {\n          payload[fe.name] = payload[fe.name] ? `${payload[fe.name]},${fe.value}` : fe.value;\n        }\n      } else if (fe.type !== 'file') {\n        payload[fe.name] = fe.value;\n      }\n    }\n  });\n  payload.callback = 'logResult';\n  return { payload };\n}\n\nasync function prepareRequest(form) {\n  const { payload } = constructPayload(form);\n  const url = form.dataset.action;\n\n  const serializedData = serialize(payload);\n  loadScript(`${url}?${serializedData}`, { type: 'text/javascript', charset: 'UTF-8' });\n}\n\nasync function handleSubmit(form) {\n  if (form.getAttribute('data-submitting') !== 'true') {\n    form.setAttribute('data-submitting', 'true');\n    await prepareRequest(form);\n  }\n}\n\nfunction setPlaceholder(element, fd) {\n  if (fd.Placeholder) {\n    element.setAttribute('placeholder', fd.Placeholder);\n  }\n}\n\nconst constraintsDef = Object.entries({\n  'email|text': [\n    ['Max', 'maxlength'],\n    ['Min', 'minlength'],\n  ],\n  'number|range|date': ['Max', 'Min', 'Step'],\n  file: ['Accept', 'Multiple'],\n  fieldset: ['Max', 'Min'],\n}).flatMap(([types, constraintDef]) => types.split('|').map((type) => [type, constraintDef.map((cd) => (Array.isArray(cd) ? cd : [cd, cd]))]));\n\nconst constraintsObject = Object.fromEntries(constraintsDef);\n\nfunction setConstraints(element, fd) {\n  const constraints = constraintsObject[fd.Type];\n  if (constraints) {\n    constraints\n      .filter(([nm]) => fd[nm])\n      .forEach(([nm, htmlNm]) => {\n        element.setAttribute(htmlNm, fd[nm]);\n      });\n  }\n}\n\nfunction createLabel(fd, tagName = 'label') {\n  const label = document.createElement(tagName);\n  label.setAttribute('for', fd.Id);\n  label.className = 'field-label';\n  label.textContent = fd.Label || '';\n  if (fd.Tooltip) {\n    label.title = fd.Tooltip;\n  }\n  return label;\n}\n\nfunction createHelpText(fd) {\n  const div = document.createElement('div');\n  div.className = 'field-description';\n  div.setAttribute('aria-live', 'polite');\n  div.innerText = fd.Description;\n  div.id = `${fd.Id}-description`;\n  return div;\n}\n\nfunction createFieldWrapper(fd, tagName = 'div') {\n  const fieldWrapper = document.createElement(tagName);\n  const nameStyle = fd.Name ? ` form-${fd.Name}` : '';\n  const fieldId = `form-${fd.Type}-wrapper${nameStyle}`;\n  fieldWrapper.className = fieldId;\n  if (fd.Fieldset) {\n    fieldWrapper.dataset.fieldset = fd.Fieldset;\n  }\n  if (fd.Mandatory.toLowerCase() === 'true') {\n    fieldWrapper.dataset.required = '';\n  }\n  fieldWrapper.classList.add('field-wrapper');\n  fieldWrapper.append(createLabel(fd));\n  return fieldWrapper;\n}\n\nfunction createButton(fd) {\n  const wrapper = createFieldWrapper(fd);\n  const button = document.createElement('button');\n  button.textContent = fd.Label;\n  button.type = fd.Type;\n  if (button.type === 'submit' && fd.Action) {\n    button.formAction = fd.Action;\n  }\n  button.classList.add('button');\n  button.dataset.redirect = fd.Extra || '';\n  button.id = fd.Id;\n  button.name = fd.Name;\n  wrapper.replaceChildren(button);\n  return wrapper;\n}\n\nfunction createSubmit(fd) {\n  const wrapper = createButton(fd);\n  return wrapper;\n}\n\nfunction createInput(fd) {\n  const input = document.createElement('input');\n  input.type = fd.Type;\n  setPlaceholder(input, fd);\n  setConstraints(input, fd);\n  return input;\n}\n\nconst withFieldWrapper = (element) => (fd) => {\n  const wrapper = createFieldWrapper(fd);\n  wrapper.append(element(fd));\n  return wrapper;\n};\n\nconst createTextArea = withFieldWrapper((fd) => {\n  const input = document.createElement('textarea');\n  setPlaceholder(input, fd);\n  return input;\n});\n\nconst createSelect = withFieldWrapper((fd) => {\n  const select = document.createElement('select');\n  if (fd.Placeholder) {\n    const ph = document.createElement('option');\n    ph.textContent = fd.Placeholder;\n    ph.setAttribute('selected', '');\n    ph.setAttribute('disabled', '');\n    select.append(ph);\n  }\n  fd.Options.split(',').forEach((o) => {\n    const option = document.createElement('option');\n    option.textContent = o.trim();\n    option.value = o.trim();\n    select.append(option);\n  });\n  return select;\n});\n\nfunction createRadio(fd) {\n  const wrapper = createFieldWrapper(fd);\n  wrapper.insertAdjacentElement('afterbegin', createInput(fd));\n  return wrapper;\n}\n\nconst createOutput = withFieldWrapper((fd) => {\n  const output = document.createElement('output');\n  output.name = fd.Name;\n  output.dataset.fieldset = fd.Fieldset ? fd.Fieldset : '';\n  output.innerText = fd.Value;\n  return output;\n});\n\nfunction createHidden(fd) {\n  const input = document.createElement('input');\n  input.type = 'hidden';\n  input.id = fd.Id;\n  input.name = fd.Name;\n  input.value = fd.Value;\n  return input;\n}\n\nfunction createLegend(fd) {\n  return createLabel(fd, 'legend');\n}\n\nfunction createFieldSet(fd) {\n  const wrapper = createFieldWrapper(fd, 'fieldset');\n  wrapper.name = fd.Name;\n  wrapper.replaceChildren(createLegend(fd));\n  if (fd.Repeatable && fd.Repeatable.toLowerCase() === 'true') {\n    setConstraints(wrapper, fd);\n    wrapper.dataset.repeatable = 'true';\n  }\n  return wrapper;\n}\n\nfunction groupFieldsByFieldSet(form) {\n  const fieldsets = form.querySelectorAll('fieldset');\n  fieldsets?.forEach((fieldset) => {\n    const fields = form.querySelectorAll(`[data-fieldset=\"${fieldset.name}\"`);\n    fields?.forEach((field) => {\n      fieldset.append(field);\n    });\n  });\n}\n\nfunction createPlainText(fd) {\n  const paragraph = document.createElement('p');\n  const nameStyle = fd.Name ? `form-${fd.Name}` : '';\n  paragraph.className = nameStyle;\n  paragraph.dataset.fieldset = fd.Fieldset ? fd.Fieldset : '';\n  paragraph.textContent = fd.Label;\n  return paragraph;\n}\n\nconst getId = (function getId() {\n  const ids = {};\n  return (name) => {\n    ids[name] = ids[name] || 0;\n    const idSuffix = ids[name] ? `-${ids[name]}` : '';\n    ids[name] += 1;\n    return `${name}${idSuffix}`;\n  };\n})();\n\nconst fieldRenderers = {\n  radio: createRadio,\n  checkbox: createRadio,\n  textarea: createTextArea,\n  select: createSelect,\n  button: createButton,\n  submit: createSubmit,\n  output: createOutput,\n  hidden: createHidden,\n  fieldset: createFieldSet,\n  plaintext: createPlainText,\n};\n\nfunction renderField(fd) {\n  const renderer = fieldRenderers[fd.Type];\n  let field;\n  if (typeof renderer === 'function') {\n    field = renderer(fd);\n  } else {\n    field = createFieldWrapper(fd);\n    field.append(createInput(fd));\n  }\n  if (fd.Description) {\n    field.append(createHelpText(fd));\n  }\n  return field;\n}\n\nasync function fetchData(url) {\n  const resp = await fetch(url);\n  const json = await resp.json();\n  return json.data.map((fd) => ({\n    ...fd,\n    Id: fd.Id || getId(fd.Name),\n    Value: fd.Value || '',\n  }));\n}\n\nasync function fetchForm(pathname) {\n  // get the main form\n  const jsonData = await fetchData(pathname);\n  return jsonData;\n}\n\nfunction showError(evnt) {\n  const field = evnt.target;\n  const fieldWrapper = field.parentNode;\n  fieldWrapper.classList.add('invalid');\n  let errorSpan = fieldWrapper.querySelector('span.error');\n  if (!errorSpan) {\n    errorSpan = document.createElement('span');\n    errorSpan.classList.add('error');\n    fieldWrapper.append(errorSpan);\n  }\n  errorSpan.innerText = field.validationMessage;\n\n  field.addEventListener('blur', hideError);\n}\n\nfunction hideError(evnt) {\n  const field = evnt.target;\n  const fieldWrapper = field.parentNode;\n  // to avoid showing error messages on blur\n  if (field.checkValidity()) {\n    fieldWrapper.classList.remove('invalid');\n  } else {\n    fieldWrapper.classList.add('invalid');\n  }\n}\n\nfunction decorateValidation(form) {\n  form.setAttribute('novalidate', '');\n  form.querySelectorAll('input,textarea,select').forEach((el) => {\n    el.addEventListener('invalid', showError);\n  });\n}\n\nasync function createForm(formURL) {\n  const { pathname } = new URL(formURL);\n  const data = await fetchForm(pathname);\n  const form = document.createElement('form');\n  data.forEach((fd) => {\n    const el = renderField(fd);\n    const input = el.querySelector('input,textarea,select');\n    if (fd.Mandatory && fd.Mandatory.toLowerCase() === 'true') {\n      input.setAttribute('required', 'required');\n    }\n    if (input) {\n      input.id = fd.Id;\n      input.name = fd.Name;\n      input.value = fd.Value;\n      if (fd.Description) {\n        input.setAttribute('aria-describedby', `${fd.Id}-description`);\n      }\n    }\n    form.append(el);\n  });\n  groupFieldsByFieldSet(form);\n\n  form.addEventListener('submit', (e) => {\n    let isValid = true;\n    if (form.hasAttribute('novalidate')) {\n      isValid = form.checkValidity();\n    }\n    e.preventDefault();\n    if (isValid) {\n      e.submitter.setAttribute('disabled', '');\n      form.dataset.action = e.submitter.formAction || SUBMIT_ACTION || pathname.split('.json')[0];\n      handleSubmit(form);\n    }\n  });\n  decorateValidation(form);\n  return form;\n}\n\nexport default async function decorate(block) {\n  const formLink = block.querySelector('a[href$=\".json\"]');\n  if (formLink) {\n    const form = await createForm(formLink.href);\n    formLink.replaceWith(form);\n  }\n}\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import root from './_root.js';\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nexport default now;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nexport default trimmedEndIndex;\n","import trimmedEndIndex from './_trimmedEndIndex.js';\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nexport default baseTrim;\n","import baseTrim from './_baseTrim.js';\nimport isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n","import { createOptimizedPicture, readBlockConfig } from '../../scripts/aem.js';\nimport { getOrigin, getDateFromTimestamp } from '../../scripts/common.js';\nimport { ffetch } from '../../scripts/lib-ffetch.js';\n\nasync function getArticles(path, limit) {\n  const indexUrl = new URL(path, getOrigin());\n  return ffetch(indexUrl).sheet('sorted').limit(limit).all();\n}\n\nfunction buildNews(elm, releases, quantity) {\n  releases.sort((a, b) => {\n    if (a.date > b.date) {\n      return -1;\n    }\n    if (a.date < b.date) {\n      return 1;\n    }\n    return 0;\n  });\n  const newsDivs = releases.map((release) => {\n    const div = document.createElement('div');\n    div.innerHTML = `<div class=\"news-list\">\n      <div class=\"list-teaser\">\n          <div class=\"image-container\">\n              <a href=\"\">\n                  <picture>\n                      <img src=\"\" alt=\"\">\n                  </picture>\n              </a>\n          </div>\n          <div class=\"news-item-metadata\">\n              <span class=\"news-item-date\"></span>\n          </div>\n          <div class=\"news-item-content\">\n              <h3><a href=\"\"></a></h3>\n              <p></p>\n          </div>\n          <p class=\"readmore\">\n              <a class='rm' href=''>Read more</a>\n          </p>\n      </div>\n    </div>`;\n\n    div.querySelector('.image-container a').href = release.path;\n    div.querySelector('.image-container img').src = release.image;\n    div.querySelector('.image-container img').alt = release.title;\n    div.querySelector('.news-item-date').textContent = getDateFromTimestamp(release.date);\n    div.querySelector('.news-item-content h3 a').innerText = release.title;\n    div.querySelector('.news-item-content h3 a').href = release.path;\n    div.querySelector('.news-item-content p').textContent = release.description;\n    div.querySelector('.readmore a').href = release.path;\n\n    if (quantity === 'max') {\n      div.querySelector('.readmore').remove();\n    }\n    return div;\n  });\n  elm.innerText = '';\n  elm.append(...newsDivs);\n\n  elm.querySelectorAll('img').forEach((img) => {\n    img.closest('picture').replaceWith(createOptimizedPicture(img.src, img.alt, false, [{ width: '370px' }]));\n  });\n}\n\nexport default async function decorate(block) {\n  const config = readBlockConfig(block);\n  if (config && Object.keys(config).length >= 1) {\n    const newsElement = document.createElement('div');\n    let limit = 25; // artificial limit set\n    if (config.quantity !== 'max') {\n      limit = 3;\n      newsElement.classList.add('bb-news-list-small');\n    } else {\n      newsElement.classList.add('bb-news-list');\n    }\n    const articles = await getArticles(config.source, limit);\n    buildNews(newsElement, articles, config.quantity);\n    block.replaceWith(newsElement);\n  }\n}\n","import { createOptimizedPicture } from '../../scripts/aem.js';\n\nexport default function decorate(block) {\n  /* change to ul, li */\n  const ul = document.createElement('ul');\n  [...block.children].forEach((row) => {\n    const li = document.createElement('li');\n    li.innerHTML = row.innerHTML;\n    [...li.children].forEach((div) => {\n      if (div.children.length === 1 && div.querySelector('picture')) {\n        div.className = 'cards-card-image';\n      } else {\n        div.className = 'cards-card-body';\n      }\n    });\n    ul.append(li);\n  });\n  ul.querySelectorAll('img').forEach((img) =>\n    img.closest('picture').replaceWith(createOptimizedPicture(img.src, img.alt, false, [{ width: '750' }])),\n  );\n  block.textContent = '';\n  block.append(ul);\n}\n","const templates = [\n  `\n  <script type=\"text/x-template\" id=\"result-template\">\n    <div class=\"card-searchstudio-js-custom\" :class=\"{'card-searchstudio-js-grid-layout': isGridLayout, 'has-thumbnail': thumbnail !== ''}\">     <div class=\"card-searchstudio-jsClass\">\n        <div class=\"card-searchstudio-js-body p-0\">\n            <span class=\"badge\" v-if=\"ribbon\" v-html=\"ribbon\" />\n            <div class=\"card-searchstudio-js-title\">\n                <a class=\"stretched-link\" v-if=\"url\" :href=\"url\" @click=\"navigate\" v-html=\"title ? title : result['resulttitle_t']\" />\n                <span v-else v-html=\"title ? title : result['resulttitle_t']\" />\n            </div>\n            <span class=\"card-searchstudio-js-path\" v-if=\"paths\" v-html=\"paths\" />\n            <span class=\"star elevated\" v-if=\"promoted\"> </span>\n            <div class=\"thumbnail\" v-if=\"thumbnail\"><span><img :src=\"thumbnail\"></span></div>\n\n            <div class=\"card-searchstudio-js-body p-0\" v-if=\"date || snippet\">\n                <div v-if=\"date\"><div class=\"card-searchstudio-js-text\"><span v-html=\"date\" /></div></div>\n                <div v-if=\"snippet\"><div class=\"card-searchstudio-js-text\"><span v-html=\"snippet\" /></div></div> </div>\n                <div class=\"card-searchstudio-js-body p-0\">\n                  <div v-for=\"(value, propertyName) in result\" :key=\"propertyName\">\n                    <!-- Check if the value is \"this_field\" -->\n                    <div v-if=\"value !== result['resulttitle_t']\">\n                      <div v-if=\"displayProperty(value, propertyName)\">\n                        <div class=\"card-searchstudio-js-text\" :class=\"propertyName\">\n                          <span class=\"image\" v-if=\"isImage(value)\">\n                            <img :src=\"value\" />\n                          </span>\n                          <span\n                            :class=\"valueClass(value)\"\n                            v-html=\"extractedValue(propertyName, value)\"\n                            v-else\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n            </div>\n        </div>\n      </div>\n    </div>\n  </script>\n  `,\n  `\n  <script type=\"text/x-template\" id=\"searchFeedback-template\">\n    <div class=\"search-feedback-filters-custom align-items-center333\"\n          :class=\"{ active: hasResults }\"\n          v-if=\"searchStore.searchFired && hasResults\">\n        <div class=\"sf-filter-info\">\n          <span v-if=\"searchStore.searchFired\">\n            Showing <strong>{{ searchStore.startDoc + 1 }} - {{ searchStore.endDoc }} </strong> of <strong>{{ searchStore.totalResults }}</strong> results\n            <span v-if=\"searchStore.studioConnector.defaultQuery != searchStore.searchTerm && searchStore.searchTerm != ''\">\n              for\n              <strong>\"{{ searchStore.searchTerm }}\"</strong>\n            </span>\n          </span>\n        </div>\n    </div>\n  </script>\n  `,\n  `\n    <script type=\"text/x-template\" id=\"leave-feedback-template\">\n    <div id=\"sf-widget-custom\" class=\"sf-main\">\n    <a href=\"#\" class=\"sf-open-feedback\" @click.prevent=\"toggleFeedback\" >\n    [ - ] Search Feedback\n    </a>\n    <div class=\"sf-modal-content\" v-bind:class=\"[feedback_open ? 'sf-open' : 'sf-close']\">\n    <div class=\"sf-modal-header\">\n    <h5 class=\"sf-title\">Search Feedback</h5>\n    <button class=\"sf-modal-close\" v-on:click.prevent=\"toggleFeedback\"><span><img src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJDYXBhXzEiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDM4Ni42NjcgMzg2LjY2NyIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCAzODYuNjY3IDM4Ni42NjciIHdpZHRoPSI1MTIiIGNsYXNzPSIiPjxnPjxwYXRoIGQ9Im0zODYuNjY3IDQ1LjU2NC00NS41NjQtNDUuNTY0LTE0Ny43NyAxNDcuNzY5LTE0Ny43NjktMTQ3Ljc2OS00NS41NjQgNDUuNTY0IDE0Ny43NjkgMTQ3Ljc2OS0xNDcuNzY5IDE0Ny43NyA0NS41NjQgNDUuNTY0IDE0Ny43NjktMTQ3Ljc2OSAxNDcuNzY5IDE0Ny43NjkgNDUuNTY0LTQ1LjU2NC0xNDcuNzY4LTE0Ny43N3oiIGRhdGEtb3JpZ2luYWw9IiMwMDAwMDAiIGNsYXNzPSJhY3RpdmUtcGF0aCIgc3R5bGU9ImZpbGw6I0ZDNjczMCIgZGF0YS1vbGRfY29sb3I9IiMwMDAwMDAiPjwvcGF0aD48L2c+IDwvc3ZnPg==\" /></span></button>\n    </div>\n    <form id=\"sf-rating-form\">\n    <div class=\"sf-modal-body \">\n    <label>How would you rate your search experience?</label>\n    <div class=\"form-group\">\n    <div class=\"sf-rate-experience\">\n      <div class=\"sf-custom-control\" v-for='index in 11' :key='index'>\n        <input type=\"radio\" v-bind:id=\"'sf-rate-'+(index-1)\" name=\"sf-rating\" class=\"sf-custom-control-input\" v-bind:value=\"index-1\" v-model.number=\"sf.rating\" v-on:change=\"validateFeedback\">\n        <label :for=\"'sf-rate-'+(index-1)\" class=\"sf-custom-control-label\">{{index-1}}</label>\n      </div>\n    </div>\n    <div class=\"sf-rate\">\n      <p><small>0 = Very Dissatisfied</small></p>\n      <p><small>10 = Very Satisfied</small></p>\n    </div>\n    <div class=\"sf-error-rating alert alert-danger\" v-bind:class=\"[errors.rating ? 'sf-show' : 'sf-hide']\">Please Rate your\n    experience.</div>\n    </div>\n    <div class=\"sf-comments sf-form-group\">\n      <label for=\"sf-comments\">Comments <small>({{computeCommentsLimit}} characters remaining)</small></label>\n      <textarea :maxlength=\"max_length\" class=\"sf-form-control\" id=\"sf-comments\" placeholder=\"Enter any comments relating to your search experience\" v-model=\"sf.comments\"></textarea>\n    </div>\n    <div class=\"sf-email sf-form-group\">\n      <label for=\"sf-email\">Email</label>\n      <input class=\"sf-form-control\" type=\"email\" id=\"sf-email\" placeholder=\"Enter an email address if you want a response\" v-model=\"sf.email\" v-on:input=\"validateFeedback\">\n      <div class=\"sf-error-email alert alert-danger\" v-bind:class=\"[errors.email ? 'sf-show' : 'sf-hide']\" >Please enter a valid email id</div>\n    </div>\n    </div>\n    <div class=\"sf-modal-footer\">\n    <a href=\"http://searchstax.com/\" target=\"_blank\" class=\"left\">\n    <img src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI0LjIuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMzEuNSAzOS44IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMzEuNSAzOS44OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZDNjczMDt9Cgkuc3Qxe2ZpbGw6IzMzNDc1QTt9Cgkuc3Qye2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7fQo8L3N0eWxlPgo8Zz4KCTxnIGlkPSJsb2dvX3g1Rl9jb2xvcl8xXyI+CgkJPGc+CgkJCTxnPgoJCQkJPGcgaWQ9IlhNTElEXzhfIj4KCQkJCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMC4zLDMxLjhMMS44LDMxYzAuMS0wLjEsMC4zLTAuMSwwLjUsMGw3LjQsNC4yYzAuMSwwLjEsMC4zLDAuMSwwLjUsMGw3LjMtNC4yYzAuMi0wLjEsMC4zLTAuMSwwLjUsMAoJCQkJCQlsMS40LDAuOWMwLjMsMC4yLDAuMywwLjYsMCwwLjhsLTkuMiw1LjRjLTAuMSwwLjEtMC4zLDAuMS0wLjUsMGwtOS40LTUuNEMwLDMyLjUsMCwzMiwwLjMsMzEuOHoiLz4KCQkJCTwvZz4KCQkJCTxnIGlkPSJYTUxJRF83XyI+CgkJCQkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTAuMywyNi41bDEuNi0wLjljMC4xLTAuMSwwLjMtMC4xLDAuNSwwbDcuMiw0LjJjMC4xLDAuMSwwLjMsMC4xLDAuNSwwbDcuMy00LjJjMC4xLTAuMSwwLjItMC4yLDAuMi0wLjQKCQkJCQkJVjI0YzAtMC40LTAuNC0wLjYtMC43LTAuNGwtNi43LDMuOWMtMC4xLDAuMS0wLjMsMC4xLTAuNSwwTDAuMiwyMmMtMC4zLTAuMi0wLjMtMC42LDAtMC44bDkuMy01LjVjMC4xLTAuMSwwLjMtMC4xLDAuNSwwCgkJCQkJCWw1LjMsM2MwLjMsMC4yLDAuMywwLjYsMCwwLjhsLTEuNCwwLjljLTAuMiwwLjEtMC4zLDAuMS0wLjUsMGwtMy40LTJjLTAuMi0wLjEtMC4zLTAuMS0wLjUsMGwtNC40LDIuN2MtMC4zLDAuMi0wLjMsMC42LDAsMC44CgkJCQkJCWw0LjQsMi42YzAuMSwwLjEsMC4zLDAuMSwwLjUsMGw3LjMtNC4yYzAuMS0wLjEsMC4zLTAuMSwwLjUsMGwyLDEuMWMwLjIsMC4xLDAuMiwwLjIsMC4yLDAuNHY0LjdjMCwwLjItMC4xLDAuMy0wLjIsMC40CgkJCQkJCWwtOS42LDUuN2MtMC4xLDAuMS0wLjMsMC4xLTAuNSwwbC05LjQtNS41Qy0wLjEsMjcuMi0wLjEsMjYuNywwLjMsMjYuNXoiLz4KCQkJCTwvZz4KCQkJPC9nPgoJCQk8ZyBpZD0iRElOX3g1Rl9OZXh0X3g1Rl9MVF94NUZfUHJvX3g1Rl9MaWdodF94MEFfXzFfIj4KCQkJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNC45LDMxLjNjLTAuMS0wLjEtMC4xLTAuMiwwLTAuMmwwLjQtMC41YzAuMS0wLjEsMC4yLTAuMSwwLjIsMGMwLjcsMC42LDEuOSwxLjEsMy4yLDEuMQoJCQkJCWMxLjgsMCwyLjgtMC45LDIuOC0yLjJjMC0xLjEtMC42LTEuOS0yLjYtMi4xbC0wLjUtMC4xYy0yLjEtMC4zLTMuMi0xLjMtMy4yLTIuOWMwLTEuOSwxLjQtMy4xLDMuNS0zLjFjMS4yLDAsMi40LDAuNCwzLjEsMC45CgkJCQkJYzAuMSwwLDAuMSwwLjEsMCwwLjJsLTAuMywwLjVjLTAuMSwwLjEtMC4xLDAuMS0wLjIsMGMtMC45LTAuNS0xLjctMC44LTIuNy0wLjhjLTEuNiwwLTIuNSwwLjktMi41LDIuMWMwLDEuMSwwLjcsMS44LDIuNiwyLjEKCQkJCQlsMC41LDAuMWMyLjIsMC4zLDMuMiwxLjMsMy4yLDNjMCwxLjktMS4zLDMuMi0zLjksMy4yQzI3LjEsMzIuNiwyNS43LDMyLDI0LjksMzEuM3oiLz4KCQkJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0zNi42LDIxLjZjMC0wLjEsMC4xLTAuMiwwLjItMC4yaDYuM2MwLjEsMCwwLjIsMC4xLDAuMiwwLjJ2MC42YzAsMC4xLTAuMSwwLjItMC4yLDAuMmgtNQoJCQkJCWMtMC4zLDAtMC42LDAuMy0wLjYsMC42djNjMCwwLjMsMC4zLDAuNiwwLjYsMC42aDQuMmMwLjEsMCwwLjIsMC4xLDAuMiwwLjJ2MC42YzAsMC4xLTAuMSwwLjItMC4yLDAuMmgtNC4yCgkJCQkJYy0wLjMsMC0wLjYsMC4zLTAuNiwwLjZWMzFjMCwwLjMsMC4zLDAuNiwwLjYsMC42aDVjMC4xLDAsMC4yLDAuMSwwLjIsMC4ydjAuNmMwLDAuMS0wLjEsMC4yLTAuMiwwLjJoLTYuMwoJCQkJCWMtMC4xLDAtMC4yLTAuMS0wLjItMC4yVjIxLjZ6Ii8+CgkJCQk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNNTAuMSwyMS42YzAtMC4xLDAuMS0wLjIsMC4yLTAuMmgwLjZjMC4xLDAsMC4yLDAuMSwwLjIsMC4ybDMuOCwxMC43YzAsMC4xLDAsMC4yLTAuMSwwLjJoLTAuNwoJCQkJCWMtMC4xLDAtMC4yLDAtMC4yLTAuMkw1MywyOS45Yy0wLjEtMC4yLTAuMi0wLjMtMC40LTAuM2gtNC4xYy0wLjIsMC0wLjQsMC4xLTAuNCwwLjNsLTAuOSwyLjRjMCwwLjEtMC4xLDAuMi0wLjIsMC4yaC0wLjYKCQkJCQljLTAuMSwwLTAuMS0wLjEtMC4xLTAuMkw1MC4xLDIxLjZ6IE01MS45LDI4LjdjMC4zLDAsMC42LTAuMywwLjQtMC42TDUwLjUsMjNsMCwwbC0xLjgsNWMtMC4xLDAuMywwLjEsMC42LDAuNCwwLjZoMi44VjI4Ljd6IgoJCQkJCS8+CgkJCQk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNNjUsMzIuNGMtMC4xLDAtMC4xLDAtMC4yLTAuMWwtMi4zLTQuOGgtMC4ySDYwYy0wLjMsMC0wLjYsMC4zLTAuNiwwLjZ2NC4yYzAsMC4xLTAuMSwwLjItMC4yLDAuMmgtMC42CgkJCQkJYy0wLjEsMC0wLjItMC4xLTAuMi0wLjJWMjEuNmMwLTAuMSwwLjEtMC4yLDAuMi0wLjJoMy43YzIuMSwwLDMuNCwxLjIsMy40LDNjMCwxLjMtMC42LDIuMy0xLjgsMi44Yy0wLjMsMC4xLTAuNCwwLjQtMC4yLDAuNgoJCQkJCWwyLjEsNC40YzAuMSwwLjEsMCwwLjItMC4xLDAuMkg2NUw2NSwzMi40eiBNNjQuOCwyNC41YzAtMS40LTAuOS0yLjItMi40LTIuMkg2MGMtMC4zLDAtMC42LDAuMy0wLjYsMC42djMuMgoJCQkJCWMwLDAuMywwLjMsMC42LDAuNiwwLjZoMi4zQzYzLjksMjYuNiw2NC44LDI1LjksNjQuOCwyNC41eiIvPgoJCQkJPHBhdGggY2xhc3M9InN0MSIgZD0iTTY5LjYsMjYuOWMwLTAuOCwwLTEuNSwwLjEtMS45YzAuMi0yLjMsMi4zLTQuMSw0LjYtMy42YzEuMSwwLjIsMS45LDAuOSwyLjQsMS45YzAsMC4xLDAsMC4yLDAsMC4yCgkJCQkJbC0wLjUsMC4zYy0wLjEsMC0wLjIsMC0wLjItMC4xYy0wLjUtMC45LTEuMy0xLjYtMi41LTEuNmMtMS4zLDAtMi4yLDAuNi0yLjYsMS44Yy0wLjEsMC40LTAuMiwxLjEtMC4yLDNjMCwxLjgsMC4xLDIuNSwwLjIsMwoJCQkJCWMwLjQsMS4yLDEuMiwxLjgsMi42LDEuOGMxLjIsMCwyLTAuNiwyLjUtMS42YzAtMC4xLDAuMS0wLjEsMC4yLTAuMWwwLjUsMC4zYzAuMSwwLDAuMSwwLjEsMCwwLjJjLTAuNiwxLjMtMS44LDItMy4zLDIKCQkJCQljLTEuNywwLTIuOS0wLjgtMy41LTIuNUM2OS43LDI5LjYsNjkuNiwyOC44LDY5LjYsMjYuOXoiLz4KCQkJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik04MC42LDIxLjZjMC0wLjEsMC4xLTAuMiwwLjItMC4yaDAuNmMwLjEsMCwwLjIsMC4xLDAuMiwwLjJ2NC4yYzAsMC4zLDAuMywwLjYsMC42LDAuNmg0LjUKCQkJCQljMC4zLDAsMC42LTAuMywwLjYtMC42di00LjJjMC0wLjEsMC4xLTAuMiwwLjItMC4yaDAuNmMwLjEsMCwwLjIsMC4xLDAuMiwwLjJ2MTAuN2MwLDAuMS0wLjEsMC4yLTAuMiwwLjJoLTAuNgoJCQkJCWMtMC4xLDAtMC4yLTAuMS0wLjItMC4ydi00LjRjMC0wLjMtMC4zLTAuNi0wLjYtMC42aC00LjVjLTAuMywwLTAuNiwwLjMtMC42LDAuNnY0LjRjMCwwLjEtMC4xLDAuMi0wLjIsMC4yaC0wLjYKCQkJCQljLTAuMSwwLTAuMi0wLjEtMC4yLTAuMlYyMS42TDgwLjYsMjEuNnoiLz4KCQkJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik05Mi4zLDMxLjNjLTAuMS0wLjEtMC4xLTAuMiwwLTAuMmwwLjQtMC41YzAuMS0wLjEsMC4yLTAuMSwwLjIsMGMwLjcsMC42LDEuOSwxLjEsMy4yLDEuMQoJCQkJCWMxLjgsMCwyLjgtMC45LDIuOC0yLjJjMC0xLjEtMC42LTEuOS0yLjYtMi4xbC0wLjUtMC4xYy0yLjEtMC4zLTMuMi0xLjMtMy4yLTIuOWMwLTEuOSwxLjQtMy4xLDMuNS0zLjFjMS4yLDAsMi40LDAuNCwzLjEsMC45CgkJCQkJYzAuMSwwLDAuMSwwLjEsMCwwLjJsLTAuMywwLjVjLTAuMSwwLjEtMC4xLDAuMS0wLjIsMGMtMC45LTAuNS0xLjctMC44LTIuNy0wLjhjLTEuNiwwLTIuNSwwLjktMi41LDIuMWMwLDEuMSwwLjcsMS44LDIuNiwyLjEKCQkJCQlsMC41LDAuMWMyLjIsMC4zLDMuMiwxLjMsMy4yLDNjMCwxLjktMS4zLDMuMi0zLjksMy4yQzk0LjUsMzIuNiw5MywzMiw5Mi4zLDMxLjN6Ii8+CgkJCQk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTA2LjIsMzIuNGMtMC4xLDAtMC4yLTAuMS0wLjItMC4ydi05LjRjMC0wLjMtMC4zLTAuNi0wLjYtMC42aC0yLjdjLTAuMSwwLTAuMi0wLjEtMC4yLTAuMnYtMC42CgkJCQkJYzAtMC4xLDAuMS0wLjIsMC4yLTAuMmg3LjRjMC4xLDAsMC4yLDAuMSwwLjIsMC4yVjIyYzAsMC4xLTAuMSwwLjItMC4yLDAuMmgtMi43Yy0wLjMsMC0wLjYsMC4zLTAuNiwwLjZ2OS40CgkJCQkJYzAsMC4xLTAuMSwwLjItMC4yLDAuMkgxMDYuMkwxMDYuMiwzMi40eiIvPgoJCQkJPHBhdGggY2xhc3M9InN0MSIgZD0iTTExNS41LDIxLjZjMC0wLjEsMC4xLTAuMiwwLjItMC4yaDAuNmMwLjEsMCwwLjIsMC4xLDAuMiwwLjJsMy44LDEwLjdjMCwwLjEsMCwwLjItMC4xLDAuMmgtMC42CgkJCQkJYy0wLjEsMC0wLjIsMC0wLjItMC4ybC0wLjktMi40Yy0wLjEtMC4yLTAuMi0wLjMtMC40LTAuM0gxMTRjLTAuMiwwLTAuNCwwLjEtMC40LDAuM2wtMC45LDIuNGMwLDAuMS0wLjEsMC4yLTAuMiwwLjJoLTAuNgoJCQkJCWMtMC4xLDAtMC4xLTAuMS0wLjEtMC4yTDExNS41LDIxLjZ6IE0xMTcuNCwyOC43YzAuMywwLDAuNi0wLjMsMC40LTAuNkwxMTYsMjNsMCwwbC0xLjgsNS4xYy0wLjEsMC4zLDAuMSwwLjYsMC40LDAuNkgxMTcuNHoiCgkJCQkJLz4KCQkJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xMjkuOSwzMi40Yy0wLjEsMC0wLjIsMC0wLjItMC4xbC0yLjgtNC43bDAsMGwtMi44LDQuN2MwLDAuMS0wLjEsMC4xLTAuMiwwLjFoLTAuNwoJCQkJCWMtMC4xLDAtMC4xLTAuMS0wLjEtMC4ybDMuMi01LjNjMC4xLTAuMiwwLjEtMC4zLDAtMC41bC0yLjktNC44Yy0wLjEtMC4xLDAtMC4yLDAuMS0wLjJoMC43YzAuMSwwLDAuMiwwLDAuMiwwLjFsMi41LDQuMmwwLDAKCQkJCQlsMi41LTQuMmMwLjEtMC4xLDAuMS0wLjEsMC4yLTAuMWgwLjdjMC4xLDAsMC4xLDAuMSwwLjEsMC4ybC0yLjksNC44Yy0wLjEsMC4yLTAuMSwwLjMsMCwwLjVsMy4yLDUuM2MwLDAuMSwwLDAuMi0wLjEsMC4yCgkJCQkJSDEyOS45TDEyOS45LDMyLjR6Ii8+CgkJCTwvZz4KCQk8L2c+Cgk8L2c+Cgk8ZyBjbGFzcz0ic3QyIj4KCQk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMS40LDIuMUMyLDIsMi42LDEuOSwzLjUsMS45YzEsMCwxLjgsMC4yLDIuMywwLjdjMC40LDAuNCwwLjcsMSwwLjcsMS43QzYuNCw1LDYuMiw1LjYsNS44LDYKCQkJQzUuMyw2LjYsNC40LDYuOSwzLjMsNi45Yy0wLjMsMC0wLjYsMC0wLjgtMC4xVjEwaC0xVjIuMXogTTIuNSw2QzIuNyw2LDMsNiwzLjQsNmMxLjMsMCwyLTAuNiwyLTEuN2MwLTEuMS0wLjgtMS42LTEuOS0xLjYKCQkJYy0wLjUsMC0wLjgsMC0xLDAuMVY2eiIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xMi44LDcuMWMwLDIuMS0xLjUsMy4xLTIuOSwzLjFjLTEuNiwwLTIuOC0xLjItMi44LTNjMC0xLjksMS4zLTMuMSwyLjktMy4xQzExLjYsNC4xLDEyLjgsNS4zLDEyLjgsNy4xegoJCQkgTTguMSw3LjJjMCwxLjMsMC43LDIuMiwxLjgsMi4yYzEsMCwxLjgtMC45LDEuOC0yLjNjMC0xLTAuNS0yLjItMS43LTIuMkM4LjcsNC45LDguMSw2LDguMSw3LjJ6Ii8+CgkJPHBhdGggY2xhc3M9InN0MSIgZD0iTTE0LjQsNC4ybDAuOCwzYzAuMiwwLjYsMC4zLDEuMiwwLjQsMS44aDBjMC4xLTAuNiwwLjMtMS4yLDAuNS0xLjhsMC45LTNIMThsMC45LDIuOQoJCQljMC4yLDAuNywwLjQsMS4zLDAuNSwxLjloMGMwLjEtMC42LDAuMy0xLjIsMC40LTEuOWwwLjgtMi45aDFMMTkuOSwxMGgtMWwtMC45LTIuOGMtMC4yLTAuNi0wLjQtMS4yLTAuNS0xLjloMAoJCQljLTAuMSwwLjctMC4zLDEuMy0wLjUsMS45TDE2LjEsMTBoLTFsLTEuOC01LjhIMTQuNHoiLz4KCQk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMjMuMyw3LjNjMCwxLjQsMC45LDIsMiwyYzAuOCwwLDEuMi0wLjEsMS42LTAuM2wwLjIsMC44Yy0wLjQsMC4yLTEsMC40LTEuOSwwLjRjLTEuOCwwLTIuOS0xLjItMi45LTIuOQoJCQlzMS0zLjEsMi43LTMuMWMxLjksMCwyLjQsMS43LDIuNCwyLjdjMCwwLjIsMCwwLjQsMCwwLjVIMjMuM3ogTTI2LjQsNi42YzAtMC43LTAuMy0xLjctMS41LTEuN2MtMS4xLDAtMS41LDEtMS42LDEuN0gyNi40eiIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yOC43LDZjMC0wLjcsMC0xLjMsMC0xLjhoMC45bDAsMS4xaDBjMC4zLTAuOCwwLjktMS4zLDEuNi0xLjNjMC4xLDAsMC4yLDAsMC4zLDB2MWMtMC4xLDAtMC4yLDAtMC40LDAKCQkJYy0wLjcsMC0xLjMsMC42LTEuNCwxLjRjMCwwLjEsMCwwLjMsMCwwLjVWMTBoLTFWNnoiLz4KCQk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMzMuMSw3LjNjMCwxLjQsMC45LDIsMiwyYzAuOCwwLDEuMi0wLjEsMS42LTAuM2wwLjIsMC44Yy0wLjQsMC4yLTEsMC40LTEuOSwwLjRjLTEuOCwwLTIuOS0xLjItMi45LTIuOQoJCQlzMS0zLjEsMi43LTMuMWMxLjksMCwyLjQsMS43LDIuNCwyLjdjMCwwLjIsMCwwLjQsMCwwLjVIMzMuMXogTTM2LjIsNi42YzAtMC43LTAuMy0xLjctMS41LTEuN2MtMS4xLDAtMS41LDEtMS42LDEuN0gzNi4yeiIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik00My42LDEuNXY3YzAsMC41LDAsMS4xLDAsMS41aC0wLjlsMC0xaDBjLTAuMywwLjYtMSwxLjEtMiwxLjFjLTEuNCwwLTIuNS0xLjItMi41LTNjMC0xLjksMS4yLTMuMSwyLjYtMy4xCgkJCWMwLjksMCwxLjUsMC40LDEuOCwwLjloMFYxLjVINDMuNnogTTQyLjUsNi42YzAtMC4xLDAtMC4zLDAtMC40Yy0wLjItMC43LTAuNy0xLjItMS41LTEuMmMtMS4xLDAtMS43LDEtMS43LDIuMgoJCQljMCwxLjIsMC42LDIuMSwxLjcsMi4xYzAuNywwLDEuNC0wLjUsMS41LTEuM2MwLTAuMSwwLTAuMywwLTAuNVY2LjZ6Ii8+CgkJPHBhdGggY2xhc3M9InN0MSIgZD0iTTQ3LjgsMTBjMC0wLjQsMC0xLDAtMS41di03aDF2My42aDBjMC40LTAuNiwxLTEuMSwyLTEuMWMxLjQsMCwyLjUsMS4yLDIuNCwzYzAsMi4xLTEuMywzLjEtMi42LDMuMQoJCQljLTAuOCwwLTEuNS0wLjMtMS45LTEuMWgwbDAsMUg0Ny44eiBNNDguOSw3LjdjMCwwLjEsMCwwLjMsMCwwLjRjMC4yLDAuNywwLjgsMS4yLDEuNiwxLjJjMS4xLDAsMS44LTAuOSwxLjgtMi4yCgkJCWMwLTEuMi0wLjYtMi4yLTEuNy0yLjJjLTAuNywwLTEuNCwwLjUtMS42LDEuM2MwLDAuMS0wLjEsMC4zLTAuMSwwLjRWNy43eiIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik01NSw0LjJsMS4zLDMuNGMwLjEsMC40LDAuMywwLjgsMC40LDEuMmgwYzAuMS0wLjMsMC4yLTAuOCwwLjQtMS4ybDEuMi0zLjRoMS4xbC0xLjYsNC4xYy0wLjgsMi0xLjMsMy0yLDMuNgoJCQljLTAuNSwwLjUtMSwwLjYtMS4zLDAuN2wtMC4zLTAuOWMwLjMtMC4xLDAuNi0wLjMsMC45LTAuNWMwLjMtMC4yLDAuNi0wLjYsMC45LTEuMkM1NiwxMCw1Niw5LjksNTYsOS45YzAtMC4xLDAtMC4xLTAuMS0wLjMKCQkJbC0yLjEtNS4zSDU1eiIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik02MC4zLDUuMmMwLTAuNCwwLjMtMC44LDAuNy0wLjhjMC40LDAsMC43LDAuMywwLjcsMC44YzAsMC40LTAuMywwLjctMC43LDAuN0M2MC42LDUuOSw2MC4zLDUuNiw2MC4zLDUuMnoKCQkJIE02MC4zLDkuNGMwLTAuNCwwLjMtMC44LDAuNy0wLjhjMC40LDAsMC43LDAuMywwLjcsMC44YzAsMC40LTAuMywwLjctMC43LDAuN0M2MC42LDEwLjIsNjAuMyw5LjksNjAuMyw5LjR6Ii8+Cgk8L2c+CjwvZz4KPC9zdmc+Cg==\" class=\"sf-foot-logo\"></a>\n    <button class=\"sf-btn sf-btn-primary js-send-feedback\" v-on:click.prevent=\"submitFeedback\" v-if=\"!submitted\" type=\"button\">Send</button>\n    <span class=\"sf-btn sf-btn-sent sf-btn-success\" v-else>&check; Sent</span>\n    </div>\n    </form>\n    </div>\n    </div>\n  </script>\n  `,\n\n  `\n  <script type=\"text/x-template\" id=\"searchOptionSection-template\">\n    <div class=\"ml-auto sf-filter-actions-custom\">\n    <div v-if=\"searchStore.searchFired && hasResults\">\n    <div class=\"d-flex flex-wrap justify-content-end\">\n      <!-- <div class=\"view-card-searchstudio-js-style mr-3\" -->\n            <!-- v-if=\"searchStore.viewDisplay == 'multi'\"> -->\n        <!-- View Style -->\n        <!-- <a href=\"#\" -->\n            <!-- :class=\"[searchStore.layoutGrid ? 'active' : '']\" -->\n            <!-- @click.prevent=\"layoutStyle\"> -->\n          <!-- <span class=\"icon-grid\" /> -->\n          <!-- <span class=\"icon-list\" /> -->\n        <!-- </a> -->\n      <!-- </div> -->\n      <div class=\"form-inline justify-content-end\"\n            v-if=\"hasMostRecent\">\n        <label class=\"ml-4 mr-2\"\n                for=\"sort-by\">Sort By</label>\n        <select class=\"custom-select-searchstudio-js\"\n                id=\"sort-by\"\n                v-model=\"searchStore.sort_method.selected\"\n                @change=\"SearchHelper.search\">\n          <option v-for=\"option in searchStore.sort_method.options\"\n                  :value=\"option.key\"\n                  :key=\"option.key\">\n            {{ option.value }}\n          </option>\n        </select>\n      </div>\n    </div>\n    </div>\n    </div>\n  </script>\n  `,\n\n  `\n  <script type=\"text/x-template\" id=\"search-template\">\n    <div class=\"input-container-custom\">\n    <div class=\"sf-header-searchstudio-js mb-5\">\n    <div class=\"\">\n      <div class=\"sf-form\">\n        <div class=\"form-group\">\n          <vue-autosuggest v-if=\"autoSuggest\"\n                          class=\"form-control-suggest\"\n                          :class=\"{'ignore-branding': storeState.studioConfig.hideBranding}\"\n                          :value=\"storeState.searchTerm\"\n                          :suggestions=\"storeState.searchSuggestions\"\n                          :get-suggestion-value=\"getSuggestionValue\"\n                          @input=\"onSuggestionInputChange\"\n                          :limit=\"10\"\n                          @keyup.enter.prevent=\"onSuggestionClick\"\n                          :input-props=\"{ id: 'searchTerm', placeholder: 'Search For...', autofocus: true }\">                <template slot-scope=\"{ suggestion }\">\n              <div v-html=\"suggestion.item\" />\n            </template>\n          </vue-autosuggest>\n          <input v-if=\"!autoSuggest\"\n                class=\"form-control form-control-lg\"\n                :class=\"{'ignore-branding': storeState.studioConfig.hideBranding}\"\n                type=\"text\"\n                id=\"searchTerm\"\n                :value=\"storeState.searchTerm\"\n                @change=\"searchWithNoAutoSuggest\"\n                @keyup.enter.prevent=\"searchWithNoAutoSuggest\"\n                @keydown=\"resetSearch\"\n                placeholder=\"Search\"\n                autofocus>\n        <span v-if=\"!storeState.loading\">\n            <button type=\"button\"\n                    class=\"btn text-primary search-close-button\"\n                    @click=\"onSearchIconClick\"\n                    v-if=\"searchTerm === storeState.searchTerm && searchTerm !== ''\">\n              <span class=\"fa fa-search search-icon\" />\n            </button>\n            <button type=\"submit\"\n                    class=\"btn text-primary search-close-button\"\n                    @click=\"onSearchIconClick\"\n                    v-else>\n              <span class=\"fa fa-search search-icon\" />\n            </button>\n          </span>\n          <div class=\"loader\"\n              v-if=\"storeState.loading\">\n            <div class=\"spinner-border\">\n              <span class=\"sr-only\">Loading...</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    </div>\n\n    </div>\n  </script>\n  `,\n\n  `\n  <script type=\"text/x-template\" id=\"noresult-template\">\n    <div>\n      <div class=\"search-feedback-filters-custom align-items-center\"\n        :class=\"{ active: searchStore.searchFired && !hasResults && searchStore.externalSearchResults.length === 0  }\"\n        v-if=\"searchStore.searchFired && !hasResults && searchStore.externalSearchResults.length === 0 \">\n        <div class=\"sf-filter-info-custom\">\n          <span class=\"d-block no-result-msg\">SORRY, YOUR SEARCH FOR \"{{ searchStore.searchTerm }}\" RETURNED NO RESULTS!\n          </span><br />\n          <span class=\"no-result-msg2\">LET'S REFINE, OR TRY SEARCHING BY DIFFERENT SEARCH KEYWORDS INSTEAD.</span>\n            <br />\n          <span class=\"text-primary-main\" v-if=\"hasSpellingSuggestion\">Did you mean <a href=\"#\"\n            @click=\"onSpellingSuggestionClick\"\n            class=\"text-primary\">{{ searchStore.spellingSuggestion }}</a>?</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </script>\n  `,\n\n  `\n    <script type=\"text/x-template\" id=\"facet-template\">\n    <div class=\"facet-template-container-custom\"\n    >\n    <div class=\"pill-container\">\n    <div @click=\"showMobileSideMenu= true\"\n        class=\"pill \">Filter By <span class=\"pill-close filter-by\"></span></div>\n    <div class=\"pill\"\n        v-for=\"(facet, index) in facet_qs\"\n        :key=\"facet\"\n        :class=\"{'last':facet_qs.length -1 === index }\"\n        @click=\"removeFacet(facet)\">{{ showFacet(facet)}} <span class=\"pill-close\"></span>\n    </div>\n    <div class=\"pill clear-filters\"\n        @click=\"clearFilters\"\n        v-if=\"facet_qs.length > 0\">Clear Filters</div>\n    </div>\n    <div class=\"sidebar-background\"\n      :class=\"{'show-facet-overlay': showMobileSideMenu}\"></div>\n    <div class=\"sf-sidebar-container\"\n      :class=\"{'show-facet-overlay': showMobileSideMenu}\">\n    <div class=\"sf-mobile-header\">\n      <div class=\"sf-mobile-header-text\">Filter By</div>\n      <button type=\"button\"\n              class=\"btn btn-custom text-primary\"\n              @click=\"closeSideMenu\">\n        <span class=\"search-close\" />\n      </button>\n    </div>\n    <div class=\"sf-sidebar\">\n      <ul class=\"list-group accordion\"\n          id=\"search-facets\">\n        <li class=\"list-group-item-searchstudio-js\">\n          <div id=\"collapse-topics\"\n              class=\"collapse show\"\n              data-parent=\"#search-facets\">\n            <ul class=\"list-unstyled\">\n              <div id=\"ss-search-results\">\n                <div class=\"filters\"\n                    :class=\"{ 'd-none': !faceting_enabled }\">\n                  <form action=\"/\"\n                        method=\"get\">\n                    <div class=\"facet-list mb-4\"\n                        v-for=\"(facet, index) in computedFacets\"\n                        :key=\"index\">\n                      <h4 class=\"sidebar-heading\">\n                        <a href=\"#\"\n                          class=\"text-uppercase\"\n                          @click.prevent=\"toggleFacet(index)\"\n                          :class=\"[facet.facet_toggle ? 'active' : '']\">{{ facet.facet_label }} </a>\n                      </h4>\n                      <div class=\"collapse\"\n                          :class=\"[facet.facet_toggle ? 'show' : '']\">\n                        <ul class=\"list-unstyled pl-3\">\n                          <li v-for=\"(row, i) in facet.facets\"\n                              :key=\"i\"\n                              :class=\"[row.show ? '' : 'd-none']\">\n                            <input type=\"checkbox\"\n                                  :disabled=\"row.disabled\"\n                                  :id=\"row.label\"\n                                  :value=\"encodeURIComponent(facet.facet_name) + ':&quot;' + encodeURIComponent(row.label) + '&quot;' \"\n                                  v-model=\"facet_qs\"\n                                  @change=\"doSearch\">\n                            <label :for=\"row.label\"\n                                  class=\"ml-1\"\n                                  :class=\"{'disabled': row.disabled}\">\n                                  <span class=\"facet-name\" :title=\"row.label\"\n                                      :ref=\"'elipsisTooltip'+i+index\">\n                                          {{ cleanValue(getFieldValue(facet.facet_name, row.label)) }}\n                                    </span>\n                                    ({{ row.count }})\n                                    </label>\n                            <div v-if=\"$refs['elipsisTooltip'+i+index] && addElipsisTracking('elipsisTooltip'+i+index)\"></div>\n                            <div  :id=\"'elipsisTooltip'+i+index\"\n                                class=\"facet-tooltip-wrapper\">\n\n                              <span class=\"facet-tooltip\">\n                                {{ cleanValue(getFieldValue(facet.facet_name, row.label)) }} ({{ row.count }})\n                              </span>\n                            </div>\n                          </li>\n                        </ul>\n                        <div class=\"more-less\"\n                            v-if=\"hasFacetPagination(index)\">\n                          <a href=\"#\"\n                            @click.prevent=\"doMoreFacets(index)\"\n                            v-if=\"hasMoreFacets(index)\">More</a>\n                          <a href=\"#\"\n                            @click.prevent=\"doLessFacets(index)\"\n                            v-else>Less</a>\n                        </div>\n                      </div>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </ul>\n          </div>\n        </li>\n      </ul>\n      <button type=\"button\"\n              class=\"btn btn-custom close-button\"\n              @click=\"closeSideMenu\">Done</button>\n    </div>\n    </div>\n    </div>\n  </script>\n  `,\n\n  `\n  <script type=\"text/x-template\" id=\"paging-template\">\n    <div class=\"d-flex flex-wrap w-100 py-3 rl-search paging-container\"\n    v-else-if=\"hasResults && !reloading\"\n    :class=\"showEditPaging? 'show-edit' : ''\"\n    @mouseenter=\"mouseenterPaging\"\n    @mouseleave=\"mouseleavePaging\">\n    <div v-if=\"searchStore.builderConfig && hasResults\"\n      class=\"edit-button\"\n      @click=\"editResultsPaging\">EDIT RESULT PAGING STYLE</div>\n    <div class=\"text-left col-xl-6 col-lg-8 col-md-8 pagination-wrap\">\n    <ul class=\"pagination justify-content-end\">\n      <li class=\"page-item\"\n          :class=\"{'disabled' : searchStore.loading}\">\n        <a href=\"#\"\n          class=\"page-link-searchstudio-js\"\n          v-if=\"searchStore.searchFired\"\n          :disabled=\"searchStore.startDoc === 0 || searchStore.loading\"\n          @click.prevent=\"searchStore.startDoc !== 0 && prevPage()\"\n          variant=\"outline-primary\"> &#60; Previous </a>\n      </li>\n      <li class=\"page-item\">\n        <span class=\"page-link-searchstudio-js\"\n              v-if=\"searchStore.searchFired\">\n          <strong>{{ searchStore.startDoc + 1 }} &mdash; {{ searchStore.endDoc }} </strong> of <strong>{{ searchStore.totalResults }}</strong>\n        </span>\n      </li>\n      <li class=\"page-item\"\n          :class=\"{'disabled' : searchStore.loading}\">\n        <a href=\"#\"\n          class=\"page-link-searchstudio-js\"\n          v-if=\"searchStore.searchFired\"\n          :disabled=\"searchStore.endDoc === searchStore.totalResults || searchStore.loading\"\n          @click.prevent=\"searchStore.totalResults !== searchStore.endDoc && nextPage()\"\n          variant=\"outline-primary\"> Next &#62; </a>\n      </li>\n    </ul>\n    </div>\n    </div>\n  </script>\n  `,\n\n  `\n  <script type=\"text/x-template\" id=\"customRelatedSearches-template\">\n    <div\n    class=\"related-searches-container\">\n    <div v-if=\"storeState.relatedSearches.length\">\n\n    <b>Related searches:</b>\n    <span v-for=\"(value, index) in storeState.relatedSearches\"\n    :key=\"index\"\n    class=\"related-search\">\n    <a @click=\"search(value, $event)\"\n          class=\"related-search-item\"\n    href=\"#\">\n    {{ value }}<span v-if=\"index < storeState.relatedSearches.length - 1 \">,</span>\n    </a>\n    </span>\n    </div>\n    </div>\n  </script>\n  `,\n\n  `\n  <script type=\"text/x-template\" id=\"external-search-result-template\">\n    <div class=\"external-searches-container\">\n    <div class=\"list-wrapper external-list-wrapper\"\n      :key=\"externalResult.url\"\n      v-for=\"externalResult in externalSearchResults\">\n    <div class=\"card-searchstudio-js-custom\">\n      <div class=\"card-searchstudio-jsClass\">\n        <div class=\"card-searchstudio-js-body p-0\">\n          <div class=\"card-searchstudio-js-title\">\n            <a :href=\"externalResult.url\"\n              @click.prevent=\"trackClick(externalResult, $event)\"\n              class=\"stretched-link\">{{ externalResult.name }}</a>\n          </div>\n          <div class=\"icon-elevated\" />\n          <div class=\"card-searchstudio-js-body p-0\">\n            <div class=\"card-searchstudio-js-text content\">\n              <span class=\"SearchStax\">{{ externalResult.description }}</span>\n            </div>\n          </div>\n          <div class=\"card-searchstudio-js-body p-0\">\n            <div class=\"card-searchstudio-js-text content\">\n              <span class=\"SearchStax\">{{ externalResult.url }}</span>\n            </div>\n          </div>\n          <div class=\"card-searchstudio-js-body p-0\" />\n        </div>\n      </div>\n    </div>\n    </div>\n    </div>\n  </script>\n  `,\n];\n\nexport default templates;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nfunction*o(o,f){if(void 0!==o){let i=0;for(const t of o)yield f(t,i++)}}export{o as map};\n//# sourceMappingURL=map.js.map\n","import templates from './templates.js';\nimport { loadScript } from '../../scripts/aem.js';\n\n// Implementation based on searchtax documentation https://www.searchstax.com/docs/searchstudio/searchstax-studio-searchjs-module/\nexport default async function decorate(block) {\n  block.innerHTML = `\n  <div class=\"search-input-wrapper\">\n    <div id=\"searchResultInput\"></div>\n  </div>\n\n  <div class=\"search-results-summary-options-wrapper\">\n    <div id=\"searchResultSummarySection\"></div>\n    <div id=\"searchOptionsSection\"></div>\n  </div>\n\n  <div class=\"search-results-wrapper\">\n    <div class=\"facet-container-wrapper\">\n      <div id=\"searchFacetSection\"></div>\n    </div>\n    <div class=\"result-container-wrapper\">\n      <div id=\"external-search-result-container\"></div>\n      <div id=\"searchResultsSection\"></div>\n      <div id=\"relatedSearchesSection\"></div>\n      <div id=\"paginationSection\"></div>\n    </div>\n  </div>\n  `;\n\n  function setCookie(name, value, days = 7, path = '/') {\n    const expires = new Date(Date.now() + days * 864e5).toUTCString();\n    document.cookie = `${name}=${encodeURIComponent(value)}; expires=${expires}; path=${path}`;\n  }\n\n  function getCookie(name) {\n    return document.cookie.split('; ').reduce((r, v) => {\n      const parts = v.split('=');\n      return parts[0] === name ? decodeURIComponent(parts[1]) : r;\n    }, '');\n  }\n\n  // generating random value for cookie when value is missing\n  function makeid(length) {\n    let result = '';\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    const charactersLength = characters.length;\n\n    for (let i = 0; i < length; i++) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n  }\n\n  function getOrSetCookie(name) {\n    let cookieID = getCookie(name);\n    if (cookieID == null) {\n      cookieID = makeid(25);\n      setCookie(name, cookieID);\n    }\n    return cookieID;\n  }\n\n  function formatDate(value) {\n    if (value != null) {\n      if (typeof value === 'undefined') {\n        return '';\n      }\n      const options = { year: 'numeric', month: 'long', day: 'numeric' };\n      return new Date(value).toLocaleDateString(undefined, options);\n    }\n    return value;\n  }\n\n  window.studioConfig = {\n    connector: {\n      url: 'https://ss705916-dy2uj8v7-us-east-1-aws.searchstax.com/solr/productionvolvotrucks-1157/emselect',\n      authentication: 'YXBwMTE1Ny1hcGk6Vm9sdm90cnVja3NAMjAyMw==',\n      apikey: '3Ixo3pslPZXcRt0PCJXaYSN1evQyD3tERt1RaAUaRNU',\n      select_auth_token: 'None',\n      suggester_auth_token: 'None',\n      search_auth_type: 'basic',\n      session: getOrSetCookie('searchcookie'),\n      fields: { description: 'meta_description_t', title: '_name', url: 'result_url_creation_s' },\n      suggester: 'https://ss705916-dy2uj8v7-us-east-1-aws.searchstax.com/solr/productionvolvotrucks-1157-suggester/emsuggest',\n      searchAPIKey: '25c0942a02ba3b11f3b1182ed398c4442d85d115',\n      language: 'en',\n      fieldFormatters: { date: formatDate },\n      searchAdditionalArgs: 'hl.fragsize=200',\n      hideUniqueKey: true,\n    },\n    searchResults: '#searchResultsSection',\n    searchInput: '#searchResultInput',\n    searchResultSummarySection: '#searchResultSummarySection',\n    facetSection: '#searchFacetSection',\n    searchOptionsSection: '#searchOptionsSection',\n    relatedSearchesSection: '#relatedSearchesSection',\n    paginationSection: '#paginationSection',\n    customSearchTemplate: '#search-template',\n    customSearchFeedbackTemplate: '#searchFeedback-template',\n    customPagingTemplate: '#paging-template',\n    customPaginationTemplate: '#paging-template',\n    customSearchOptionSectionTemplate: '#searchOptionSection-template',\n    customNoResultTemplate: '#noresult-template',\n    customFacetTemplate: '#facet-template',\n    hideBranding: false,\n    isGridLayout: true,\n    display: 'multi',\n    facet_pagination: 3,\n    customResultTemplate: '#result-template',\n    customRelatedSearchesTemplate: '#customRelatedSearches-template',\n    externalSearchResults: '#external-search-result-container',\n    customExternalPromotionsTemplate: '#external-search-result-template',\n    suggestAfterMinChars: 2,\n  };\n\n  // these functions required for searchstax\n  const scripts = [\n    {\n      inline: `\n      var _msq = _msq || []; //declare object\n      var analyticsBaseUrl = 'https://analytics-us.searchstax.com';\n      (function () {\n        var ms = document.createElement('script');\n        ms.type = 'text/javascript';\n        ms.src = 'https://static.searchstax.com/studio-js/v3.20/js/studio-analytics.js';\n        var s = document.getElementsByTagName('script')[0];\n        s.parentNode.insertBefore(ms, s);\n      })();\n    `,\n    },\n    {\n      inline: `\n      (function (w, d, s, o, f) {\n        w['sf-widget'] = o;\n        w[o] =\n          w[o] ||\n          function () {\n            (w[o].q = w[o].q || []).push(arguments);\n          };\n        js = d.createElement(s);\n        fjs = d.getElementsByTagName(s)[0];\n        js.src = f;\n        js.async = 1;\n        fjs.parentNode.insertBefore(js, fjs);\n      })(window, document, 'script', '_sf', 'https://static.searchstax.com/studio-js/v3.20/js/studio-feedback.js');\n      _sf('4kKviXTq4zCnoB4SuKAFhZHVRZTAokybcN6uMcS1HQ4');\n    `,\n    },\n  ];\n\n  // adding templates\n  const temps = document.createElement('div');\n  temps.innerHTML = templates.join('');\n  document.body.appendChild(temps);\n\n  // loading scripts one by one to prevent inappropriate script execution order.\n\n  for (const script of scripts) {\n    const newScript = document.createElement('script');\n\n    newScript.setAttribute('type', 'text/javascript');\n\n    if (script.inline) {\n      newScript.innerHTML = script.inline;\n      document.body.append(newScript);\n    }\n  }\n\n  loadScript('https://static.searchstax.com/studio-js/v3.20/js/studio-app.js', { type: 'text/javascript', charset: 'UTF-8' });\n  loadScript('https://static.searchstax.com/studio-js/v3.20/js/studio-vendors.js', { type: 'text/javascript', charset: 'UTF-8' });\n}\n","import { isVideoLink, createVideo } from '../../scripts/video-helper.js';\nimport { createElement, getTextLabel, removeEmptyTags, variantsClassesToBEM } from '../../scripts/common.js';\n\nconst variantClasses = [\n  'centered',\n  'left-center',\n  'center-bottom',\n  'left',\n  'dark',\n  'background-right',\n  'compact',\n  'background-transparent',\n  'marketing',\n];\nlet intervalId = null;\nconst blockName = 'v2-hero';\n\nfunction updateCountdownElement(block, elementId, value, label) {\n  const element = block.querySelector(`#${elementId}`);\n  element.textContent = value.toString().padStart(2, '0');\n  element.nextElementSibling.textContent = label;\n}\n\nfunction updateCountdown(eventTime, block) {\n  const now = new Date();\n  const diff = eventTime - now;\n\n  // Check if the event time has passed\n  if (diff <= 0) {\n    block.querySelector(`.${blockName}__countdown-wrapper`)?.remove();\n    clearInterval(intervalId);\n    return;\n  }\n\n  // Calculate time left\n  const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n  const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n  const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\n  const seconds = Math.floor((diff % (1000 * 60)) / 1000);\n\n  // Format labels\n  const dayLabel = days === 1 ? getTextLabel('v2_hero:day') : `${getTextLabel('v2_hero:day')}s`;\n  const hourLabel = hours === 1 ? getTextLabel('v2_hero:hour') : `${getTextLabel('v2_hero:hour')}s`;\n  const minuteLabel = minutes === 1 ? getTextLabel('v2_hero:minute') : `${getTextLabel('v2_hero:minute')}s`;\n  const secondLabel = seconds === 1 ? getTextLabel('v2_hero:second') : `${getTextLabel('v2_hero:second')}s`;\n\n  updateCountdownElement(block, 'days', days, dayLabel);\n  updateCountdownElement(block, 'hours', hours, hourLabel);\n  updateCountdownElement(block, 'minutes', minutes, minuteLabel);\n  updateCountdownElement(block, 'seconds', seconds, secondLabel);\n}\n\nconst processVideoLink = (block, link) => {\n  const linkText = link.innerText.trim().toLowerCase();\n\n  if (linkText === 'background') {\n    const video = createVideo(link.getAttribute('href'), `${blockName}__video`, {\n      muted: true,\n      autoplay: true,\n      loop: true,\n      playsinline: true,\n    });\n    block.prepend(video);\n    link.remove();\n  }\n};\n\nfunction decorate(block) {\n  // add Hero variant classnames\n  variantsClassesToBEM(block.classList, variantClasses, blockName);\n\n  const isCompact = block.classList.contains(`${blockName}--compact`);\n  const picture = block.querySelector('picture');\n\n  const links = block.querySelectorAll('a');\n  if (links) {\n    links.forEach((link) => {\n      const isVideo = isVideoLink(link);\n      if (isVideo) {\n        processVideoLink(block, link);\n      }\n    });\n  }\n\n  if (picture) {\n    const img = picture.querySelector('img');\n    img.classList.add(`${blockName}__image`);\n    if (picture.parentElement.tagName === 'P') {\n      picture.parentElement.remove();\n    }\n    block.prepend(picture);\n  }\n\n  const contentWrapper = block.querySelector(':scope > div:last-of-type');\n  contentWrapper.classList.add(`${blockName}__content-wrapper`);\n\n  const content = block.querySelector(':scope > div > div');\n  content.classList.add(`${blockName}__content`);\n\n  // Countdown timer\n  const blockSection = block.parentElement?.parentElement;\n  if (blockSection && blockSection.dataset?.countdownDate) {\n    const countDownWrapper = createElement('div', { classes: `${blockName}__countdown-wrapper` });\n    countDownWrapper.innerHTML = `<div class=\"${blockName}__countdown\">\n  <div class=\"${blockName}__countdown-segment\">\n    <div id=\"days\" class=\"${blockName}__countdown-number\">00</div>\n    <div class=\"${blockName}__countdown-label\">Days</div>\n  </div>\n  <div class=\"${blockName}__countdown-segment\">\n    <div id=\"hours\" class=\"${blockName}__countdown-number\">00</div>\n    <div class=\"${blockName}__countdown-label\">Hours</div>\n  </div>\n  <div class=\"${blockName}__countdown-segment\">\n    <div id=\"minutes\" class=\"${blockName}__countdown-number\">00</div>\n    <div class=\"${blockName}__countdown-label\">Minutes</div>\n  </div>\n  <div class=\"${blockName}__countdown-segment\">\n    <div id=\"seconds\" class=\"${blockName}__countdown-number\">00</div>\n    <div class=\"${blockName}__countdown-label\">Seconds</div>\n  </div>\n</div>`;\n    content.prepend(countDownWrapper);\n\n    const eventTimeIso = blockSection.dataset.countdownDate;\n    const eventTime = new Date(eventTimeIso);\n    updateCountdown(eventTime, block);\n    intervalId = setInterval(() => {\n      updateCountdown(eventTime, block);\n    }, 1000);\n  }\n\n  // convert all headings to h1\n  const headings = [...content.querySelectorAll('h1, h2, h3, h4, h5, h6')];\n  headings.forEach((heading) => {\n    if (heading.tagName !== 'H1') {\n      const h1 = createElement('h1', { classes: `${blockName}__title` });\n      h1.setAttribute('id', heading.getAttribute('id'));\n      h1.innerHTML = heading.innerHTML;\n      heading.parentNode.replaceChild(h1, heading);\n    } else {\n      heading.classList.add(`${blockName}__title`);\n    }\n  });\n\n  // render all paragraph as H6 with the class\n  const paragraphs = [...content.querySelectorAll('p')];\n  paragraphs.forEach((paragraph) => paragraph.classList.add('h6'));\n\n  const buttonsWrapper = createElement('div', { classes: `${blockName}__buttons-wrapper` });\n  const ctaButtons = content.querySelectorAll('.button-container > a');\n  [...ctaButtons].forEach((b) => {\n    if (block.classList.contains(`${blockName}--dark`)) {\n      b.classList.add('dark');\n    }\n\n    if (block.classList.contains(`${blockName}--marketing`)) {\n      b.classList.add('marketing');\n    }\n\n    b.parentElement.remove();\n    buttonsWrapper.appendChild(b);\n  });\n  content.appendChild(buttonsWrapper);\n\n  if (!isCompact) {\n    const scrollIcon = createElement('div', { classes: `${blockName}__scroll-icon` });\n    block.append(scrollIcon);\n  }\n\n  removeEmptyTags(content);\n\n  block.parentElement.classList.add('full-width');\n}\n\nexport default decorate;\n\nexport { variantClasses };\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","/* global videojs */\nimport { isSocialAllowed, createElement, deepMerge, getTextLabel } from './common.js';\nimport { loadScript, loadCSS } from './aem.js';\n\nexport const VIDEO_JS_SCRIPT = '/scripts/videojs/video.min.js';\nexport const VIDEO_JS_CSS = '/scripts/videojs/video-js.min.css';\n\n// videoURLRegex: verify if a given string follows a specific pattern indicating it is a video URL\n// videoIdRegex: extract the video ID from the URL\nexport const AEM_ASSETS = {\n  aemCloudDomain: '.adobeaemcloud.com',\n  videoURLRegex: /\\/assets\\/urn:aaid:aem:[\\w-]+\\/play/,\n  videoIdRegex: /(urn:aaid:aem:[0-9a-fA-F-]+|https?:\\/\\/[^\\s]+\\.m3u8)/,\n};\n\nexport const youtubeVideoRegex =\n  /^(?:(?:https?:)?\\/\\/)?(?:(?:(?:www|m(?:usic)?)\\.)?youtu(?:\\.be|be\\.com)\\/(?:shorts\\/|live\\/|v\\/|e(?:mbed)?\\/|watch(?:\\/|\\?(?:\\S+=\\S+&)*v=)|oembed\\?url=https?%3A\\/\\/(?:www|m(?:usic)?)\\.youtube\\.com\\/watch\\?(?:\\S+=\\S+&)*v%3D|attribution_link\\?(?:\\S+=\\S+&)*u=(?:\\/|%2F)watch(?:\\?|%3F)v(?:=|%3D))?|www\\.youtube-nocookie\\.com\\/embed\\/)([\\w-]{11})[?&#]?\\S*$/;\n\nconst { aemCloudDomain, videoURLRegex } = AEM_ASSETS;\n\nexport const videoTypes = {\n  aem: 'aem',\n  youtube: 'youtube',\n  local: 'local',\n  both: 'both',\n};\n\nexport const standardVideoConfig = {\n  autoplay: false,\n  muted: false,\n  controls: true,\n  disablePictureInPicture: false,\n  currentTime: 0,\n  playsinline: true,\n};\n\nexport const videoConfigs = {};\n\nasync function waitForVideoJs() {\n  return new Promise((resolve) => {\n    const scriptTag = document.querySelector(`head > script[src=\"${VIDEO_JS_SCRIPT}\"]`);\n    const cssLink = document.querySelector(`head > link[href=\"${VIDEO_JS_CSS}\"]`);\n    const isJsLoaded = scriptTag && scriptTag.dataset.loaded;\n    const isCSSLoaded = cssLink && cssLink.dataset.loaded;\n    if (!isJsLoaded || !isCSSLoaded) {\n      const successHandler = () => {\n        document.removeEventListener('videojs-loaded', successHandler);\n        resolve();\n      };\n\n      document.addEventListener('videojs-loaded', successHandler);\n      return;\n    }\n\n    resolve();\n  });\n}\n\nfunction setupAutopause(videoElement, player) {\n  const observer = new IntersectionObserver(\n    (entries) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          player.play();\n        } else {\n          player.pause();\n        }\n      });\n    },\n    {\n      threshold: [0.5],\n    },\n  );\n\n  observer.observe(videoElement);\n}\n\nexport async function setupPlayer(url, videoContainer, config, video) {\n  let videoElement = video;\n  if (!videoElement) {\n    videoElement = document.createElement('video');\n    videoElement.id = `video-${Math.random().toString(36).substr(2, 9)}`;\n  }\n\n  videoElement.classList.add('video-js');\n\n  if (config.playsinline || config.autoplay) {\n    videoElement.setAttribute('playsinline', '');\n  }\n\n  videoContainer.append(videoElement);\n\n  const videojsConfig = {\n    ...config,\n    preload: config.poster && !config.autoplay ? 'none' : 'auto',\n    bigPlayButton: config.controls ?? true,\n    controls: config.controls ?? false,\n  };\n\n  if (config.autoplay) {\n    videojsConfig.loop = true;\n    videojsConfig.autoplay = true;\n  }\n\n  if (config.muted) {\n    videojsConfig.muted = true;\n  }\n\n  await waitForVideoJs();\n\n  if (!videojs) {\n    throw new Error('Video.js is not loaded');\n  }\n\n  const player = videojs(videoElement, videojsConfig);\n  player.src(url);\n\n  player.ready(() => {\n    if (config.autoplay) {\n      setupAutopause(videoElement, player);\n    }\n  });\n\n  return player;\n}\n\nexport function getDeviceSpecificVideoUrl(videoUrl) {\n  return videoUrl.replace(/manifest\\.mpd|manifest\\.m3u8|play/, 'manifest.m3u8');\n}\n\nexport const addVideoConfig = (videoId, props = {}) => {\n  if (!videoConfigs[videoId]) {\n    videoConfigs[videoId] = deepMerge({}, standardVideoConfig);\n  }\n  deepMerge(videoConfigs[videoId], props);\n};\n\nexport const getVideoConfig = (videoId) => videoConfigs[videoId];\n\nexport function isLowResolutionVideoUrl(url) {\n  return typeof url === 'string' && url.split('?')[0].endsWith('.mp4');\n}\n\nexport function isAEMVideoUrl(url) {\n  return videoURLRegex.test(url);\n}\n\nexport function isYoutubeVideoUrl(url) {\n  return youtubeVideoRegex.test(url);\n}\n\nexport function isHlsVideoUrl(url) {\n  return typeof url === 'string' && url.split('?')[0].endsWith('.m3u8');\n}\n\nexport function getYoutubeVideoId(url) {\n  const match = url.match(youtubeVideoRegex);\n\n  return match?.length >= 2 ? match[1] : '';\n}\n\nexport function isVideoLink(link) {\n  const linkString = link.getAttribute('href');\n  const isManifestUrl = /\\.m3u8(\\?.*)?$/.test(linkString);\n  const isYouTube = linkString.includes('youtube.com/embed/');\n  const isAEM = videoURLRegex.test(linkString);\n  const isMp4 = isLowResolutionVideoUrl(linkString);\n  return (isYouTube || isAEM || isMp4 || isManifestUrl) && link.closest('.block.embed') === null;\n}\n\nexport function selectVideoLink(links, preferredType, videoType = videoTypes.both) {\n  const linksArray = Array.isArray(links) ? links : [...links];\n  const hasConsentForSocialVideos = isSocialAllowed();\n  const isTypeBoth = videoType === videoTypes.both;\n  const prefersYouTube = (hasConsentForSocialVideos && preferredType !== 'local') || (!isTypeBoth && videoType === videoTypes.youtube);\n\n  const findLinkByCondition = (conditionFn) => linksArray.find((link) => conditionFn(link.getAttribute('href')));\n\n  const aemVideoLink = findLinkByCondition((href) => videoURLRegex.test(href));\n  const youTubeLink = findLinkByCondition((href) => href.includes('youtube.com/embed/'));\n  const hlsLink = findLinkByCondition((href) => href.split('?')[0].endsWith('.m3u8'));\n  const localMediaLink = findLinkByCondition((href) => href.split('?')[0].endsWith('.mp4'));\n\n  if (aemVideoLink) {\n    return aemVideoLink;\n  }\n  if (prefersYouTube && youTubeLink) {\n    return youTubeLink;\n  }\n  if (hlsLink) {\n    return hlsLink;\n  }\n  return localMediaLink;\n}\n\nfunction getVideoLinkContainer(link, usePosterAutoDetection) {\n  if (!usePosterAutoDetection) {\n    return link;\n  }\n\n  let poster = null;\n  let level = 2;\n  let parent = link;\n  while (parent !== null && level >= 0) {\n    poster = parent.querySelector('picture');\n    if (poster) {\n      break;\n    }\n\n    parent = parent.parentElement;\n    level -= 1;\n  }\n\n  return poster ? parent : link;\n}\n\nfunction parseVideoLink(link, usePosterAutoDetection) {\n  const isVideo = link ? isVideoLink(link) : false;\n  if (!isVideo) {\n    return null;\n  }\n\n  const container = getVideoLinkContainer(link, usePosterAutoDetection);\n  const poster = container.querySelector('picture')?.cloneNode(true);\n\n  return {\n    url: link.href,\n    poster,\n  };\n}\n\nexport function cleanupVideoLink(block, link, hasPoster) {\n  const container = getVideoLinkContainer(link, hasPoster);\n  // Remove empty ancestor nodes after removing video container containing link and poster image\n  if (container) {\n    let parent = container;\n    while (parent?.parentElement?.children.length === 1 && parent?.parentElement !== block) {\n      parent = parent.parentElement;\n    }\n\n    parent.remove();\n  }\n}\n\nexport function createLowResolutionBanner() {\n  const lowResolutionMessage = getTextLabel('video_helper:low_resolution_message');\n  const changeCookieSettings = getTextLabel('video_helper:change_cookie_settings');\n  let banner;\n\n  if (document.documentElement.classList.contains('redesign-v2')) {\n    banner = createElement('div', { classes: 'low-resolution-banner' });\n    const bannerText = createElement('p');\n    const bannerButton = createElement('button', { classes: ['button', 'secondary', 'dark'] });\n\n    bannerText.textContent = lowResolutionMessage;\n    bannerButton.textContent = changeCookieSettings;\n\n    banner.appendChild(bannerText);\n    banner.appendChild(bannerButton);\n\n    bannerButton.addEventListener('click', () => {\n      window.OneTrust.ToggleInfoDisplay();\n    });\n  } else {\n    banner = document.createElement('div');\n    banner.classList.add('low-resolution-banner');\n    banner.innerHTML = `${lowResolutionMessage} <button class=\"low-resolution-banner-cookie-settings\">${changeCookieSettings}</button>`;\n    banner.querySelector('button').addEventListener('click', () => {\n      window.OneTrust.ToggleInfoDisplay();\n    });\n  }\n\n  return banner;\n}\n\nexport function showVideoModal(linkUrl, modalClasses) {\n  import('../common/modal/modal.js').then((modal) => {\n    let beforeBanner = null;\n\n    if (isLowResolutionVideoUrl(linkUrl)) {\n      beforeBanner = createLowResolutionBanner();\n    }\n\n    modal.showModal(linkUrl, { beforeBanner, modalClasses });\n  });\n}\n\nexport function addVideoShowHandler(link) {\n  link.classList.add('text-link-with-video');\n\n  link.addEventListener('click', (event) => {\n    event.preventDefault();\n\n    const variantClasses = ['black', 'gray', 'reveal'];\n    const modalClasses = [...event.target.closest('.section').classList].filter((el) => el.startsWith('modal-'));\n    // changing the modal variants classes to BEM naming\n    variantClasses.forEach((variant) => {\n      const index = modalClasses.findIndex((el) => el === `modal-${variant}`);\n\n      if (index >= 0) {\n        modalClasses[index] = modalClasses[index].replace('modal-', 'modal--');\n      }\n    });\n\n    showVideoModal(link.getAttribute('href'), modalClasses);\n  });\n}\n\nexport function isSoundcloudLink(link) {\n  return link.getAttribute('href').includes('soundcloud.com/player') && link.closest('.block.embed') === null;\n}\n\nexport function addSoundcloudShowHandler(link) {\n  link.classList.add('text-link-with-soundcloud');\n\n  link.addEventListener('click', (event) => {\n    event.preventDefault();\n\n    const thumbnail = link.closest('div')?.querySelector('picture');\n    const title = link.closest('div')?.querySelector('h1, h2, h3');\n    const text = link.closest('div')?.querySelector('p:not(.button-container, .image)');\n\n    import('../common/modal/modal.js').then((modal) => {\n      const episodeInfo = document.createElement('div');\n      episodeInfo.classList.add('modal-soundcloud');\n      episodeInfo.innerHTML = `<div class=\"episode-image\"><picture></div>\n      <div class=\"episode-text\">\n          <h2></h2>\n          <p></p>\n      </div>`;\n      episodeInfo.querySelector('picture').innerHTML = thumbnail?.innerHTML || '';\n      episodeInfo.querySelector('h2').innerText = title?.innerText || '';\n      episodeInfo.querySelector('p').innerText = text?.innerText || '';\n\n      modal.showModal(link.getAttribute('href'), { beforeIframe: episodeInfo });\n    });\n  });\n}\n\nexport function addPlayIcon(parent) {\n  const playButton = document.createRange().createContextualFragment(`\n    <span class=\"icon icon-play-video\">\n      <svg viewBox=\"0 0 72 72\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <circle cx=\"36\" cy=\"36\" r=\"30\" fill=\"white\"/>\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M49.3312 35.9998L29.3312 24.4528L29.3312 47.5468L49.3312 35.9998ZM44.3312 35.9998L31.8312 28.7829L31.8312 43.2167L44.3312 35.9998Z\" fill=\"#141414\"/>\n      </svg>\n    </span>`);\n\n  parent.appendChild(playButton);\n}\n\nexport function wrapImageWithVideoLink(videoLink, image) {\n  videoLink.innerText = '';\n  videoLink.appendChild(image);\n  videoLink.classList.add('link-with-video');\n  videoLink.classList.remove('button', 'primary', 'text-link-with-video');\n  addPlayIcon(videoLink);\n}\n\nexport function createIframe(url, { parentEl, classes = [], props = {} }) {\n  // iframe must be recreated every time otherwise the new history record would be created\n  const iframe = createElement('iframe', {\n    classes: Array.isArray(classes) ? classes : [classes],\n    props: {\n      frameborder: '0',\n      allowfullscreen: 'allowfullscreen',\n      src: url,\n      ...props,\n    },\n  });\n\n  if (parentEl) {\n    parentEl.appendChild(iframe);\n  }\n\n  return iframe;\n}\n\nexport function setPlaybackControls(container) {\n  // Playback controls - play and pause button\n  const playPauseButton = createElement('button', {\n    props: { type: 'button', class: 'v2-video__playback-button' },\n  });\n\n  const videoControls = document.createRange().createContextualFragment(`\n    <span class=\"icon icon-pause-video\">\n      <svg width=\"27\" height=\"27\" viewBox=\"0 0 72 72\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <circle cx=\"36\" cy=\"36\" r=\"30\" fill=\"white\"/>\n          <rect x=\"28.25\" y=\"24.45\" width=\"2.75\" height=\"23.09\" fill=\"#141414\"/>\n          <rect x=\"41\" y=\"24.45\" width=\"2.75\" height=\"23.09\" fill=\"#141414\"/>\n      </svg>\n    </span>\n    <span class=\"icon icon-play-video\">\n      <svg width=\"27\" height=\"27\" viewBox=\"0 0 72 72\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <circle cx=\"36\" cy=\"36\" r=\"30\" fill=\"white\"/>\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M49.3312 35.9998L29.3312 24.4528L29.3312 47.5468L49.3312 35.9998ZM44.3312 35.9998L31.8312 28.7829L31.8312 43.2167L44.3312 35.9998Z\" fill=\"#141414\"/>\n      </svg>\n    </span>`);\n\n  playPauseButton.append(...videoControls.children);\n  container.appendChild(playPauseButton);\n\n  const playIcon = container.querySelector('.icon-play-video');\n  const pauseIcon = container.querySelector('.icon-pause-video');\n\n  const pauseVideoLabel = getTextLabel('Pause video');\n  const playVideoLabel = getTextLabel('Play video');\n\n  playPauseButton.setAttribute('aria-label', pauseVideoLabel);\n\n  const togglePlayPauseIcon = (isPaused) => {\n    if (isPaused) {\n      pauseIcon.style.display = 'none';\n      playIcon.style.display = 'flex';\n      playPauseButton.setAttribute('aria-label', playVideoLabel);\n    } else {\n      pauseIcon.style.display = 'flex';\n      playIcon.style.display = 'none';\n      playPauseButton.setAttribute('aria-label', pauseVideoLabel);\n    }\n  };\n\n  const video = container.querySelector('video');\n  const poster = container.querySelector('picture');\n  togglePlayPauseIcon(video.paused);\n\n  const togglePlayPause = (el) => {\n    if (el.paused) {\n      if (poster) {\n        poster.remove();\n        video.parentElement.style.display = '';\n        video.style.display = '';\n      }\n      el.play();\n    } else {\n      el.pause();\n    }\n  };\n\n  playPauseButton.addEventListener('click', () => {\n    togglePlayPause(video);\n  });\n  video.addEventListener('playing', () => {\n    togglePlayPauseIcon(video.paused);\n  });\n  video.addEventListener('pause', () => {\n    togglePlayPauseIcon(video.paused);\n  });\n}\n\nfunction createProgressivePlaybackVideo(src, className = '', props = {}) {\n  const video = createElement('video', {\n    classes: className,\n  });\n\n  if (props.muted || props.autoplay) {\n    video.muted = true;\n  }\n\n  if (props) {\n    Object.keys(props).forEach((propName) => {\n      const value = props[propName];\n      if (typeof value !== 'boolean') {\n        video.setAttribute(propName, value);\n      } else if (value) {\n        video.setAttribute(propName, '');\n      }\n    });\n  }\n\n  const source = createElement('source', {\n    props: {\n      src,\n      type: 'video/mp4',\n    },\n  });\n\n  // If the video is not playing, well try to play again\n  if (props.autoplay) {\n    video.addEventListener(\n      'loadedmetadata',\n      () => {\n        setTimeout(() => {\n          if (video.paused) {\n            console.warn('Failed to autoplay video, fallback code executed');\n            // TODO: This is just a way of prevent the code to break due to the NotAllowedError error on iOS and Safari\n            // For this to work better needs further development and either way it will always be an hack can at any point can stop working\n            try {\n              video.play();\n            } catch (error) {\n              if (error.name === 'NotAllowedError') {\n                console.error('Playback was prevented by the browser:', error);\n              } else {\n                console.error('An error occurred while trying to play the video:', error);\n              }\n            }\n          }\n        }, 500);\n      },\n      { once: true },\n    );\n  }\n\n  // set playback controls after video container is attached to dom\n  if (!props.controls) {\n    setTimeout(() => {\n      setPlaybackControls(video.parentElement);\n    }, 0);\n  }\n\n  video.appendChild(source);\n\n  return video;\n}\n\nexport function getDynamicVideoHeight(video) {\n  // Get the element's height(use requestAnimationFrame to get actual height instead of 0)\n  requestAnimationFrame(() => {\n    const height = video.offsetHeight - 60;\n    const playbackControls = video.parentElement?.querySelector('.v2-video__playback-button');\n    if (!playbackControls) {\n      return;\n    }\n\n    playbackControls.style.top = `${height.toString()}px`;\n  });\n\n  // Get the element's height on resize\n  const getVideoHeight = (entries) => {\n    for (const entry of entries) {\n      const height = entry.target.offsetHeight - 60;\n      const playbackControls = video.parentElement?.querySelector('.v2-video__playback-button');\n      if (!playbackControls) {\n        return;\n      }\n      playbackControls.style.top = `${height.toString()}px`;\n    }\n  };\n\n  const resizeObserver = new ResizeObserver(getVideoHeight);\n  resizeObserver.observe(video);\n}\n\n/**\n * Creates a video element with a poster image.\n * @param {string} linkUrl - Video URL.\n * @param {HTMLPictureElement} poster - Poster image.\n * @param {string} className - The name of the CSS block for styling.\n * @param {Object} videoConfig - Properties for video player.\n * @return {HTMLElement} - The container element that holds the video and poster.\n */\nexport function createVideoWithPoster(linkUrl, poster, className, videoConfig = {}) {\n  const defaultConfig = {\n    muted: false,\n    autoplay: false,\n    loop: false,\n    playsinline: true,\n    controls: true,\n  };\n\n  const config = {\n    ...defaultConfig,\n    ...videoConfig,\n  };\n\n  const videoContainer = document.createElement('div');\n  videoContainer.classList.add('video-wrapper', className);\n  videoContainer.append(poster);\n\n  const loadAndSetupPlayer = async (videoUrl) => {\n    const playerSetupPromise = setupPlayer(videoUrl, videoContainer, {\n      fill: true,\n      ...config,\n    });\n\n    const video = videoContainer.querySelector('.video-js');\n    video.style.display = 'none';\n    return playerSetupPromise;\n  };\n\n  if (isLowResolutionVideoUrl(linkUrl)) {\n    const videoOrIframe = createProgressivePlaybackVideo(linkUrl, 'video-wrapper', config);\n    if (poster) {\n      const posterSrc = poster.querySelector('img')?.src;\n      videoOrIframe.setAttribute('poster', posterSrc);\n      poster.remove();\n    }\n    videoContainer.append(videoOrIframe);\n  } else {\n    const videoUrl = getDeviceSpecificVideoUrl(linkUrl);\n    if (config.autoplay) {\n      (async () => {\n        const player = await loadAndSetupPlayer(videoUrl);\n        const video = videoContainer.querySelector('.video-js');\n        if (config.autoplay) {\n          player.on('loadeddata', () => {\n            if (poster) {\n              video.style.display = '';\n              if (video.parentElement.classList.contains('video-js')) {\n                video.parentElement.style.display = '';\n              }\n              poster.style.display = 'none';\n              if (!config.controls) {\n                setPlaybackControls(videoContainer);\n              }\n            }\n          });\n        }\n      })();\n    } else {\n      async function initializePlayerWithControls() {\n        await loadAndSetupPlayer(videoUrl);\n        setPlaybackControls(videoContainer);\n      }\n\n      initializePlayerWithControls();\n    }\n  }\n  return videoContainer;\n}\n\n/**\n * Creates a video element or videojs player, depending on whether the video is local\n * or not. Configures the element with specified classes, properties, and source.\n *\n * @param {HTMLAnchorElement | string} link - The link that contains the video URL or the URL of the video.\n * @param {string} [className=''] - Optional. CSS class names to apply to the video container.\n * @param {Object} [videoParams={}] - Optional. Properties for the video player, including attributes like 'muted', 'autoplay', 'title'.\n * @param {Object} [configs={}] - Optional. Additional configurations such as 'usePosterAutoDetection' and 'checkVideoCookie'.\n * @param {boolean} [configs.usePosterAutoDetection=false] - Whether to automatically detect and use a poster image.\n * @param {boolean} [configs.checkVideoCookie=false] - Whether to check for video cookie settings.\n * @returns {HTMLElement | null} - The created video element or player with specified configs, or null if the video link is invalid.\n */\nexport const createVideo = (link, className = '', videoParams = {}, configs = {}) => {\n  let src;\n  let poster;\n\n  const { usePosterAutoDetection, checkVideoCookie } = configs;\n  if (link instanceof HTMLAnchorElement) {\n    const config = parseVideoLink(link, usePosterAutoDetection);\n    if (!config) {\n      return null;\n    }\n\n    src = config.url;\n    poster = config.poster;\n  } else {\n    src = link;\n  }\n\n  if (isLowResolutionVideoUrl(src)) {\n    return createProgressivePlaybackVideo(src, className, videoParams);\n  }\n\n  if (poster) {\n    return createVideoWithPoster(src, poster, className, videoParams);\n  }\n\n  const container = document.createElement('div');\n  container.classList.add(className);\n\n  const videoUrl = getDeviceSpecificVideoUrl(src);\n\n  async function initializePlayerWithControls() {\n    await setupPlayer(videoUrl, container, videoParams, null, checkVideoCookie);\n\n    if (!videoParams.controls) {\n      setPlaybackControls(container);\n    }\n  }\n\n  initializePlayerWithControls();\n\n  return container;\n};\n\nconst getMuteSvg = () => `<svg width=\"32\" height=\"32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <circle cx=\"16.335\" cy=\"16.335\" r=\"13.335\" fill=\"white\"/>\n    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\n          d=\"M9.887 10.181a.5.5 0 0 0-.707.708l12.934 12.928a.5.5 0 0 0 .706-.707L9.887 10.182Zm6.05 1.997a.5.5 0 0 0-.851-.357l-.56.553-.309.306-.099.098-.027.027-.007.007-.002.002.348.353-.348-.353a.5.5 0 1 0 .703.711l-.35-.353.35.353.002-.002.007-.008.028-.027.098-.097.016-.016v.738a.5.5 0 1 0 1 0v-1.935Zm-4.358 3.239h-.992v3.332h1.54c.238 0 .483.064.693.152.211.09.426.218.594.382l.002.002-.351.356.351-.355h.002l.004.005.017.017.064.063.231.229.728.719.474.47v-2.071a.5.5 0 1 1 1 0v3.27a.5.5 0 0 1-.853.354c-.186-.186-.777-.771-1.324-1.312l-.728-.719-.23-.229-.065-.063-.017-.016-.003-.003a.953.953 0 0 0-.284-.177.855.855 0 0 0-.305-.074h-1.936a.614.614 0 0 1-.604-.61v-4.112c0-.319.254-.61.604-.61h1.388a.5.5 0 0 1 0 1Zm8.418-2.332a.5.5 0 1 0-.42.908 3.406 3.406 0 0 1 1.983 3.088c0 .873-.33 1.666-.872 2.268a.5.5 0 1 0 .743.67 4.374 4.374 0 0 0 1.13-2.938c0-1.78-1.06-3.3-2.564-3.996Zm-1.787 2.23a.5.5 0 0 1 .662-.249 2.209 2.209 0 0 1 1.299 2.018 2.2 2.2 0 0 1-.342 1.183.5.5 0 1 1-.845-.535 1.2 1.2 0 0 0 .186-.648c0-.496-.29-.916-.711-1.107a.5.5 0 0 1-.249-.662Z\"\n          fill=\"#141414\"/>\n</svg>`;\n\nconst getUnmuteSvg = () => `<svg width=\"32\" height=\"32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <circle cx=\"16.335\" cy=\"16.335\" r=\"13.335\" fill=\"white\"/>\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\n              d=\"M16.284 11.633a.5.5 0 0 1 .306.46v9.811a.5.5 0 0 1-.853.354c-.186-.186-.777-.771-1.324-1.312l-.727-.719-.232-.229-.064-.063-.017-.016-.003-.003a.957.957 0 0 0-.284-.177.855.855 0 0 0-.305-.074H10.84a.613.613 0 0 1-.604-.61v-4.112c0-.064.012-.126.034-.182a.604.604 0 0 1 .576-.428h1.936c.07 0 .18-.022.305-.075a.956.956 0 0 0 .283-.174l.004-.004.017-.017.064-.063.231-.23.728-.72 1.327-1.313a.5.5 0 0 1 .544-.104Zm-2.565 2.808.352.355-.003.003a1.94 1.94 0 0 1-.594.381c-.21.089-.455.153-.693.153h-1.546v3.332h1.546c.238 0 .483.064.693.152.211.09.426.218.594.382l.002.002-.351.356.351-.355.002.001.004.004.017.017.064.063.231.229.728.719.474.47V13.29l-.474.47-.727.72-.231.23-.064.063-.017.016-.005.004v.002h-.001l-.352-.355Zm4.82-1.198a.5.5 0 0 1 .663-.244 4.406 4.406 0 0 1 2.563 3.996c0 1.78-1.06 3.299-2.563 3.995a.5.5 0 1 1-.42-.907 3.406 3.406 0 0 0 1.983-3.088c0-1.37-.815-2.547-1.983-3.088a.5.5 0 0 1-.244-.664Zm-.456 1.735a.5.5 0 1 0-.413.911 1.215 1.215 0 0 1-.004 2.216.5.5 0 1 0 .421.907 2.215 2.215 0 0 0 1.295-2.016c0-.901-.532-1.67-1.299-2.018Z\"\n              fill=\"#141414\"/>\n    </svg>`;\n\n/**\n * Adds mute controls to a given section.\n * @param {HTMLElement} section - The section element to add the controls to.\n * @returns {void}\n */\nexport const addMuteControls = (section) => {\n  const muteSvg = getMuteSvg();\n  const unmuteSvg = getUnmuteSvg();\n\n  const controls = createElement('button', {\n    props: { type: 'button', class: 'v2-video__mute-controls' },\n  });\n\n  const iconsHTML = document.createRange().createContextualFragment(`\n    <span class=\"icon icon-mute\">${muteSvg}</span>\n    <span class=\"icon icon-unmute\">${unmuteSvg}</span>\n  `);\n\n  controls.append(...iconsHTML.children);\n  section.appendChild(controls);\n\n  const video = section.querySelector('video');\n  const muteIcon = section.querySelector('.icon-mute');\n  const unmuteIcon = section.querySelector('.icon-unmute');\n  const muteIconLabel = getTextLabel('Mute video');\n  const unmuteIconLabel = getTextLabel('Unmute video');\n\n  controls.setAttribute('aria-label', unmuteIconLabel);\n\n  if (!video) {\n    return;\n  }\n\n  const showHideMuteIcon = (isMuted) => {\n    if (isMuted) {\n      muteIcon.style.display = 'flex';\n      unmuteIcon.style.display = 'none';\n      controls.setAttribute('aria-label', muteIconLabel);\n    } else {\n      muteIcon.style.display = 'none';\n      unmuteIcon.style.display = 'flex';\n      controls.setAttribute('aria-label', unmuteIconLabel);\n    }\n  };\n\n  const toggleMute = (el) => {\n    el.muted = !el.muted;\n  };\n\n  controls.addEventListener('click', () => {\n    toggleMute(video);\n  });\n  video.addEventListener('volumechange', () => {\n    showHideMuteIcon(video.muted);\n  });\n};\n\nexport function loadYouTubeIframeAPI() {\n  return loadScript('https://www.youtube.com/iframe_api');\n}\n\nconst logVideoEvent = (eventName, videoId, timeStamp, blockName = 'video') => {\n  console.info(`[${blockName}] ${eventName} for ${videoId} at ${timeStamp}`);\n};\n\nconst formatDebugTime = (date) => {\n  const timeOptions = {\n    hour12: false,\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit',\n  };\n  const formattedTime = date.toLocaleTimeString('en-US', timeOptions);\n  const milliseconds = date.getMilliseconds().toString().padStart(3, '0');\n\n  return `${formattedTime}.${milliseconds}`;\n};\n\nexport const handleVideoMessage = (event, videoId, blockName = 'video') => {\n  if (!event.origin.endsWith(aemCloudDomain)) {\n    return;\n  }\n  if (event.data.type === 'embedded-video-player-event') {\n    const timeStamp = formatDebugTime(new Date());\n\n    logVideoEvent(event.data.name, event.data.videoId, timeStamp, blockName);\n\n    if (event.data.name === 'video-config' && event.data.videoId === videoId) {\n      console.info('Sending video config:', getVideoConfig(videoId), timeStamp);\n      event.source.postMessage(JSON.stringify(getVideoConfig(videoId)), '*');\n    }\n\n    // TODO: handle events when needed in a block\n    // switch (event.data.name) {\n    //   case 'video-playing':\n    //   case 'video-play':\n    //   case 'video-ended':\n    //   case 'video-loadedmetadata':\n    //     logVideoEvent(event.data.name, event.data.videoId, timeStamp, blockName);\n    //     break;\n    //   default:\n    //     break;\n    // }\n  }\n};\n\n/**\n * Checks if the current page contains any known video-related elements.\n * @returns {boolean} True if a video block is found.\n */\nexport function hasVideoOnPage() {\n  return !!(\n    document.querySelector('.video-js') ||\n    document.querySelector('.link-with-video') ||\n    document.querySelector('.text-link-with-video') ||\n    document.querySelector('.v2-video__big-play-button') ||\n    document.querySelector('.v2-resource-gallery__video-list-item .icon-play-video')\n  );\n}\n\n/**\n * Dynamically loads Video.js script and CSS and dispatches an event once loaded.\n * @returns {Promise<void>}\n */\nexport async function loadVideoJs() {\n  await Promise.all([loadCSS(VIDEO_JS_CSS), loadScript(VIDEO_JS_SCRIPT)]);\n\n  const jsScript = document.querySelector(`head > script[src=\"${VIDEO_JS_SCRIPT}\"]`);\n  const cssScript = document.querySelector(`head > link[href=\"${VIDEO_JS_CSS}\"]`);\n\n  jsScript.dataset.loaded = true;\n  cssScript.dataset.loaded = true;\n\n  document.dispatchEvent(new Event('videojs-loaded'));\n}\n\n/**\n * Queries for a playable element within a root.\n *\n * @param {ParentNode} root - Element or fragment to search in.\n * @returns {VideoPlayableEl|null} A native <video> or a Video.js element, or null if none found.\n */\nexport const queryVideoEl = (root) => root?.querySelector('video, .video-js') || null;\n\n/**\n * Play muted and inline. Supports native <video> and Video.js (.video-js).\n *\n * @param {HTMLElement} videoEl - The element to play.\n * @returns {void}\n */\nexport const playMutedInline = (videoEl) => {\n  if (!videoEl) {\n    return;\n  }\n\n  // Video.js\n  if (window.videojs && videoEl.classList?.contains('video-js')) {\n    const player = window.videojs.getPlayer ? window.videojs.getPlayer(videoEl) : window.videojs(videoEl);\n    player.muted(true);\n    player.play?.().catch(() => {});\n    return;\n  }\n\n  // Native <video>\n  if (videoEl.tagName === 'VIDEO') {\n    videoEl.muted = true;\n    videoEl.setAttribute('playsinline', '');\n    videoEl.play?.().catch(() => {});\n  }\n};\n\n/**\n * Pause playback. Supports native <video> and Video.js (.video-js).\n *\n * @param {HTMLElement} videoEl - The element to pause.\n * @returns {void}\n */\nexport const pausePlayback = (videoEl) => {\n  if (!videoEl) {\n    return;\n  }\n\n  // Video.js\n  if (window.videojs && videoEl.classList?.contains('video-js')) {\n    const player = window.videojs.getPlayer ? window.videojs.getPlayer(videoEl) : window.videojs(videoEl);\n    player.pause?.();\n    return;\n  }\n\n  // Native <video>\n  if (videoEl.tagName === 'VIDEO') {\n    videoEl.pause?.();\n  }\n};\n\nclass VideoEventManager {\n  constructor() {\n    this.registrations = [];\n    window.addEventListener('message', this.handleMessage.bind(this));\n  }\n\n  register(videoId, blockName, callback) {\n    this.registrations.push({ videoId, blockName, callback });\n  }\n\n  unregister(videoId, blockName) {\n    this.registrations = this.registrations.filter((reg) => reg.videoId !== videoId || reg.blockName !== blockName);\n  }\n\n  handleMessage(event) {\n    this.registrations.forEach(({ videoId, blockName, callback }) => {\n      if (event.data.type === 'embedded-video-player-event' && event.data.videoId === videoId) {\n        callback(event, videoId, blockName);\n      }\n    });\n  }\n}\n\nexport { VideoEventManager };\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nexport default noop;\n","export const calcValuesToPoints = (chartValues, heightInPoints, { bottomPadding } = {}) => {\n  const maxValue = Math.max(...chartValues);\n  const minValue = Math.min(...chartValues);\n  // padding for top and bottom of the chart, so the lowest value will not be equal the first y axis\n  // and the last value will not 'touch' the chart top edge\n  // by default it is the 1/10 of the avg\n  // of the min and max values => (minValue + maxValue) / 2 * 0.1 => (minValue + maxValue) * 0.05\n  const paddingValue = (minValue + maxValue) * 0.05;\n  const bottomEdgeValue = bottomPadding ? minValue - bottomPadding : minValue - paddingValue;\n  const topEdgeValue = maxValue + paddingValue;\n  const chartValueRange = topEdgeValue - bottomEdgeValue;\n  // conversionFactor helps to convert the chart value to the svg points\n  // it's simple proportion:\n  // heightInPoints -> valueSpread\n  // x                   -> (y - bottomEdgeValue)\n  // to get the y value to points just multiply the (y - bottomEdgeValue) by conversionFactory\n  const conversionFactor = heightInPoints / chartValueRange;\n  const valueToPoints = (value) => ((value - bottomEdgeValue) * conversionFactor).toFixed(0);\n\n  return {\n    valueToPoints,\n    chartValueRange,\n    bottomEdgeValue,\n  };\n};\n\nexport const buildReferences = (keys, width, colorArray) => {\n  const references = [];\n\n  keys.forEach((e, idx) => {\n    const factor = idx === 0 ? 0.3 : 0.7;\n    const xPosition = keys.length === 1 ? width * 0.5 : width * factor;\n\n    const ref = `\n      <g data-z-index=\"1\">\n        <text\n          x=\"${xPosition}\"\n          y=\"${-30}\"\n          text-anchor=\"middle\"\n          data-z-index=\"2\"\n          class=\"chart-reference\"\n        >\n          ${e}\n        </text>\n\n        <rect\n          x=\"${xPosition}\"\n          y=\"${-20}\"\n          width=\"12\"\n          height=\"12\"\n          fill=\"${keys.length === 1 ? colorArray[1] : colorArray[idx]}\"\n          data-z-index=\"3\"\n          >\n        </rect>\n      </g>`;\n    references.push(ref);\n  });\n\n  return references;\n};\n","import { calcValuesToPoints, buildReferences } from './chartHelper.js';\n\nconst colorGrey2 = getComputedStyle(document.documentElement).getPropertyValue('--c-grey-4');\nconst colorLeaf4 = getComputedStyle(document.documentElement).getPropertyValue('--c-leaf-4');\nconst colorArray = [colorGrey2, colorLeaf4];\n\nconst totalWidthChart = 800;\nconst totalHeightChart = totalWidthChart * 0.6;\n\nconst buildChartMPG = (data) => {\n  const chartName = Object.keys(data);\n  const valuesSets = Object.values(data);\n\n  const chartKeys = Object.keys(valuesSets[0]);\n  const chartValues = Object.values(valuesSets[0]);\n\n  const yAxisStart = 300;\n  const { valueToPoints, chartValueRange, bottomEdgeValue } = calcValuesToPoints(chartValues, yAxisStart);\n  const barHeight1InPoints = valueToPoints(chartValues[0]);\n  const barHeight2InPoints = valueToPoints(chartValues[1]);\n  const barWidth = totalWidthChart / 4;\n\n  // LABELS\n  const chartHeight = Number(chartValueRange).toFixed(0);\n  const divisions = 6;\n  const sectionHeight = Number((chartHeight / divisions).toFixed(1));\n  const labelValues = [];\n\n  for (let i = 0; i < divisions; i += 1) {\n    const position = sectionHeight * i + bottomEdgeValue;\n    labelValues.push(position);\n  }\n\n  const svg = `\n    <svg\n      style=\"transform: translate(10px, 0px)\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"${totalWidthChart}\"\n      height=\"${totalHeightChart}\"\n      viewBox=\"0 155 ${totalWidthChart} 10\"\n      aria-hidden=\"false\"\n      aria-label=\"Interactive chart\"\n      class=\"calculator-results-chart\"\n    >\n\n    <!-- TITLE -->\n    <g data-z-index=\"7\" aria-hidden=\"true\">\n      <text\n        x=\"${totalWidthChart * 0.5}\"\n        y=\"${-70}\"\n        text-anchor=\"middle\"\n        data-z-index=\"4\"\n        aria-hidden=\"true\"\n        class=\"chart-title\"\n      >\n        ${chartName}\n      </text>\n    </g>\n\n    <!-- REFERENCES -->\n    <g data-z-index=\"7\" aria-hidden=\"true\">\n      ${buildReferences(chartKeys, totalWidthChart, colorArray)}\n    </g>\n\n    <!-- COLOR BARS AND VALUES-->\n    <g data-z-index=\"7\" aria-hidden=\"false\" role=\"region\" tabindex=\"-1\" class=\"chart-bars\">\n      <rect\n        x=\"${totalWidthChart * 0.3 - barWidth / 2}\"\n        y=\"${yAxisStart - barHeight1InPoints}\"\n        width=\"${barWidth}\"\n        height=\"${barHeight1InPoints}\"\n        fill=\"${colorArray[0]}\"\n        class=\"bar\">\n      </rect>\n      <rect\n        x=\"${totalWidthChart * 0.7 - barWidth / 2}\"\n        y=\"${yAxisStart - barHeight2InPoints}\"\n        width=\"${barWidth}\"\n        height=\"${barHeight2InPoints}\"\n        fill=\"${colorArray[1]}\"\n        class=\"bar\">\n      </rect>\n      <text\n        x=\"${totalWidthChart * 0.3}\"\n        text-anchor=\"middle\"\n        y=\"${yAxisStart - barHeight1InPoints * 0.5 + 5}\"\n        opacity=\"1\"\n        class=\"text\"\n      >\n        ${chartValues[0]}\n      </text>\n      <text\n        x=\"${totalWidthChart * 0.7}\"\n        text-anchor=\"middle\"\n        y=\"${yAxisStart - barHeight2InPoints * 0.5 + 5}\"\n        opacity=\"1\"\n        class=\"text\"\n      >\n        ${chartValues[1]}\n      </text>\n    </g>\n\n    <!-- LEFT VALUES AND LINES -->\n    <g data-z-index=\"1\" aria-hidden=\"true\" class=\"side-labels\">\n  ${labelValues.map((e) => {\n    const yValue = e.toFixed(1);\n    const yPosition = yAxisStart - valueToPoints(e);\n    const lineAndValue = `\n      <text\n        x=\"${80}\"\n        text-anchor=\"end\"\n        y=\"${yPosition + 5}\"\n        class=\"text\"\n      >\n        ${yValue}\n      </text>\n      <path\n        data-z-index=\"1\"\n        fill=\"none\"\n        stroke=\"${colorArray[0]}\"\n        stroke-width=\"1\"\n        stroke-dasharray=\"none\"\n        class=\"line\"\n        d=\"M ${85} ${yPosition} L ${totalWidthChart - 50} ${yPosition}\">\n      </path>`;\n    return lineAndValue;\n  })}\n    </g>\n\n    <!-- SUBTITLE -->\n    <g data-z-index=\"7\" aria-hidden=\"true\">\n      <text\n        x=\"${totalWidthChart * 0.5}\"\n        y=\"${350}\"\n        text-anchor=\"middle\"\n        data-z-index=\"4\"\n        aria-hidden=\"true\"\n        class=\"chart-subtitle\"\n      >\n        MPG\n      </text>\n    </g>\n  </svg>`;\n\n  return svg;\n};\n\nexport default buildChartMPG;\n","import { calcValuesToPoints, buildReferences } from './chartHelper.js';\n\nconst colorGrey2 = getComputedStyle(document.documentElement).getPropertyValue('--c-grey-4');\nconst colorLeaf4 = getComputedStyle(document.documentElement).getPropertyValue('--c-leaf-4');\nconst colorArray = [colorGrey2, colorLeaf4];\n\nconst totalWidthChart = 800;\nconst totalHeightChart = totalWidthChart * 0.6;\n\nconst buildChartMPG = (data) => {\n  const chartName = Object.keys(data);\n  const valuesSets = Object.values(data);\n\n  const chartKeys = Object.keys(valuesSets[0]);\n  const chartArrays = Object.values(valuesSets[0]);\n\n  const [perTrucks, totalSavings] = chartArrays;\n  const chartValues = [].concat(...perTrucks.map((v, i) => [v, totalSavings[i]]));\n\n  const yAxisStart = 300;\n  const { valueToPoints, chartValueRange, bottomEdgeValue } = calcValuesToPoints(chartValues, yAxisStart, { bottomPadding: 0 });\n\n  const chartHeight = Number(chartValueRange).toFixed(0);\n  const divisions = 6;\n  const sectionHeight = Number((chartHeight / divisions).toFixed(1));\n\n  const labelValues = [];\n\n  for (let i = 0; i < divisions; i += 1) {\n    const position = sectionHeight * i + bottomEdgeValue;\n    labelValues.push(position);\n  }\n\n  const svg = `\n    <svg\n      style=\"transform: translate(10px, 0px)\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"${totalWidthChart}\"\n      height=\"${totalHeightChart}\"\n      viewBox=\"0 155 ${totalWidthChart} 10\"\n      aria-hidden=\"false\"\n      aria-label=\"Interactive chart\"\n      class=\"calculator-results-chart\"\n    >\n\n    <!-- TITLE -->\n    <text\n      x=\"${totalWidthChart * 0.5}\"\n      y=\"${-70}\"\n      text-anchor=\"middle\"\n      data-z-index=\"4\"\n      aria-hidden=\"true\"\n      class=\"chart-title\"\n    >\n      ${chartName}\n    </text>\n\n    <!-- REFERENCES -->\n    <g data-z-index=\"-1\" aria-hidden=\"true\">\n      ${buildReferences(chartKeys, totalWidthChart, colorArray)}\n    </g>\n\n    <!-- COLOR BARS AND VALUES-->\n    <g data-z-index=\"4\" aria-hidden=\"false\" role=\"region\" opacity=\"1\">\n  ${chartValues.map((e, idx) => {\n    const barHeight = valueToPoints(e);\n    const barWidth = totalWidthChart / 20;\n    const section = (totalWidthChart - 100) / 10;\n\n    return `\n    <rect\n      x=\"${idx % 2 ? 75 + section * idx : 95 + section * idx}\"\n      y=\"${yAxisStart - barHeight}\"\n      width=\"${barWidth}\"\n      height=\"${barHeight}\"\n      fill=\"${idx % 2 ? colorArray[1] : colorArray[0]}\"\n      data-z-index=\"4\">\n    </rect>\n    ${\n      idx % 2\n        ? `\n      <text\n        x=\"${60 + section * idx}\"\n        y=\"${330}\"\n        text-anchor=\"middle\"\n        data-z-index=\"4\"\n        aria-hidden=\"true\"\n        class=\"year-label\"\n      >\n        Year ${0.5 + idx / 2}\n      </text>`\n        : ''\n    }\n    `;\n  })}\n  </g>\n\n    <!-- LEFT VALUES AND LINES -->\n    <g data-z-index=\"3\" aria-hidden=\"true\" class=\"side-labels\">\n  ${labelValues.map((e) => {\n    const roundedNumber = Math.round(e / 100) * 100;\n    const yValue = roundedNumber.toFixed(0);\n    const yPosition = yAxisStart - valueToPoints(e);\n\n    const lineAndValue = `\n      <text\n        x=\"${80}\"\n        text-anchor=\"end\"\n        y=\"${yPosition + 5}\"\n        class=\"text\"\n      >\n        $${yValue}\n      </text>\n      <path\n        fill=\"none\"\n        stroke=\"${colorArray[0]}\"\n        stroke-width=\"1\"\n        stroke-dasharray=\"none\"\n        data-z-index=\"-1\"\n        d=\"M ${85} ${yPosition} L ${totalWidthChart - 50} ${yPosition}\"\n        data-z-index=\"1\"\n        class=\"line\">\n      </path>`;\n    return lineAndValue;\n  })}\n    </g>\n  </svg>`;\n\n  return svg;\n};\n\nexport default buildChartMPG;\n","import { calcValuesToPoints, buildReferences } from './chartHelper.js';\n\nconst colorGrey2 = getComputedStyle(document.documentElement).getPropertyValue('--c-grey-4');\nconst colorLeaf4 = getComputedStyle(document.documentElement).getPropertyValue('--c-leaf-4');\nconst colorArray = [colorGrey2, colorLeaf4];\n\nconst totalWidthChart = 800;\nconst totalHeightChart = totalWidthChart * 0.6;\n\nconst buildChartFuelUsage = (data) => {\n  const chartName = Object.keys(data);\n  const valuesSets = Object.values(data);\n\n  const chartKeys = Object.keys(valuesSets[0]);\n  const chartValues = Object.values(valuesSets[0]);\n\n  const yAxisStart = 300;\n\n  const { valueToPoints, chartValueRange, bottomEdgeValue } = calcValuesToPoints(chartValues, yAxisStart);\n  // BARS\n  const barHeight1 = valueToPoints(chartValues[0]);\n  const barHeight2 = valueToPoints(chartValues[1]);\n\n  const barWidth = totalWidthChart / 4;\n\n  const divisions = 6;\n  const sectionHeight = Number((chartValueRange / divisions).toFixed(1));\n\n  const labelValues = [];\n\n  for (let i = 0; i < divisions; i += 1) {\n    const position = sectionHeight * i + bottomEdgeValue;\n    labelValues.push(position);\n  }\n\n  const svg = `\n    <svg\n      style=\"transform: translate(10px, 0px)\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"${totalWidthChart}\"\n      height=\"${totalHeightChart}\"\n      viewBox=\"0 155 ${totalWidthChart} 10\"\n      aria-hidden=\"false\"\n      aria-label=\"Interactive chart\"\n      class=\"calculator-results-chart\"\n    >\n\n    <!-- TITLE -->\n    <text\n      x=\"${totalWidthChart * 0.5}\"\n      y=\"${-70}\"\n      text-anchor=\"middle\"\n      data-z-index=\"4\"\n      aria-hidden=\"true\"\n      class=\"chart-title\"\n    >\n      ${chartName}\n    </text>\n\n    <!-- REFERENCES -->\n    <g data-z-index=\"-1\" aria-hidden=\"true\">\n      ${buildReferences(chartKeys, totalWidthChart, colorArray)}\n    </g>\n\n    <!-- COLOR BARS AND VALUES-->\n    <g data-z-index=\"1\" aria-hidden=\"false\" role=\"region\" class=\"chart-bars\">\n      <rect\n        x=\"${totalWidthChart * 0.3 - barWidth / 2}\"\n        y=\"${yAxisStart - barHeight1}\"\n        width=\"${barWidth}\"\n        height=\"${barHeight1}\"\n        fill=\"${colorArray[0]}\"\n        class=\"bars\" >\n      </rect>\n      <rect\n        x=\"${totalWidthChart * 0.7 - barWidth / 2}\"\n        y=\"${yAxisStart - barHeight2}\"\n        width=\"${barWidth}\"\n        height=\"${barHeight2}\"\n        fill=\"${colorArray[1]}\"\n        class=\"bars\" >\n      </rect>\n\n      <text\n        x=\"${totalWidthChart * 0.3}\"\n        text-anchor=\"middle\"\n        y=\"${yAxisStart - barHeight1 * 0.5 + 5}\"\n        opacity=\"1\"\n        class=\"text\"\n      >\n        ${chartValues[0]}\n      </text>\n      <text\n        x=\"${totalWidthChart * 0.7}\"\n        text-anchor=\"middle\"\n        y=\"${yAxisStart - barHeight2 * 0.5 + 5}\"\n        opacity=\"1\"\n        class=\"text\"\n      >\n        ${chartValues[1]}\n      </text>\n    </g>\n\n    <!-- LEFT VALUES AND LINES -->\n    <g data-z-index=\"1\" aria-hidden=\"true\" class=\"side-labels\">\n      ${labelValues.map((e) => {\n        const roundedNumber = Math.round(e / 100) * 100;\n        const yValue = roundedNumber.toFixed(0);\n        const yPosition = yAxisStart - valueToPoints(e);\n\n        const lineAndValue = `\n      <text\n        x=\"${80}\"\n        text-anchor=\"end\"\n        y=\"${yPosition + 5}\"\n        class=\"text\"\n      >\n        ${yValue}\n      </text>\n      <path\n        fill=\"none\"\n        stroke=\"${colorArray[0]}\"\n        stroke-width=\"1\"\n        stroke-dasharray=\"none\"\n        data-z-index=\"-1\"\n        d=\"M ${85} ${yPosition} L ${totalWidthChart - 50} ${yPosition}\"\n        class=\"line\">\n      </path>`;\n        return lineAndValue;\n      })}\n    </g>\n\n    <!-- SUBTITLE -->\n    <text\n      x=\"${totalWidthChart * 0.5}\"\n      y=\"${350}\"\n      text-anchor=\"middle\"\n      data-z-index=\"4\"\n      aria-hidden=\"true\"\n      class=\"chart-subtitle\"\n    >\n      Gallons of Fuel\n    </text>\n  </svg>`;\n\n  return svg;\n};\n\nexport default buildChartFuelUsage;\n","import { calcValuesToPoints, buildReferences } from './chartHelper.js';\n\nconst colorGrey2 = getComputedStyle(document.documentElement).getPropertyValue('--c-grey-4');\nconst colorLeaf4 = getComputedStyle(document.documentElement).getPropertyValue('--c-leaf-4');\nconst colorArray = [colorGrey2, colorLeaf4];\n\n// this sets the size of the svg and some measures are taken in relation to that\nconst totalWidthChart = 800;\nconst totalHeightChart = totalWidthChart * 0.6;\n\nconst buildChartCumulativeSavings = (data) => {\n  // this builds and returns the complete SVG\n\n  // get the information sorted\n  const chartName = Object.keys(data);\n  const valuesSets = Object.values(data);\n\n  const chartKeys = Object.keys(valuesSets[0]);\n  const chartValues = valuesSets[0][chartKeys[0]];\n\n  // this value is because the svg counts from the top so the initial \"0\" is actually position 300\n  const yAxisStart = 300;\n  const { valueToPoints, chartValueRange, bottomEdgeValue } = calcValuesToPoints(chartValues, yAxisStart, { bottomPadding: 0 });\n\n  // SIDE LABELS\n  const chartHeight = Number(chartValueRange).toFixed(0);\n\n  // amount of lines on the chart\n  const divisions = 6;\n  const sectionHeight = Number((chartHeight / divisions).toFixed(1));\n\n  // get the label heights to position them\n  const labelValues = [];\n  for (let i = 0; i < divisions; i += 1) {\n    const position = sectionHeight * i + bottomEdgeValue;\n    labelValues.push(position);\n  }\n\n  // main SVG element that gets returned. Every section has a comment indicating what it is\n  const svg = `\n    <svg\n      style=\"transform: translate(10px, 0px)\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"${totalWidthChart}\"\n      height=\"${totalHeightChart}\"\n      viewBox=\"0 155 ${totalWidthChart} 10\"\n      aria-hidden=\"false\"\n      aria-label=\"Interactive chart\"\n      class=\"calculator-results-chart\"\n    >\n\n    <!-- TITLE -->\n    <text\n      x=\"${totalWidthChart * 0.5}\"\n      y=\"${-70}\"\n      text-anchor=\"middle\"\n      data-z-index=\"4\"\n      aria-hidden=\"true\"\n      class=\"chart-title\"\n    >\n      ${chartName}\n    </text>\n\n    <!-- REFERENCES -->\n    <g data-z-index=\"-1\" aria-hidden=\"true\">\n      ${buildReferences(chartKeys, totalWidthChart, colorArray)}\n    </g>\n\n    <!-- COLOR BARS AND VALUES-->\n    <g data-z-index=\"4\" aria-hidden=\"false\" role=\"region\" opacity=\"1\">\n    ${chartValues.map((e, idx) => {\n      // the values get converted to be able to display them in the colored bars\n      const barHeight = valueToPoints(e);\n\n      const barWidth = totalWidthChart / 10;\n      const section = (totalWidthChart - 100) / 5;\n\n      return `\n    <rect\n      x=\"${95 + section * idx}\"\n      y=\"${yAxisStart - barHeight}\"\n      width=\"${barWidth}\"\n      height=\"${barHeight}\"\n      fill=\"${colorArray[1]}\"\n      data-z-index=\"4\">\n    </rect>\n\n    <text\n      x=\"${95 + section * idx + barWidth / 2}\"\n      y=\"${330}\"\n      text-anchor=\"middle\"\n      data-z-index=\"4\"\n      aria-hidden=\"true\"\n      class=\"year-label\"\n      >\n        Year ${1 + idx}\n      </text>`;\n    })}\n  </g>\n\n    <!-- LEFT VALUES AND LINES -->\n    <g data-z-index=\"3\" aria-hidden=\"true\" class=\"side-labels\">\n      ${labelValues.map((e) => {\n        // side labels and the lines are constructed with the same factor to position them\n        const roundedNumber = Math.round(e / 100) * 100;\n        const yValue = roundedNumber.toFixed(0);\n        const yPosition = yAxisStart - valueToPoints(e);\n\n        const lineAndValue = `\n      <text\n        x=\"${80}\"\n        text-anchor=\"end\"\n        y=\"${yPosition + 5}\"\n        class=\"text\"\n      >\n        $${yValue}\n      </text>\n      <path\n        fill=\"none\"\n        stroke=\"${colorArray[0]}\"\n        stroke-width=\"1\"\n        stroke-dasharray=\"none\"\n        data-z-index=\"-1\"\n        d=\"M ${85} ${yPosition} L ${totalWidthChart - 50} ${yPosition}\"\n        data-z-index=\"1\"\n        class=\"line\"\n        >\n      </path>`;\n        return lineAndValue;\n      })}\n    </g>\n  </svg>`;\n\n  return svg;\n};\n\nexport default buildChartCumulativeSavings;\n","import buildChartMPG from './charts/buildChartMPG.js';\nimport buildChartYearSavings from './charts/buildChartYearSavings.js';\nimport buildChartFuelUsage from './charts/buildChartFuelUsage.js';\nimport buildChartCumulativeSavings from './charts/buildChartCumulativeSavings.js';\n\nconst charts = (data) => {\n  // data is what the chart is using to build the SVGs.\n  // this gives the data a usable format\n  const categories = Object.values(data);\n\n  const chartsSection = document.createElement('div');\n  chartsSection.classList.add('calculator-charts-wrapper');\n\n  const chartSelectors = document.createElement('div');\n  chartSelectors.classList.add('charts-selectors');\n\n  // create the selector and give the first one the data-active attribute\n  categories.forEach((e, idx) => {\n    const anchor = document.createElement('a');\n    anchor.classList.add('selector');\n    anchor.id = idx;\n    anchor.innerText = Object.keys(e);\n    if (idx === 0) {\n      anchor.dataset.active = true;\n    }\n\n    chartSelectors.append(anchor);\n  });\n\n  const chartsList = document.createElement('ul');\n  chartsList.classList.add('charts-wrapper');\n\n  // Build all the charts separately and give the first one the data-active attribute\n  data.forEach((e, idx) => {\n    const chart = document.createElement('li');\n    const buildChartFn = {\n      0: buildChartMPG,\n      1: buildChartYearSavings,\n      2: buildChartFuelUsage,\n      3: buildChartCumulativeSavings,\n    };\n    chart.id = idx;\n    chart.classList.add('chart');\n    if (idx === 0) {\n      chart.dataset.active = true;\n    }\n    chart.innerHTML = buildChartFn[idx](e);\n    chartsList.append(chart);\n  });\n  chartsSection.append(chartSelectors);\n  chartsSection.append(chartsList);\n\n  return chartsSection;\n};\n\nexport default charts;\n","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nexport default arrayReduce;\n","import basePropertyOf from './_basePropertyOf.js';\n\n/** Used to map Latin Unicode letters to basic Latin letters. */\nvar deburredLetters = {\n  // Latin-1 Supplement block.\n  '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n  '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n  '\\xc7': 'C',  '\\xe7': 'c',\n  '\\xd0': 'D',  '\\xf0': 'd',\n  '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n  '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n  '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n  '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n  '\\xd1': 'N',  '\\xf1': 'n',\n  '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n  '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n  '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n  '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n  '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n  '\\xc6': 'Ae', '\\xe6': 'ae',\n  '\\xde': 'Th', '\\xfe': 'th',\n  '\\xdf': 'ss',\n  // Latin Extended-A block.\n  '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n  '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n  '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n  '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n  '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n  '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n  '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n  '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n  '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n  '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n  '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n  '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n  '\\u0134': 'J',  '\\u0135': 'j',\n  '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n  '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n  '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n  '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n  '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n  '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n  '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n  '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n  '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n  '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n  '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n  '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n  '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n  '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n  '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n  '\\u0174': 'W',  '\\u0175': 'w',\n  '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n  '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n  '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n  '\\u0132': 'IJ', '\\u0133': 'ij',\n  '\\u0152': 'Oe', '\\u0153': 'oe',\n  '\\u0149': \"'n\", '\\u017f': 's'\n};\n\n/**\n * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n * letters to basic Latin letters.\n *\n * @private\n * @param {string} letter The matched letter to deburr.\n * @returns {string} Returns the deburred letter.\n */\nvar deburrLetter = basePropertyOf(deburredLetters);\n\nexport default deburrLetter;\n","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nexport default basePropertyOf;\n","import deburrLetter from './_deburrLetter.js';\nimport toString from './toString.js';\n\n/** Used to match Latin Unicode letters (excluding mathematical operators). */\nvar reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n/** Used to compose unicode character classes. */\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;\n\n/** Used to compose unicode capture groups. */\nvar rsCombo = '[' + rsComboRange + ']';\n\n/**\n * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n */\nvar reComboMark = RegExp(rsCombo, 'g');\n\n/**\n * Deburrs `string` by converting\n * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n * letters to basic Latin letters and removing\n * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to deburr.\n * @returns {string} Returns the deburred string.\n * @example\n *\n * _.deburr('dj vu');\n * // => 'deja vu'\n */\nfunction deburr(string) {\n  string = toString(string);\n  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n}\n\nexport default deburr;\n","/** Used to match words composed of alphanumeric characters. */\nvar reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n/**\n * Splits an ASCII `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction asciiWords(string) {\n  return string.match(reAsciiWord) || [];\n}\n\nexport default asciiWords;\n","/** Used to detect strings that need a more robust regexp to match words. */\nvar reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n/**\n * Checks if `string` contains a word composed of Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a word is found, else `false`.\n */\nfunction hasUnicodeWord(string) {\n  return reHasUnicodeWord.test(string);\n}\n\nexport default hasUnicodeWord;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsDingbatRange = '\\\\u2700-\\\\u27bf',\n    rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n    rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n    rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n    rsPunctuationRange = '\\\\u2000-\\\\u206f',\n    rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n    rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f',\n    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\",\n    rsBreak = '[' + rsBreakRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsDigits = '\\\\d+',\n    rsDingbat = '[' + rsDingbatRange + ']',\n    rsLower = '[' + rsLowerRange + ']',\n    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsUpper = '[' + rsUpperRange + ']',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n    rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n    rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n    rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n    reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n    rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq;\n\n/** Used to match complex or compound words. */\nvar reUnicodeWord = RegExp([\n  rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n  rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n  rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n  rsUpper + '+' + rsOptContrUpper,\n  rsOrdUpper,\n  rsOrdLower,\n  rsDigits,\n  rsEmoji\n].join('|'), 'g');\n\n/**\n * Splits a Unicode `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction unicodeWords(string) {\n  return string.match(reUnicodeWord) || [];\n}\n\nexport default unicodeWords;\n","import asciiWords from './_asciiWords.js';\nimport hasUnicodeWord from './_hasUnicodeWord.js';\nimport toString from './toString.js';\nimport unicodeWords from './_unicodeWords.js';\n\n/**\n * Splits `string` into an array of its words.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {RegExp|string} [pattern] The pattern to match words.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the words of `string`.\n * @example\n *\n * _.words('fred, barney, & pebbles');\n * // => ['fred', 'barney', 'pebbles']\n *\n * _.words('fred, barney, & pebbles', /[^, ]+/g);\n * // => ['fred', 'barney', '&', 'pebbles']\n */\nfunction words(string, pattern, guard) {\n  string = toString(string);\n  pattern = guard ? undefined : pattern;\n\n  if (pattern === undefined) {\n    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n  }\n  return string.match(pattern) || [];\n}\n\nexport default words;\n","import arrayReduce from './_arrayReduce.js';\nimport deburr from './deburr.js';\nimport words from './words.js';\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\";\n\n/** Used to match apostrophes. */\nvar reApos = RegExp(rsApos, 'g');\n\n/**\n * Creates a function like `_.camelCase`.\n *\n * @private\n * @param {Function} callback The function to combine each word.\n * @returns {Function} Returns the new compounder function.\n */\nfunction createCompounder(callback) {\n  return function(string) {\n    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n  };\n}\n\nexport default createCompounder;\n","import createCompounder from './_createCompounder.js';\n\n/**\n * Converts `string` to\n * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the kebab cased string.\n * @example\n *\n * _.kebabCase('Foo Bar');\n * // => 'foo-bar'\n *\n * _.kebabCase('fooBar');\n * // => 'foo-bar'\n *\n * _.kebabCase('__FOO_BAR__');\n * // => 'foo-bar'\n */\nvar kebabCase = createCompounder(function(result, word, index) {\n  return result + (index ? '-' : '') + word.toLowerCase();\n});\n\nexport default kebabCase;\n","import { loadCSS, loadScript } from '../../scripts/aem.js';\nimport { getTextLabel } from '../../scripts/common.js';\n\n// based on: https://developers.google.com/speed/webp/faq\nasync function isWebpSupported() {\n  const testImages = [\n    // lossy\n    'UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA',\n    // lossless\n    'UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==',\n  ];\n  const lossyImg = new Image();\n  const lossLessImg = new Image();\n  const promises = [];\n\n  [lossyImg, lossLessImg].forEach((img, index) => {\n    const promise = new Promise((resolve) => {\n      img.onload = () => {\n        const result = img.width > 0 && img.height > 0;\n        resolve(result);\n      };\n      img.onerror = () => {\n        resolve(false);\n      };\n      img.src = `data:image/webp;base64,${testImages[index]}`;\n    });\n\n    promises.push(promise);\n  });\n\n  return Promise.all(promises).then((values) => values.every((val) => val));\n}\n\nasync function renderBlock(block) {\n  const styles = ['https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/core@5.1.4/index.min.css'];\n  const scripts = [\n    'https://cdn.jsdelivr.net/npm/three@0.150.1/build/three.min.js',\n    'https://cdn.jsdelivr.net/npm/@photo-sphere-viewer/core@5.1.4/index.min.js',\n  ];\n  const canUseWebp = isWebpSupported();\n  let imageLink = '';\n\n  if (canUseWebp) {\n    const webpImageEl = block.querySelector('picture source[type=\"image/webp\"]');\n    imageLink = webpImageEl?.srcset;\n  }\n  if (!imageLink) {\n    imageLink = block.querySelector('img')?.src;\n  }\n\n  const [address, params] = imageLink.split('?');\n  const paramsWithoutWidth = params\n    .split('&')\n    .filter((param) => !param.startsWith('width='))\n    .join('&');\n  const finalImageLink = `${address}?${paramsWithoutWidth}`;\n\n  block.innerHTML = '';\n\n  const initPhotosphere = () => {\n    // eslint-disable-next-line no-undef\n    const viewer = new PhotoSphereViewer.Viewer({\n      container: '.photosphere.block',\n      panorama: finalImageLink,\n      touchmoveTwoFingers: true,\n      mousewheelCtrlKey: true,\n      fisheye: true,\n      moveSpeed: 1.1,\n      navbar: false,\n      defaultZoomLvl: 50,\n      useXmpData: false,\n    });\n    const ctrlZoomId = 'ctrlZoom';\n    const outOfImageId = 'outOfImage';\n    const photosphereContainer = document.querySelector('.psv-container');\n    let showCustomOverlay = false;\n    let isCtrlZoomOverlayShown = false;\n\n    function showOverlay() {\n      viewer.overlay.show({\n        id: outOfImageId,\n        title: getTextLabel('photosphere:360_image'),\n      });\n      showCustomOverlay = true;\n    }\n\n    viewer.addEventListener('ready', showOverlay, { once: true });\n\n    photosphereContainer.addEventListener('mouseover', (event) => {\n      if (event.currentTarget === photosphereContainer) {\n        viewer.overlay.hide(outOfImageId);\n        showCustomOverlay = false;\n      }\n    });\n\n    photosphereContainer.addEventListener('mouseout', (event) => {\n      if (event.currentTarget === photosphereContainer && !isCtrlZoomOverlayShown) {\n        showOverlay();\n      }\n\n      showCustomOverlay = true;\n    });\n\n    viewer.addEventListener('show-overlay', (event) => {\n      if (event.overlayId === ctrlZoomId) {\n        isCtrlZoomOverlayShown = true;\n      }\n    });\n\n    viewer.addEventListener('hide-overlay', (event) => {\n      if (event.overlayId === ctrlZoomId) {\n        isCtrlZoomOverlayShown = false;\n\n        if (showCustomOverlay) {\n          showOverlay();\n        }\n      }\n    });\n  };\n\n  // adding photosphere styles\n  styles.forEach((styleSheet) => {\n    loadCSS(styleSheet);\n  });\n\n  // adding photosphere scripts\n\n  for (const script of scripts) {\n    await loadScript(script, { type: 'text/javascript', charset: 'UTF-8' });\n  }\n\n  initPhotosphere();\n}\n\nexport default async function decorate(block) {\n  const observer = new IntersectionObserver(\n    (entries) => {\n      if (entries.some((e) => e.isIntersecting)) {\n        observer.disconnect();\n        renderBlock(block);\n      }\n    },\n    {\n      rootMargin: '300px',\n    },\n  );\n  observer.observe(block);\n}\n","import { loadBlock } from '../../scripts/aem.js';\nimport { createElement } from '../../scripts/common.js';\nimport { decorateLinks } from '../../scripts/scripts.js';\nimport { variantClasses as heroVariantClasses } from '../v2-hero/v2-hero.js';\n\nfunction buildRevealHero(innerBlockCode, v2HeroRevealBlockClassList) {\n  return getV2HeroBlockCode(innerBlockCode, v2HeroRevealBlockClassList);\n}\n\nfunction isCountDownFinished(eventTime) {\n  const now = new Date();\n  const diff = eventTime - now;\n\n  return diff <= 0;\n}\n\nfunction getV2HeroBlockCode(innerBlockCode, v2HeroRevealBlockClassList) {\n  const block = createElement('div', { classes: ['v2-hero', 'block'], props: { 'data-block-name': 'v2-hero', 'data-block-status': 'initialized' } });\n  const providedVariantClasses = Array.from(v2HeroRevealBlockClassList).filter((className) => heroVariantClasses.includes(className));\n\n  block.append(innerBlockCode);\n\n  block.classList.add(...providedVariantClasses);\n\n  return block;\n}\n\nfunction validateBlockConfiguration(blockRows) {\n  if (blockRows.length !== 2) {\n    console.warn('V2 Hero Reveal block: Block misconfigured, please provide Countdown and Reveal Hero blocks.');\n    return false;\n  }\n  return true;\n}\n\nfunction validateHeroBlocks(preRevealCountdownHeroBlock, revealHeroBlock) {\n  if (!preRevealCountdownHeroBlock || !revealHeroBlock) {\n    console.warn('V2 Hero Reveal block: Countdown and Reveal Hero blocks not provided.');\n    return false;\n  }\n  return true;\n}\n\nfunction validateRevealDate(revealEventTimeIso) {\n  if (!revealEventTimeIso) {\n    console.warn('V2 Hero Reveal block: Reveal date not provided in the Section Metadata.');\n    return false;\n  }\n\n  if (isNaN(new Date(revealEventTimeIso))) {\n    console.warn('V2 Hero Reveal block: Reveal date invalid.');\n    return false;\n  }\n  return true;\n}\n\nfunction initializeHeroBlock(preRevealCountdownHeroBlock, revealHeroBlock, eventTime, blockClassList) {\n  let v2HeroBlock;\n\n  if (isCountDownFinished(eventTime)) {\n    v2HeroBlock = buildRevealHero(revealHeroBlock, blockClassList);\n  } else {\n    v2HeroBlock = buildRevealHero(preRevealCountdownHeroBlock, blockClassList);\n\n    const intervalId = setInterval(() => {\n      if (isCountDownFinished(eventTime)) {\n        const newV2HeroBlock = buildRevealHero(revealHeroBlock, blockClassList);\n\n        v2HeroBlock.replaceWith(newV2HeroBlock);\n        loadBlock(newV2HeroBlock);\n        decorateLinks(newV2HeroBlock);\n        clearInterval(intervalId);\n      }\n    }, 500);\n  }\n\n  return v2HeroBlock;\n}\n\nfunction decorate(block) {\n  const blockRows = block.querySelectorAll(':scope > div');\n\n  if (!validateBlockConfiguration(blockRows)) {\n    return;\n  }\n\n  const preRevealCountdownHeroBlock = blockRows[0]?.cloneNode(true);\n  const revealHeroBlock = blockRows[1]?.cloneNode(true);\n\n  if (!validateHeroBlocks(preRevealCountdownHeroBlock, revealHeroBlock)) {\n    return;\n  }\n\n  const blockSection = block.parentElement?.parentElement;\n  const revealEventTimeIso = blockSection?.dataset?.revealDate;\n\n  if (!validateRevealDate(revealEventTimeIso)) {\n    return;\n  }\n\n  const eventTime = new Date(revealEventTimeIso);\n  const blockClassList = block.classList;\n\n  const v2HeroBlock = initializeHeroBlock(preRevealCountdownHeroBlock, revealHeroBlock, eventTime, blockClassList);\n\n  decorateLinks(v2HeroBlock);\n  block.replaceWith(v2HeroBlock);\n  loadBlock(v2HeroBlock);\n}\n\nexport default decorate;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","import { createElement, decorateIcons, getLocale } from '../../scripts/common.js';\nimport { autosuggestQuery, fetchSearchData, TENANT } from '../../scripts/search-api.js';\n\nconst autoSuggestClass = 'autosuggest-results-item-highlighted';\n\nexport function fetchAutosuggest(term, autosuggestEle, rowEle, func, showSearchIcon, maxSuggestions) {\n  const fragmentRange = document.createRange();\n  const locale = getLocale();\n  const language = locale.split('-')[0].toUpperCase();\n\n  if (!TENANT) {\n    console.error('%cTenant %cis not defined', 'color: red', 'color: default');\n    return;\n  }\n\n  fetchSearchData({\n    query: autosuggestQuery(),\n    variables: {\n      tenant: TENANT,\n      term,\n      language,\n      sizeSuggestions: maxSuggestions || 5,\n    },\n  }).then(({ errors, data }) => {\n    if (errors) {\n      console.log('%cSomething went wrong', { errors });\n    } else {\n      const { edsWordPhraseSuggest: { terms } = {} } = data;\n      autosuggestEle.textContent = '';\n      autosuggestEle.classList.remove('show');\n\n      if (terms.length) {\n        terms.forEach((val) => {\n          const row = createElement(rowEle.tag, { classes: rowEle.class, props: rowEle.props });\n          let suggestionContent = `<b>${val}</b>`;\n          if (showSearchIcon) {\n            suggestionContent = `\n              <span class=\"icon icon-search-icon\"></span>\n              <span>${val.replaceAll(term, `<b>${term}</b>`)}</span>\n            `;\n          }\n          const suggestFragment = fragmentRange.createContextualFragment(suggestionContent);\n          row.appendChild(suggestFragment);\n          row.onclick = () => func(val);\n          decorateIcons(row);\n          autosuggestEle.appendChild(row);\n          autosuggestEle.classList.add('show');\n        });\n      }\n    }\n  });\n}\n\nexport function handleArrowUp(props) {\n  let { liSelected, next, index } = props;\n  const { list } = props;\n  const listLen = list.length - 1;\n\n  if (liSelected) {\n    liSelected.classList.remove(autoSuggestClass);\n    index -= 1;\n\n    next = list[index];\n    if (next && index >= 0) {\n      liSelected = next;\n    } else {\n      index = list.length - 1;\n      liSelected = list[index];\n    }\n  } else {\n    index = 0;\n    liSelected = list[listLen];\n  }\n\n  liSelected.classList.add(autoSuggestClass);\n  return { liSelected, index, next };\n}\n\nexport function handleArrowDown(props) {\n  let { index, liSelected, next } = props;\n  const { list } = props;\n\n  index += 1;\n\n  if (liSelected) {\n    liSelected.classList.remove(autoSuggestClass);\n\n    next = list[index];\n    if (next && index < list.length) {\n      liSelected = next;\n    } else {\n      index = 0;\n      [liSelected] = list;\n    }\n  } else {\n    index = 0;\n    [liSelected] = list;\n  }\n\n  liSelected.classList.add(autoSuggestClass);\n  return { index, liSelected, next };\n}\n","import { createElement } from './common.js';\nimport { smoothScrollHorizontal } from './motion-helper.js';\n\n/**\n * Listens to scroll events and triggers a function when elements intersect with the viewport\n *\n * @param {HTMLElement} carousel - The carousel container element.\n * @param {HTMLElement[]} elements - The elements to observe for intersection.\n * @param {HTMLElement} navigation - The navigation element.\n * @param {Function} updateFn - Function to be called when an element intersects with the viewport\n * @param {number} [threshold=1] - The threshold at which to trigger the update function.\n */\nexport const listenScroll = (carousel, elements, navigation, updateFn, threshold = 1) => {\n  const io = new IntersectionObserver(\n    (entries) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          updateFn(elements, entry, navigation);\n        }\n      });\n    },\n    {\n      root: carousel,\n      threshold,\n    },\n  );\n\n  elements.forEach((el) => {\n    io.observe(el);\n  });\n};\n\n/**\n * Sets the position of the carousel to the specified index.\n *\n * @param {HTMLElement} carousel - The carousel element.\n * @param {number} index - The index to set the carousel position to.\n * @param {boolean} [smoothScroll=true] - Whether to use smooth scrolling or not. Default is true.\n * @param {number} [scrollDuration=960] - The duration of the scroll animation. Default is 960ms.\n */\nexport const setCarouselPosition = (carousel, index, smoothScroll = true, scrollDuration = 960) => {\n  const carouselStyle = window.getComputedStyle(carousel);\n  const gap = parseFloat(carouselStyle.columnGap || 0);\n  const firstEl = carousel.firstElementChild;\n  const elementWidth = firstEl.getBoundingClientRect().width;\n  const totalWidth = elementWidth + gap;\n  const targetX = index * totalWidth;\n\n  if (smoothScroll) {\n    smoothScrollHorizontal(carousel, targetX, scrollDuration);\n  } else {\n    const style = window.getComputedStyle(firstEl);\n    const marginLeft = parseFloat(style.marginLeft);\n\n    carousel.scrollTo({\n      left: targetX + marginLeft,\n      behavior: 'instant',\n    });\n  }\n};\n\n/**\n * Moves the navigation line to the active tab by manipulating CSS custom properties.\n *\n * @param {HTMLElement} activeTab - The active tab element.\n * @param {HTMLElement} tabNavigation - The tab navigation element.\n */\nexport const moveNavigationLine = (activeTab, tabNavigation) => {\n  const { x: navigationX } = tabNavigation.getBoundingClientRect();\n  const { x, width } = activeTab.getBoundingClientRect();\n  tabNavigation.style.setProperty('--navigation-line-width', `${width}`);\n  tabNavigation.style.setProperty('--navigation-line-left', `${x + tabNavigation.scrollLeft - navigationX}px`);\n};\n\n/**\n * Creates arrow controls for a carousel.\n *\n * @param {HTMLElement} carousel - The carousel element.\n * @param {string} scrollSelector - The selector for the scrollable items within the carousel.\n * @param {string[]} controlClasses - The classes to apply to the arrow controls.\n * @param {DocumentFragment} arrowFragment - The arrow controls as a document fragment.\n */\nexport const createArrowControls = (carousel, scrollSelector, controlClasses, arrowFragment) => {\n  /**\n   * Navigates the carousel in the specified direction.\n   *\n   * @param {string} direction - The direction to navigate ('left' or 'right').\n   */\n  function navigate(direction) {\n    const activeItem = carousel.querySelector(scrollSelector);\n    let index = [...activeItem.parentNode.children].indexOf(activeItem);\n    if (direction === 'left') {\n      index -= 1;\n      if (index === -1) {\n        // Go to the last item if at the start\n        index = carousel.childElementCount;\n      }\n    } else {\n      index += 1;\n      if (index > carousel.childElementCount - 1) {\n        index = 0; // Go to the first item if at the end\n      }\n    }\n\n    setCarouselPosition(carousel, index);\n  }\n\n  const arrowControls = createElement('ul', { classes: controlClasses });\n  arrowControls.append(...arrowFragment.children);\n  carousel.insertAdjacentElement('beforebegin', arrowControls);\n  const [prevButton, nextButton] = arrowControls.querySelectorAll(':scope button');\n  prevButton.addEventListener('click', () => navigate('left'));\n  nextButton.addEventListener('click', () => navigate('right'));\n};\n","import { getDateFromTimestamp } from '../../scripts/common.js';\nimport { createOptimizedPicture, getMetadata, toClassName } from '../../scripts/aem.js';\nimport { fetchMagazineArticles, removeArticlesWithNoImage, sortArticlesByDateField } from '../../scripts/services/magazine.service.js';\n\nconst buildRelatedMagazineArticle = (entry) => {\n  const {\n    metadata: {\n      url,\n      image,\n      title,\n      article: { author, readTime },\n      publishDate,\n    },\n  } = entry;\n\n  const card = document.createElement('article');\n  const picture = createOptimizedPicture(image, title, false, [{ width: '380', height: '214' }]);\n  const pictureTag = picture.outerHTML;\n  const formattedDate = getDateFromTimestamp(publishDate);\n  card.innerHTML = `\n    <a href=\"${url}\" class=\"imgcover\">${pictureTag}</a>\n    <div class=\"content\">\n      <ul><li>${formattedDate}</li></ul>\n      <h3><a href=\"${url}\">${title}</a></h3>\n      <ul>\n        <li>${author}</li>\n        <li>${readTime}</li>\n      </ul>\n    </div>\n  `;\n  return card;\n};\n\nconst filterArticles = (articles, filterTags, thisArticleTitle) => {\n  const processTags = (article) => {\n    const tags = [...(article.metadata.article.category || []), ...(article.metadata.article.topic || []), ...(article.metadata.article.truck || [])];\n    return tags.map((tag) => toClassName(tag.trim()));\n  };\n\n  articles.forEach((article) => {\n    article.filterTag = processTags(article);\n  });\n\n  const sortedArticles = sortArticlesByDateField(articles, 'publishDate');\n  const filteredArticles = sortedArticles.filter((article) => article.metadata.title !== thisArticleTitle).slice(0, 3);\n\n  return filteredArticles;\n};\n\nconst createRelatedMagazineArticles = async (mainEl, magazineArticles) => {\n  const metadataTags = ['article-category', 'topic', 'truck'];\n  const articleTags = metadataTags.reduce((acc, metaTag) => {\n    const metaContent = getMetadata(metaTag);\n    if (metaContent) {\n      acc.push(...metaContent.split(',').map((tag) => toClassName(tag.trim())));\n    }\n    return acc;\n  }, []);\n  const articleTitle = getMetadata('og:title');\n  const filteredData = filterArticles(magazineArticles, articleTags, articleTitle);\n\n  mainEl.textContent = '';\n  const articleCards = document.createElement('div');\n  articleCards.classList.add('related-magazine-articles');\n  mainEl.appendChild(articleCards);\n  filteredData.forEach((entry) => {\n    const articleCard = buildRelatedMagazineArticle(entry);\n    articleCards.appendChild(articleCard);\n  });\n};\n\nexport default async function decorate(block) {\n  const allArticles = await fetchMagazineArticles({ sort: 'PUBLISH_DATE_DESC' });\n  const articles = removeArticlesWithNoImage(allArticles);\n\n  createRelatedMagazineArticles(block, articles);\n}\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as r}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const s=globalThis;class i extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=e(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return r}}i._$litElement$=!0,i[\"finalized\"]=!0,s.litElementHydrateSupport?.({LitElement:i});const o=s.litElementPolyfillSupport;o?.({LitElement:i});const n={_$AK:(t,e,r)=>{t._$AK(e,r)},_$AL:t=>t._$AL};(s.litElementVersions??=[]).push(\"4.2.1\");export{i as LitElement,n as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","import { debounce, getLocale, getTextLabel } from '../../scripts/common.js';\nimport { getFacetsTemplate, getNoResultsTemplate, getMainTemplate, getResultsItemsTemplate, getShowingResultsTemplate } from './templates.js';\n\nimport { searchQuery, fetchSearchData, sanitizeQueryTerm, TENANT } from '../../scripts/search-api.js';\n\nimport { fetchAutosuggest, handleArrowDown, handleArrowUp } from './autosuggest.js';\n\nconst PLACEHOLDERS = {\n  searchFor: getTextLabel('search:search_for'),\n  noResults: getTextLabel('search:no_results'),\n  refine: getTextLabel('search:refine'),\n  showingResults: getTextLabel('search:showing_results_for'), // searchResultSummarySection\n  sortBy: getTextLabel('search:sort_by'), // searchOptionsSection\n  sortFilter: getTextLabel('search:sort_filter'),\n  previous: getTextLabel('search:previous'),\n  next: getTextLabel('search:next'),\n};\n\nconst SEARCH_PARAMS = {\n  _q: 'q',\n  _start: 'start',\n  _sort: 'sort',\n  _article: 'article',\n  _topic: 'topic',\n  _truck: 'truck',\n  _category: 'category',\n};\n\nexport default function decorate(block) {\n  const fragmentRange = document.createRange();\n  const locale = getLocale();\n  const language = locale.split('-')[0].toUpperCase();\n\n  // check if url has query params\n  const { _q, _start, _sort, _article, _topic, _truck, _category } = SEARCH_PARAMS;\n  const urlParams = new URLSearchParams(window.location.search);\n  const searchTerm = urlParams.get(_q);\n  const tenant = TENANT;\n  let offset = urlParams.get(_start);\n  offset = offset ? Number(offset) : 0;\n  let resultCount = 0;\n  const limit = 25;\n  let nextOffset = offset + limit;\n  let hasResults = true;\n  let facetsFilters = [];\n\n  const mainTemplate = getMainTemplate(PLACEHOLDERS);\n  const mainFragment = fragmentRange.createContextualFragment(mainTemplate);\n  block.textContent = '';\n  block.appendChild(mainFragment);\n\n  // after insert the main template, these elements are present then\n  const searchBtn = block.querySelector('.sf-form > span');\n  const input = document.getElementById('searchTerm');\n  input.value = searchTerm;\n  const facetsWrapper = document.getElementById('searchFacetSection');\n  const resultsWrapper = document.getElementById('searchResultsSection');\n  const summary = document.getElementById('searchResultSummarySection');\n  const sortBy = document.getElementById('searchOptionsSection');\n  const listEl = block.querySelector('.autosuggest__results-container ul');\n\n  function searchResults(hideAutoSuggest = true) {\n    if (hideAutoSuggest) {\n      listEl.textContent = '';\n    }\n    offset = 0;\n\n    deleteUrlParam(_category);\n    insertUrlParam(_q, input.value);\n    insertUrlParam(_start, offset);\n\n    fetchResults();\n  }\n\n  searchBtn.onclick = () => searchResults();\n\n  const onClickHandler = (val) => {\n    input.value = val;\n    searchResults();\n  };\n\n  const delayFetchData = debounce((term) =>\n    fetchAutosuggest(\n      term,\n      listEl,\n      {\n        tag: 'li',\n        class: 'autosuggest__results-item',\n        props: {\n          role: 'option',\n          'data-section-name': 'default',\n        },\n      },\n      onClickHandler,\n    ),\n  );\n\n  let liSelected;\n  let next;\n  let index = -1;\n\n  input.onkeyup = (e) => {\n    const term = e.target.value;\n    const list = listEl.getElementsByTagName('li');\n\n    if (e.key === 'Enter') {\n      searchResults();\n    } else if (e.key === 'Escape') {\n      listEl.textContent = '';\n    } else if (['ArrowUp', 'ArrowDown'].includes(e.key)) {\n      let returnObj;\n\n      if (e.key === 'ArrowUp') {\n        returnObj = handleArrowUp({\n          list,\n          liSelected,\n          index,\n          next,\n        });\n      } else {\n        returnObj = handleArrowDown({\n          list,\n          liSelected,\n          index,\n          next,\n        });\n      }\n\n      liSelected = returnObj.liSelected;\n      index = returnObj.index;\n      next = returnObj.next;\n      input.value = liSelected.firstElementChild.textContent.replace(/[ ]{2,}/g, '');\n      searchResults(false);\n    } else {\n      delayFetchData(term);\n    }\n  };\n\n  // pagination events\n  const paginationContainer = block.querySelector('.search-pagination-container');\n  const countSpan = paginationContainer.querySelector('.count');\n  const resRange = paginationContainer.querySelector('.page-range');\n\n  const nextBtn = paginationContainer.querySelector('.next');\n  nextBtn.onclick = () => pagination('next');\n\n  const prevBtn = paginationContainer.querySelector('.prev');\n  prevBtn.onclick = () => pagination('prev');\n\n  const addMoreBtnToggleEvent = (e) => {\n    const facetList = e.target.parentElement.previousElementSibling;\n    const isMore = e.target.textContent.toLowerCase() === 'more';\n    e.target.textContent = isMore ? 'Less' : 'More';\n    [...facetList.children].forEach((li, i) => {\n      if (i <= 2) {\n        return;\n      }\n      li.classList.toggle('d-none', !isMore);\n    });\n  };\n\n  const addFacetTitlesToggleEvent = (e) => {\n    const titleList = e.target.closest('.sidebar-heading').nextElementSibling;\n    const isShown = titleList.classList.contains('show');\n    e.target.classList.toggle('active', !isShown);\n    titleList.classList.toggle('show', !isShown);\n  };\n\n  const addToggleOverlayEvent = (sidebar, overlay, isOpen = false) => {\n    const showClass = 'show-facet-overlay';\n    sidebar.classList.toggle(showClass, isOpen);\n    overlay.classList.toggle(showClass, isOpen);\n  };\n\n  // handle filters\n  const addFilterEvent = (e, form) => {\n    form.requestSubmit();\n  };\n\n  const updateFilterCheckbox = () => {\n    const form = block.querySelector('form');\n    [...form].forEach((field) => {\n      const isChecked = facetsFilters.find(({ value }) => value.includes(field.value));\n      if (isChecked) {\n        field.checked = true;\n      }\n    });\n  };\n\n  const addFilterSubmitEvent = (e) => {\n    e.preventDefault();\n    const form = e.target;\n    const inputsChecked = [];\n    [...form].forEach((field) => {\n      inputsChecked.push(field.id);\n\n      const facetIndex = facetsFilters.findIndex((item) => item.field === field.dataset.filter);\n\n      if (facetIndex > -1) {\n        facetsFilters[facetIndex].value = facetsFilters[facetIndex].value.filter((val) => val !== field.value);\n\n        if (field.checked) {\n          facetsFilters[facetIndex].value.push(field.value);\n        }\n        if (!facetsFilters[facetIndex].value.length) {\n          facetsFilters = facetsFilters.filter((item) => item.field !== field.dataset.filter);\n        }\n      } else if (field.checked) {\n        facetsFilters.push({\n          field: field.dataset.filter,\n          value: [field.value],\n        });\n      }\n    });\n    const filterParams = [_article, _topic, _truck, _category];\n\n    filterParams.forEach((item) => {\n      const filter = facetsFilters.find(({ field }) => field.toLowerCase() === item);\n\n      if (filter) {\n        insertUrlParam(item, filter.value);\n        return;\n      }\n      deleteUrlParam(item);\n    });\n    facetsFilters = [];\n    offset = 0;\n    insertUrlParam(_start, offset);\n    fetchResults();\n  };\n\n  const addFacetsEvents = (facets) => {\n    if (!facets) {\n      return;\n    }\n    const facetSidebar = facets.querySelector('.sf-sidebar-container');\n    const facetOverlay = facets.querySelector('.sidebar-background');\n    const closeBtns = facets.querySelectorAll('.search-close-button, .close-button');\n    const titles = facets.querySelectorAll('.sidebar-heading a');\n    const filtersForm = facets.querySelector('#facetsFilters');\n    if (titles.length > 0) {\n      [...titles].forEach((title) => {\n        title.onclick = addFacetTitlesToggleEvent;\n      });\n    }\n    const moreBtns = facets.querySelectorAll('.more-less a');\n    if (moreBtns.length > 0) {\n      [...moreBtns].forEach((btn) => {\n        btn.onclick = addMoreBtnToggleEvent;\n      });\n    }\n    const filterByBtn = facets.querySelector('.pill');\n    filterByBtn.onclick = () => {\n      addToggleOverlayEvent(facetSidebar, facetOverlay, true);\n    };\n\n    [...closeBtns].forEach((btn) => {\n      btn.onclick = () => addToggleOverlayEvent(facetSidebar, facetOverlay);\n    });\n\n    filtersForm.addEventListener('submit', addFilterSubmitEvent);\n    filtersForm.onchange = (e) => addFilterEvent(e, filtersForm);\n\n    if (facetsFilters.length) {\n      updateFilterCheckbox();\n    }\n  };\n\n  // handle sort\n  const sortResults = block.querySelector('.custom-select-searchstudio-js');\n  const sort = urlParams.get(_sort);\n  if (sort) {\n    sortResults.value = sort;\n  }\n  sortResults.onchange = (e) => {\n    insertUrlParam(_sort, e.target.value);\n    fetchResults();\n  };\n\n  function showResults(data) {\n    const { items, count, facets } = data;\n    const queryTerm = sanitizeQueryTerm(input.value);\n    let resultsText = '';\n    let facetsText = null;\n    if (items.length > 0) {\n      // items by query: 25, count has the total\n      paginationContainer.classList.add('show');\n      summary.parentElement.classList.remove('no-results');\n      resultsText = getResultsItemsTemplate({ items, queryTerm });\n      facetsText = getFacetsTemplate(facets);\n      resultCount = count;\n      hasResults = true;\n    } else {\n      const noResults = PLACEHOLDERS.noResults.replace('$0', `\"<span>${queryTerm.trim() === '' ? ' ' : queryTerm}</span>\"`);\n      summary.parentElement.classList.add('no-results');\n      resultsText = getNoResultsTemplate({ noResults, refine: PLACEHOLDERS.refine });\n      hasResults = false;\n    }\n    const fragment = fragmentRange.createContextualFragment(resultsText);\n    summary.textContent = '';\n    resultsWrapper.textContent = '';\n    facetsWrapper.textContent = '';\n    if (hasResults) {\n      const newOffset = nextOffset > count ? count : nextOffset;\n      const showingResults = PLACEHOLDERS.showingResults\n        .replace('$0', `${count > 0 ? offset + 1 : 0}`)\n        .replace('$1', newOffset)\n        .replace('$2', count)\n        .replace('$3', queryTerm);\n      const showingResultsText = getShowingResultsTemplate(showingResults);\n      const summaryFragment = fragmentRange.createContextualFragment(showingResultsText);\n      const facetsFragment = fragmentRange.createContextualFragment(facetsText);\n      resultsWrapper.appendChild(fragment);\n      summary.appendChild(summaryFragment);\n      facetsWrapper.appendChild(facetsFragment);\n      addFacetsEvents(facetsWrapper);\n    } else {\n      summary.appendChild(fragment);\n      paginationContainer.classList.remove('show');\n    }\n    sortBy.classList.toggle('hide', !hasResults);\n  }\n\n  function deleteUrlParam(key) {\n    if (window.history.pushState) {\n      const searchUrl = new URL(window.location.href);\n      searchUrl.searchParams.delete(key);\n      window.history.pushState({}, '', searchUrl.toString());\n    }\n  }\n\n  function insertUrlParam(key, value) {\n    if (window.history.pushState) {\n      const searchUrl = new URL(window.location.href);\n      searchUrl.searchParams.set(key, value);\n      window.history.pushState({}, '', searchUrl.toString());\n    }\n  }\n\n  function updatePaginationDOM(data) {\n    let isPrevDisabled = false;\n    let isNextDisabled = false;\n    const rangeText = `${offset + 1}-${nextOffset >= resultCount ? resultCount : nextOffset}`;\n\n    // disable the prev , next buttons\n    if (offset === 0) {\n      isPrevDisabled = 'disabled';\n    }\n    if (nextOffset >= data.count) {\n      isNextDisabled = 'disabled';\n    }\n    prevBtn.setAttribute('disabled', isPrevDisabled);\n    nextBtn.setAttribute('disabled', isNextDisabled);\n    resRange.innerText = rangeText;\n  }\n\n  async function fetchResults() {\n    const searchParams = new URLSearchParams(window.location.search);\n    const queryTerm = sanitizeQueryTerm(searchParams.get(_q));\n    const offsetVal = Number(searchParams.get(_start));\n    const sortVal = searchParams.get(_sort) || 'BEST_MATCH';\n\n    const filters = {\n      category: { field: 'CATEGORY', value: _category },\n      article: { field: 'ARTICLE', value: _article },\n      topic: { field: 'TOPIC', value: _topic },\n      truck: { field: 'TRUCK', value: _truck },\n    };\n    const objectFilters = Object.keys(filters);\n\n    const variables = {\n      q: queryTerm,\n      language,\n      limit,\n      offset: offsetVal,\n      sort: sortVal,\n      tenant,\n      facets: [...objectFilters.map((key) => filters[key].field)],\n      article: {},\n    };\n\n    objectFilters.forEach((key) => {\n      // check for filters in the url ...\n      const value = searchParams.get(filters[key].value);\n      // updates the variables object ...\n      if (value) {\n        const splittedValue = value.split(',');\n        if (key === 'category') {\n          variables[key] = splittedValue;\n        } else {\n          const articleKey = key === 'article' ? 'category' : key;\n          variables.article[articleKey] = splittedValue;\n        }\n        // and updates the facetsFilters to be used to update the checkboxes\n        facetsFilters.push({\n          field: filters[key].field,\n          value: splittedValue,\n        });\n      }\n    });\n\n    if (!tenant) {\n      console.error('%cTenant %cis not defined', 'color: red', 'color: default');\n      return;\n    }\n\n    fetchSearchData({\n      query: searchQuery(),\n      variables,\n    }).then(({ errors, data }) => {\n      if (errors) {\n        console.log('%cSomething went wrong', errors);\n      } else {\n        const { edssearch } = data;\n        nextOffset = offset + limit;\n        countSpan.innerText = edssearch.count;\n        showResults(edssearch);\n        updatePaginationDOM(edssearch);\n      }\n    });\n  }\n\n  function getNextOffset(isNext = false) {\n    if (isNext) {\n      return nextOffset <= resultCount ? nextOffset : offset;\n    }\n    const temp = offset - limit;\n    return temp > 0 ? temp : 0;\n  }\n\n  function pagination(type) {\n    offset = getNextOffset(type === 'next');\n    insertUrlParam(_start, offset);\n    fetchResults();\n  }\n\n  // hide autocomplete, click was outside container.\n  const containingElement = document.querySelector('#searchInput');\n\n  document.body.addEventListener('click', (event) => {\n    if (!containingElement.contains(event.target)) {\n      listEl.textContent = '';\n    }\n  });\n\n  if (searchTerm) {\n    fetchResults();\n  }\n}\n","import { adjustPretitle, unwrapDivs } from '../../scripts/common.js';\n\nexport default function decorate(block) {\n  const blockName = 'v2-section-header';\n  const content = block.querySelector(':scope > div > div');\n  adjustPretitle(content);\n\n  const headings = content.querySelectorAll('h1, h2, h3, h4, h5, h6');\n  [...headings].forEach((heading) => heading.classList.add(`${blockName}__title`));\n\n  // Unwrap <div> tags\n  unwrapDivs(block);\n}\n","export default function decorate(block) {\n  // Hero block is rendered by script.js buildHeroBlock.\n  // The buildHeroBlock takes the first div and check if it contains all needed\n  // elements (pictures, h1, ...) and then render the auto hero block.\n  // In case when extra classes (variants) are needed the auto block can't be used,\n  // so the block needs to be added manually.\n  // The auto block will grab all the content of the manually added block,\n  // so the empty block should be removed.\n  if (block.innerText.trim() === '') {\n    block.remove();\n  }\n}\n","export default async function decorate(block) {\n  const iframe = document.createElement('iframe');\n  const link = block.querySelector('a')?.getAttribute('href');\n  const fixedHeightClass = [...block.classList].find((el) => /[0-9]+px/.test(el));\n\n  if (fixedHeightClass) {\n    iframe.height = fixedHeightClass;\n  }\n  iframe.src = link;\n  iframe.setAttribute('frameborder', 0);\n  block.replaceChildren(iframe);\n}\n","/**\n * OneTrust Cookies list is automatically injected into this block.\n * The OneTrust framework is loaded from delayed.js.\n * @param block\n */\nexport default function decorate(block) {\n  block.setAttribute('id', 'ot-sdk-cookie-policy');\n  block.textContent = '';\n}\n","import { createElement, variantsClassesToBEM } from '../../scripts/common.js';\n\nexport default async function decorate(block) {\n  let link = block.querySelector('a')?.getAttribute('href') || block.textContent.trim();\n\n  function removeDuplicateParams(queryString) {\n    const params = new URLSearchParams(queryString);\n    const uniqueParams = new URLSearchParams();\n\n    params.forEach((value, key) => {\n      if (!uniqueParams.has(key)) {\n        uniqueParams.append(key, value);\n      }\n    });\n\n    return uniqueParams.toString();\n  }\n\n  link += window.location.search ? `#/summary/?${removeDuplicateParams(window.location.search)}` : '';\n  if (!window.location.search && window.location.hash) {\n    link += window.location.hash;\n  }\n  const title = block.querySelector('h1, h2, h3, h4, h5, h6').textContent;\n  const iframe = createElement('iframe', {\n    props: {\n      src: link,\n      frameborder: 0,\n      title,\n      allow: 'clipboard-write',\n    },\n  });\n  const fixedHeightClass = [...block.classList].find((el) => /[0-9]+px/.test(el));\n\n  variantsClassesToBEM(block.classList, ['full-viewport'], 'v2-iframe');\n\n  if (fixedHeightClass) {\n    iframe.height = fixedHeightClass;\n  }\n\n  block.replaceChildren(iframe);\n}\n","import { getTextLabel, createElement } from '../../scripts/common.js';\nimport { loadCSS } from '../../scripts/aem.js';\n\nconst componentName = 'custom-dropdown';\n\n// NOTE: the code for this component was adapted from this page:\n// https://www.w3.org/WAI/ARIA/apg/patterns/combobox/examples/combobox-select-only/\n// Its here for further changes or reference\n\n// Save a list of named actions, for future readability\nconst SelectActions = {\n  Close: 0,\n  CloseSelect: 1,\n  First: 2,\n  Last: 3,\n  Next: 4,\n  Open: 5,\n  PageDown: 6,\n  PageUp: 7,\n  Previous: 8,\n  Select: 9,\n  Type: 10,\n};\n\n/**\n * Get the value of an option.\n *\n * @param {string | Object} option - The option to get the value from.\n * @returns {string} - The value of the option.\n */\nfunction getOptionValue(option) {\n  return typeof option === 'string' ? option : option.value;\n}\n\n/**\n * Get the label of an option.\n *\n * @param {string | Object} option - The option to get the label from.\n * @returns {string} - The label of the option.\n */\nfunction getOptionLabel(option) {\n  return typeof option === 'string' ? option : option.label;\n}\n\n/**\n * Filter an array of options against an input string.\n *\n * @param {string[]} options - The list of options to filter.\n * @param {string} filter - The search string to filter the options.\n * @param {string[]} [exclude=[]] - The list of options to exclude from the filtered list.\n * @returns {string[]} - Returns an array of options that begin with the filter string, case-independent.\n * @example\n * const options = ['Apple', 'Banana', 'Cherry'];\n * const filter = 'a';\n * const exclude = ['Banana'];\n * const filteredOptions = filterOptions(options, filter, exclude);\n * // expected output: ['Apple']\n */\nfunction filterOptions(options = [], filter, exclude = []) {\n  return options.filter((option) => {\n    const matches = option.toLowerCase().indexOf(filter.toLowerCase()) === 0;\n    return matches && exclude.indexOf(option) < 0;\n  });\n}\n\n/**\n * Map the key pressed to perform an action.\n *\n * @param {KeyboardEvent} event - The keyboard event.\n * @param {boolean} menuOpen - If the dropdown menu is open or not.\n * @returns {SelectActions} - The action to perform based on the key pressed.\n */\nfunction getActionFromKey(event, menuOpen) {\n  const { key, altKey, ctrlKey, metaKey } = event;\n  // all keys that will trigger the default open action\n  const openKeys = ['ArrowDown', 'ArrowUp', 'Enter', ' '];\n  // handle opening when closed\n  if (!menuOpen && openKeys.includes(key)) {\n    return SelectActions.Open;\n  }\n\n  // home and end move the selected option when open or closed\n  if (key === 'Home') {\n    return SelectActions.First;\n  }\n  if (key === 'End') {\n    return SelectActions.Last;\n  }\n\n  // handle typing characters when open or closed\n  if (key === 'Backspace' || key === 'Clear' || (key.length === 1 && key !== ' ' && !altKey && !ctrlKey && !metaKey)) {\n    return SelectActions.Type;\n  }\n\n  // handle keys when open\n  if (menuOpen) {\n    if (key === 'ArrowUp' && altKey) {\n      return SelectActions.CloseSelect;\n    } else if (key === 'ArrowDown' && !altKey) {\n      return SelectActions.Next;\n    } else if (key === 'ArrowUp') {\n      return SelectActions.Previous;\n    } else if (key === 'PageUp') {\n      return SelectActions.PageUp;\n    } else if (key === 'PageDown') {\n      return SelectActions.PageDown;\n    } else if (key === 'Escape') {\n      return SelectActions.Close;\n    } else if (key === 'Enter' || key === ' ') {\n      return SelectActions.CloseSelect;\n    }\n  }\n}\n\n/**\n * Get the index of an option from an array of options, based on a search string.\n * if the filter has multiple iterations of the same letter (e.g \"aaa\"), then cycle through first-letter matches\n *\n * @param {string[]} options - The list of options to search.\n * @param {string} filter - The search string to filter the options.\n * @param {number} [startIndex=0] - The index to start searching from.\n * @returns {number} - The index of the option from the list of options.\n * @example\n * const options = ['Apple', 'Banana', 'Cherry'];\n * const filter = 'a';\n * const startIndex = 0;\n * const index = getIndexByLetter(options, filter, startIndex);\n * // expected output: 0\n */\nfunction getIndexByLetter(options, filter, startIndex = 0) {\n  const orderedOptions = [...options.slice(startIndex), ...options.slice(0, startIndex)];\n  const firstMatch = filterOptions(orderedOptions, filter)[0];\n  const allSameLetter = (array) => array.every((letter) => letter === array[0]);\n\n  // first check if there is an exact match for the typed string\n  if (firstMatch) {\n    return options.indexOf(firstMatch);\n  }\n\n  // if the same letter is being repeated, cycle through first-letter matches\n  else if (allSameLetter(filter.split(''))) {\n    const matches = filterOptions(orderedOptions, filter[0]);\n    return options.indexOf(matches[0]);\n  }\n\n  // if no matches, return -1\n  else {\n    return -1;\n  }\n}\n\n/**\n * Get the updated index of an option after performing an action.\n *\n * @param {number} currentIndex - The current index of the option.\n * @param {number} maxIndex - The maximum index of the options.\n * @param {SelectActions} action - The action to perform.\n * @returns {number} - The updated index of the option.\n * @example\n * const currentIndex = 0;\n * const maxIndex = 2;\n * const action = SelectActions.Next;\n * const updatedIndex = getUpdatedIndex(currentIndex, maxIndex, action);\n * // expected output: 1\n */\nfunction getUpdatedIndex(currentIndex, maxIndex, action) {\n  const pageSize = 10; // used for pageup/pagedown\n\n  switch (action) {\n    case SelectActions.First:\n      return 0;\n    case SelectActions.Last:\n      return maxIndex;\n    case SelectActions.Previous:\n      return Math.max(0, currentIndex - 1);\n    case SelectActions.Next:\n      return Math.min(maxIndex, currentIndex + 1);\n    case SelectActions.PageUp:\n      return Math.max(0, currentIndex - pageSize);\n    case SelectActions.PageDown:\n      return Math.min(maxIndex, currentIndex + pageSize);\n    default:\n      return currentIndex;\n  }\n}\n\n/**\n * Check if an element is currently in the view port.\n *\n * @param {HTMLElement} element - The element to check if it is in the view port.\n * @returns {boolean} - Returns true if the element is in the view port, otherwise false.\n */\nfunction isElementInView(element) {\n  const bounding = element.getBoundingClientRect();\n\n  return (\n    bounding.top >= 0 &&\n    bounding.left >= 0 &&\n    bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n    bounding.right <= (window.innerWidth || document.documentElement.clientWidth)\n  );\n}\n\n/**\n * check if an element is currently scrollable\n *\n * @param {HTMLElement} element - The element to check if it is scrollable.\n * @returns {boolean} - Returns true if the element is scrollable, otherwise false.\n */\nfunction isScrollable(element) {\n  return element && element.clientHeight < element.scrollHeight;\n}\n\n/**\n * Ensure a given child element is within the parent's visible scroll area.\n * If the child is not visible, scroll the parent.\n *\n * @param {HTMLElement} activeElement - The child element to ensure is visible.\n * @param {HTMLElement} scrollParent - The parent element to scroll if the child is not visible.\n */\nfunction maintainScrollVisibility(activeElement, scrollParent) {\n  const { offsetHeight, offsetTop } = activeElement;\n  const { offsetHeight: parentOffsetHeight, scrollTop } = scrollParent;\n\n  const isAbove = offsetTop < scrollTop;\n  const isBelow = offsetTop + offsetHeight > scrollTop + parentOffsetHeight;\n\n  if (isAbove) {\n    scrollParent.scrollTo(0, offsetTop);\n  } else if (isBelow) {\n    scrollParent.scrollTo(0, offsetTop - parentOffsetHeight + offsetHeight);\n  }\n}\n\n/**\n * Select Component\n * Accepts a clickable element and an array of string options\n *\n * @param {HTMLElement} el - The element to attach the select component to.\n * @param {string[]} options - The list of options to display in the select.\n * @param {string} placeholder - The placeholder text for the select.\n * @param {function} onChangeCallback - The callback function to be called when the value changes.\n */\nconst Select = function (el, options = [], placeholder, onChangeCallback) {\n  // element refs\n  this.el = el;\n  this.labelEl = el.querySelector(`.${componentName}__label`);\n  this.buttonEl = el.querySelector('[role=button]');\n  this.listEl = el.querySelector('[role=listbox]');\n  this.initialState = true;\n\n  // data\n  this.idBase = this.buttonEl.id || componentName;\n  this.placeholder = placeholder;\n  this.options = options;\n  this.onChangeCallback = onChangeCallback;\n\n  // state\n  this.activeIndex = 0;\n  this.open = false;\n  this.searchString = '';\n  this.searchTimeout = null;\n\n  // init\n  if (el && this.buttonEl && this.listEl) {\n    this.init();\n  }\n};\n\n/**\n * Initialize the select component.\n */\nSelect.prototype.init = function init() {\n  // select first option by default\n  this.buttonEl.innerHTML = getOptionLabel(this.placeholder || this.options[0]);\n\n  // add event listeners\n  this.buttonEl.addEventListener('blur', this.onButtonBlur.bind(this));\n  this.listEl.addEventListener('focusout', this.onButtonBlur.bind(this));\n  this.buttonEl.addEventListener('click', this.onButtonClick.bind(this));\n  this.buttonEl.addEventListener('keydown', this.onButtonKeyDown.bind(this));\n\n  // create options\n  this.options.map((option, index) => {\n    const optionEl = this.createOption(option, index);\n    this.listEl.appendChild(optionEl);\n  });\n};\n\n/**\n * Create an option element.\n *\n * @param {string} option - The option to create an element for.\n * @param {number} index - The index of the option in the list.\n * @returns {HTMLElement} - The option element.\n */\nSelect.prototype.createOption = function createOption(option, index) {\n  const optionEl = createElement('div');\n  optionEl.setAttribute('role', 'option');\n  optionEl.id = `${this.idBase}-${index}`;\n\n  if (this.placeholder) {\n    optionEl.className = `${componentName}__option`;\n  } else {\n    optionEl.className = index === 0 ? `${componentName}__option option-current` : `${componentName}__option`;\n    optionEl.setAttribute('aria-selected', `${index === 0}`);\n  }\n\n  optionEl.innerText = getOptionLabel(option);\n\n  optionEl.addEventListener('click', (event) => {\n    event.stopPropagation();\n    this.onOptionClick(index);\n  });\n  optionEl.addEventListener('mousedown', this.onOptionMouseDown.bind(this));\n\n  return optionEl;\n};\n\n/**\n * Get the search string by adding the most recent letter to the saved search string.\n *\n * @param {string} char - The most recent letter to add to the search string.\n * @returns {string} - The search string.\n */\nSelect.prototype.getSearchString = function getSearchString(char) {\n  // reset typing timeout and start new timeout\n  // this allows us to make multiple-letter matches, like a native select\n  if (typeof this.searchTimeout === 'number') {\n    window.clearTimeout(this.searchTimeout);\n  }\n\n  this.searchTimeout = window.setTimeout(() => {\n    this.searchString = '';\n  }, 500);\n\n  // add most recent letter to saved search string\n  this.searchString += char;\n  return this.searchString;\n};\n\n/**\n * Handle the blur event on the button.\n *\n * @param {FocusEvent} event - The blur event.\n */\nSelect.prototype.onButtonBlur = function onButtonBlur(event) {\n  // do nothing if relatedTarget is contained within listEl\n  if (this.listEl.contains(event.relatedTarget)) {\n    return;\n  }\n\n  // select current option and close\n  if (this.open) {\n    this.updateMenuState(false, false);\n  }\n};\n\n/**\n * Handle the click event on the button.\n */\nSelect.prototype.onButtonClick = function onButtonClick() {\n  this.updateMenuState(!this.open, false);\n};\n\n/**\n * Handle the keydown event on the button.\n *\n * @param {KeyboardEvent} event - The keydown event.\n */\nSelect.prototype.onButtonKeyDown = function onButtonKeyDown(event) {\n  const { key } = event;\n  const max = this.options.length - 1;\n\n  const action = getActionFromKey(event, this.open);\n\n  switch (action) {\n    case SelectActions.Last:\n    case SelectActions.First:\n      this.updateMenuState(true);\n    // intentional fallthrough\n    case SelectActions.Next:\n    case SelectActions.Previous:\n    case SelectActions.PageUp:\n    case SelectActions.PageDown:\n      event.preventDefault();\n      return this.onOptionChange(getUpdatedIndex(this.activeIndex, max, action));\n    case SelectActions.CloseSelect:\n      event.preventDefault();\n      this.selectOption(this.activeIndex);\n    // intentional fallthrough\n    case SelectActions.Close:\n      event.preventDefault();\n      return this.updateMenuState(false);\n    case SelectActions.Type:\n      return this.onButtonType(key);\n    case SelectActions.Open:\n      event.preventDefault();\n      return this.updateMenuState(true);\n  }\n};\n\n/**\n * Handle the type event on the button.\n *\n * @param {string} letter - The letter to type.\n */\nSelect.prototype.onButtonType = function onButtonType(letter) {\n  // open the listbox if it is closed\n  this.updateMenuState(true);\n\n  // find the index of the first matching option\n  const searchString = this.getSearchString(letter);\n  const searchIndex = getIndexByLetter(this.options, searchString, this.activeIndex + 1);\n\n  // if a match was found, go to it\n  if (searchIndex >= 0) {\n    this.onOptionChange(searchIndex);\n  }\n  // if no matches, clear the timeout and search string\n  else {\n    window.clearTimeout(this.searchTimeout);\n    this.searchString = '';\n  }\n};\n\n/**\n * Handle the change event on an option.\n *\n * @param {number} index - The index of the option that changed.\n */\nSelect.prototype.onOptionChange = function onOptionChange(index) {\n  // update state\n  this.activeIndex = index;\n\n  // update aria-activedescendant\n  this.buttonEl.setAttribute('aria-activedescendant', `${this.idBase}-${index}`);\n\n  // update active option styles\n  const optionsElements = this.el.querySelectorAll('[role=option]');\n  [...optionsElements].forEach((optionEl) => {\n    optionEl.classList.remove('option-current');\n  });\n  optionsElements[index].classList.add('option-current');\n\n  // ensure the new option is in view\n  if (isScrollable(this.listEl)) {\n    maintainScrollVisibility(optionsElements[index], this.listEl);\n  }\n\n  // ensure the new option is visible on screen\n  // ensure the new option is in view\n  if (!isElementInView(optionsElements[index])) {\n    optionsElements[index].scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n  }\n};\n\n/**\n * Handle the click event on an option.\n *\n * @param {number} index - The index of the option that was clicked.\n * @param {MouseEvent} event - The click event.\n */\nSelect.prototype.onOptionClick = function onOptionClick(index) {\n  this.onOptionChange(index);\n  this.selectOption(index);\n  this.updateMenuState(false);\n};\n\n/**\n * Handle the mousedown event on an option.\n */\nSelect.prototype.onOptionMouseDown = function onOptionMouseDown() {\n  // Clicking an option will cause a blur event,\n  // but we don't want to perform the default keyboard blur action\n  this.ignoreBlur = true;\n};\n\n/**\n * create an option item from the select element.\n *\n * @param {number} index - The index of the option to select.\n */\nSelect.prototype.selectOption = function selectOption(index) {\n  // update state\n  this.activeIndex = index;\n\n  // update displayed value\n  const selected = this.options[index];\n  this.buttonEl.innerHTML = getOptionLabel(selected);\n\n  // this updates the value of the select that gets inputed in the forms\n  const selectHtml = this.el.closest(`.${componentName}`).querySelector('select');\n  selectHtml.selectedIndex = this.placeholder ? index + 1 : index;\n\n  // update aria-selected\n  const optionsElements = this.el.querySelectorAll('[role=option]');\n  [...optionsElements].forEach((optionEl) => {\n    optionEl.setAttribute('aria-selected', 'false');\n  });\n  optionsElements[index].setAttribute('aria-selected', 'true');\n\n  // call the onChangeCallback if provided\n  if (this.onChangeCallback) {\n    this.onChangeCallback(selected);\n  }\n};\n\n/**\n * Update the state of the dropdown menu.\n *\n * @param {boolean} open - If the dropdown menu is open or not.\n * @param {boolean} [callFocus=true] - If the focus should be called on the button.\n */\nSelect.prototype.updateMenuState = function updateMenuState(open, callFocus = true) {\n  if (this.open === open) {\n    return;\n  }\n\n  // change placeholder text color\n  if (this.placeholder !== this.buttonEl.textContent) {\n    this.buttonEl.classList.remove('placeholder-state');\n  }\n\n  // update state\n  this.open = open;\n\n  // update aria-expanded and styles\n  this.buttonEl.setAttribute('aria-expanded', `${open}`);\n  open ? this.el.classList.add('open') : this.el.classList.remove('open');\n\n  // update activedescendant\n  const activeID = open ? `${this.idBase}-${this.activeIndex}` : '';\n  this.buttonEl.setAttribute('aria-activedescendant', activeID);\n\n  if (activeID === '' && !isElementInView(this.buttonEl)) {\n    this.buttonEl.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n  }\n\n  // move focus back to the button, if needed\n  callFocus && this.buttonEl.focus();\n};\n\n/**\n * Generates the markup for an HTML option element.\n *\n * @param {number} idx - The index of the option in the list.\n * @param {string|Object} option - The option data, which can be a string or an object with `value` and `label` properties.\n * @returns {string} The HTML markup for the option element.\n */\nconst createOptionMarkup = (idx, option, hasPlaceholder) => {\n  return `\n      <option\n        value=\"${getOptionValue(option)}\"\n        ${idx === 0 && !hasPlaceholder ? 'selected' : ''}>\n          ${getOptionLabel(option)}\n      </option>`;\n};\n\n/**\n * Generates the markup for a list of HTML option elements.\n *\n * @param {string[]|Object[]} list - The list of options to generate the markup for.\n * @param {boolean} hasPlaceholder - If the list has a placeholder option.\n * @returns {string} The HTML markup for the list of option elements.\n */\nconst createSelectHtml = (list, hasPlaceholder) => {\n  return list.map((item, idx) => createOptionMarkup(idx, item, hasPlaceholder)).join('');\n};\n\n/**\n * Get the variant classes for the dropdown.\n *\n * @param {Object} options - The options to configure the dropdown.\n * @param {string[]} options.variants - The list of variants to apply to the dropdown.\n * @returns {string} The variant classes for the dropdown.\n */\nfunction getVariantClasses(options) {\n  const { variants = [] } = options;\n  if (!Array.isArray(variants)) {\n    return [];\n  }\n  return variants.map((variant) => `${componentName}--variant-${variant}`).join(' ');\n}\n\n/**\n * Get the custom dropdown component asynchronously because it requires a CSS file to be loaded.\n *\n * @param {Object} options - The options to configure the dropdown.\n * @param {string[] | Object[]} options.optionList - The list of options to display in the dropdown. Each option can be a string or an object with `value` and `label` properties.\n * @param {string} options.label - The label to grab from the placeholder file using getTextLabel function.\n * @param {boolean} options.mandatory - If the dropdown is required or not.\n * @param {string} options.id - The id of the dropdown.\n * @param {string} options.placeholder - The placeholder text for the dropdown to be used as the default option.\n * @param {string} options.name - The name of the hidden select element that will be submitted in the form.\n * @param {string} options.formName - The name of the form that contains the dropdown.\n * @param {function} [options.onChangeCallback] - The callback function to be called when the value changes.\n * @param {string[]} options.variants - \"thick\", \"adjust-width-to-content\".\n *\n * Variants:\n * - \"thick\": Adds thicker appearance.\n * - \"adjust-width-to-content\": By default the dropdown will have a width of 100% of the container. If this option is set to true, the dropdown will adjust its width to the content.\n *\n * @returns {Promise<HTMLElement>} - The custom dropdown component as an HTMLElement.\n */\nexport const getCustomDropdown = async (options = {}) => {\n  const baseUrl = window.location.origin !== 'null' ? window.location.origin : window.location.ancestorOrigins && window.location.ancestorOrigins[0];\n  const { optionList = [], label = '', mandatory = false, id = '', placeholder = '', name = '', formName = '' } = options;\n  const dropdownCSS = `${baseUrl}/common/${componentName}/${componentName}.css`;\n  const className = options.variants ? [componentName, getVariantClasses(options)] : componentName;\n  const el = createElement('div', { classes: className });\n\n  if (formName) {\n    el.classList.add(`${formName}__field-wrapper`);\n  }\n\n  try {\n    await loadCSS(dropdownCSS);\n    const labelClass = label ? `${componentName}__label` : 'field-label';\n    const innerContent = `\n\n        ${label ? `<label id=\"${labelClass} class=\"${labelClass}\">${getTextLabel(label)}${mandatory ? '*' : ''}</label>` : ''}\n        <div\n          ${id ? `id=\"${id}\"` : ''}\n          ${labelClass ? `aria-labelledby=\"${labelClass}\"` : ''}\n          aria-controls=\"options\"\n          aria-expanded=\"false\"\n          aria-haspopup=\"${componentName}\"\n          class=\"${componentName}__button placeholder-state\"\n          role=\"button\"\n          tabindex=\"0\"\n        ></div>\n        <div\n          ${labelClass ? `aria-labelledby=\"${labelClass}\"` : ''}\n          id=\"options\"\n          class=\"${componentName}__option-list\"\n          role=\"listbox\"\n          tabindex=\"-1\"\n        ></div>\n        <select\n          ${name ? `name=\"${name}\"` : ''}\n          aria-hidden=\"true\"\n          class=\"native-select\"\n          autocomplete=\"off\"\n          ${mandatory ? 'required' : ''}>\n          ${placeholder ? `<option value=\"\" selected disabled>${placeholder}</option>` : ''}\n          ${createSelectHtml(optionList, !!placeholder)}\n        </select>\n    `;\n\n    el.appendChild(document.createRange().createContextualFragment(innerContent));\n\n    new Select(el, optionList, placeholder, options.onChangeCallback);\n    return el;\n  } catch (error) {\n    console.error(`Failed to load CSS from ${dropdownCSS}:`, error);\n    return '';\n  }\n};\n","export function disableScrollSnap(element) {\n  element.style.scrollSnapType = 'none';\n  element.style.scrollBehavior = 'auto';\n}\n\nexport function enableScrollSnap(element) {\n  // Reverts it back to its original value (or stylesheet value).\n  element.style.scrollSnapType = '';\n  element.style.scrollBehavior = '';\n}\n\nexport const smoothScrollHorizontal = (element, targetX, duration) => {\n  const start = element.scrollLeft;\n  const timeStart = new Date().getTime();\n  const scrollingClass = 'is-animating'; // Class to be added/removed\n\n  function cubicBezier(x) {\n    const p0 = { x: 0, y: 0 };\n    const p1 = { x: 0, y: 0 };\n    const p2 = { x: 0, y: 1 };\n    const p3 = { x: 1, y: 1 };\n\n    // Find the t value for the given x in Bezier curve\n    let t = x;\n    for (let i = 0; i < 5; i += 1) {\n      const xT = (1 - t) ** 3 * p0.x + 3 * (1 - t) ** 2 * t * p1.x + 3 * (1 - t) * t ** 2 * p2.x + t ** 3 * p3.x;\n\n      const difference = xT - x;\n      t -= difference / 2;\n    }\n\n    // Return the y value for the computed t\n    return (1 - t) ** 3 * p0.y + 3 * (1 - t) ** 2 * t * p1.y + 3 * (1 - t) * t ** 2 * p2.y + t ** 3 * p3.y;\n  }\n\n  const ease = (time, startValue, changeInValue, easeDuration) => {\n    const progress = time / easeDuration;\n    const easingFactor = cubicBezier(progress);\n    return startValue + easingFactor * changeInValue;\n  };\n\n  function animation() {\n    const timeCurrent = new Date().getTime();\n    const timeElapsed = timeCurrent - timeStart;\n\n    const nextX = ease(timeElapsed, start, targetX - start, duration);\n    element.scrollLeft = nextX;\n\n    if (timeElapsed < duration) {\n      requestAnimationFrame(animation);\n    } else {\n      element.scrollLeft = targetX;\n      enableScrollSnap(element); // Re-enable scroll snap after the animation completes\n      element.classList.remove(scrollingClass);\n    }\n  }\n\n  disableScrollSnap(element); // Disable scroll snap before starting the animation\n  element.classList.add(scrollingClass);\n  requestAnimationFrame(animation);\n};\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import { readBlockConfig } from '../../scripts/aem.js';\n\nexport default function decorate(block) {\n  const config = readBlockConfig(block);\n  const disclaimerPath = config.disclaimer || '/news-and-stories/press-releases';\n\n  fetch(`${disclaimerPath}/disclaimer.plain.html`)\n    .then((resp) => resp.text())\n    .then((html) => {\n      const container = document.createElement('div');\n      container.className = 'disclaimer-container';\n      container.innerHTML = html;\n      container.children[0].className = 'disclaimer-wrapper';\n\n      block.textContent = '';\n      block.appendChild(container);\n    });\n}\n","import { getLocale, getOrigin, getTextLabel } from '../common.js';\nimport { fetchSearchData, topicSearchQuery, magazineSearchQuery, TENANT } from '../search-api.js';\n\n/**\n * Extracts the articles that don't have an image field\n * @param {Array} articles - An array of articles\n * @returns {Array} - The same array of articles but without those that don't have an image field\n */\nexport const removeArticlesWithNoImage = (articles) => {\n  const filteredArray = [...articles.items];\n  filteredArray.filter((art) => !art.metadata.image);\n  return filteredArray;\n};\n\n/**\n * Extracts the values from an array of objects and returns an array of values\n * example: [{ key: 'value' }] => ['value']\n * @param {Array} array - An array of objects\n * @returns {Array} An array of values\n */\nexport function getValuesFromObjectsArray(array = []) {\n  if (!Array.isArray(array) || array.length === 0) {\n    return [];\n  }\n  return array.map((item) => Object.values(item)[0]);\n}\n\n/**\n * Extract the classes of a block and in case there is a 'limit-X' set, extract it as a number\n * @param {block} block - The block element\n * @returns {number} - A number representing the limit\n */\nexport const extractLimitFromBlock = (block) => {\n  let limit = null;\n  const blockClass = [...block.classList].find((className) => className.startsWith('limit-'));\n  if (blockClass) {\n    const [, value] = blockClass.split('-');\n    limit = Number(value);\n  }\n  return limit;\n};\n\n/**\n * Extracts the last folder from a URL.\n *\n * @param {string} url - The URL from which to extract the last folder.\n * @returns {string} The last folder in the URL.\n *\n * @example\n * // Example usage:\n * const url = 'https://example.com/folder1/folder2';\n * const lastFolder = getLastURLFolder(url);\n * console.log(lastFolder); // Output: 'folder2'\n *\n * @description\n * This function splits the URL by '/' and filters out any empty segments.\n * It then returns the last non-empty segment, which represents the last folder in the URL.\n * */\nconst getLastURLFolder = (url) =>\n  url\n    .split('/')\n    .filter((item) => item.trim() !== '')\n    .pop();\n\n/**\n * Filters out the current article from the list of articles.\n *\n * @param {Array<Object>} articles - The list of articles to filter.\n * @returns {Array<Object>} - The filtered list of articles excluding the current article.\n *\n * @example\n * // Example usage:\n * const articles = [\n *  { metadata: { url: 'https://example.com/article1' } },\n *  { metadata: { url: 'https://example.com/article2' } },\n *  { metadata: { url: 'https://example.com/article3' } },\n * ];\n * const filteredArticles = clearCurrentArticle(articles);\n * console.log(filteredArticles);\n * // Output: [{ metadata: { url: 'https://example.com/article1' } }, { metadata: { url: 'https://example.com/article2' } }]\n *\n * @description\n * This function filters out the current article from the list of articles based on the URL.\n * It compares the last folder of the current URL with the last folder of each article's URL.\n * If they match, the article is excluded from the filtered list.\n * The function returns a new array containing only the articles that do not match the current article's URL.\n */\nexport const clearCurrentArticle = (articles) =>\n  articles.filter((article) => {\n    const currentArticlePath = getLastURLFolder(window.location.href);\n    const lastElementInUrl = getLastURLFolder(article.metadata.url);\n    return lastElementInUrl !== currentArticlePath ? article : null;\n  });\n\n/**\n * Checks whether the current page is a magazine template.\n */\nexport const isMagazineTemplate = document.body.classList.contains('v2-magazine') || document.body.classList.contains('magazine');\n\n/**\n * Sorts an array of articles by a specified date field within the `metadata` object.\n * @param {Array<Object>} articles - The array of article objects to be sorted.\n * Each article must have a `metadata` property.\n * @param {string} dateField - The name of the date field within the `metadata` object to sort by\n * (e.g., \"lastModified\" or \"publishDate\").\n * @returns {Array<Object>} A new array of articles sorted in descending order by the specified\n * date field. Articles with invalid or missing date fields are excluded from the result.\n */\nexport const sortArticlesByDateField = (articles, dateField) => {\n  const articlesWithTimestamps = articles.map((article) => {\n    const rawTimestamp = article.metadata?.[dateField];\n    const timestamp = rawTimestamp ? new Date(rawTimestamp * 1000).getTime() : null;\n\n    if (timestamp === null) {\n      console.warn(`Date field \"${dateField}\" not found or invalid in metadata for article`, article);\n    }\n\n    return {\n      ...article,\n      timestamp,\n    };\n  });\n\n  const sortedArticles = articlesWithTimestamps.filter((article) => article.timestamp !== null).sort((a, b) => b.timestamp - a.timestamp);\n\n  return sortedArticles;\n};\n\n/**\n * Fetches magazine articles based on the provided criteria.\n *\n * @param {Object} options - Options for fetching magazine articles.\n * @param {number} options.limit - The maximum number of articles to fetch.\n * @param {number} [options.offset=0] - The starting point for fetching articles (pagination).\n * @param {Object|null} [options.tags=null] - An object with keys \"truck\", \"topic\" and/or \"category\" to filter articles, or null.\n * @param {string} [options.q='truck'] - The query term to search for articles.\n * @param {string} [options.sort] - The sorting criteria for articles.\n * @param {string} [options.tenant=TENANT] - The tenant identifier.\n * @param {string} [options.language=getLocale().split('-')[0].toUpperCase()] -\n * The language code for the articles.\n * @param {string} [options.category='magazine'] - The category of articles to fetch.\n * @param {Array<string>} [options.facets=['ARTICLE', 'TOPIC', 'TRUCK']] -\n * The facets to include in the search.\n * @returns {Promise<Object|null>} The fetched articles data, or null if an error occurs.\n *\n * @async\n * @throws {Error} Logs errors to the console and returns null if the fetch fails.\n */\nexport const fetchMagazineArticles = async ({\n  limit = 100,\n  offset = 0,\n  tags = {},\n  q = 'truck',\n  sort,\n  tenant = TENANT,\n  language = getLocale().split('-')[0].toUpperCase(),\n  category = 'Magazine',\n  facets = ['ARTICLE', 'TOPIC', 'TRUCK'],\n} = {}) => {\n  const variables = {\n    tenant,\n    language,\n    q,\n    category,\n    limit,\n    offset,\n    facets,\n    sort,\n    article: tags,\n  };\n\n  try {\n    if (!tenant) {\n      throw new Error('TENANT not defined');\n    }\n\n    const rawData = await fetchSearchData({\n      query: magazineSearchQuery(),\n      variables,\n    });\n    return rawData?.data?.edssearch || null;\n  } catch (error) {\n    console.error('Error fetching magazine articles:', error);\n    return null;\n  }\n};\n\nexport const fetchRecommendedArticles = async ({\n  tenant = TENANT,\n  language = getLocale().split('-')[0].toUpperCase(),\n  limit = 7,\n  offset = 0,\n  category = 'Magazine',\n  tags = {},\n  sort = 'PUBLISH_DATE_DESC',\n  facets = ['ARTICLE', 'TOPIC', 'TRUCK'],\n}) => {\n  const variables = {\n    tenant,\n    language,\n    limit,\n    offset,\n    category,\n    facets,\n    sort,\n    article: tags,\n  };\n\n  try {\n    if (!tenant) {\n      throw new Error('TENANT not defined');\n    }\n\n    const rawData = await fetchSearchData({\n      query: topicSearchQuery(),\n      variables,\n    });\n    return rawData?.data?.edsrecommend || null;\n  } catch (error) {\n    console.error('Error fetching recommended articles:', error);\n    return null;\n  }\n};\n\nconst defaultAuthor = getTextLabel('magazine:default_author');\nconst defaultReadTime = getTextLabel('magazine:default_read_time');\n/**\n * Extract the classes of a block and in case there is a 'limit-X' set, extract it as a number\n * @param {Object} item - The raw article item that comes from opensearch\n * @returns {Object} - The parsed object without the metadata field and some other properties\n */\nexport const parseArticleData = (item) => {\n  // Add a check for item and item.metadata in case 'item' is falsy\n  if (!item || !item.metadata) {\n    console.warn('parseArticleData received invalid item or metadata:', item);\n    return;\n  }\n\n  const isImageLink = (link) => `${link}`.split('?')[0].match(/\\.(jpeg|jpg|gif|png|svg|bmp|webp)$/) !== null;\n\n  const getDefaultImage = () => {\n    const logoImageURL = '/media/logo/media_10a115d2f3d50f3a22ecd2075307b4f4dcaedb366.jpeg';\n    return getOrigin() + logoImageURL;\n  };\n\n  const { article, image } = item.metadata;\n  const filterTag = ['category', 'topic', 'truck'].map((key) => item.metadata.article[key]).filter(Boolean);\n\n  return {\n    ...item.metadata,\n    filterTag,\n    author: article.author || defaultAuthor,\n    image: isImageLink(image) ? getOrigin() + image : getDefaultImage(),\n    path: item.metadata?.url,\n    readingTime: /\\d+/.test(article.readTime) ? article.readTime : defaultReadTime,\n    isDefaultImage: !isImageLink(image),\n    category: article.category,\n  };\n};\n","/* global YT */\nimport { createElement, decorateIcons, getTextLabel, isSocialAllowed } from '../../scripts/common.js';\nimport { loadCSS } from '../../scripts/aem.js';\nimport {\n  createIframe,\n  isAEMVideoUrl,\n  isYoutubeVideoUrl,\n  getYoutubeVideoId,\n  isLowResolutionVideoUrl,\n  setupPlayer,\n  getDeviceSpecificVideoUrl,\n  loadYouTubeIframeAPI,\n  isHlsVideoUrl,\n} from '../../scripts/video-helper.js';\n\nconst HIDE_MODAL_CLASS = 'modal-hidden';\nlet currentModalClasses = null;\nlet currentInvokeContext = null;\n\nconst createModalTopBar = (parentEl) => {\n  const topBar = document.createRange().createContextualFragment(`\n    <div class=\"modal-top-bar\">\n      <div class=\"modal-top-bar-content\">\n        <h2 class=\"modal-top-bar-heading\" id=\"modal-heading\"></h2>\n        <button type=\"button\" class=\"modal-close-button\" aria-label=${getTextLabel('modal:close')}>\n          <span class=\"icon icon-close\" aria-hidden=\"true\" />\n        </button>\n      </div>\n    </div>\n  `);\n\n  decorateIcons(topBar);\n  parentEl.prepend(...topBar.children);\n\n  parentEl.querySelector('.modal-close-button').addEventListener('click', () => hideModal());\n  parentEl.querySelector('.modal-top-bar').addEventListener('click', (event) => event.stopPropagation());\n};\n\nconst createModal = () => {\n  document.documentElement.style.setProperty('--scroll-y', `${window.scrollY}px`);\n  const modalBackground = createElement('div', { classes: ['modal-background', HIDE_MODAL_CLASS] });\n  modalBackground.setAttribute('role', 'dialog');\n\n  modalBackground.addEventListener('click', () => {\n    if (!document.documentElement.classList.contains('redesign-v2')) {\n      hideModal();\n    }\n  });\n\n  const keyDownAction = (event) => {\n    if (event.key === 'Escape') {\n      hideModal();\n    }\n  };\n\n  const modalContent = createElement('div', { classes: ['modal-content'] });\n  createModalTopBar(modalBackground);\n  modalBackground.appendChild(modalContent);\n  // preventing initial animation when added to DOM\n  modalBackground.style = 'display: none';\n  document.body.appendChild(modalBackground);\n\n  // don't close modal when clicking on modal content\n  modalContent.addEventListener('click', (event) => {\n    event.stopPropagation();\n  });\n\n  const clearModalContent = () => {\n    modalContent.innerHTML = '';\n    modalContent.className = 'modal-content';\n    modalBackground.querySelector('.modal-top-bar-heading').textContent = '';\n  };\n\n  const handleNewContent = (newContent) => {\n    clearModalContent();\n    modalContent.scrollTo(0, 0);\n\n    const firstSection = newContent[0];\n\n    // checking if the first section contains one heading only\n    if (\n      firstSection.children.length === 1 &&\n      firstSection.children[0].children.length === 1 &&\n      /^H[1-6]$/.test(newContent[0].children[0].children[0].tagName)\n    ) {\n      const headingContent = firstSection.children[0].children[0].textContent;\n\n      modalBackground.querySelector('.modal-top-bar-heading').textContent = headingContent;\n      firstSection.style.display = 'none';\n      modalBackground.setAttribute('aria-labelledby', 'modal-heading');\n    } else {\n      modalBackground.removeAttribute('aria-labelledby');\n    }\n\n    modalContent.classList.add('modal-content--wide');\n    modalContent.append(...newContent);\n  };\n\n  async function addVideo(block, videoId) {\n    console.log('addVideo - videoId: ', videoId);\n    block.innerHTML = '';\n\n    const iframeSrc = `https://www.youtube.com/embed/${videoId}?color=white&amp;rel=0&amp;playsinline=1&amp;enablejsapi=1&amp;autoplay=1`;\n\n    const iframeYT = createIframe(iframeSrc, {\n      parentEl: block,\n      classes: 'modal-video',\n      props: { id: 'modal-youtube-iframe', allow: 'autoplay', allowfullscreen: 'true' },\n    });\n\n    block.append(...iframeYT.childNodes);\n\n    await loadYouTubeIframeAPI();\n\n    window.onYouTubeIframeAPIReady = function onYouTubeIframeAPIReadyInit() {\n      if (!YT) {\n        throw new Error('YouTube API not loaded');\n      }\n      new YT.Player('modal-youtube-iframe', {\n        events: {\n          onReady: onPlayerReady,\n          onError: onPlayerError,\n          onAutoplayBlocked: onPlayerAutoplayBlocked,\n        },\n      });\n    };\n  }\n\n  function onPlayerReady(event) {\n    event.target.playVideo();\n  }\n\n  function onPlayerError(event) {\n    console.warn(event.data);\n  }\n\n  function onPlayerAutoplayBlocked(event) {\n    console.warn(event.data);\n  }\n\n  async function showModal(newContent, { beforeBanner, beforeIframe, modalClasses = [], invokeContext }) {\n    const shouldVideoSocialCheck = modalClasses.includes('modal-video-social-cookie-check');\n\n    document.documentElement.style.setProperty('--scroll-y', `${window.scrollY}px`);\n    currentInvokeContext = invokeContext;\n    // disabling focus for header, footer and main elements when modal is open\n    document.querySelectorAll('header, footer, main').forEach((el) => {\n      el.setAttribute('inert', 'inert');\n    });\n    await loadCSS(`${window.hlx.codeBasePath}/common/modal/modal.css`);\n    modalBackground.style = '';\n    modalBackground.classList.add(...modalClasses);\n    currentModalClasses = modalClasses;\n    window.addEventListener('keydown', keyDownAction);\n    if (newContent && typeof newContent !== 'string') {\n      handleNewContent(newContent);\n    } else if (newContent) {\n      clearModalContent();\n      let videoOrIframe = null;\n      if (isLowResolutionVideoUrl(newContent)) {\n        // We can't use the iframe for videos, because if the Content-Type\n        // `application/octet-stream` is returned instead of `video/mp4`, the\n        // file is downloaded instead of displayed. So we use the video element instead.\n        videoOrIframe = document.createElement('video');\n        videoOrIframe.setAttribute('src', newContent);\n        videoOrIframe.setAttribute('controls', '');\n        videoOrIframe.setAttribute('autoplay', '');\n        videoOrIframe.classList.add('modal-video');\n        modalBackground.classList.add('modal--video');\n        modalContent.append(videoOrIframe);\n      } else if (isAEMVideoUrl(newContent) || isHlsVideoUrl(newContent)) {\n        videoOrIframe = document.createElement('div');\n        videoOrIframe.classList.add('modal-video');\n\n        const videoUrl = getDeviceSpecificVideoUrl(newContent);\n        await setupPlayer(\n          videoUrl,\n          videoOrIframe,\n          {\n            autoplay: 'any',\n            disablePictureInPicture: true,\n            loop: false,\n            muted: false,\n            playsinline: true,\n            fill: true,\n            controls: true,\n          },\n          null,\n        );\n\n        modalBackground.classList.add('modal--video');\n        modalContent.append(videoOrIframe);\n      } else if (isYoutubeVideoUrl(newContent) && shouldVideoSocialCheck) {\n        const videoId = getYoutubeVideoId(newContent);\n\n        if (!videoId) {\n          console.warn('V2 Video block: There is no video link. Please check the provided URL.');\n          return;\n        }\n        window.isSingleVideo = true;\n\n        if (isSocialAllowed()) {\n          addVideo(modalContent, videoId);\n        } else {\n          const cookieMsgContainer = createElement('div', {\n            classes: 'modal-cookie-message',\n          });\n          cookieMsgContainer.style.background = 'linear-gradient(180deg, rgba(0, 0, 0, 0.00) 0%, rgba(0, 0, 0, 0.80) 100%) center / cover no-repeat';\n\n          const cookieMessage = document.createRange().createContextualFragment(`\n            <h3 class=\"modal-cookie-message__title\">${getTextLabel('modal:single_video_message_title')}</h3>\n            ${getTextLabel('modal:single_video_message_text')}\n            <div class=\"modal-cookie-message__button-container\">\n              <button class=\"button primary dark\">${getTextLabel('modal:single_video_message_button')}</button>\n              <button class=\"button secondary dark\">${getTextLabel('modal:single_video_message_button_deny')}</button>\n            </div>\n          `);\n\n          cookieMsgContainer.append(cookieMessage);\n          modalContent.append(cookieMsgContainer);\n\n          modalContent.querySelector('.modal-cookie-message__button-container .primary')?.addEventListener('click', () => {\n            if (window.OneTrust) {\n              window.OneTrust.AllowAll();\n            }\n\n            addVideo(modalContent, videoId);\n          });\n\n          modalContent.querySelector('.modal-cookie-message__button-container .secondary')?.addEventListener('click', () => {\n            hideModal();\n          });\n        }\n      } else {\n        videoOrIframe = createIframe(newContent, { parentEl: modalContent, classes: 'modal-video' });\n        modalBackground.classList.add('modal--video');\n      }\n\n      if (beforeBanner) {\n        const bannerWrapper = document.createElement('div');\n        bannerWrapper.classList.add('modal-before-banner');\n        bannerWrapper.addEventListener('click', (event) => event.stopPropagation());\n        bannerWrapper.appendChild(beforeBanner);\n\n        videoOrIframe.before(bannerWrapper);\n      }\n\n      if (beforeIframe) {\n        const wrapper = document.createElement('div');\n        wrapper.classList.add('modal-before-iframe');\n        wrapper.appendChild(beforeIframe);\n        videoOrIframe.before(wrapper);\n      }\n    }\n\n    modalContent.classList.add('modal-content-fade-in');\n    modalBackground.classList.remove(HIDE_MODAL_CLASS);\n    modalBackground.querySelector('.modal-top-bar .modal-close-button').focus();\n    modalBackground.setAttribute('aria-hidden', 'false');\n\n    // disable page scrolling\n    document.body.classList.add('disable-body-scroll');\n    const scrollY = document.documentElement.style.getPropertyValue('--scroll-y');\n    const { body } = document;\n    document.documentElement.style.scrollBehavior = 'auto';\n    body.style.position = 'fixed';\n    body.style.top = `-${scrollY}`;\n  }\n\n  function hideModal() {\n    // restoring focus for header, footer and main elements when modal is close\n    document.querySelectorAll('header, footer, main').forEach((el) => {\n      el.removeAttribute('inert');\n    });\n    if (currentInvokeContext) {\n      currentInvokeContext.focus();\n    }\n    currentInvokeContext = null;\n    modalContent.scrollTo(0, 0);\n    modalBackground.classList.add(HIDE_MODAL_CLASS);\n    modalBackground.classList.remove('modal--video');\n    modalContent.classList.remove('modal-content-fade-in');\n    window.removeEventListener('keydown', keyDownAction);\n    document.body.classList.remove('disable-body-scroll');\n    const { body } = document;\n    const scrollY = body.style.top;\n    body.style.position = '';\n    body.style.top = '';\n    window.scrollTo(0, parseInt(scrollY || '0', 10) * -1);\n    document.documentElement.style.scrollBehavior = '';\n    modalContent.querySelector('iframe, video')?.remove();\n    modalContent.querySelector('.modal-before-banner')?.remove();\n    modalContent.querySelector('.modal-before-iframe')?.remove();\n    modalBackground.setAttribute('aria-hidden', 'true');\n\n    if (currentModalClasses.length) {\n      modalBackground.classList.remove(currentModalClasses);\n      currentModalClasses = null;\n    }\n  }\n\n  return {\n    showModal,\n    hideModal,\n  };\n};\n\nconst { showModal, hideModal } = createModal();\n\nexport { showModal, hideModal };\n","import{noChange as t}from\"../lit-html.js\";import{directive as s,Directive as i,PartType as r}from\"../directive.js\";\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const e=s(class extends i{constructor(t){if(super(t),t.type!==r.ATTRIBUTE||\"class\"!==t.name||t.strings?.length>2)throw Error(\"`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.\")}render(t){return\" \"+Object.keys(t).filter((s=>t[s])).join(\" \")+\" \"}update(s,[i]){if(void 0===this.st){this.st=new Set,void 0!==s.strings&&(this.nt=new Set(s.strings.join(\" \").split(/\\s/).filter((t=>\"\"!==t))));for(const t in i)i[t]&&!this.nt?.has(t)&&this.st.add(t);return this.render(i)}const r=s.element.classList;for(const t of this.st)t in i||(r.remove(t),this.st.delete(t));for(const t in i){const s=!!i[t];s===this.st.has(t)||this.nt?.has(t)||(s?(r.add(t),this.st.add(t)):(r.remove(t),this.st.delete(t)))}return t}});export{e as classMap};\n//# sourceMappingURL=class-map.js.map\n","/*\n * Copyright 2024 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// eslint-disable-next-line no-undef\nconst context = require.context(\n  '../blocks/', // Relative to this file\n  true,\n  /^[^/]+\\/[^/]+\\.js$/, // Adjust as needed\n);\n\n/* eslint-env browser */\n\nfunction sampleRUM(checkpoint, data) {\n  const timeShift = () => (window.performance ? window.performance.now() : Date.now() - window.hlx.rum.firstReadTime);\n  try {\n    window.hlx = window.hlx || {};\n    sampleRUM.enhance = () => {};\n    if (!window.hlx.rum) {\n      const param = new URLSearchParams(window.location.search).get('rum');\n      const weight =\n        (window.SAMPLE_PAGEVIEWS_AT_RATE === 'high' && 10) || (window.SAMPLE_PAGEVIEWS_AT_RATE === 'low' && 1000) || (param === 'on' && 1) || 100;\n      const id = Math.random().toString(36).slice(-4);\n      const isSelected = param !== 'off' && Math.random() * weight < 1;\n\n      window.hlx.rum = {\n        weight,\n        id,\n        isSelected,\n        firstReadTime: window.performance ? window.performance.timeOrigin : Date.now(),\n        sampleRUM,\n        queue: [],\n        collector: (...args) => window.hlx.rum.queue.push(args),\n      };\n      if (isSelected) {\n        const dataFromErrorObj = (error) => {\n          const errData = { source: 'undefined error' };\n          try {\n            errData.target = error.toString();\n            errData.source = error.stack\n              .split('\\n')\n              .filter((line) => line.match(/https?:\\/\\//))\n              .shift()\n              .replace(/at ([^ ]+) \\((.+)\\)/, '$1@$2')\n              .replace(/ at /, '@')\n              .trim();\n          } catch (err) {\n            /* error structure was not as expected */\n          }\n          return errData;\n        };\n\n        window.addEventListener('error', ({ error }) => {\n          const errData = dataFromErrorObj(error);\n          sampleRUM('error', errData);\n        });\n\n        window.addEventListener('unhandledrejection', ({ reason }) => {\n          let errData = {\n            source: 'Unhandled Rejection',\n            target: reason || 'Unknown',\n          };\n          if (reason instanceof Error) {\n            errData = dataFromErrorObj(reason);\n          }\n          sampleRUM('error', errData);\n        });\n\n        sampleRUM.baseURL = sampleRUM.baseURL || new URL(window.RUM_BASE || '/', new URL('https://rum.hlx.page'));\n        sampleRUM.collectBaseURL = sampleRUM.collectBaseURL || sampleRUM.baseURL;\n        sampleRUM.sendPing = (ck, time, pingData = {}) => {\n          const rumData = JSON.stringify({\n            weight,\n            id,\n            referer: window.location.href,\n            checkpoint: ck,\n            t: time,\n            ...pingData,\n          });\n          const urlParams = window.RUM_PARAMS ? `?${new URLSearchParams(window.RUM_PARAMS).toString()}` : '';\n          const { href: url, origin } = new URL(`.rum/${weight}${urlParams}`, sampleRUM.collectBaseURL);\n          const body = origin === window.location.origin ? new Blob([rumData], { type: 'application/json' }) : rumData;\n          navigator.sendBeacon(url, body);\n\n          console.debug(`ping:${ck}`, pingData);\n        };\n        sampleRUM.sendPing('top', timeShift());\n\n        sampleRUM.enhance = () => {\n          // only enhance once\n          if (document.querySelector('script[src*=\"rum-enhancer\"]')) {\n            return;\n          }\n          const { enhancerVersion, enhancerHash } = sampleRUM.enhancerContext || {};\n          const script = document.createElement('script');\n          if (enhancerHash) {\n            script.integrity = enhancerHash;\n            script.setAttribute('crossorigin', 'anonymous');\n          }\n          script.src = new URL(`.rum/@adobe/helix-rum-enhancer@${enhancerVersion || '^2'}/src/index.js`, sampleRUM.baseURL).href;\n          document.head.appendChild(script);\n        };\n        if (!window.hlx.RUM_MANUAL_ENHANCE) {\n          sampleRUM.enhance();\n        }\n      }\n    }\n    if (window.hlx.rum && window.hlx.rum.isSelected && checkpoint) {\n      window.hlx.rum.collector(checkpoint, data, timeShift());\n    }\n    document.dispatchEvent(new CustomEvent('rum', { detail: { checkpoint, data } }));\n  } catch (error) {\n    // something went awry\n  }\n}\n\n/**\n * Setup block utils.\n */\nfunction setup() {\n  window.hlx = window.hlx || {};\n  window.hlx.RUM_MASK_URL = 'full';\n  window.hlx.RUM_MANUAL_ENHANCE = true;\n  window.hlx.codeBasePath = '';\n  window.hlx.lighthouse = new URLSearchParams(window.location.search).get('lighthouse') === 'on';\n\n  const scriptEl = document.querySelector('script[src$=\"/scripts/scripts.js\"]');\n  if (scriptEl) {\n    try {\n      [window.hlx.codeBasePath] = new URL(scriptEl.src).pathname.split('/scripts/scripts.js');\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\n\n/**\n * Auto initialization.\n */\nfunction init() {\n  setup();\n  sampleRUM.collectBaseURL = window.origin;\n  sampleRUM();\n}\n\n/**\n * Sanitizes a string for use as class name.\n * @param {string} name The unsanitized string\n * @returns {string} The class name\n */\nfunction toClassName(name) {\n  return typeof name === 'string'\n    ? name\n        .toLowerCase()\n        .replace(/[^0-9a-z]/gi, '-')\n        .replace(/-+/g, '-')\n        .replace(/^-|-$/g, '')\n    : '';\n}\n\n/**\n * Sanitizes a string for use as a js property name.\n * @param {string} name The unsanitized string\n * @returns {string} The camelCased name\n */\nfunction toCamelCase(name) {\n  return toClassName(name).replace(/-([a-z])/g, (g) => g[1].toUpperCase());\n}\n\n/**\n * Extracts the config from a block.\n * @param {Element} block The block element\n * @returns {object} The block config\n */\nfunction readBlockConfig(block) {\n  const config = {};\n  block.querySelectorAll(':scope > div').forEach((row) => {\n    if (row.children) {\n      const cols = [...row.children];\n      if (cols[1]) {\n        const col = cols[1];\n        const name = toClassName(cols[0].textContent);\n        let value = '';\n        if (col.querySelector('a')) {\n          const as = [...col.querySelectorAll('a')];\n          if (as.length === 1) {\n            value = as[0].href;\n          } else {\n            value = as.map((a) => a.href);\n          }\n        } else if (col.querySelector('img')) {\n          const imgs = [...col.querySelectorAll('img')];\n          if (imgs.length === 1) {\n            value = imgs[0].src;\n          } else {\n            value = imgs.map((img) => img.src);\n          }\n        } else if (col.querySelector('p')) {\n          const ps = [...col.querySelectorAll('p')];\n          if (ps.length === 1) {\n            value = ps[0].textContent;\n          } else {\n            value = ps.map((p) => p.textContent);\n          }\n        } else {\n          value = row.children[1].textContent;\n        }\n        config[name] = value;\n      }\n    }\n  });\n  return config;\n}\n\n/**\n * Loads a CSS file.\n * @param {string} href URL to the CSS file\n */\nasync function loadCSS(href) {\n  return new Promise((resolve, reject) => {\n    if (!document.querySelector(`head > link[href=\"${href}\"]`)) {\n      const link = document.createElement('link');\n      link.rel = 'stylesheet';\n      link.href = href;\n      link.onload = resolve;\n      link.onerror = reject;\n      document.head.append(link);\n    } else {\n      resolve();\n    }\n  });\n}\n\n/**\n * Loads a non module JS file.\n * @param {string} src URL to the JS file\n * @param {Object} attrs additional optional attributes\n */\nasync function loadScript(src, attrs) {\n  return new Promise((resolve, reject) => {\n    if (!document.querySelector(`head > script[src=\"${src}\"]`)) {\n      const script = document.createElement('script');\n      script.src = src;\n      if (attrs) {\n        for (const attr in attrs) {\n          script.setAttribute(attr, attrs[attr]);\n        }\n      }\n      script.onload = resolve;\n      script.onerror = reject;\n      document.head.append(script);\n    } else {\n      resolve();\n    }\n  });\n}\n\n/**\n * Retrieves the content of metadata tags.\n * @param {string} name The metadata name (or property)\n * @param {Document} doc Document object to query for metadata. Defaults to the window's document\n * @returns {string} The metadata value(s)\n */\nfunction getMetadata(name, doc = document) {\n  const attr = name && name.includes(':') ? 'property' : 'name';\n  const meta = [...doc.head.querySelectorAll(`meta[${attr}=\"${name}\"]`)].map((m) => m.content).join(', ');\n  return meta || '';\n}\n\n/**\n * Returns a picture element with webp and fallbacks\n * @param {string} src The image URL\n * @param {string} [alt] The image alternative text\n * @param {boolean} [eager] Set loading attribute to eager\n * @param {Array} [breakpoints] Breakpoints and corresponding params (eg. width)\n * @returns {Element} The picture element\n */\nfunction createOptimizedPicture(src, alt = '', eager = false, breakpoints = [{ media: '(min-width: 600px)', width: '2000' }, { width: '750' }]) {\n  const url = new URL(src, window.location.href);\n  const picture = document.createElement('picture');\n  const { pathname } = url;\n  const ext = pathname.substring(pathname.lastIndexOf('.') + 1);\n\n  // webp\n  breakpoints.forEach((br) => {\n    const source = document.createElement('source');\n    if (br.media) {\n      source.setAttribute('media', br.media);\n    }\n    source.setAttribute('type', 'image/webp');\n    source.setAttribute('srcset', `${pathname}?width=${br.width}&format=webply&optimize=medium`);\n    picture.appendChild(source);\n  });\n\n  // fallback\n  breakpoints.forEach((br, i) => {\n    if (i < breakpoints.length - 1) {\n      const source = document.createElement('source');\n      if (br.media) {\n        source.setAttribute('media', br.media);\n      }\n      source.setAttribute('srcset', `${pathname}?width=${br.width}&format=${ext}&optimize=medium`);\n      picture.appendChild(source);\n    } else {\n      const img = document.createElement('img');\n      img.setAttribute('loading', eager ? 'eager' : 'lazy');\n      img.setAttribute('alt', alt);\n      picture.appendChild(img);\n      img.setAttribute('src', `${pathname}?width=${br.width}&format=${ext}&optimize=medium`);\n    }\n  });\n\n  return picture;\n}\n\n/**\n * Set template (page structure) and theme (page styles).\n */\nfunction decorateTemplateAndTheme() {\n  const addClasses = (element, classes) => {\n    classes.split(',').forEach((c) => {\n      element.classList.add(toClassName(c.trim()));\n    });\n  };\n  const template = getMetadata('template');\n  if (template) {\n    addClasses(document.body, template);\n  }\n  const theme = getMetadata('theme');\n  if (theme) {\n    addClasses(document.body, theme);\n  }\n}\n\n/**\n * Wrap inline text content of block cells within a <p> tag.\n * @param {Element} block the block element\n */\nfunction wrapTextNodes(block) {\n  const validWrappers = ['P', 'PRE', 'UL', 'OL', 'PICTURE', 'TABLE', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6'];\n\n  const wrap = (el) => {\n    const wrapper = document.createElement('p');\n    wrapper.append(...el.childNodes);\n    el.append(wrapper);\n  };\n\n  block.querySelectorAll(':scope > div > div').forEach((blockColumn) => {\n    if (blockColumn.hasChildNodes()) {\n      const hasWrapper = !!blockColumn.firstElementChild && validWrappers.some((tagName) => blockColumn.firstElementChild.tagName === tagName);\n      if (!hasWrapper) {\n        wrap(blockColumn);\n      } else if (blockColumn.firstElementChild.tagName === 'PICTURE' && (blockColumn.children.length > 1 || !!blockColumn.textContent.trim())) {\n        wrap(blockColumn);\n      }\n    }\n  });\n}\n\n/**\n * Decorates paragraphs containing a single link as buttons.\n * @param {Element} element container element\n */\nfunction decorateButtons(element) {\n  element.querySelectorAll('a').forEach((a) => {\n    a.title = a.title || a.textContent;\n    if (a.href !== a.textContent) {\n      const up = a.parentElement;\n      const twoup = a.parentElement.parentElement;\n      if (!a.querySelector('img')) {\n        if (up.childNodes.length === 1 && (up.tagName === 'P' || up.tagName === 'DIV')) {\n          a.className = 'button'; // default\n          up.classList.add('button-container');\n        }\n        if (up.childNodes.length === 1 && up.tagName === 'STRONG' && twoup.childNodes.length === 1 && twoup.tagName === 'P') {\n          a.className = 'button primary';\n          twoup.classList.add('button-container');\n        }\n        if (up.childNodes.length === 1 && up.tagName === 'EM' && twoup.childNodes.length === 1 && twoup.tagName === 'P') {\n          a.className = 'button secondary';\n          twoup.classList.add('button-container');\n        }\n      }\n    }\n  });\n}\n\n/**\n * Add <img> for icon, prefixed with codeBasePath and optional prefix.\n * @param {Element} [span] span element with icon classes\n * @param {string} [prefix] prefix to be added to icon src\n * @param {string} [alt] alt text to be added to icon\n */\nfunction decorateIcon(span, prefix = '', alt = '') {\n  const iconName = Array.from(span.classList)\n    .find((c) => c.startsWith('icon-'))\n    .substring(5);\n  const img = document.createElement('img');\n  img.dataset.iconName = iconName;\n  img.src = `${window.hlx.codeBasePath}${prefix}/icons/${iconName}.svg`;\n  img.alt = alt;\n  img.loading = 'lazy';\n  span.append(img);\n}\n\n/**\n * Add <img> for icons, prefixed with codeBasePath and optional prefix.\n * @param {Element} [element] Element containing icons\n * @param {string} [prefix] prefix to be added to icon the src\n */\nfunction decorateIcons(element, prefix = '') {\n  const icons = element.querySelectorAll('span.icon');\n  icons.forEach((span) => {\n    decorateIcon(span, prefix);\n  });\n}\n\n/**\n * Decorates all sections in a container element.\n * @param {Element} main The container element\n */\nfunction decorateSections(main) {\n  main.querySelectorAll(':scope > div').forEach((section) => {\n    const wrappers = [];\n    let defaultContent = false;\n    [...section.children].forEach((e) => {\n      if (e.tagName === 'DIV' || !defaultContent) {\n        const wrapper = document.createElement('div');\n        wrappers.push(wrapper);\n        defaultContent = e.tagName !== 'DIV';\n        if (defaultContent) {\n          wrapper.classList.add('default-content-wrapper');\n        }\n      }\n      wrappers[wrappers.length - 1].append(e);\n    });\n    wrappers.forEach((wrapper) => section.append(wrapper));\n    section.classList.add('section');\n    section.dataset.sectionStatus = 'initialized';\n    section.style.display = 'none';\n\n    // Process section metadata\n    const sectionMeta = section.querySelector('div.section-metadata');\n    if (sectionMeta) {\n      const meta = readBlockConfig(sectionMeta);\n      Object.keys(meta).forEach((key) => {\n        if (key === 'style') {\n          const styles = meta.style\n            .split(',')\n            .filter((style) => style)\n            .map((style) => toClassName(style.trim()));\n          styles.forEach((style) => section.classList.add(style));\n        } else {\n          section.dataset[toCamelCase(key)] = meta[key];\n        }\n      });\n      sectionMeta.parentNode.remove();\n    }\n  });\n}\n\n/**\n * Gets placeholders object.\n * @param {string} [prefix] Location of placeholders\n * @returns {object} Window placeholders object\n */\nasync function fetchPlaceholders(prefix = 'default') {\n  window.placeholders = window.placeholders || {};\n  if (!window.placeholders[prefix]) {\n    window.placeholders[prefix] = new Promise((resolve) => {\n      fetch(`${prefix === 'default' ? '' : prefix}/placeholders.json`)\n        .then((resp) => {\n          if (resp.ok) {\n            return resp.json();\n          }\n          return {};\n        })\n        .then((json) => {\n          const placeholders = {};\n          json.data\n            .filter((placeholder) => placeholder.Key)\n            .forEach((placeholder) => {\n              placeholders[toCamelCase(placeholder.Key)] = placeholder.Text;\n            });\n          window.placeholders[prefix] = placeholders;\n          resolve(window.placeholders[prefix]);\n        })\n        .catch(() => {\n          // error loading placeholders\n          window.placeholders[prefix] = {};\n          resolve(window.placeholders[prefix]);\n        });\n    });\n  }\n  return window.placeholders[`${prefix}`];\n}\n\n/**\n * Builds a block DOM Element from a two dimensional array, string, or object\n * @param {string} blockName name of the block\n * @param {*} content two dimensional array or string or object of content\n */\nfunction buildBlock(blockName, content) {\n  const table = Array.isArray(content) ? content : [[content]];\n  const blockEl = document.createElement('div');\n  // build image block nested div structure\n  blockEl.classList.add(blockName);\n  table.forEach((row) => {\n    const rowEl = document.createElement('div');\n    row.forEach((col) => {\n      const colEl = document.createElement('div');\n      const vals = col.elems ? col.elems : [col];\n      vals.forEach((val) => {\n        if (val) {\n          if (typeof val === 'string') {\n            colEl.innerHTML += val;\n          } else {\n            colEl.appendChild(val);\n          }\n        }\n      });\n      rowEl.appendChild(colEl);\n    });\n    blockEl.appendChild(rowEl);\n  });\n  return blockEl;\n}\n\n/**\n * Loads JS and CSS for a block.\n * @param {Element} block The block element\n */\nasync function loadBlock(block) {\n  const status = block.dataset.blockStatus;\n  if (status !== 'loading' && status !== 'loaded') {\n    block.dataset.blockStatus = 'loading';\n    const { blockName } = block.dataset;\n    try {\n      const cssLoaded = loadCSS(`${window.hlx.codeBasePath}/blocks/${blockName}/${blockName}.css`);\n      const decorationComplete = new Promise((resolve) => {\n        (async () => {\n          try {\n            const blockPath = `${blockName}/${blockName}.js`;\n            const mod = await context(blockPath);\n            if (mod.default) {\n              await mod.default(block);\n            }\n          } catch (error) {\n            console.log(`failed to load module for ${blockName}`, error);\n          }\n          resolve();\n        })();\n      });\n      await Promise.all([cssLoaded, decorationComplete]);\n    } catch (error) {\n      console.log(`failed to load block ${blockName}`, error);\n    }\n    block.dataset.blockStatus = 'loaded';\n  }\n  return block;\n}\n\n/**\n * Decorates a block.\n * @param {Element} block The block element\n */\nfunction decorateBlock(block) {\n  const shortBlockName = block.classList[0];\n  if (shortBlockName) {\n    block.classList.add('block');\n    block.dataset.blockName = shortBlockName;\n    block.dataset.blockStatus = 'initialized';\n    wrapTextNodes(block);\n    const blockWrapper = block.parentElement;\n    blockWrapper.classList.add(`${shortBlockName}-wrapper`);\n    const section = block.closest('.section');\n    if (section) {\n      section.classList.add(`${shortBlockName}-container`);\n    }\n  }\n}\n\n/**\n * Decorates all blocks in a container element.\n * @param {Element} main The container element\n */\nfunction decorateBlocks(main) {\n  main.querySelectorAll('div.section > div > div').forEach(decorateBlock);\n}\n\n/**\n * Loads a block named 'header' into header\n * @param {Element} header header element\n * @returns {Promise}\n */\nasync function loadHeader(header) {\n  const headerBlock = buildBlock('header', '');\n  header.append(headerBlock);\n  decorateBlock(headerBlock);\n  return loadBlock(headerBlock);\n}\n\n/**\n * Loads a block named 'footer' into footer\n * @param footer footer element\n * @returns {Promise}\n */\nasync function loadFooter(footer) {\n  const footerBlock = buildBlock('footer', '');\n  footer.append(footerBlock);\n  decorateBlock(footerBlock);\n  return loadBlock(footerBlock);\n}\n\n/**\n * Wait for Image.\n * @param {Element} section section element\n */\nasync function waitForFirstImage(section) {\n  const lcpCandidate = section.querySelector('img');\n  await new Promise((resolve) => {\n    if (lcpCandidate && !lcpCandidate.complete) {\n      lcpCandidate.setAttribute('loading', 'eager');\n      lcpCandidate.addEventListener('load', resolve);\n      lcpCandidate.addEventListener('error', resolve);\n    } else {\n      resolve();\n    }\n  });\n}\n\n/**\n * Loads all blocks in a section.\n * @param {Element} section The section element\n */\n\nasync function loadSection(section, loadCallback) {\n  const status = section.dataset.sectionStatus;\n  if (!status || status === 'initialized') {\n    section.dataset.sectionStatus = 'loading';\n    const blocks = [...section.querySelectorAll('div.block')];\n    for (let i = 0; i < blocks.length; i += 1) {\n      await loadBlock(blocks[i]);\n    }\n    if (loadCallback) {\n      await loadCallback(section);\n    }\n    section.dataset.sectionStatus = 'loaded';\n    section.style.display = null;\n  }\n}\n\n/**\n * Loads all sections.\n * @param {Element} element The parent element of sections to load\n */\n\nasync function loadSections(element) {\n  const sections = [...element.querySelectorAll('div.section')];\n  for (let i = 0; i < sections.length; i += 1) {\n    await loadSection(sections[i]);\n    if (i === 0 && sampleRUM.enhance) {\n      sampleRUM.enhance();\n    }\n  }\n}\n\ninit();\n\nexport {\n  buildBlock,\n  createOptimizedPicture,\n  decorateBlock,\n  decorateBlocks,\n  decorateButtons,\n  decorateIcons,\n  decorateSections,\n  decorateTemplateAndTheme,\n  fetchPlaceholders,\n  getMetadata,\n  loadBlock,\n  loadCSS,\n  loadFooter,\n  loadHeader,\n  loadScript,\n  loadSection,\n  loadSections,\n  readBlockConfig,\n  sampleRUM,\n  setup,\n  toCamelCase,\n  toClassName,\n  waitForFirstImage,\n  wrapTextNodes,\n};\n","import { getTextLabel, createElement, getJsonFromUrl, getPlaceholders } from '../../scripts/common.js';\n\nconst docRange = document.createRange();\nconst isFrench = window.location.href.indexOf('/fr') > -1;\nconst blockName = 'vin-number';\n\nconst apiConfig = {\n  dev: {\n    url: 'https://vinlookup-dev-euw-ase-01.azurewebsites.net/v1/api/',\n    key: '0e13506b59674706ad9bae72d94fc83c',\n  },\n  qa: {\n    url: 'https://vinlookup-qa-euw-ase-01.azurewebsites.net/v1/api/',\n    key: '0e13506b59674706ad9bae72d94fc83c',\n  },\n  prod: {\n    url: 'https://vinlookup-prod-euw-ase-01.azurewebsites.net/v1/api/',\n    key: '0e13506b59674706ad9bae72d94fc83c',\n  },\n};\n\n// list of things to be display for each recall\nconst valueDisplayList = [\n  {\n    key: 'recall_date',\n  },\n  {\n    key: 'tc_recall_date',\n  },\n  {\n    key: 'mfr_recall_number',\n  },\n  {\n    key: 'nhtsa_recall_number',\n  },\n  {\n    key: 'tc_recall_nbr',\n  },\n  {\n    key: 'mfr_recall_status',\n  },\n  {\n    key: 'recall_description',\n    frenchKey: 'recall_description_french',\n    class: `${blockName}__detail-item--column`,\n  },\n  {\n    key: 'safety_risk_description',\n    frenchKey: 'safety_risk_description_french',\n    class: `${blockName}__detail-item--column`,\n  },\n  {\n    key: 'interim_precautions',\n    frenchKey: 'interim_precautions_french',\n    class: `${blockName}__detail-item--column`,\n    displayIfEmpty: true,\n  },\n  {\n    key: 'remedy_description',\n    frenchKey: 'remedy_description_french',\n    class: `${blockName}__detail-item--column`,\n  },\n  {\n    key: 'recall_effective_date',\n    class: `${blockName}__detail-item--column`,\n    text: 'recall_effective_text',\n    frenchText: 'vin_number:recall_effective_text_french',\n    displayIfEmpty: true,\n  },\n  {\n    key: 'mfr_notes',\n    frenchKey: 'mfr_notes_french',\n    class: `${blockName}__detail-item--column`,\n  },\n];\n\n// use this to map values from API\nconst recallStatus = {\n  11: 'recall-incomplete',\n  0: 'recall-complete',\n  12: 'recall-incomplete-no-remedy',\n};\n\nconst formatFrenchDate = (date) => {\n  const formattedDate = new Date(date).toLocaleDateString('fr-FR', { year: 'numeric', month: 'short', day: 'numeric' });\n  return formattedDate;\n};\n\nfunction renderRecalls(recallsData) {\n  const resultTextEle = document.querySelector(`.${blockName}__results-text`);\n  let resultContent = getTextLabel('vin_number:result_text')\n    .replace(/\\${count}/, recallsData.number_of_recalls)\n    .replace(/\\${vin}/, recallsData.vin);\n  let noFrenchInfo = false;\n\n  const recallsOldestDate = isFrench ? formatFrenchDate(recallsData.recalls_since) : recallsData.recalls_since;\n  const blockEl = document.querySelector(`.${blockName}__recalls-wrapper`);\n\n  const recallsMake = createElement('div', { classes: `${blockName}__recalls-make-wrapper` });\n  const makeFragment = docRange.createContextualFragment(`\n    <div class=\"${blockName}__recalls-model-year\">\n      <span class=\"${blockName}__recalls-make subtitle-1\">${getTextLabel('vin_number:model_year')}</span>\n      <span> ${recallsData.year}</span>\n    </div>\n    <div class=\"${blockName}__recalls-make\">\n      <span class=\"${blockName}__recalls-make subtitle-1\">${getTextLabel('vin_number:make')}</span>\n      <span> ${recallsData.make}</span>\n    </div>\n    <div class=\"${blockName}__recalls-model\">\n      <span class=\"${blockName}__recalls-model subtitle-1\">${getTextLabel('vin_number:model')}</span>\n      <span> ${recallsData.model}</span>\n    </div>\n  `);\n\n  recallsMake.append(...makeFragment.children);\n  blockEl.append(recallsMake);\n\n  if (recallsData.recalls_available) {\n    const listWrapperFragment = docRange.createContextualFragment(`\n      <div class=\"${blockName}__recalls-heading-wrapper\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12.537 2.77441C12.4523 2.60503 12.2792 2.49804 12.0898 2.49805C11.9004 2.49805 11.7273 2.60506 11.6426 2.77445L2.14458 21.7711C2.06709 21.9261 2.07537 22.1102 2.16647 22.2576C2.25758 22.405 2.41851 22.4947 2.5918 22.4947H21.5897C21.7629 22.4947 21.9239 22.405 22.015 22.2576C22.1061 22.1102 22.1144 21.9261 22.0369 21.7711L12.537 2.77441ZM3.4008 21.4947L12.0898 4.11603L20.7806 21.4947H3.4008ZM12.9995 14.6796V15.7512C12.9995 15.8619 12.9046 15.9974 12.7538 15.9974L12.4304 15.9969C12.2549 15.9965 12.0583 15.9961 11.9556 15.9961H11.2484C11.0976 15.9961 11.0027 15.8606 11.0027 15.7499V14.6796L11.0027 8.24501C11.0027 8.13425 11.0976 7.99874 11.2484 7.99874H11.9556C12.0581 7.99874 12.2545 7.99834 12.4299 7.99798H12.43L12.4304 7.99798L12.7538 7.99744C12.9046 7.99744 12.9995 8.13295 12.9995 8.2437L12.9995 14.6796ZM12.9964 18.8443V19.7512C12.9964 19.8619 12.9015 19.9974 12.7507 19.9974L12.4273 19.9969C12.2517 19.9965 12.0551 19.9961 11.9524 19.9961H11.2452C11.0944 19.9961 10.9995 19.8606 10.9995 19.7499V18.8443V18.2437C10.9995 18.1329 11.0944 17.9974 11.2452 17.9974H11.9524C12.0551 17.9974 12.2517 17.997 12.4273 17.9967L12.7507 17.9961C12.9015 17.9961 12.9964 18.1316 12.9964 18.2424L12.9964 18.8443Z\" fill=\"currentColor\"/>\n        </svg>\n        <h4 class=\"${blockName}__recalls-heading\">${getTextLabel('vin_number:recalls')}  &nbsp; &nbsp;</h4>\n        <span> [${getTextLabel('vin_number:recall_oldest_info')} ${recallsOldestDate}] </span>\n      </div>\n    `);\n\n    // create each recall\n    const list = createElement('ul', { classes: `${blockName}__list` });\n    recallsData.recalls.forEach((recall) => {\n      const liEl = createElement('li', {\n        classes: `${blockName}__list-item`,\n      });\n\n      // map the number from api to correct status\n      recall.mfr_recall_status = recallStatus[recall.mfr_recall_status];\n      const recallDetailsList = createElement('ul', { classes: `${blockName}__detail-list` });\n      valueDisplayList.forEach((item) => {\n        if (recall[item.key] || item.displayIfEmpty) {\n          const recallClass = item.key === 'mfr_recall_status' ? `${blockName}__${recall.mfr_recall_status.replace(/_/g, '-').toLowerCase()}` : '';\n          let itemValue = recall[item.key] || '';\n          if (recallClass) {\n            itemValue = getTextLabel(recall[item.key]);\n          } else if (item.key === 'recall_date' || item.key === 'tc_recall_date') {\n            itemValue = isFrench ? formatFrenchDate(recall[item.key]) : recall[item.key];\n          } else if (isFrench && item.frenchKey) {\n            if (recall[item.frenchKey]) {\n              itemValue = recall[item.frenchKey];\n            } else if (!noFrenchInfo) {\n              const noFrenchInoEl = document.querySelector(`.${blockName}__no-french-info`);\n              noFrenchInoEl.textContent = getTextLabel('vin_number:no_french_info');\n              noFrenchInfo = true;\n            }\n          }\n\n          if (itemValue && item.key === 'recall_effective_date') {\n            const recallText = getTextLabel(isFrench ? 'vin_number:recall_effective_text_french' : 'vin_number:recall_effective_text').split('//');\n            const recallDate = new Date(itemValue).setHours(0, 0, 0, 0);\n            const today = new Date().setHours(0, 0, 0, 0);\n            itemValue = recallDate > today ? ` ${recallText[1]} ${isFrench ? formatFrenchDate(itemValue) : itemValue} .` : recallText[0];\n          }\n\n          const itemFragment = docRange.createContextualFragment(`<li class=\"${blockName}__detail-item ${item.class ? item.class : ''}\" >\n            <h5 class=\"${blockName}__detail-title subtitle-1\">${getTextLabel(item.key)}</h5>\n            <span class=\"${blockName}__detail-value ${recallClass}\">${itemValue}</span>\n          </li>`);\n          recallDetailsList.append(...itemFragment.children);\n        }\n      });\n      liEl.append(recallDetailsList);\n      list.append(liEl);\n    });\n\n    blockEl.append(listWrapperFragment);\n    blockEl.appendChild(list);\n  } else {\n    resultContent = `${resultContent} [${getTextLabel('vin_number:recall_available_info')} ${recallsOldestDate}]`;\n  }\n\n  resultTextEle.innerText = resultContent;\n}\n\nfunction getAPIConfig() {\n  let env = 'prod';\n\n  if (['hlx.page', 'aem.page'].some((host) => window.location.host.includes(host))) {\n    env = 'qa';\n  } else if (window.location.host.includes('localhost')) {\n    env = 'dev';\n  }\n  return apiConfig[env];\n}\n\nfunction getStorageItem(key) {\n  // get the parsed value of the given key\n  const result = JSON.parse(window.localStorage.getItem(key));\n\n  // if the key has value\n  if (result) {\n    // if the entry is expired remove the entry and return null\n    if (result.expireTime <= Date.now()) {\n      window.localStorage.removeItem(key);\n      return null;\n    }\n    // else return the value\n    return result.data;\n  }\n  // if the key does not have value\n  return null;\n}\n\nfunction setStorageItem(key, value) {\n  // store the value as object along with expiry date\n  const result = {\n    data: value,\n    expireTime: Date.now() + 60 * 60 * 1000, // set the expiry from the current date for a day\n  };\n\n  // stringify the result and the data in original storage\n  window.localStorage.setItem(key, JSON.stringify(result));\n}\n\nasync function fetchRefreshDate() {\n  const refreshDate = getStorageItem('refreshDate');\n  if (!refreshDate) {\n    const { url, key } = getAPIConfig();\n    try {\n      const response = await getJsonFromUrl(`${url}refreshdate?api_key=${key}`);\n      setStorageItem('refreshDate', response.refresh_date);\n      return response.refresh_date;\n    } catch (error) {\n      console.error('Error fetching refresh date:', error);\n    }\n  }\n  return refreshDate;\n}\n\nfunction fetchRecalls(e) {\n  e.preventDefault();\n  if (e && e.target) {\n    // disable submit while fetching data\n    const submitBtn = e.target.querySelector('button');\n    submitBtn.disabled = true;\n\n    const recalls = document.querySelector(`.${blockName}__recalls-wrapper`);\n    recalls.innerHTML = '';\n\n    const noFrenchInoEl = document.querySelector(`.${blockName}__no-french-info`);\n    noFrenchInoEl.textContent = '';\n\n    const resultText = document.querySelector(`.${blockName}__results-text`);\n    resultText.innerText = getTextLabel('vin_number:loading_recalls');\n\n    const formData = new FormData(e.target);\n    const vin = formData.get('vin');\n\n    if (vin) {\n      const { url, key } = getAPIConfig();\n      try {\n        getJsonFromUrl(`${url}vin/${vin}?api_key=${key}&mode=company`).then((response) => {\n          if (response.error_code) {\n            resultText.innerHTML = `${getTextLabel('vin_number:no_recalls')} ${vin}`;\n          } else {\n            renderRecalls(response);\n          }\n\n          const vinInput = document.querySelector(`.${blockName}__input`);\n          vinInput.value = '';\n          submitBtn.disabled = false;\n        });\n      } catch (error) {\n        console.error('Error fetching Recalls:', error);\n      }\n      return null;\n    }\n  }\n  return null;\n}\n\nexport default async function decorate(block) {\n  await getPlaceholders();\n  fetchRefreshDate().then((response) => {\n    let refreshDate = response || 'XX-XX-XXXX';\n    if (response && isFrench) {\n      refreshDate = formatFrenchDate(response);\n    }\n\n    const refresDateWrapper = createElement('div', {\n      classes: `${blockName}__refresh-date-wrapper`,\n    });\n    const refreshFragment = docRange.createContextualFragment(`<span>\n      ${getTextLabel('vin_number:published_info')}:\n    </span>\n    <span class=\"${blockName}__refresh-date\">\n      ${refreshDate}\n    </span>`);\n\n    const form = createElement('form', {\n      classes: [`${blockName}__form`],\n    });\n    const formChildren = docRange.createContextualFragment(`\n      <div class=\"${blockName}__input-wrapper\">\n        <input\n          type=\"text\"\n          name=\"vin\"\n          id=\"vin_number\"\n          autocomplete=\"off\"\n          placeholder=\" \"\n          minlength=\"17\"\n          maxlength=\"17\"\n          required\n          class=\"${blockName}__input\"\n          pattern=\"^[1,2,3,4][c,C,N,n,R,r,P,p,V,v][1,2,4,5,9,C,c,e,E,K,k,V,v][B-C,E-H,J-N,R-T,V-Y,b-c,e-h,j-n,r-t,v-y][A-Za-z0-9]{13}$\"\n        />\n        <label for=\"vin_number\" class=\"${blockName}__label\">${getTextLabel('vin_number:label')}</label>\n      </div>\n      <button class=\"button primary ${blockName}__submit\" type=\"submit\" name=\"submit\">${getTextLabel('vin_number:submit')}</button>\n    `);\n\n    const vinResultsContainer = createElement('div', { classes: `${blockName}__results-container` });\n    const innerContent = docRange.createContextualFragment(`\n      <span class=\"${blockName}__results-text\"></span>\n      <div class=\"${blockName}__no-french-info\"></div>\n      <div class=\"${blockName}__recalls-wrapper\"></div>\n    `);\n\n    vinResultsContainer.append(innerContent);\n\n    form.addEventListener('submit', fetchRecalls, false);\n    form.append(...formChildren.children);\n    refresDateWrapper.append(...refreshFragment.children);\n    block.append(form, refresDateWrapper);\n    block.append(vinResultsContainer);\n\n    const vinInput = block.querySelector(`.${blockName}__input`);\n\n    vinInput.oninvalid = (e) => {\n      if (e.target.value.length < e.target.maxLength) {\n        e.target.setCustomValidity(getTextLabel('vin_number:format_length'));\n        return;\n      }\n      e.target.setCustomValidity(getTextLabel('vin_number:format'));\n    };\n\n    vinInput.oninput = (e) => {\n      e.target.setCustomValidity('');\n    };\n  });\n}\n","import { createElement, adjustPretitle } from '../../scripts/common.js';\n\nexport default function decorate(block) {\n  const blockName = 'v2-media-gallery';\n  const rows = [...block.querySelectorAll(':scope > div')];\n  rows.forEach((row) => {\n    row.classList.add(`${blockName}__row`);\n  });\n\n  const cols = [...block.querySelectorAll(':scope > div > div')];\n  cols.forEach((col) => {\n    col.classList.add(`${blockName}__col`);\n    adjustPretitle(col);\n  });\n\n  const pictureCol = block.querySelector('ul picture').closest(`.${blockName}__col`);\n  pictureCol.classList.add(`${blockName}__images-list-col`);\n  pictureCol.querySelector('ul').classList.add(`${blockName}__images-list`);\n  [...pictureCol.querySelectorAll('ul > li')].forEach((el) => {\n    el.classList.add(`${blockName}__images-list-item`);\n\n    const figure = createElement('figure', { classes: `${blockName}__figure` });\n    figure.append(...el.childNodes);\n    el.append(figure);\n\n    const figCaption = createElement('figcaption');\n    const lastItems = [...figure.childNodes].at(-1);\n    if (lastItems.nodeType === Node.TEXT_NODE) {\n      figCaption.append(lastItems);\n      figure.append(figCaption);\n    }\n  });\n  [...pictureCol.querySelectorAll('ul > li img')].forEach((el) => {\n    el.classList.add(`${blockName}__image`);\n  });\n\n  block.querySelectorAll('h1, h2, h3, h4, h5, h6').forEach((el) => el.classList.add(`${blockName}__heading`));\n  block.querySelectorAll('.pretitle').forEach((el) => {\n    el.classList.add(`${blockName}__pretitle`);\n  });\n\n  block.querySelectorAll('.button').forEach((el) => {\n    el.closest('.button-container')?.replaceWith(el);\n  });\n\n  block.querySelectorAll('p').forEach((el) => {\n    el.classList.add(`${blockName}__text`);\n  });\n}\n","/*\n * Fragment Block\n * Include content from one Helix page in another.\n * https://www.hlx.live/developer/block-collection/fragment\n */\n\nimport { decorateMain } from '../../scripts/scripts.js';\nimport { getLanguagePath } from '../../scripts/common.js';\nimport { loadSections } from '../../scripts/aem.js';\n\n/**\n * Loads a fragment.\n * @param {string} path The path to the fragment\n * @returns {HTMLElement} The root element of the fragment\n */\nasync function loadFragment(path) {\n  if (path && path.startsWith('/')) {\n    const resp = await fetch(`${path}.plain.html`);\n    if (resp.ok) {\n      const main = document.createElement('main');\n      main.innerHTML = await resp.text();\n      decorateMain(main, main);\n      await loadSections(main);\n      return main;\n    }\n  }\n  return null;\n}\n\nexport default async function decorate(block) {\n  const language = getLanguagePath();\n  const link = block.querySelector('a');\n  const path = link ? link.getAttribute('href') : block.textContent.trim();\n  const localisedPath = (language + path).replace(/\\/+/g, '/');\n  const fragment = await loadFragment(localisedPath);\n  if (fragment) {\n    const fragmentSection = fragment.querySelector(':scope .section');\n    if (fragmentSection) {\n      block.closest('.section').classList.add(...fragmentSection.classList);\n      block.closest('.fragment-wrapper').replaceWith(...fragmentSection.childNodes);\n    }\n  }\n}\n","import { removeEmptyTags, variantsClassesToBEM } from '../../scripts/common.js';\nimport { createVideo, cleanupVideoLink } from '../../scripts/video-helper.js';\n\nconst onHoverOrScroll = (element, handler) => {\n  let isInViewport = false;\n  let isMouseOver = false;\n  const onChange = () => {\n    handler(isInViewport || isMouseOver);\n  };\n\n  const observer = new IntersectionObserver(\n    (entries) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          isInViewport = entry.intersectionRatio >= 0.5;\n          onChange();\n        }\n      });\n    },\n    {\n      threshold: [0.4, 0.5, 0.6],\n    },\n  );\n  observer.observe(element);\n\n  element.addEventListener('mouseover', () => {\n    isMouseOver = true;\n    onChange();\n  });\n\n  element.addEventListener('mouseout', () => {\n    isMouseOver = false;\n    onChange();\n  });\n};\n\nconst extractAspectRatio = (block) => {\n  const aspectRatioRegex = /aspect-ratio-(\\d+)-(\\d+)/;\n  const aspectRatioClass = Array.from(block.classList).find((className) => aspectRatioRegex.test(className));\n\n  const match = aspectRatioClass?.match(aspectRatioRegex);\n\n  return match\n    ? {\n        width: parseInt(match[1], 10),\n        height: parseInt(match[2], 10),\n      }\n    : null;\n};\n\nconst retrieveVideoConfig = (block, aspectRatio) => {\n  const image = block.querySelector('img');\n  const poster = image ? new URL(image.getAttribute('src'), window.location.href).href : undefined;\n\n  return {\n    ...(aspectRatio ? { aspectRatio: `${aspectRatio.width}:${aspectRatio.height}` } : {}),\n    ...(poster ? { poster } : {}),\n    autoplay: block.classList.contains('autoplay'),\n    muted: block.classList.contains('autoplay') || block.classList.contains('muted'),\n    loop: block.classList.contains('loop'),\n    controls: block.classList.contains('controls'),\n    disablePictureInPicture: block.classList.contains('disable-picture-in-picture'),\n    language: document.documentElement.lang,\n    playsinline: true,\n  };\n};\n\nconst variantClasses = ['expanding'];\n\nexport default async function decorate(block) {\n  const blockName = 'v2-video';\n  const videoLink = block.querySelector('a');\n\n  variantsClassesToBEM(block.classList, variantClasses, blockName);\n\n  if (!videoLink) {\n    console.warn('Video for v2-video block is required and not provided. The block will not render!');\n    block.innerHTML = '';\n    return;\n  }\n\n  const aspectRatio = extractAspectRatio(block);\n  if (aspectRatio) {\n    block.style.setProperty('--video-aspect-ratio', `${aspectRatio.width}/${aspectRatio.height}`);\n  }\n\n  const config = retrieveVideoConfig(block, aspectRatio);\n  const video = createVideo(\n    videoLink,\n    `${blockName}__video`,\n    {\n      ...config,\n      fill: true,\n    },\n    { usePosterAutoDetection: true },\n  );\n\n  cleanupVideoLink(block, videoLink, true);\n  removeEmptyTags(block, true);\n\n  const headings = block.querySelectorAll('h1, h2, h3, h4, h5, h6');\n  const ctaButtons = block.querySelectorAll('.button-container a');\n  const contentWrapper = block.querySelector(':scope > div');\n  const content = block.querySelector(':scope > div > div');\n\n  if (contentWrapper) {\n    contentWrapper.classList.add(`${blockName}__content-wrapper`);\n    content.classList.add(`${blockName}__content`);\n    [...headings].forEach((heading) => heading.classList.add(`${blockName}__heading`));\n    [...ctaButtons].forEach((button) => {\n      button.classList.add(`${blockName}__button`, 'dark');\n    });\n  }\n\n  block.prepend(video);\n\n  if (block.classList.contains(`${blockName}--expanding`)) {\n    onHoverOrScroll(block, (val) => {\n      const action = val ? 'add' : 'remove';\n\n      block.classList[action](`${blockName}--full-width`);\n    });\n  } else {\n    block.classList.add(`${blockName}--full-width`);\n  }\n}\n","import {\n  addClassIfChildHasClass,\n  createElement,\n  createNewSection,\n  removeEmptyTags,\n  unwrapDivs,\n  variantsClassesToBEM,\n  waitForElementInDOM,\n} from '../../scripts/common.js';\nimport { addMuteControls, createVideoWithPoster, isVideoLink, selectVideoLink, createVideo } from '../../scripts/video-helper.js';\n\nconst blockName = 'v2-media-with-text';\nconst variantClasses = [\n  'text-centered',\n  'expanded-width',\n  'full-width',\n  'media-left',\n  'media-left',\n  'media-right',\n  'media-vertical',\n  'media-gallery',\n  'media-autoplay',\n  'mute-controls',\n  'title-small',\n];\n\nconst buildMediaGallery = (section) => {\n  const allCaptions = section.querySelectorAll('p:not(:has(picture))');\n  const allPictures = section.querySelectorAll('picture');\n\n  allPictures.forEach((picture, idx) => {\n    const caption = allCaptions[idx];\n    const figureElmt = document.createRange().createContextualFragment(`\n      <figure>\n        ${picture.outerHTML}\n        ${caption ? `<figcaption class=\"caption\">${caption.textContent}</figcaption>` : ''}\n      <figure>\n    `);\n    section.append(figureElmt);\n  });\n  section.querySelectorAll('p').forEach((p) => (p.outerHTML = ''));\n};\n\nexport default async function decorate(block) {\n  variantsClassesToBEM(block.classList, variantClasses, blockName);\n  addClassIfChildHasClass(block, 'full-width');\n  addClassIfChildHasClass(block, 'expanded-width');\n\n  const cells = block.querySelectorAll(':scope > div > div');\n  let contentSection;\n  let mediaSection;\n  let subTextSection;\n  let containerSection;\n  let videoLinks;\n\n  cells.forEach((cell, index) => {\n    // First cell for content, second for media and last for the subtext\n    const isLastCell = index % 2 === 0 && index === cells.length - 1;\n    const isCellNumberEven = index % 2 === 0;\n    const isTotalCellsEven = cells.length % 2 === 0;\n\n    if (isLastCell) {\n      subTextSection = createNewSection(blockName, 'sub-text', cell);\n    } else if (isCellNumberEven) {\n      contentSection = createNewSection(blockName, 'content', cell);\n      const headings = [...cell.querySelectorAll(['h1', 'h2', 'h3', 'h4', 'h5', 'h6'])];\n      headings.forEach((heading, idx) => {\n        const hasPretitle = headings.length > 1;\n        heading.classList.add(`${blockName}__${hasPretitle && idx < 1 ? 'pretitle' : 'heading'}`);\n      });\n    } else {\n      mediaSection = createNewSection(blockName, 'media', cell);\n      if (block.classList.contains(`${blockName}--media-gallery`)) {\n        buildMediaGallery(mediaSection);\n      }\n      videoLinks = [...mediaSection.querySelectorAll('a')].filter((link) => isVideoLink(link));\n      const picture = mediaSection.querySelector('picture');\n\n      if (videoLinks.length) {\n        const videoLink = selectVideoLink(videoLinks);\n\n        if (videoLink) {\n          if (picture) {\n            requestAnimationFrame(() => {\n              const videoWithPoster = createVideoWithPoster(videoLink.href, picture, `${blockName}--video-with-poster`, { controls: false });\n              const videoEl = videoWithPoster.querySelector('video');\n              if (videoEl) {\n                videoEl.classList.add(`${blockName}__media`);\n              }\n              mediaSection.append(videoWithPoster);\n            });\n          } else {\n            waitForElementInDOM(block, `.${blockName}__media-section`, (mediaSection) => {\n              let container = mediaSection.querySelector(`.${blockName}__video`);\n              if (!container) {\n                container = createElement('div', { classes: `${blockName}__video` });\n                mediaSection.append(container);\n              }\n              const videoEl = createVideo(videoLink.getAttribute('href'), `${blockName}__video`, {\n                muted: true,\n                autoplay: true,\n                loop: true,\n                playsinline: true,\n              });\n              videoEl.classList.add(`${blockName}__media`);\n              container.appendChild(videoEl);\n\n              if (block.classList.contains(`${blockName}--mute-controls`)) {\n                addMuteControls(container);\n              }\n            });\n          }\n        }\n      }\n    }\n\n    // If cell number is odd(i.e. a 'media' cell) and not the last cell\n    if (!isLastCell && !isCellNumberEven) {\n      // Wrap with a row if the number of cells is more than 2.\n      if (cells.length > 2) {\n        containerSection = createElement('div', { classes: `${blockName}__container` });\n        containerSection.append(mediaSection, contentSection);\n        block.append(containerSection);\n      } else {\n        // Append the media and content sections directly to the block.\n        block.append(mediaSection, contentSection);\n      }\n    }\n    // For an odd number of cells, append the remaining subTextSection.\n    if (!isTotalCellsEven) {\n      if (subTextSection) {\n        block.append(subTextSection);\n      }\n    }\n  });\n\n  const medias = block.querySelectorAll(['img', 'video', 'iframe']);\n  medias.forEach((media) => media.classList.add(`${blockName}__media`));\n\n  videoLinks.forEach((videoLink) => videoLink.remove());\n  unwrapDivs(block, { ignoreDataAlign: true });\n  removeEmptyTags(block);\n}\n","/* eslint-disable  */\n\nfunction MyDealer() {\n  var $html = $('html');\n  var $location = [];\n  var $isOpen = false;\n  var allowDisplay = false;\n  var $brand = '';\n\n  this.init = function () {\n    if ($html.is('[data-brand]')) {\n      $brand = $html.attr('data-brand');\n      $brand = '-' + $brand;\n    }\n\n    if ($brand !== '') {\n      setListener();\n\n      $('.openfindadealer').click(function (e) {\n        if (allowDisplay === true) {\n          e.preventDefault();\n          $('.ancillaryNavPopup.findadealer').toggle();\n        }\n      });\n    }\n  };\n\n  this.isOpen = function () {\n    return $isOpen;\n  };\n\n  function readDealerCookie(name) {\n    var nameEQ = name + '=';\n    var ca = document.cookie.split(';');\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n      while (c.charAt(0) === ' ') {\n        c = c.substring(1, c.length);\n      }\n      if (c.indexOf(nameEQ) === 0) {\n        return c.substring(nameEQ.length, c.length);\n      }\n    }\n    return null;\n  }\n\n  function getDealerHoursInfo(hours, time) {\n    var zone = moment.tz.guess();\n\n    var closeSoon = false;\n\n    if (hours) {\n      if (!time) {\n        time = new Date();\n      }\n\n      var todayAtDealer = hours[time.getDay()];\n\n      if (todayAtDealer) {\n        var startTime = todayAtDealer.Start;\n        if (startTime.toLowerCase() === 'midnight') {\n          startTime = '12:00 AM';\n        }\n\n        var endTime = todayAtDealer.End;\n        if (endTime.toLowerCase() === 'midnight') {\n          endTime = '11:59 PM';\n        }\n\n        if (startTime.toLowerCase().indexOf('24') > -1) {\n          startTime = '12:00 AM';\n          //dealer is open 24 hours\n          return { open: true, endTime: null, closeSoon: null, alwaysOpen: true };\n        }\n\n        if (endTime.toLowerCase().indexOf('24') > -1) {\n          endTime = '12:00 AM';\n          //dealer is open 24 hours\n          return { open: true, endTime: null, closeSoon: null, alwaysOpen: true };\n        }\n\n        if (startTime.toLowerCase() === 'noon') {\n          startTime = '12:00 PM';\n        }\n\n        if (endTime.toLowerCase() === 'noon') {\n          endTime = '12:00 PM';\n        }\n\n        var start = new Date();\n        start.setFullYear(time.getFullYear());\n        start.setMonth(time.getMonth());\n        start.setDate(time.getDate());\n        start.setHours(moment(startTime, ['h:mm A']).format('HH'));\n        start.setMinutes(moment(startTime, ['h:mm A']).format('mm'));\n        start.setSeconds(0);\n\n        var end = new Date();\n        end.setFullYear(time.getFullYear());\n        end.setMonth(time.getMonth());\n        end.setDate(time.getDate());\n        end.setHours(moment(endTime, ['h:mm A']).format('HH'));\n        end.setMinutes(moment(endTime, ['h:mm A']).format('mm'));\n        end.setSeconds(0);\n\n        if (moment.tz(zone).isBetween(start, end)) {\n          var hours2 = Math.abs(time - end) / 36e5;\n\n          if (hours2 < 1) {\n            closeSoon = true;\n          }\n\n          //dealer is open\n          return { open: true, endTime: end, closeSoon: closeSoon, alwaysOpen: false };\n        } else {\n          //dealer is closed\n          return { open: false, endTime: end, closeSoon: closeSoon, alwaysOpen: false };\n        }\n      }\n    }\n\n    return 2;\n  }\n\n  function getMyDealer() {\n    var preferredSet = readDealerCookie('my-dealer');\n    if (preferredSet) {\n      // If user has selected a preferred dealer get that\n      $brand = '';\n    } else {\n      if ($html.is('[data-brand]')) {\n        $brand = $html.attr('data-brand');\n        $brand = '-' + $brand;\n      }\n    }\n\n    var dealer = {\n      dealer: '',\n      dealerName: '',\n      dealerCity: '',\n      dealerState: '',\n      dealerZip: '',\n      dealerAddr1: '',\n      dealerAddr2: '',\n      dealerHours: {},\n      dealerNumber: '',\n      coords: '',\n    };\n\n    var myDealer = readDealerCookie('my-dealer' + $brand);\n    if (myDealer) {\n      dealer.dealer = myDealer;\n    }\n\n    var myDealerName = readDealerCookie('my-dealer-name' + $brand);\n    if (myDealerName) {\n      dealer.dealerName = myDealerName;\n    }\n\n    var myDealerCity = readDealerCookie('my-dealer-city' + $brand);\n    if (myDealerCity) {\n      dealer.dealerCity = myDealerCity;\n    }\n    var myDealerState = readDealerCookie('my-dealer-state' + $brand);\n    if (myDealerState) {\n      dealer.dealerState = myDealerState;\n    }\n    var myDealerZip = readDealerCookie('my-dealer-zip' + $brand);\n    if (myDealerZip) {\n      dealer.dealerZip = myDealerZip;\n    }\n    var myDealerAddr1 = readDealerCookie('my-dealer-addr1' + $brand);\n    if (myDealerAddr1) {\n      dealer.dealerAddr1 = myDealerAddr1;\n    }\n    var myDealerAddr2 = readDealerCookie('my-dealer-addr2' + $brand);\n    if (myDealerAddr2) {\n      dealer.dealerAddr2 = myDealerAddr2;\n    }\n\n    var myDealerHours = readDealerCookie('my-dealer-hours' + $brand);\n    if (myDealerHours) {\n      dealer.dealerHours = JSON.parse(myDealerHours);\n    }\n\n    var myDealerCoords = readDealerCookie('my-dealer-coords' + $brand);\n    if (myDealerCoords) {\n      dealer.coords = myDealerCoords;\n    }\n\n    var myDealerFormattedNumber = '';\n    var myDealerNumber = readDealerCookie('my-dealer-number' + $brand);\n    if (myDealerNumber) {\n      dealer.dealerNumber = myDealerNumber;\n      myDealerFormattedNumber = formatPhoneNumber(myDealerNumber);\n    }\n\n    if (!myDealerNumber && !myDealerHours) {\n      return false;\n    }\n\n    // Restore brand\n    if ($html.is('[data-brand]')) {\n      $brand = $html.attr('data-brand');\n      $brand = '-' + $brand;\n    }\n\n    return dealer;\n  }\n\n  function error(err) {\n    console.log(\"Error getting user's location: \" + err.message);\n  }\n\n  function setLocation() {\n    navigator.geolocation.getCurrentPosition(function (position) {\n      if (position) {\n        $location.push(position.coords.latitude);\n        $location.push(position.coords.longitude);\n\n        setDealer();\n      } else {\n        // Error getting position or user denied access.\n        console.log('Error getting position or user denied access');\n      }\n    }, error);\n  }\n\n  function formatPhoneNumber(phoneNumberString) {\n    var cleaned = ('' + phoneNumberString).replace(/\\D/g, '');\n    var match = cleaned.match(/^(\\d{3})(\\d{3})(\\d{4})$/);\n    return !match ? null : match[1] + '-' + match[2] + '-' + match[3];\n  }\n\n  function createCookie(name, value, days) {\n    if (days) {\n      var date = new Date();\n      date.setTime(date.getTime() + 24 * days * 60 * 60 * 1e3);\n      var expires = '; expires=' + date.toGMTString();\n    } else expires = '';\n    document.cookie = name + '=' + value + expires + '; path=/';\n  }\n\n  // Only to be called after location is set\n  function setDealer() {\n    if (!$location) {\n      console.log('Could not find dealer because location is not set. ');\n      return false;\n    }\n\n    var ajaxUrl = '';\n    if ($brand === '-mack') {\n      ajaxUrl = 'https://mvservices.na.volvogroup.com/DealerJSON_new.ashx?nearest=1&lat=' + $location[0] + '&lng=' + $location[1];\n    } else if ($brand === '-volvo') {\n      ajaxUrl = 'https://mvservices.na.volvogroup.com/volvo_dealerJSON.ashx?nearest=1&lat=' + $location[0] + '&lng=' + $location[1];\n    }\n\n    $.ajax({\n      url: ajaxUrl,\n      type: 'GET',\n      success: function (data) {\n        var dealer = data[0][0];\n        if (dealer) {\n          createCookie('my-dealer' + $brand, dealer.IDENTIFIER_VALUE, 365 * 10);\n          createCookie('my-dealer-name' + $brand, dealer.COMPANY_DBA_NAME, 365 * 10);\n          createCookie('my-dealer-city' + $brand, dealer.MAIN_CITY_NM, 365 * 10);\n          createCookie('my-dealer-state' + $brand, dealer.MAIN_STATE_PROV_CD, 365 * 10);\n          createCookie('my-dealer-zip' + $brand, dealer.MAIN_POSTAL_CD, 365 * 10);\n          createCookie('my-dealer-addr1' + $brand, dealer.MAIN_ADDRESS_LINE_1_TXT, 365 * 10);\n          createCookie('my-dealer-addr2' + $brand, dealer.MAIN_ADDRESS_LINE_2_TXT, 365 * 10);\n\n          var hours = null;\n          if (dealer.hours.Parts) {\n            hours = dealer.hours.Parts;\n          }\n\n          if (!hours && dealer.hours.Service) {\n            hours = dealer.hours.Service;\n          }\n\n          if (!hours && dealer.hours.Leasing) {\n            hours = dealer.hours.Leasing;\n          }\n\n          createCookie('my-dealer-hours' + $brand, JSON.stringify(hours), 365 * 10);\n          createCookie('my-dealer-number' + $brand, dealer.REG_PHONE_NUMBER, 365 * 10);\n          createCookie('my-dealer-coords' + $brand, dealer.MAIN_LATITUDE + ',' + dealer.MAIN_LONGITUDE, 365 * 10);\n\n          dealer = getMyDealer();\n\n          if (dealer !== null) {\n            allowDisplay = true;\n            showDealerBox(dealer);\n          }\n        }\n      },\n      error: function (error) {\n        console.log('MVServices call failed with code: ' + error.message);\n      },\n    });\n  }\n\n  function setListener() {\n    var dealer = null;\n\n    // If dealer cookie exists, use it\n    window.addEventListener(\n      'my-dealer',\n      function (e) {\n        // Take existing dealer info and put it in dealer variable\n        dealer = getMyDealer();\n        if (dealer !== null) {\n          allowDisplay = true;\n          // Populate Find a Dealer box\n          showDealerBox(dealer);\n        }\n      },\n      false,\n    );\n\n    // Dealer cookie does not exist\n    if (dealer === null) {\n      setLocation();\n    }\n  }\n\n  function normalizeCase(input) {\n    return input.charAt(0).toUpperCase() + input.slice(1).toLowerCase();\n  }\n\n  function showDealerBox(dealer) {\n    if (dealer !== null) {\n      // Find out if dealer city is two words\n      // Capitalize each word if city contains spaces\n      var splitCity = new Array();\n\n      if (dealer.dealerCity.includes(' ')) {\n        var cityParts = dealer.dealerCity.split(' ');\n\n        cityParts.forEach(function (part) {\n          var currentPart = normalizeCase(part);\n          splitCity.push(currentPart);\n        });\n      }\n\n      var today = new Date();\n      var openDetails = getDealerHoursInfo(dealer.dealerHours, today);\n      var popup = $('.ancillaryNavPopup.findadealer');\n\n      popup.html('');\n      popup.prepend('<div class=\"innerTriangle\"></div>');\n\n      // Applies dealer name to pop-out.\n      popup.append('<div id=\"dealerLocation\">' + dealer.dealerName + '</div>');\n      // Applies address to pop-out.\n      popup.append(\n        '<div id=\"dealerAddress\"><p>' +\n          dealer.dealerAddr1 +\n          '\\n' +\n          dealer.dealerAddr2 +\n          '\\n' +\n          dealer.dealerCity +\n          ', ' +\n          dealer.dealerState +\n          ' ' +\n          dealer.dealerZip +\n          '</p></div>',\n      );\n      $('#dealerAddress').prepend(\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"11.885\" height=\"16.016\" viewBox=\"0 0 11.885 16.016\"><path id=\"Path_5\" data-name=\"Path 5\" d=\"M1184.541,755.942a5.942,5.942,0,0,0-11.885,0c0,3.282,5.942,10.074,5.942,10.074S1184.541,759.224,1184.541,755.942Zm-8.713.275a2.771,2.771,0,1,1,2.771,2.77A2.77,2.77,0,0,1,1175.828,756.217Z\" transform=\"translate(-1172.656 -750)\"/></svg>',\n      );\n      // Applies remaining information to pop-out.\n      popup.append('<div id=\"dealerPhone\"><p>' + formatPhoneNumber(dealer.dealerNumber) + '</p></div>');\n      $('#dealerPhone').prepend(\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14.646\" height=\"14.646\" viewBox=\"0 0 14.646 14.646\"><path id=\"Path_6\" data-name=\"Path 6\" d=\"M528.724,656.976a16.711,16.711,0,0,0,1.3,1.046,6.962,6.962,0,0,0,1.272.724.838.838,0,0,0,.29.032,1.177,1.177,0,0,0,.354-.161c.24-.166.66-.731.9-.9a1.793,1.793,0,0,1,.365-.172,1.306,1.306,0,0,1,.354-.064,8.942,8.942,0,0,1,3,1.248.747.747,0,0,1,.161.161,3.95,3.95,0,0,1,.612,1.288,1.4,1.4,0,0,1-.113.563,3.289,3.289,0,0,1-.708.837,4.855,4.855,0,0,1-.982.692,3.318,3.318,0,0,1-.918.209,10.144,10.144,0,0,1-2.238-.338,18.66,18.66,0,0,1-2.656-1.046c-.589-.3-1.69-1.032-2.238-1.4-.148-.1-.419-.343-.555-.459s-.5-.5-.5-.5-.382-.362-.495-.5-.359-.407-.459-.555c-.368-.547-1.1-1.648-1.4-2.238a18.665,18.665,0,0,1-1.046-2.656,10.145,10.145,0,0,1-.338-2.238,3.32,3.32,0,0,1,.209-.918,4.858,4.858,0,0,1,.692-.982,3.289,3.289,0,0,1,.837-.708,1.4,1.4,0,0,1,.563-.113,3.953,3.953,0,0,1,1.288.612.745.745,0,0,1,.161.161,8.937,8.937,0,0,1,1.248,3,1.308,1.308,0,0,1-.064.354,1.786,1.786,0,0,1-.172.365c-.168.239-.732.659-.9.9a1.176,1.176,0,0,0-.161.354.835.835,0,0,0,.032.29,6.953,6.953,0,0,0,.724,1.272,16.661,16.661,0,0,0,1.047,1.3c.06.067.254.254.254.254Z\" transform=\"translate(-522.694 -647.838)\"/></svg>',\n      );\n\n      if (openDetails.open === true) {\n        if (openDetails.alwaysOpen === true) {\n          popup.append('<div id=\"dealerHours\"><p>Open 24 hours</p></div>');\n          $('#dealerHours').prepend(\n            '<svg id=\"Group_5\" data-name=\"Group 5\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16.265\" height=\"16.265\" viewBox=\"0 0 16.265 16.265\"><path id=\"Path_7\" data-name=\"Path 7\" d=\"M-21.532,233.386l-2.2-1.033v-3.688a.725.725,0,0,0-.724-.724.725.725,0,0,0-.724.724v4.143a.727.727,0,0,0,.463.676l2.561,1.206a.719.719,0,0,0,.311.071.722.722,0,0,0,.241-.042.717.717,0,0,0,.411-.369A.723.723,0,0,0-21.532,233.386Z\" transform=\"translate(32.587 -224.675)\"/><path id=\"Path_8\" data-name=\"Path 8\" d=\"M-99.916,191.261a8.079,8.079,0,0,0-5.751-2.382,8.079,8.079,0,0,0-5.751,2.382,8.079,8.079,0,0,0-2.382,5.751,8.079,8.079,0,0,0,2.382,5.75,8.079,8.079,0,0,0,5.751,2.382,8.079,8.079,0,0,0,5.751-2.382,8.079,8.079,0,0,0,2.382-5.75A8.079,8.079,0,0,0-99.916,191.261Zm-5.751,11.6a5.81,5.81,0,0,1-4.136-1.713,5.81,5.81,0,0,1-1.713-4.136,5.811,5.811,0,0,1,1.713-4.136,5.811,5.811,0,0,1,4.136-1.713,5.811,5.811,0,0,1,4.136,1.713,5.811,5.811,0,0,1,1.713,4.136,5.81,5.81,0,0,1-1.713,4.136A5.81,5.81,0,0,1-105.666,202.86Z\" transform=\"translate(113.799 -188.879)\"/></svg>',\n          );\n        } else {\n          popup.append('<div id=\"dealerHours\"><p>Open until ' + moment(openDetails.endTime).format('LT') + '</p></div>');\n          $('#dealerHours').prepend(\n            '<svg id=\"Group_5\" data-name=\"Group 5\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16.265\" height=\"16.265\" viewBox=\"0 0 16.265 16.265\"><path id=\"Path_7\" data-name=\"Path 7\" d=\"M-21.532,233.386l-2.2-1.033v-3.688a.725.725,0,0,0-.724-.724.725.725,0,0,0-.724.724v4.143a.727.727,0,0,0,.463.676l2.561,1.206a.719.719,0,0,0,.311.071.722.722,0,0,0,.241-.042.717.717,0,0,0,.411-.369A.723.723,0,0,0-21.532,233.386Z\" transform=\"translate(32.587 -224.675)\"/><path id=\"Path_8\" data-name=\"Path 8\" d=\"M-99.916,191.261a8.079,8.079,0,0,0-5.751-2.382,8.079,8.079,0,0,0-5.751,2.382,8.079,8.079,0,0,0-2.382,5.751,8.079,8.079,0,0,0,2.382,5.75,8.079,8.079,0,0,0,5.751,2.382,8.079,8.079,0,0,0,5.751-2.382,8.079,8.079,0,0,0,2.382-5.75A8.079,8.079,0,0,0-99.916,191.261Zm-5.751,11.6a5.81,5.81,0,0,1-4.136-1.713,5.81,5.81,0,0,1-1.713-4.136,5.811,5.811,0,0,1,1.713-4.136,5.811,5.811,0,0,1,4.136-1.713,5.811,5.811,0,0,1,4.136,1.713,5.811,5.811,0,0,1,1.713,4.136,5.81,5.81,0,0,1-1.713,4.136A5.81,5.81,0,0,1-105.666,202.86Z\" transform=\"translate(113.799 -188.879)\"/></svg>',\n          );\n        }\n      } else {\n        popup.append('<div id=\"dealerHours\"><p>Closed</p></div>');\n        $('#dealerHours').prepend(\n          '<svg id=\"Group_5\" data-name=\"Group 5\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16.265\" height=\"16.265\" viewBox=\"0 0 16.265 16.265\"><path id=\"Path_7\" data-name=\"Path 7\" d=\"M-21.532,233.386l-2.2-1.033v-3.688a.725.725,0,0,0-.724-.724.725.725,0,0,0-.724.724v4.143a.727.727,0,0,0,.463.676l2.561,1.206a.719.719,0,0,0,.311.071.722.722,0,0,0,.241-.042.717.717,0,0,0,.411-.369A.723.723,0,0,0-21.532,233.386Z\" transform=\"translate(32.587 -224.675)\"/><path id=\"Path_8\" data-name=\"Path 8\" d=\"M-99.916,191.261a8.079,8.079,0,0,0-5.751-2.382,8.079,8.079,0,0,0-5.751,2.382,8.079,8.079,0,0,0-2.382,5.751,8.079,8.079,0,0,0,2.382,5.75,8.079,8.079,0,0,0,5.751,2.382,8.079,8.079,0,0,0,5.751-2.382,8.079,8.079,0,0,0,2.382-5.75A8.079,8.079,0,0,0-99.916,191.261Zm-5.751,11.6a5.81,5.81,0,0,1-4.136-1.713,5.81,5.81,0,0,1-1.713-4.136,5.811,5.811,0,0,1,1.713-4.136,5.811,5.811,0,0,1,4.136-1.713,5.811,5.811,0,0,1,4.136,1.713,5.811,5.811,0,0,1,1.713,4.136,5.81,5.81,0,0,1-1.713,4.136A5.81,5.81,0,0,1-105.666,202.86Z\" transform=\"translate(113.799 -188.879)\"/></svg>',\n        );\n      }\n\n      popup.append('<div id=\"findAnotherDealer\"></div>');\n\n      var findADealerLink = $('.openfindadealer').attr('href');\n      $('#findAnotherDealer').append('<a href=\"' + findADealerLink + '\"' + '>Find Another Dealer</a>');\n\n      if ($brand === '-mack') {\n        if (splitCity.length > 0) {\n          $('.openfindadealer')\n            .find('.findadealer')\n            .html(splitCity.join(' ') + ', ' + dealer.dealerState);\n        } else {\n          $('.openfindadealer')\n            .find('.findadealer')\n            .html(normalizeCase(dealer.dealerCity) + ', ' + dealer.dealerState);\n        }\n\n        // Adjust width of ancillary navigation items if city name is too long\n        var mCityState = dealer.dealerCity + dealer.dealerState;\n        if (mCityState.length > 10) {\n          $('.ancillary-nav').addClass('extraWide');\n          $('.openfindadealer').parent().addClass('extraWide');\n        }\n      } else if ($brand === '-volvo') {\n        // Capitalize each word if city contains spaces\n        if (splitCity.length > 0) {\n          $('.openfindadealer').text(splitCity.join(' ') + ', ' + dealer.dealerState);\n        } else {\n          $('.openfindadealer').text(normalizeCase(dealer.dealerCity) + ', ' + dealer.dealerState);\n        }\n      }\n    }\n  }\n}\n\nconst myDealer = new MyDealer();\nmyDealer.init();\n","import { createOptimizedPicture, getMetadata, decorateIcons } from '../../scripts/aem.js';\nimport { createElement, getDateFromTimestamp, MAGAZINE_CONFIGS, extractObjectFromArray, getTextLabel, toPathKey } from '../../scripts/common.js';\nimport { fetchMagazineArticles, fetchRecommendedArticles } from '../../scripts/services/magazine.service.js';\nimport { smoothScrollHorizontal } from '../../scripts/motion-helper.js';\n\nconst blockName = 'v2-stories-carousel';\nconst LOW_LIMIT = 3;\nconst HIGH_LIMIT = 7;\n\nconst updateActiveClass = (elements, targetElement) => {\n  elements.forEach((el) => {\n    el.classList.toggle('active', el === targetElement);\n  });\n};\n\nconst listenScroll = (carousel) => {\n  const elements = carousel.querySelectorAll(':scope > *');\n\n  const io = new IntersectionObserver(\n    (entries) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          updateActiveClass(elements, entry.target);\n        }\n      });\n    },\n    {\n      root: carousel,\n      threshold: 1,\n    },\n  );\n\n  elements.forEach((el) => io.observe(el));\n};\n\nconst getScrollOffset = (carousel) => {\n  const first = carousel.firstElementChild;\n  const second = first.nextElementSibling;\n  return second.getBoundingClientRect().x - first.getBoundingClientRect().x;\n};\n\nconst updateArrowButtonsState = (carousel, arrowLeftButton, arrowRightButton, index) => {\n  const isAtStart = index === 0;\n  const isAtEnd = index === carousel.childElementCount - 1;\n\n  arrowLeftButton.disabled = isAtStart;\n  arrowRightButton.disabled = isAtEnd;\n};\n\nconst setCarouselPosition = (carousel, index, arrowLeftButton, arrowRightButton) => {\n  const elements = carousel.querySelectorAll(':scope > *');\n  const scrollOffset = getScrollOffset(carousel);\n  const targetX = index * scrollOffset;\n\n  smoothScrollHorizontal(carousel, targetX, 500);\n  updateActiveClass(elements, elements[index]);\n  updateArrowButtonsState(carousel, arrowLeftButton, arrowRightButton, index);\n};\n\nconst navigate = (carousel, direction, arrowLeftButton, arrowRightButton) => {\n  if (carousel.classList.contains('is-animating')) {\n    return;\n  }\n\n  const activeItem = carousel.querySelector(`.${blockName}-item.active`);\n  let index = [...activeItem.parentNode.children].indexOf(activeItem);\n\n  if (direction === 'left') {\n    index -= 1;\n    if (index === -1) {\n      index = 0;\n    }\n  } else {\n    index += 1;\n    if (index > carousel.childElementCount - 1) {\n      index = carousel.childElementCount - 1;\n    }\n  }\n\n  setCarouselPosition(carousel, index, arrowLeftButton, arrowRightButton);\n};\n\nconst createArrowControls = (carousel) => {\n  const arrowLeftButtonLabel = getTextLabel('v2_stories_carousel:previous');\n  const arrowRightButtonLabel = getTextLabel('v2_stories_carousel:next');\n  const arrowControlsContainer = createElement('ul', { classes: `${blockName}-arrowcontrols` });\n  arrowControlsContainer.innerHTML = `\n    <li>\n      <button class=\"${blockName}-arrowbutton ${blockName}-arrowbutton--left\" aria-label=\"${arrowLeftButtonLabel}\">\n        <span class=\"icon icon-arrow-left\"></span>\n      </button>\n    </li>\n    <li>\n      <button class=\"${blockName}-arrowbutton ${blockName}-arrowbutton--right\" aria-label=\"${arrowRightButtonLabel}\">\n        <span class=\"icon icon-arrow-right\"></span>\n      </button>\n    </li>\n  `;\n\n  carousel.insertAdjacentElement('beforebegin', arrowControlsContainer);\n  decorateIcons(arrowControlsContainer);\n\n  const arrowLeftButton = arrowControlsContainer.querySelector(`.${blockName}-arrowbutton--left`);\n  const arrowRightButton = arrowControlsContainer.querySelector(`.${blockName}-arrowbutton--right`);\n  arrowLeftButton.addEventListener('click', () => navigate(carousel, 'left', arrowLeftButton, arrowRightButton));\n  arrowRightButton.addEventListener('click', () => navigate(carousel, 'right', arrowLeftButton, arrowRightButton));\n\n  updateArrowButtonsState(carousel, arrowLeftButton, arrowRightButton, 0);\n\n  return arrowControlsContainer;\n};\n\nconst getMagazineArticles = async (limit = 5, tags = {}, useRecentArticles = false) => {\n  if (useRecentArticles) {\n    return fetchMagazineArticles({ limit, sort: 'PUBLISH_DATE_DESC' });\n  }\n\n  return await fetchRecommendedArticles({ limit, tags });\n};\n\nconst buildStoryCard = (entry) => {\n  const {\n    metadata: {\n      url,\n      image,\n      title: originalTitle,\n      description,\n      linkText,\n      publishDate,\n      article: { readTime },\n    },\n  } = entry;\n\n  const title = originalTitle.split('|')[0].trim();\n  const li = createElement('article', { classes: `${blockName}-item` });\n  const picture = createOptimizedPicture(image, title, false);\n  const pictureTag = picture.outerHTML;\n  const readMore = linkText || 'Read full story';\n\n  const { DATE_OPTIONS } = MAGAZINE_CONFIGS;\n  const dateOptions = DATE_OPTIONS ? extractObjectFromArray(JSON.parse(DATE_OPTIONS)) : {};\n  const formattedDate = getDateFromTimestamp(publishDate, dateOptions);\n\n  const svgArrowRight = createElement('span', { classes: ['icon', 'icon-arrow-right'] });\n  const cardFragment = document.createRange().createContextualFragment(`\n    <a href=\"${url}\">\n      ${pictureTag}\n    </a>\n    <div class=\"${blockName}-text\">\n      <h3>${title}</h3>\n      <p>${description}</p>\n      <ul class=\"${blockName}-meta\">\n        <li class=\"${blockName}-date\">\n          <time datetime=\"${formattedDate}\" pubdate=\"pubdate\">\n            ${formattedDate}\n          </time>\n        </li>\n        <li class=\"${blockName}-timetoread\">\n          <span>${readTime} read</span>\n        </li>\n      </ul>\n      <a href=\"${url}\" class=\"${blockName}-cta button tertiary\">\n        ${readMore}\n        ${svgArrowRight.outerHTML}\n      </a>\n    </div>`);\n\n  decorateIcons(cardFragment);\n  li.append(...cardFragment.children);\n  return li;\n};\n\nconst createStoriesCarousel = (block, stories) => {\n  const storiesSection = createElement('section', { classes: `${blockName}-items` });\n  block.appendChild(storiesSection);\n  stories.forEach((entry) => {\n    const storyArticle = buildStoryCard(entry);\n    storiesSection.appendChild(storyArticle);\n  });\n};\n\nconst getHeroPathKey = () => {\n  if (!document.querySelector('.v2-magazine-article-hero__container')) {\n    return '';\n  }\n  const canonical = document.querySelector('link[rel=\"canonical\"]')?.href || '';\n  const og = document.querySelector('meta[property=\"og:url\"]')?.content || '';\n  return toPathKey(canonical || og || '');\n};\n\nexport default async function decorate(block) {\n  const isRelatedArticles = block.classList.contains('related-articles');\n  let limit = parseFloat(block.textContent.trim()) || HIGH_LIMIT;\n  limit = Math.max(limit, LOW_LIMIT);\n\n  block.innerHTML = '';\n  let stories;\n  if (isRelatedArticles) {\n    const metadataTags = ['article-category', 'topic', 'truck'];\n    const tags = metadataTags.reduce((acc, metaTag, idx) => {\n      const metaContent = getMetadata(metaTag);\n      if (metaContent) {\n        acc[idx === 0 ? 'category' : metaTag] = metaContent.split(',').map((tag) => tag.trim());\n      }\n      return acc;\n    }, {});\n    const articlesFetched = await getMagazineArticles(limit, tags);\n    stories = articlesFetched?.items || null;\n  } else {\n    const recentArticles = await getMagazineArticles(limit, {}, !isRelatedArticles);\n    stories = recentArticles?.items || null;\n  }\n\n  stories = Array.isArray(stories) ? stories : [];\n\n  const heroPathKey = getHeroPathKey();\n  if (heroPathKey) {\n    stories = stories.filter((story) => toPathKey(story?.metadata?.url) !== heroPathKey);\n  }\n\n  if (!stories || stories.length === 0) {\n    console.warn('No %cArticles%c found for the carousel.', 'color:red', 'color:inherit', { stories });\n    return;\n  }\n  createStoriesCarousel(block, stories);\n\n  const carousel = block.querySelector(`.${blockName}-items`);\n\n  const arrowControls = createArrowControls(carousel);\n  const arrowLeftButton = arrowControls.querySelector(`.${blockName}-arrowbutton--left`);\n  const arrowRightButton = arrowControls.querySelector(`.${blockName}-arrowbutton--right`);\n\n  listenScroll(carousel);\n  requestAnimationFrame(() => {\n    setTimeout(() => {\n      if (carousel) {\n        // Scroll to the second item\n        setCarouselPosition(carousel, 1, arrowLeftButton, arrowRightButton);\n      }\n    }, 500);\n  });\n}\n","import charts from './charts.js';\n\nconst indexData = {\n  id1: '1_baseline_powertrain',\n  id2: '2_price_of_fuel',\n  id3: '3_current_MPG',\n  id4: '4_miles/Truck/Year',\n  id5: '5_annual_fuel_price_increase',\n  id6: '6_price_of_DEF',\n  id7: '7_DEF%_usage',\n  id8: '8_next-gen_D13TC_powertrain',\n  id9: '9_number_of_new_trucks',\n};\n\nexport const resetData = [];\nlet percentages;\n// this variable was created in order to check that whenever it changes,\n// a new table+chart is created\nexport const updatedData = []; // [charts, results, dataContainer]\n\nconst nth = (num) => {\n  // a function just to add the correct suffix\n  const suffix = { 1: 'st', 2: 'nd', 3: 'rd' };\n  return num <= 3 ? suffix[num] : 'th';\n};\n\nexport const formatNum = (num, options = {}) => {\n  const formatter = Intl.NumberFormat('en-US', options);\n  return formatter.format(num);\n};\n\nexport const getNumberFormat = (num, idx) => {\n  let tempValue = num;\n  const isNumeric = idx === 4;\n  const isPercentage = [5, 7].some((n) => n === idx);\n  const isCurrency = [2, 6].some((n) => n === idx);\n  if (isNumeric) {\n    tempValue = formatNum(num);\n  } else if (isPercentage) {\n    const options = { style: 'percent', maximumFractionDigits: 2 };\n    tempValue = formatNum(+num / 100, options);\n  } else if (isCurrency) {\n    const options = { currency: 'USD', style: 'currency' };\n    tempValue = formatNum(num, options);\n  }\n  return tempValue;\n};\n\nexport const reverseFormatNumber = (val, locale = 'en-US') => {\n  const group = new Intl.NumberFormat(locale).format(1111).replace(/1/g, '');\n  const decimal = new Intl.NumberFormat(locale).format(1.1).replace(/1/g, '');\n  let reversedVal = val.replace(new RegExp(`\\\\${group}`, 'g'), '');\n  reversedVal = reversedVal.replace(new RegExp(`\\\\${decimal}`, 'g'), '.');\n  reversedVal = reversedVal.replace(/[$%]/, '');\n  return Number.isNaN(+reversedVal) ? null : reversedVal;\n};\n\nexport const addAnimations = (component) => {\n  // add the functionality to the charts / selectors\n  const wrapper = component.querySelector('.calculator-charts-wrapper');\n  const selectors = wrapper.querySelectorAll('.selector');\n\n  selectors.forEach((button) => {\n    button.addEventListener('click', (e) => {\n      const parent = button.closest('.calculator-charts-wrapper');\n      const inactiveButton = parent.querySelector('[data-active]');\n      delete inactiveButton.dataset.active;\n\n      const selectedId = e.target.id;\n      button.dataset.active = true;\n\n      const chartParent = parent.querySelector('ul');\n      const inactiveChart = chartParent.querySelector('[data-active]');\n      delete inactiveChart.dataset.active;\n\n      const selectedChart = chartParent.querySelectorAll('.chart');\n      selectedChart[selectedId].dataset.active = true;\n    });\n  });\n};\n\nconst getPercentageAndTable = (data) => {\n  // creating the result component with the percentage value and the table\n  const resultsSection = document.createElement('div');\n  resultsSection.classList.add('calculator-result-wrapper');\n\n  const title = document.createElement('h3');\n  title.innerText = 'Results';\n  title.classList.add('calculator-results-title');\n\n  const percentageResult = document.createElement('div');\n  percentageResult.innerHTML = `\n    <p class='percentage-label'>Fuel economy efficiency improvement</p>\n    <p class='percentage-result'>${data.percentage}%</p>`;\n  percentageResult.classList.add('percentage-wrapper');\n\n  let table = `\n    <tr>\n      <th></th>\n      <th>Per truck</th>\n      <th>Total savings</th>\n    </tr>\n    ${data.savings.map(\n      (e, idx) => `\n        <tr>\n          <td>${idx + 1}${nth(idx + 1)} Year</td>\n          <td>$${formatNum(e[0])}</td>\n          <td>$${formatNum(e[1])}</td>\n        </tr>`,\n    )}`;\n  table = table.replaceAll('</tr>,', '</tr>');\n\n  const savingsTable = document.createElement('table');\n  savingsTable.innerHTML = table;\n  savingsTable.classList.add('calculator-savings-table');\n\n  resultsSection.append(title);\n  resultsSection.append(percentageResult);\n  resultsSection.append(savingsTable);\n\n  return resultsSection;\n};\n\nconst calculateChartData = (data) => {\n  const { currentMPG, milesTruckYear, percentage, savings } = data;\n  const mpgNew = +currentMPG + +currentMPG * (percentage / 100);\n  const fuelUsageCurrent = Math.round(+milesTruckYear / currentMPG);\n  const fuelUsageNew = Math.round(+milesTruckYear / mpgNew);\n  const perTruckTable = savings.map((row) => row[0]);\n  const totalSavings = savings.map((row) => row[1]);\n\n  return [\n    {\n      'MPG Improvement': {\n        'Cumulative MPG': +currentMPG,\n        '2021 D13TC I-Torque': mpgNew.toFixed(2),\n      },\n    },\n    {\n      'Savings Each Year': {\n        'Per 2021 D13TC I-Torque Truck': perTruckTable,\n        'Cumulative 2021 D13TC I-Torque': totalSavings,\n      },\n    },\n    {\n      'Fuel Usage': {\n        'Current Truck': fuelUsageCurrent,\n        '2021 D13TC I-Torque': fuelUsageNew,\n      },\n    },\n    {\n      'Cumulative Savings': {\n        'Cumulative 2021 D13TC I-Torque': totalSavings,\n      },\n    },\n  ];\n};\n\nconst calculateSavings = (data) => {\n  // formula:\n  // (((4/3)*(2*(\"1\"+5)^n))+(4/3)*7*6) - (4/((3*%/100)+3)*(2*(\"1\"+5)^n) + 4/((3*%/100)+3)*7*6)\n  const results = [];\n  const years = 5;\n  let power = 0;\n  let acc = 0;\n  const {\n    fuelPrice: f, // 2\n    currentMPG: c, // 3\n    milesTruckYear: m, // 4\n    priceIncrease: pi, // 5 => n%\n    defPrice: dp, // 6\n    defUsage: du, // 7 => n%\n    trucksNum, // 9\n    percentage: p, // % => 1+8\n  } = data;\n  for (; power < years; power += 1) {\n    const percentageIncrease = (1 + pi / 100) ** power; // (\"1\"+5)^n\n    const yearIncrease = f * percentageIncrease; // (2*(\"1\"+5)^n)\n    const yearPercentage = (c * p) / 100 + c; // ((3*%/100)+3)\n    const formulaPart1 = (m / c) * yearIncrease + (m / c) * dp * (du / 100);\n    const formulaPart2 = (m / yearPercentage) * yearIncrease;\n    const formulaPart3 = (m / yearPercentage) * dp * (du / 100);\n    const result = formulaPart1 - (formulaPart2 + formulaPart3);\n    acc += result * trucksNum;\n    results.push([result.toFixed(0), acc.toFixed(0)]);\n  }\n\n  return results;\n};\n\nconst calculateTableData = (data) => {\n  const currentData = {};\n  const baseline = data[indexData.id1];\n  const nextGen = data[indexData.id8];\n  const sumProduct = `${baseline + 1}${nextGen + 1}`;\n  currentData.percentage = +percentages[sumProduct];\n  currentData.fuelPrice = +data[indexData.id2];\n  currentData.currentMPG = +data[indexData.id3];\n  currentData.milesTruckYear = +data[indexData.id4];\n  currentData.priceIncrease = +data[indexData.id5];\n  currentData.defPrice = +data[indexData.id6];\n  currentData.defUsage = +data[indexData.id7];\n  currentData.trucksNum = +data[indexData.id9];\n  const { percentage } = currentData;\n  const savings = calculateSavings(currentData);\n\n  return { percentage, savings };\n};\n\nconst getDataForCharts = (data, table) => ({\n  percentage: table.percentage,\n  savings: table.savings,\n  currentMPG: data['3_current_MPG'],\n  milesTruckYear: data['4_miles/Truck/Year'],\n});\n\nconst formatDataObject = (data) => {\n  const [baseline, fuelPrice, currentMPG, milesTruckYear, priceIncrease, defPrice, defUsage, nextGen, trucksNum] = data;\n  return {\n    '1_baseline_powertrain': baseline.selectedIndex,\n    '2_price_of_fuel': reverseFormatNumber(fuelPrice.value),\n    '3_current_MPG': currentMPG.value,\n    '4_miles/Truck/Year': reverseFormatNumber(milesTruckYear.value),\n    '5_annual_fuel_price_increase': reverseFormatNumber(priceIncrease.value),\n    '6_price_of_DEF': reverseFormatNumber(defPrice.value),\n    '7_DEF%_usage': reverseFormatNumber(defUsage.value),\n    '8_next-gen_D13TC_powertrain': nextGen.selectedIndex,\n    '9_number_of_new_trucks': trucksNum.value,\n  };\n};\n\nconst resetForm = (e) => {\n  e.preventDefault();\n  if (e.pointerType === '' && e.type === 'click') {\n    return;\n  }\n  if (!e.srcElement.form) {\n    return;\n  }\n  const { form } = e.srcElement;\n  const isButton = e.target.id === 'calculator-reset-button';\n  const isSelect = e.target.localName === 'select';\n  const validValue = isButton || isSelect || reverseFormatNumber(e.target.value);\n  const hasErrors = [...form].some((field) => field.classList.contains('error'));\n  const data = isButton ? resetData[0] : formatDataObject(form);\n  const [, , dataContainer] = updatedData; // [charts, results, dataContainer]\n  // if isButton then reset inputs of the form\n  if (isButton) {\n    Object.values(data).forEach((value, i) => {\n      if ([0, 7].includes(i)) {\n        form[i].selectedIndex = value;\n      } else {\n        form[i].value = getNumberFormat(value, i + 1);\n        form[i].classList.remove('error');\n      }\n    });\n  }\n  if (!validValue || hasErrors) {\n    return;\n  }\n  const tableData = calculateTableData(data);\n  const chartData = calculateChartData(getDataForCharts(data, tableData));\n\n  const builtCharts = charts(chartData);\n  const builtTable = getPercentageAndTable(tableData);\n\n  dataContainer.textContent = '';\n  dataContainer.append(builtTable, builtCharts);\n  updatedData.splice(0, 2);\n  updatedData.unshift(builtCharts, builtTable);\n  addAnimations(dataContainer);\n};\n\nconst results = (data, table) => {\n  percentages = table;\n  // these 2 should make the data into the correct format\n  const tableData = calculateTableData(data);\n  const chartData = calculateChartData(getDataForCharts(data, tableData));\n\n  const result = document.createElement('div');\n\n  // now format is correct and values calculated, create the charts and table components\n  const builtCharts = charts(chartData);\n  const builtTable = getPercentageAndTable(tableData);\n\n  updatedData.push(builtCharts, builtTable);\n\n  // this builds the components for the first time\n  result.append(builtTable);\n  result.append(builtCharts);\n\n  return result;\n};\n\nexport { results, resetForm };\n","import { addVideoShowHandler, isVideoLink, selectVideoLink, wrapImageWithVideoLink } from '../../scripts/video-helper.js';\n\nexport default function decorate(block) {\n  // apply modifiers to the wrapper as well\n  const gapCls = [...block.classList].filter((cls) => cls.indexOf('gap') >= 0);\n  if (gapCls.length) {\n    block.parentElement.classList.add(gapCls);\n  }\n  // Formats a table and applies background images. Generally, each item should be in a table cell.\n  // When a cell is empty, the cells are merged vertically.\n  const columns = [...block.firstElementChild.children];\n\n  // convert new format to old format: cells in each column are moved into the first row as <li>\n  block.querySelectorAll(':scope > div').forEach((row, rowIndex) => {\n    row.querySelectorAll(':scope > div').forEach((cell, columnIndex) => {\n      wrapContentInList(cell);\n\n      // make sure it's not rendered as a button\n      cell.querySelector('a')?.classList.remove('button');\n\n      if (rowIndex > 0) {\n        // move to first row\n        cell.querySelectorAll('li').forEach((li) => {\n          if (li.childElementCount) {\n            columns[columnIndex].querySelector('ul').append(li);\n          }\n        });\n        cell.remove();\n      }\n    });\n    if (rowIndex > 0) {\n      row.remove();\n    }\n  });\n  removeEmptyLi(block);\n\n  const grid = document.createElement('ul');\n\n  const colCount = columns.length;\n  // get the max of list items per column, remove empty ones\n  const rowCount = columns\n    .map(\n      (col) =>\n        [...col.querySelectorAll('li')].filter((li) => {\n          if (li.innerHTML.trim() === '') {\n            li.remove();\n          }\n          return !!li.parentElement;\n        }).length,\n    )\n    .reduce((l, r) => Math.max(l, r), 0);\n\n  grid.style.setProperty('--grid-row-count', rowCount);\n  grid.style.setProperty('--grid-col-count', colCount);\n\n  columns.forEach((column) => {\n    const lis = column.querySelectorAll(':scope > ul > li');\n    const liCount = lis.length;\n    lis.forEach((li, i) => {\n      const contentContainer = document.createElement('div');\n      contentContainer.innerHTML = li.innerHTML;\n      li.innerHTML = '';\n\n      const links = contentContainer.querySelectorAll('a');\n      const image = contentContainer.querySelector('picture');\n      let selectedLink = links[0];\n\n      if (links.length && isVideoLink(links[0])) {\n        selectedLink = selectVideoLink(links);\n\n        // remove other video links\n        links.forEach((link) => link !== selectedLink && link.remove());\n      }\n\n      if (image && selectedLink) {\n        // wrap the image with the link, remove the link from the content container\n        selectedLink.innerText = '';\n        selectedLink.appendChild(image);\n        selectedLink.remove();\n      }\n\n      li.appendChild(selectedLink ?? image);\n\n      const textItems = contentContainer.innerHTML.split('<br>').filter((text) => text.trim() !== '');\n      if (textItems.length) {\n        let html = `<h3>${textItems[0]}</h3>`;\n        if (textItems.length > 1) {\n          html += `<p>${textItems.slice(1).join('</p><p>')}</p>`;\n        }\n        contentContainer.innerHTML = html;\n        li.appendChild(contentContainer);\n      }\n\n      // first item spans multiple rows\n      if (i === 0 && liCount < rowCount) {\n        li.style.setProperty('--grid-row-span', rowCount - liCount + 1);\n      }\n\n      grid.appendChild(li);\n    });\n  });\n\n  block.innerHTML = grid.outerHTML;\n\n  // iterating through the list after the HTML manipulation\n  const links = [...block.querySelectorAll('a')];\n\n  links\n    .filter((link) => isVideoLink(link))\n    .forEach((link) => {\n      addVideoShowHandler(link);\n      wrapImageWithVideoLink(link, link.querySelector('picture'));\n    });\n}\n\n/**\n * make sure there is an <ul>, move any content into an <li>\n */\nfunction wrapContentInList(cell) {\n  const nonListContent = [...cell.childNodes].filter((el) => el.nodeName !== 'UL');\n\n  let ul = cell.querySelector(':scope > ul');\n  if (!ul) {\n    ul = document.createElement('ul');\n    cell.append(ul);\n  }\n\n  if (nonListContent.length) {\n    const li = document.createElement('li');\n    if (cell.dataset.align) {\n      li.dataset.align = cell.dataset.align;\n    }\n    li.append(...nonListContent);\n    ul.append(li);\n  }\n}\n\nfunction removeEmptyLi(cell) {\n  cell.querySelectorAll('li').forEach((li) => {\n    if (li.innerHTML.trim() === '') {\n      li.remove();\n    }\n  });\n}\n","export default function decorate(block) {\n  const [downloadDir, ...imgContainers] = block.children;\n\n  downloadDir.className = 'download-text';\n\n  // wrap pictures in links\n  imgContainers.forEach(async (imageContainer) => {\n    imageContainer.className = 'image-container';\n    const picture = imageContainer.querySelector('picture');\n    const img = picture.querySelector('img');\n\n    const link = document.createElement('a');\n    link.href = getOriginalImage(img.src);\n    link.appendChild(picture);\n    link.download = '';\n\n    // remove any existing links and <br>\n    imageContainer.innerHTML = '';\n    imageContainer.append(link);\n  });\n}\n\nfunction getOriginalImage(url) {\n  // remove any parameters, e.g. ?width=2000&format=webply&optimize=medium\n  return url.replace(/\\?.*$/, '');\n}\n","import { isVideoLink, createVideo } from '../../scripts/video-helper.js';\nimport { createElement, variantsClassesToBEM, removeEmptyTags } from '../../scripts/common.js';\n\nconst checkVideoTime = (event) => {\n  const video = event.target;\n  if (video.currentTime > 3) {\n    video.pause();\n    video.removeEventListener('timeupdate', checkVideoTime);\n  }\n};\n\nconst variantClasses = ['top-center', 'left', 'top-left', 'bottom', 'dark'];\n\nexport default async function decorate(block) {\n  const blockName = 'v2-banner';\n\n  // add variant classnames\n  variantsClassesToBEM(block.classList, variantClasses, blockName);\n\n  const picture = block.querySelector('picture');\n  const link = block.querySelector('a');\n  const isVideo = link ? isVideoLink(link) : false;\n  if (isVideo) {\n    const video = createVideo(link.getAttribute('href'), `${blockName}__video`, {\n      muted: true,\n      autoplay: true,\n      loop: true,\n      playsinline: true,\n    });\n    block.prepend(video);\n    link.remove();\n\n    // prevent video to reproduce more than 3s\n    video.addEventListener('timeupdate', checkVideoTime);\n  }\n\n  if (picture) {\n    const img = picture.querySelector('img');\n    img.classList.add(`${blockName}__image`);\n    if (picture.parentElement.tagName === 'P') {\n      picture.parentElement.remove();\n    }\n    block.prepend(picture);\n  }\n\n  const contentWrapper = block.querySelector(':scope > div:last-of-type');\n  contentWrapper.classList.add(`${blockName}__content-wrapper`);\n\n  const content = block.querySelector(':scope > div > div');\n  content.classList.add(`${blockName}__content`);\n\n  // convert all headings to h1\n  const headings = [...content.querySelectorAll('h1, h2, h3, h4, h5, h6')];\n  headings.forEach((heading) => heading.classList.add(`${blockName}__title`));\n\n  const buttonsWrapper = createElement('div', { classes: `${blockName}__buttons-wrapper` });\n  const ctaButtons = content.querySelectorAll('.button-container > a');\n  [...ctaButtons].forEach((b) => {\n    if (block.classList.contains(`${blockName}--dark`)) {\n      b.classList.add('dark');\n    }\n\n    b.parentElement.remove();\n    buttonsWrapper.appendChild(b);\n  });\n  content.appendChild(buttonsWrapper);\n\n  removeEmptyTags(content);\n\n  block.parentElement.classList.add('full-width');\n}\n","import { createElement, decorateIcons, getTextLabel } from '../../scripts/common.js';\n\n/**\n * Creates an icon element.\n *\n * @param {string} iconClass - The class for the icon.\n * @returns {HTMLElement} - The created icon element.\n */\nconst createIcon = (iconClass) => createElement('span', { classes: ['icon', iconClass] });\n\n/**\n * Creates a button element with specified text, classes, click handler,\n * disabled state, and aria-label.\n *\n * @param {string} text - The text content of the button.\n * @param {string|string[]} classes - The CSS class or classes to apply to the button.\n * @param {Function} onClick - The click event handler function for the button.\n * @param {boolean} [isDisabled=false] - Whether the button should be disabled.\n * @param {HTMLElement} [icon] - Optional icon to append to the button.\n * @param {string} [ariaLabel=''] - The aria-label for accessibility purposes.\n * @returns {HTMLElement} The created button element.\n */\nconst createButton = (text, classes, onClick, isDisabled = false, icon = null, ariaLabel = '') => {\n  const classList = Array.isArray(classes) ? classes : [classes];\n\n  const button = createElement('button', {\n    classes: classList,\n    props: { type: 'button', 'aria-label': ariaLabel },\n  });\n\n  if (isDisabled) {\n    button.setAttribute('disabled', 'disabled');\n  }\n\n  if (!isDisabled && typeof onClick === 'function') {\n    button.addEventListener('click', onClick);\n  }\n\n  if (text) {\n    const span = createElement('span');\n    span.textContent = text;\n    button.appendChild(span);\n  }\n\n  if (icon) {\n    button.appendChild(icon);\n  }\n\n  return button;\n};\n\n/**\n * Creates a pagination button for a specific page with an appropriate aria-label\n * and aria-current for the active page.\n *\n * @param {number} pageIndex - The index of the page (0-based).\n * @param {number} currentPage - The current active page index.\n * @param {Function} onClick - The function to call when the page button is clicked.\n * @returns {HTMLElement} - The created pagination button element with an aria-label.\n */\nconst createPageButton = (pageIndex, currentPage, onClick) => {\n  const isActive = pageIndex === currentPage;\n  const classes = isActive ? ['pagination-button', 'active'] : ['pagination-button'];\n  const paginationPageAriaLabel = getTextLabel('pagination:page_aria_label');\n  const ariaLabel = `${paginationPageAriaLabel} ${pageIndex + 1}`;\n  const button = createButton(pageIndex + 1, classes, () => onClick(pageIndex), false, null, ariaLabel);\n\n  if (isActive) {\n    button.setAttribute('aria-current', 'page');\n  }\n\n  return button;\n};\n\n/**\n * Creates an arrow button for pagination navigation (previous or next)\n * with an appropriate aria-label.\n *\n * @param {'prev'|'next'} direction - The direction of the arrow (previous or next).\n * @param {boolean} isDisabled - Whether the arrow button should be disabled.\n * @param {Function} onClick - The function to call when the arrow button is clicked.\n * @returns {HTMLElement} - The created arrow button element with an aria-label for accessibility.\n */\nconst createArrowButton = (direction, isDisabled, onClick) => {\n  const icon = direction === 'prev' ? createIcon('icon-chevron-left') : createIcon('icon-chevron-right');\n  const ariaLabel = direction === 'prev' ? getTextLabel('pagination:previous_page_aria_label') : getTextLabel('pagination:next_page_aria_label');\n\n  return createButton(null, ['pagination-arrow', direction], onClick, isDisabled, icon, ariaLabel);\n};\n\n/**\n * Creates an ellipsis element (...) for use in the pagination\n * when there is a gap between page numbers.\n *\n * @returns {HTMLElement} - The created ellipsis element.\n */\nconst createEllipsis = () => {\n  const ellipsis = createElement('li', { classes: ['pagination-dots'] });\n  ellipsis.textContent = '...';\n  return ellipsis;\n};\n\n/**\n * Appends page buttons to the pagination container for the specified range of pages.\n *\n * @param {HTMLElement} paginationList - The container where pagination buttons will be appended.\n * @param {Array<string|number>} pages - Array of page numbers and ellipses to display.\n * @param {number} currentPage - The current active page index.\n * @param {Function} changePage - The function to call when a page button is clicked.\n */\nconst appendPageButtons = (paginationList, pages, currentPage, changePage) => {\n  pages.forEach((page) => {\n    const listItem = createElement('li', { classes: ['pagination-item'] });\n    if (page === 'ellipsis') {\n      listItem.appendChild(createEllipsis());\n    } else {\n      listItem.appendChild(createPageButton(page, currentPage, changePage));\n    }\n    paginationList.appendChild(listItem);\n  });\n};\n\n/**\n * Determines which pages and ellipses should be displayed in the pagination,\n * depending on the current page.\n *\n * @param {number} currentPage - The current active page index.\n * @param {number} totalPages - The total number of pages.\n * @returns {Array<string|number>} - An array of page numbers and ellipses to be displayed.\n */\nconst computeVisiblePages = (currentPage, totalPages) => {\n  const pages = [];\n  const addPageRange = (start, end) => {\n    for (let i = start; i <= end; i += 1) {\n      pages.push(i);\n    }\n  };\n\n  pages.push(0); // Always show the first page\n\n  if (totalPages <= 7) {\n    addPageRange(1, totalPages - 1); // Show all pages if total pages <= 7\n  } else if (currentPage <= 3) {\n    addPageRange(1, 4);\n    pages.push('ellipsis', totalPages - 1);\n  } else if (currentPage >= totalPages - 4) {\n    pages.push('ellipsis');\n    addPageRange(totalPages - 5, totalPages - 1);\n  } else {\n    pages.push('ellipsis');\n    addPageRange(currentPage - 1, currentPage + 1);\n    pages.push('ellipsis', totalPages - 1);\n  }\n\n  return pages;\n};\n\n/**\n * Creates and appends the pagination controls (arrows, page buttons, ellipses)\n * to the pagination container, with aria-labels for accessibility.\n *\n * @param {HTMLElement} paginationList - The container where pagination controls will be appended.\n * @param {number} currentPage - The currently active page index.\n * @param {number} totalPages - The total number of pages.\n * @param {Function} changePage - The function to call when changing the page.\n */\nconst renderPaginationControls = (paginationList, currentPage, totalPages, changePage) => {\n  paginationList.innerHTML = '';\n\n  paginationList.appendChild(createArrowButton('prev', currentPage === 0, () => changePage(currentPage - 1)));\n\n  const pages = computeVisiblePages(currentPage, totalPages);\n  appendPageButtons(paginationList, pages, currentPage, changePage);\n\n  paginationList.appendChild(createArrowButton('next', currentPage === totalPages - 1, () => changePage(currentPage + 1)));\n\n  decorateIcons(paginationList);\n};\n\n/**\n * Ensures a <nav class=\"pagination-nav\"> element exists in the block.\n * Creates and appends one if it does not already exist.\n *\n * @param {HTMLElement} block - Block container where pagination is rendered.\n * @returns {HTMLElement}     - The <nav> element for pagination controls.\n */\nconst ensurePaginationNav = (block) => {\n  let paginationNav = block.querySelector('nav.pagination-nav');\n  const paginationNavAriaLabel = getTextLabel('pagination:nav_aria_label');\n\n  if (!paginationNav) {\n    paginationNav = createElement('nav', { classes: ['pagination-nav'], props: { 'aria-label': paginationNavAriaLabel } });\n    block.appendChild(paginationNav);\n  }\n  return paginationNav;\n};\n\n/**\n * Resets and returns a fresh <ul.pagination> inside the given nav.\n *\n * @param {HTMLElement} paginationNav - The nav container.\n * @returns {HTMLElement} - The <ul> element for pagination controls.\n */\nconst resetPaginationList = (paginationNav) => {\n  const paginationList = createElement('ul', { classes: ['pagination'] });\n  paginationNav.innerHTML = '';\n  paginationNav.appendChild(paginationList);\n  return paginationList;\n};\n\n/**\n * Builds a renderPage(pageIndex) function bound to the provided context.\n *\n * @param {HTMLElement} contentArea - The content area where items render.\n * @param {HTMLElement} paginationList - The <ul> container for controls.\n * @param {number} totalPages - Total number of pages.\n * @param {Function} loadPageData - Data loader (pageIndex) => Promise<Array>.\n * @param {Function} renderItems - Renderer (contentArea, items).\n * @param {Function} changePage - Page change invoker (used by controls).\n * @param {() => boolean} shouldFocus - Callback returning whether to focus active button.\n * @returns {Function} - async renderPage(pageIndex).\n */\nconst makePageRenderer = (contentArea, paginationList, totalPages, loadPageData, renderItems, changePage, shouldFocus) => async (pageIndex) => {\n  try {\n    const items = await loadPageData(pageIndex);\n    contentArea.innerHTML = '';\n    renderItems(contentArea, items);\n    renderPaginationControls(paginationList, pageIndex, totalPages, changePage);\n    const newActiveButton = paginationList.querySelector('.pagination-button.active');\n    if (newActiveButton && shouldFocus && shouldFocus() === true) {\n      newActiveButton.focus();\n    }\n  } catch (e) {\n    console.error('pagination: failed to render page', e);\n  }\n};\n\n/**\n * Clamps page index into [0, total-1].\n *\n * @param {number} index - Target page index.\n * @param {number} total - Total pages.\n * @returns {number} - Clamped page index.\n */\nconst clampPage = (index, total) => Math.max(0, Math.min(index, Math.max(total - 1, 0)));\n\n/**\n * Creates a changePage proxy so we can pass a stable function to controls\n * and assign the real change handler later.\n *\n * @returns {{ proxy: (i:number)=>void, set: (fn: (i:number)=>void)=>void }}\n */\nconst makePageChangeProxy = () => {\n  const ref = { current: null };\n  const proxy = (i) => {\n    if (ref.current) {\n      ref.current(i);\n    }\n  };\n  const set = (fn) => {\n    ref.current = fn;\n  };\n  return { proxy, set };\n};\n\n/**\n * Focuses the active pagination button if allowed (a11y without initial scroll).\n *\n * @param {HTMLElement} paginationList - The <ul> for pagination controls.\n * @param {boolean} shouldFocus - Whether to focus the active button.\n */\nconst focusActiveButton = (paginationList, shouldFocus) => {\n  const btn = paginationList.querySelector('.pagination-button.active');\n  if (btn && shouldFocus) {\n    btn.focus();\n  }\n};\n\n/**\n * Rebuilds controls for a target page (optimistic UI) and optionally focuses.\n *\n * @param {HTMLElement} paginationList - The <ul> for pagination controls.\n * @param {number} page - Target page index.\n * @param {number} total - Total pages.\n * @param {(i:number)=>void} changeProxy - Stable change handler proxy.\n * @param {boolean} allowFocus - Whether focus should be applied.\n */\nconst renderControlsOptimistic = (paginationList, page, total, changeProxy, allowFocus) => {\n  renderPaginationControls(paginationList, page, total, changeProxy);\n  focusActiveButton(paginationList, allowFocus);\n};\n\n/**\n * Wraps a renderPage function with a sequence guard to ignore stale responses.\n *\n * @param {(i:number)=>Promise<void>} renderPage - The raw renderer.\n * @param {(i:number)=>void} onSettled - Called after latest render completes.\n * @returns {(i:number)=>Promise<void>} - Guarded renderer.\n */\nconst makeGuardedRenderer = (renderPage, onSettled) => {\n  let seq = 0;\n  return async (idx) => {\n    const ticket = ++seq;\n    await renderPage(idx);\n    if (ticket !== seq) {\n      return;\n    }\n    onSettled(idx);\n  };\n};\n\n/**\n * Internal: wires up pagination state, handlers, optimistic UI, and initial render.\n *\n * @param {PaginationConfig} config - Configuration object.\n * @returns {{ goTo: (pageIndex:number) => void }} Public controller.\n */\nconst initPaginationController = (config) => {\n  const { block, contentArea, totalPages, renderItems, loadPageData, initialPage = 0, onPageChange } = config;\n\n  const totalPagesSafe = Math.max(1, totalPages);\n  let activePage = clampPage(initialPage, totalPagesSafe);\n  let isLoading = false;\n  let shouldFocus = false;\n\n  const paginationNav = ensurePaginationNav(block);\n  const paginationList = resetPaginationList(paginationNav);\n\n  const { proxy: pageChangeProxy, set: setPageChangeHandler } = makePageChangeProxy();\n\n  const renderPage = makePageRenderer(contentArea, paginationList, totalPagesSafe, loadPageData, renderItems, pageChangeProxy, () => shouldFocus);\n\n  const renderPageGuarded = makeGuardedRenderer(renderPage, (idx) => {\n    activePage = clampPage(idx, totalPagesSafe);\n    isLoading = false;\n    shouldFocus = true;\n    if (typeof onPageChange === 'function') {\n      onPageChange(idx, totalPagesSafe);\n    }\n  });\n\n  /**\n   * changePage with optimistic UI:\n   * - updates controls immediately for visual feedback,\n   * - triggers async render,\n   * - guards against out-of-range and spamming.\n   */\n  const changePage = (newPage) => {\n    const next = clampPage(newPage, totalPagesSafe);\n    if (next === activePage && !isLoading) {\n      return;\n    }\n    renderControlsOptimistic(paginationList, next, totalPagesSafe, pageChangeProxy, shouldFocus);\n    isLoading = true;\n    renderPageGuarded(next);\n  };\n\n  setPageChangeHandler(changePage);\n  renderControlsOptimistic(paginationList, activePage, totalPagesSafe, pageChangeProxy, false);\n  renderPageGuarded(activePage);\n\n  return {\n    goTo: changePage,\n  };\n};\n\n/**\n * Creates and initializes dynamic pagination (object signature only).\n *\n * @param {PaginationConfig} config - Configuration object.\n */\nconst createPagination = (config) => {\n  const cfg = config || {};\n  if (!cfg.block || !cfg.contentArea || !cfg.renderItems || !cfg.loadPageData || !Number.isInteger(cfg.totalPages)) {\n    console.error('pagination: invalid dynamic config');\n    return;\n  }\n  initPaginationController(cfg);\n};\n\nexport default createPagination;\n","/* global YT */\nimport { loadScript } from '../../scripts/aem.js';\nimport { createElement, getTextLabel, isSocialAllowed } from '../../scripts/common.js';\nimport { hideModal } from '../../common/modal/modal.js';\n\nlet player;\n\nfunction onPlayerReady(event) {\n  event.target.playVideo();\n}\n\nfunction onPlayerError(event) {\n  console.warn(event.data);\n}\n\nfunction onPlayerAutoplayBlocked(event) {\n  console.warn(event.data);\n}\n\nexport function playVideo() {\n  if (player && player.playVideo) {\n    player.playVideo();\n  }\n}\n\nfunction addVideo(block, videoId) {\n  const iframeYT = document.createRange().createContextualFragment(`\n    <iframe class=\"v2-livestream-embed\" id=\"livestream\"\n      frameborder=\"0\" allowfullscreen=\"\" allow=\"autoplay\"\n      src=\"https://www.youtube.com/embed/${videoId}?color=white&amp;rel=0&amp;playsinline=1&amp;enablejsapi=1&amp;autoplay=1\">\n    </iframe>\n  `);\n\n  block.innerHTML = '';\n\n  block.append(...iframeYT.childNodes);\n}\n\nexport default function decorate(block) {\n  let videoId = block.querySelector('p');\n  videoId = videoId.innerText;\n\n  window.isSingleVideo = true;\n\n  loadScript('https://www.youtube.com/iframe_api');\n\n  if (!videoId) {\n    block.innerHTML = '';\n\n    console.warn('V2 Livestream Embed block: There is no video link. Please check the provided URL.');\n    return;\n  }\n\n  window.onYouTubeIframeAPIReady = function onYouTubeIframeAPIReadyInit() {\n    setTimeout(() => {\n      if (!YT) {\n        throw new Error('YouTube API not loaded');\n      }\n      player = new YT.Player('livestream', {\n        events: {\n          onReady: onPlayerReady,\n          onError: onPlayerError,\n          onAutoplayBlocked: onPlayerAutoplayBlocked,\n        },\n      });\n    }, 3000);\n  };\n\n  if (isSocialAllowed()) {\n    addVideo(block, videoId);\n  } else {\n    const img = block.querySelector('picture img');\n    block.innerHTML = '';\n\n    const cookieMsgContainer = createElement('div', {\n      classes: 'cookie-message',\n    });\n    cookieMsgContainer.style.background = `linear-gradient(180deg, rgba(0, 0, 0, 0.00) 0%, rgba(0, 0, 0, 0.80) 100%), url(${img.src}) center / cover no-repeat`;\n\n    const cookieMessage = document.createRange().createContextualFragment(`\n      <h3 class=\"cookie-message__title\">${getTextLabel('v2_livestream_embed:single_video_message_title')}</h3>\n      ${getTextLabel('v2_livestream_embed:single_video_message_text')}\n      <div class=\"cookie-message__button-container\">\n        <button class=\"primary dark\">${getTextLabel('v2_livestream_embed:single_video_message_button')}</button>\n        <button class=\"button secondary dark\">${getTextLabel('v2_livestream_embed:single_video_message_button_deny')}</button>\n      </div>\n    `);\n\n    cookieMsgContainer.append(cookieMessage);\n    block.append(cookieMsgContainer);\n\n    block.querySelector('.cookie-message__button-container .primary')?.addEventListener('click', () => {\n      if (window.OneTrust) {\n        window.OneTrust.AllowAll();\n      }\n\n      addVideo(block, videoId);\n    });\n\n    block.querySelector('.cookie-message__button-container .secondary')?.addEventListener('click', () => {\n      hideModal();\n    });\n  }\n}\n","import { loadCSS, getMetadata } from './aem.js';\n\n/**\n * Placeholders data for the application and the translations\n * @type {Object|null}\n */\nlet placeholders = null;\n/**\n * Promise that resolves to the placeholders data.\n * Used to cache and share the placeholders loading operation across multiple requests.\n * @type {Promise<Object>|null}\n */\nlet placeholdersPromise = null;\n\n/**\n * Returns the true origin of the current page in the browser.\n * If the page is running in a iframe with srcdoc, the ancestor origin is returned.\n * @returns {String} The true origin\n */\nexport function getOrigin() {\n  return window.location.href === 'about:srcdoc' ? window.parent.location.origin : window.location.origin;\n}\n\nexport function getHref() {\n  if (window.location.href !== 'about:srcdoc') {\n    return window.location.href;\n  }\n\n  const urlParams = new URLSearchParams(window.parent.location.search);\n\n  return `${window.parent.location.origin}${urlParams.get('path')}`;\n}\n\nexport const getLanguagePath = () => {\n  const { pathname } = new URL(window.location.href);\n  const langCodeMatch = pathname.match('^(/[a-z]{2}(-[a-z]{2})?/).*');\n  return langCodeMatch ? langCodeMatch[1] : '/';\n};\n\n/**\n * Updates the `placeholders` variable by fetching the `placeholder.json` file.\n *\n * This function ensures placeholders are fetched only once by maintaining a promise-based\n * locking mechanism. Subsequent calls will wait for the initial fetch to complete.\n * The placeholders data is retrieved from a language-specific JSON file and stored globally.\n *\n * @async\n * @returns {Promise<void>} Resolves when placeholders have been fetched and the global variable updated\n * @throws {Error} Logs error to console if placeholder fetch fails, but does not reject\n *\n * @example\n * await getPlaceholders();\n * // placeholders global variable is now populated\n */\nexport async function getPlaceholders() {\n  if (!placeholders && !placeholdersPromise) {\n    const url = `${getLanguagePath()}placeholder.json`;\n    placeholdersPromise = fetch(url)\n      .then((resp) => resp.json())\n      .then((data) => {\n        placeholders = data;\n        placeholdersPromise = null;\n      })\n      .catch((error) => {\n        console.error('Error fetching placeholders:', error);\n        placeholdersPromise = null;\n      });\n  }\n  await placeholdersPromise;\n}\n\n/**\n * Returns the text label for the given key from the placeholders data.\n *\n * If the key is not found, or placeholders are not loaded, it returns the key itself.\n * @param {String} key The key to look for in the placeholders data\n * @returns {String} The text label or the key if not found\n */\nexport function getTextLabel(key) {\n  return placeholders?.data.find((el) => el.Key === key)?.Text || key;\n}\n\n/**\n * Create an element with the given id and classes.\n * @param {string} tagName the tag\n * @param {Object} options the element options\n * @param {string[]|string} [options.classes=[]] the class or classes to add\n * @param {Object} [options.props={}] any other attributes to add to the element\n * @returns {HTMLElement} the element\n */\nexport function createElement(tagName, options = {}) {\n  const { classes = [], props = {} } = options;\n  const elem = document.createElement(tagName);\n  const isString = typeof classes === 'string';\n  if (classes || (isString && classes !== '') || (!isString && classes.length > 0)) {\n    const classesArr = isString ? [classes] : classes;\n    elem.classList.add(...classesArr);\n  }\n  if (!isString && classes.length === 0) {\n    elem.removeAttribute('class');\n  }\n\n  if (props) {\n    Object.keys(props).forEach((propName) => {\n      const value = propName === props[propName] ? '' : props[propName];\n      elem.setAttribute(propName, value);\n    });\n  }\n\n  return elem;\n}\n\n/**\n * Create a new section with the specific name.\n * Append the given node to this section.\n * @param {string} blockName - Block name.\n * @param {string} sectionName - Name of the section\n *  (content-section, media-section etc...).\n * @param {HTMLElement} node - HTML element that represents\n *  the node to append to the section.\n * @returns {HTMLElement} - Returns an HTML element representing\n *  the new section with appended cell.\n */\nexport function createNewSection(blockName, sectionName, node) {\n  const section = createElement('div', { classes: `${blockName}__${sectionName}-section` });\n  section.append(node);\n  return section;\n}\n\n/**\n * Waits for a descendant matching selector to exist within parent AND be in the DOM,\n * then calls callback(element).\n */\nexport function waitForElementInDOM(parent, selector, callback) {\n  const el = parent.querySelector(selector);\n  if (el && document.body.contains(el)) {\n    callback(el);\n    return;\n  }\n  const observer = new MutationObserver(() => {\n    const el = parent.querySelector(selector);\n    if (el && document.body.contains(el)) {\n      observer.disconnect();\n      callback(el);\n    }\n  });\n  observer.observe(parent, { childList: true, subtree: true });\n}\n\nconst ICONS_CACHE = {};\n/**\n * Replace icons with inline SVG and prefix with codeBasePath.\n * @param {Element} [element] Element containing icons\n */\nexport async function decorateIcons(element) {\n  // Prepare the inline sprite\n  let svgSprite = document.getElementById('franklin-svg-sprite');\n  if (!svgSprite) {\n    const div = document.createElement('div');\n    div.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" id=\"franklin-svg-sprite\" style=\"display: none\"></svg>';\n    svgSprite = div.firstElementChild;\n    document.body.append(div.firstElementChild);\n  }\n\n  // Download all new icons\n  const icons = [...element.querySelectorAll('span.icon')];\n  await Promise.all(\n    icons.map(async (span) => {\n      const iconName = Array.from(span.classList)\n        .find((c) => c.startsWith('icon-'))\n        .substring(5);\n      if (!ICONS_CACHE[iconName]) {\n        ICONS_CACHE[iconName] = true;\n        try {\n          const response = await fetch(`${window.hlx.codeBasePath}/icons/${iconName}.svg`);\n          if (!response.ok) {\n            ICONS_CACHE[iconName] = false;\n            return;\n          }\n          // Styled icons don't play nice with the sprite approach because of shadow dom isolation\n          const svg = await response.text();\n          if (svg.match(/(<style | class=)/)) {\n            ICONS_CACHE[iconName] = { styled: true, html: svg };\n          } else {\n            ICONS_CACHE[iconName] = {\n              html: svg\n                .replace('<svg', `<symbol id=\"icons-sprite-${iconName}\"`)\n                .replace(/ width=\".*?\"/, '')\n                .replace(/ height=\".*?\"/, '')\n                .replace('</svg>', '</symbol>'),\n            };\n          }\n        } catch (error) {\n          ICONS_CACHE[iconName] = false;\n\n          console.error(error);\n        }\n      }\n    }),\n  );\n\n  const symbols = Object.keys(ICONS_CACHE)\n    .filter((k) => !svgSprite.querySelector(`#icons-sprite-${k}`))\n    .map((k) => ICONS_CACHE[k])\n    .filter((v) => !v.styled)\n    .map((v) => v.html)\n    .join('\\n');\n  svgSprite.innerHTML += symbols;\n\n  icons.forEach((span) => {\n    const iconName = Array.from(span.classList)\n      .find((c) => c.startsWith('icon-'))\n      .substring(5);\n    const parent = span.firstElementChild?.tagName === 'A' ? span.firstElementChild : span;\n    // Styled icons need to be inlined as-is, while unstyled ones can leverage the sprite\n    if (ICONS_CACHE[iconName].styled) {\n      parent.innerHTML = ICONS_CACHE[iconName].html;\n    } else {\n      parent.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\"><use href=\"#icons-sprite-${iconName}\"/></svg>`;\n    }\n  });\n}\n\nexport async function loadTemplate(doc, templateName) {\n  try {\n    await loadCSS(`${window.hlx.codeBasePath}/templates/${templateName}/${templateName}.css`);\n    const decorationComplete = new Promise((resolve) => {\n      (async () => {\n        try {\n          const mod = await import(`../templates/${templateName}/${templateName}.js`);\n          if (mod.default) {\n            await mod.default(doc);\n          }\n        } catch (error) {\n          console.log(`failed to load template for ${templateName}`, error);\n        }\n        resolve();\n      })();\n    });\n    await decorationComplete;\n  } catch (error) {\n    console.log(`failed to load block ${templateName}`, error);\n  }\n}\n\nexport const removeEmptyTags = (block, isRecursive) => {\n  const isEmpty = (node) => {\n    const tagName = `</${node.tagName}>`;\n\n    // exclude iframes\n    if (node.tagName.toUpperCase() === 'IFRAME') {\n      return false;\n    }\n    // checking that the tag is not autoclosed to make sure we don't remove <meta />\n    // checking the innerHTML and trim it to make sure the content inside the tag is 0\n    return node.outerHTML.slice(tagName.length * -1).toUpperCase() === tagName && node.innerHTML.trim().length === 0;\n  };\n\n  if (isRecursive) {\n    block.querySelectorAll(':scope > *').forEach((node) => {\n      if (node.children.length > 0) {\n        removeEmptyTags(node, true);\n      }\n\n      if (isEmpty(node)) {\n        node.remove();\n      }\n    });\n    return;\n  }\n\n  block.querySelectorAll('*').forEach((node) => {\n    if (isEmpty(node)) {\n      node.remove();\n    }\n  });\n};\n\nexport const unwrapDivs = (element, options = {}) => {\n  const stack = [element];\n  const { ignoreDataAlign = false } = options;\n\n  while (stack.length > 0) {\n    const currentElement = stack.pop();\n\n    let i = 0;\n    while (i < currentElement.children.length) {\n      const node = currentElement.children[i];\n      const attributesLength = [...node.attributes].filter((el) => {\n        if (ignoreDataAlign) {\n          return !(el.name.startsWith('data-align') || el.name.startsWith('data-valign'));\n        }\n\n        return el;\n      }).length;\n\n      if (node.tagName === 'DIV' && attributesLength === 0) {\n        while (node.firstChild) {\n          currentElement.insertBefore(node.firstChild, node);\n        }\n        node.remove();\n      } else {\n        stack.push(node);\n        i += 1;\n      }\n    }\n  }\n};\n\nexport const variantsClassesToBEM = (blockClasses, expectedVariantsNames, blockName) => {\n  expectedVariantsNames.forEach((variant) => {\n    if (blockClasses.contains(variant)) {\n      blockClasses.remove(variant);\n      blockClasses.add(`${blockName}--${variant}`);\n    }\n  });\n};\n\n/**\n * Adds a CSS class to the parent element of a child element\n * if the child element's class list includes the specified class.\n *\n * @param {HTMLElement} child - The child HTML element.\n * @param {string} className - The name of the class to check and add.\n */\nexport function addClassIfChildHasClass(child, className) {\n  if (child.className.includes(className)) {\n    child.parentElement.classList.add(className);\n  }\n}\n\nexport const adjustPretitle = (element) => {\n  const headingSelector = 'h1, h2, h3, h4, h5, h6';\n\n  [...element.querySelectorAll(headingSelector)].forEach((heading) => {\n    const isNextElHeading = heading.nextElementSibling?.matches(headingSelector);\n\n    if (!isNextElHeading) {\n      return;\n    }\n\n    const currentLevel = Number(heading.tagName[1]);\n    const nextElLevel = Number(heading.nextElementSibling.tagName[1]);\n\n    if (currentLevel > nextElLevel) {\n      const pretitle = createElement('span', { classes: ['pretitle'] });\n      pretitle.append(...heading.childNodes);\n\n      heading.replaceWith(pretitle);\n    }\n  });\n};\n\nexport const slugify = (text) =>\n  text\n    .toString()\n    .toLowerCase()\n    .trim()\n    // separate accent from letter\n    .normalize('NFD')\n    // remove all separated accents\n    .replace(/[\\u0300-\\u036f]/g, '')\n    // replace spaces with -\n    .replace(/\\s+/g, '-')\n    // replace & with 'and'\n    .replace(/&/g, '-and-')\n    // remove all non-word chars\n    .replace(/[^\\w-]+/g, '')\n    // replace multiple '-' with single '-'\n    .replace(/--+/g, '-');\n\n/**\n * loads the constants file where configuration values are stored\n */\nasync function getConstantValues() {\n  const url = `${getLanguagePath()}constants.json`;\n  let constants;\n  try {\n    const response = await fetch(url).then((resp) => resp.json());\n    if (!response.ok) {\n      constants = response;\n    }\n  } catch (error) {\n    console.error('Error with constants file', error);\n  }\n  return constants;\n}\n\n/**\n * Transforms an array of strings in the format 'key: value' into an object.\n * @param {string[]} data - Array of strings in the format 'key: value'.\n * @returns {Object} - Object with keys and values.\n * @throws {TypeError} - If an item in the array is not in the format 'key: value'.\n */\nexport const extractObjectFromArray = (data) => {\n  if (!Array.isArray(data)) {\n    return {};\n  }\n  const obj = {};\n\n  for (const item of data) {\n    try {\n      if (typeof item !== 'string' || !item.includes(':')) {\n        throw new TypeError(`Invalid input: \"${item}\". Expected a string: \"key: value\".`);\n      }\n      const [key, value] = item.split(':', 2);\n      obj[key.trim()] = value.trim();\n    } catch (error) {\n      console.warn(`Error with item: \"${item}\"`, error);\n    }\n  }\n  return obj;\n};\n\nconst formatValues = (values) => {\n  const obj = {};\n  if (values) {\n    values.forEach(({ name, value }) => (obj[name] = value));\n  }\n  return obj;\n};\n\nconst { searchConfig, cookieValues, magazineConfig, tools, headerConfig, newsFeedConfig, truckConfiguratorUrls, holidays } =\n  await getConstantValues();\n\n// This data comes from the sharepoint 'constants.xlsx' file\nexport const TOOLS_CONFIGS = formatValues(tools?.data);\nexport const SEARCH_CONFIGS = formatValues(searchConfig?.data);\nexport const COOKIE_CONFIGS = formatValues(cookieValues?.data);\nexport const MAGAZINE_CONFIGS = formatValues(magazineConfig?.data);\nexport const HEADER_CONFIGS = formatValues(headerConfig?.data);\nexport const NEWS_FEED_CONFIGS = formatValues(newsFeedConfig?.data);\nexport const TRUCK_CONFIGURATOR_URLS = formatValues(truckConfiguratorUrls?.data);\nexport const HOLIDAYS = formatValues(holidays?.data);\n\n/**\n * Check if one trust group is checked.\n * @param {String} groupName the one trust croup like: C0002\n */\nexport function checkOneTrustGroup(groupName) {\n  if (typeof groupName !== 'string') {\n    return false;\n  }\n  const oneTrustCookie = decodeURIComponent(document.cookie.split(';').find((cookie) => cookie.trim().startsWith('OptanonConsent=')));\n  return oneTrustCookie.includes(`${groupName}:1`);\n}\n\nconst { PERFORMANCE_COOKIE = false, TARGETING_COOKIE = false, SOCIAL_COOKIE = false } = COOKIE_CONFIGS;\n\nexport function isPerformanceAllowed() {\n  return checkOneTrustGroup(PERFORMANCE_COOKIE);\n}\n\nexport function isTargetingAllowed() {\n  return checkOneTrustGroup(TARGETING_COOKIE);\n}\n\nexport function isSocialAllowed() {\n  return checkOneTrustGroup(SOCIAL_COOKIE);\n}\n\n/**\n * See https://www.aem.live/developer/spreadsheets#arrays\n * Converts a string representation of an array, removing all brackets, backslashes, and quotes,\n * into an actual JavaScript array. Splits on commas, trims each string, and filters out empty\n * strings to ensure all elements contain valid data.\n *\n * @param {string} inputString - The string to be converted. It should mimic a serialized array,\n *                               often found in JSON-like structures where arrays are represented\n *                               as strings due to data transmission constraints.\n * @returns {string[]} An array of strings derived from the cleaned input string. Each element\n *                     is a trimmed, non-empty string that was separated by a comma in the\n *                     original input.\n * @returns {Array} An empty array if the input is not a string\n */\nexport const formatStringToArray = (inputString) => {\n  if (typeof inputString !== 'string') {\n    return [];\n  }\n  const cleanedString = inputString.replace(/[[\\]\\\\'\"]+/g, '');\n  return cleanedString\n    .split(',')\n    .map((item) => item.trim())\n    .filter((item) => item);\n};\n\n/*\n  The generateId function should be used only\n  for generating the id for UI elements\n*/\nlet idValue = 0;\n\nexport const generateId = (prefix = 'id') => {\n  idValue += 1;\n  return `${prefix}-${idValue}`;\n};\n\n/**\n * Helper for delaying a function\n * @param {function} func callback function\n * @param {number} timeout time to debouce in ms, default 200\n */\nexport function debounce(func, timeout = 200) {\n  let timer;\n  return (...args) => {\n    clearTimeout(timer);\n\n    timer = setTimeout(() => {\n      func.apply(this, args);\n    }, timeout);\n  };\n}\n\n/**\n * Returns a list of properties listed in the block\n * @param {string} route get the Json data from the route\n * @returns {Object} the json data object\n */\nexport const getJsonFromUrl = async (route) => {\n  try {\n    const response = await fetch(route);\n    if (!response.ok) {\n      return null;\n    }\n    const json = await response.json();\n    return json;\n  } catch (error) {\n    console.error('getJsonFromUrl:', { error });\n  }\n  return null;\n};\n\nexport const deepMerge = (target, source) => {\n  Object.keys(source).forEach((key) => {\n    if (source[key] && typeof source[key] === 'object') {\n      if (!target[key]) {\n        target[key] = {};\n      }\n      deepMerge(target[key], source[key]);\n    } else {\n      target[key] = source[key];\n    }\n  });\n  return target;\n};\n\nexport const isDevHost = () => {\n  const devHosts = ['localhost', '127.0.0.1', 'aem.page', 'aem.live'];\n  return devHosts.some((url) => window.location.host.includes(url));\n};\n\n/**\n * Function that checks for the locale field in metadata an returns it.\n * It defaults to 'en-us'\n * @returns {string} The locale string\n */\nexport const getLocale = () => getMetadata('locale') || 'en-us';\n\n/**\n * Function that recieves a timestamp in seconds and returns a date\n * in its locale's format. Defaults to US format date (MM/DD/YYYY)\n * @param {string} timestamp The date in seconds as a string\n * @param {object} options The date options obj for a specific format\n */\nexport const getDateFromTimestamp = (timestamp, options) => {\n  const date = new Date(timestamp * 1000 + new Date().getTimezoneOffset() * 60000);\n  const localeDate = Intl.DateTimeFormat(getLocale(), options).format(date);\n\n  return localeDate;\n};\n\n/**\n * Creates a picture element based on provided image data and breakpoints\n * @param {Array} images - Array of objects defining image data and breakpoints\n * @param {boolean} eager - Whether to load images eagerly\n * @param {string} alt - Alt text for the image\n * @param {string[]|string} imageClass - Class for the image\n * @returns {HTMLElement} The created picture element\n */\nexport function createResponsivePicture(images, eager, alt, imageClass) {\n  const picture = document.createElement('picture');\n  let fallbackWidth = '';\n  let fallbackSrc = '';\n\n  function constructSrcset(src, width, format) {\n    const baseUrl = `${src}?format=${format}&optimize=medium`;\n    return `${baseUrl}&width=${width} 1x, ${baseUrl}&width=${width * 2} 2x`;\n  }\n\n  images.forEach((image) => {\n    const originalFormat = image.src.split('.').pop();\n\n    image.breakpoints.forEach((bp) => {\n      if (!bp.media) {\n        return;\n      }\n\n      const srcsetWebp = constructSrcset(image.src, bp.width, 'webp');\n      const srcsetOriginal = constructSrcset(image.src, bp.width, originalFormat);\n\n      const webpSource = createElement('source', {\n        props: {\n          type: 'image/webp',\n          srcset: srcsetWebp,\n          media: bp.media,\n        },\n      });\n\n      const originalSource = createElement('source', {\n        props: {\n          type: `image/${originalFormat}`,\n          srcset: srcsetOriginal,\n          media: bp.media,\n        },\n      });\n\n      picture.insertBefore(originalSource, picture.firstChild);\n      picture.insertBefore(webpSource, originalSource);\n    });\n\n    const fallbackBreakpoint = image.breakpoints.find((bp) => !bp.media);\n    if (fallbackBreakpoint && !fallbackSrc) {\n      fallbackWidth = fallbackBreakpoint.width;\n      fallbackSrc = `${image.src}?width=${fallbackWidth}&format=${originalFormat}&optimize=medium`;\n    }\n  });\n\n  const img = createElement('img', {\n    classes: imageClass,\n    props: {\n      src: fallbackSrc,\n      alt,\n      loading: eager ? 'eager' : 'lazy',\n      width: fallbackWidth,\n    },\n  });\n\n  picture.appendChild(img);\n\n  return picture;\n}\n\n/**\n * Checks whether the viewport is in the mobile range.\n * Mobile is defined as a viewport width  744px (CSS pixels).\n *\n * @returns {boolean} True if the media query '(max-width: 744px)' matches.\n */\nexport const isMobileViewport = () => window.matchMedia('(max-width: 744px)').matches;\n\n/**\n * Checks whether the viewport is in the mobile or tablet range.\n * Mobile/Tablet is defined as a viewport width  1199px (CSS pixels).\n *\n * @returns {boolean} True if the media query '(max-width: 1199px)' matches.\n */\nexport const isMobileOrTabletViewport = () => window.matchMedia('(max-width: 1199px)').matches;\n\n/**\n * Checks whether the viewport is in the tablet-only range.\n * Tablet-only is defined as 768px  viewport width  1199px (CSS pixels).\n *\n * @returns {boolean} True if the media query '(min-width: 768px) and (max-width: 1199px)' matches.\n */\nexport const isTabletOnlyViewport = () => window.matchMedia('(min-width: 768px) and (max-width: 1199px)').matches;\n\n/**\n * Normalize a URL to a comparable pathname key.\n * Lowercases, collapses duplicate slashes, strips trailing slash.\n * @param {string} href\n * @returns {string} pathname key or \"\"\n */\nexport const toPathKey = (href) => {\n  if (!href) {\n    return '';\n  }\n  try {\n    const u = new URL(href, window.location.origin);\n    let p = decodeURI(u.pathname)\n      .toLowerCase()\n      .replace(/\\/{2,}/g, '/');\n    if (p.length > 1) {\n      p = p.replace(/\\/+$/, '');\n    }\n    return p;\n  } catch {\n    return '';\n  }\n};\n\n/**\n * Normalize a string intended to be used as a URL.\n *\n * - Coerces `undefined`/`null` to an empty string.\n * - Replaces non-breaking spaces with regular spaces.\n * - Strips out angle brackets (`<`, `>`).\n * - Trims leading/trailing whitespace.\n *\n * @param {string} [s] - Raw string (possibly from DOM or dataset).\n * @returns {string} A cleaned string safe to pass to `new URL()`.\n */\nexport const normalizeUrlText = (s) =>\n  String(s || '')\n    .replace(/\\u00A0/g, ' ')\n    .replace(/[<>]/g, '')\n    .trim();\n\n/**\n * Test whether a given URL protocol is HTTP or HTTPS.\n *\n * @param {string} protocol - Protocol string (e.g. `\"http:\"`, `\"https:\"`).\n * @returns {boolean} `true` if the protocol is HTTP/HTTPS, otherwise `false`.\n */\nexport const isHttp = (protocol) => /^https?:$/i.test(protocol);\n","export default function decorate(block) {\n  const button = document.createElement('a');\n  button.classList.add('cta');\n  button.setAttribute('onclick', 'OneTrust.ToggleInfoDisplay();');\n  button.textContent = block.textContent;\n\n  block.textContent = '';\n  block.append(button);\n}\n","import toString from './toString.js';\n\n/** Used to generate unique IDs. */\nvar idCounter = 0;\n\n/**\n * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {string} [prefix=''] The value to prefix the ID with.\n * @returns {string} Returns the unique ID.\n * @example\n *\n * _.uniqueId('contact_');\n * // => 'contact_104'\n *\n * _.uniqueId();\n * // => '105'\n */\nfunction uniqueId(prefix) {\n  var id = ++idCounter;\n  return toString(prefix) + id;\n}\n\nexport default uniqueId;\n","import { getMetadata } from '../../scripts/aem.js';\nimport { createElement, decorateIcons, getTextLabel, debounce, isMobileViewport } from '../../scripts/common.js';\n\nconst blockName = 'v2-inpage-navigation';\n\nconst scrollToSection = (id) => {\n  let timeout;\n\n  const container = document.querySelector(`main .section[data-inpageid='${id}']`);\n  container?.scrollIntoView({ behavior: 'smooth' });\n\n  // Checking if the height of the main element changes while scrolling (caused by layout shift)\n  const main = document.querySelector('main');\n  const resizeObserver = new ResizeObserver(() => {\n    clearTimeout(timeout);\n    container?.scrollIntoView({ behavior: 'smooth' });\n\n    timeout = setTimeout(() => {\n      resizeObserver.disconnect();\n    }, 500);\n  });\n  resizeObserver.observe(main);\n};\n\n/**\n * Creates an in-page navigation button element if both button title and link are provided.\n *\n * @param {string} title - The title of the button.\n * @param {string} url - The URL the button should link to.\n * @returns {HTMLElement|null} The anchor element representing the button, or null if required parameters are missing.\n */\nconst createInPageButton = (title, url, secondary = false) => {\n  if (title && url) {\n    const link = createElement('a', {\n      classes: ['button', 'marketing', `${blockName}__marketing`],\n      props: {\n        href: url,\n        title,\n      },\n    });\n    if (secondary) {\n      link.classList.add(`${blockName}__marketing--secondary`);\n    }\n    link.textContent = title;\n\n    return link;\n  }\n  return null;\n};\n\n/**\n * Creates an in-page navigation button element if both button title and link metadata are available.\n *\n * @returns {HTMLElement|null} The anchor element representing the button, or null if required metadata is missing.\n */\nconst inPageNavigationButton = () => {\n  // if we have a button title & button link\n  const title = getMetadata('inpage-button');\n  const url = getMetadata('inpage-link');\n  return createInPageButton(title, url);\n};\n\n/**\n * Creates an array of in-page navigation buttons based on metadata.\n * Each item in the returned array can be an HTMLElement or null, depending on the presence of metadata.\n *\n * @returns {(HTMLElement|null)[]} An array containing up to two elements: each is either an HTMLElement or null.\n */\nconst inPageNavigationButtons = () => {\n  // if we have primary and secondary inpage buttons\n  const primaryButton = getMetadata('inpage-primary-button');\n  const primaryLink = getMetadata('inpage-primary-link');\n  const secondaryButton = getMetadata('inpage-secondary-button');\n  const secondaryLink = getMetadata('inpage-secondary-link');\n  return [createInPageButton(primaryButton, primaryLink), createInPageButton(secondaryButton, secondaryLink, true)];\n};\n\n// Retrieve an array of sections with its corresponding intersectionRatio\nconst wrapSectionItems = (elements) => {\n  const elementsData = [];\n  const viewportHeight = window.innerHeight;\n  elements.forEach((item) => {\n    const elementRect = item.getBoundingClientRect();\n\n    // Calculate the vertical space occupied by the element within the viewport\n    const verticalSpace = Math.min(elementRect.bottom, viewportHeight) - Math.max(elementRect.top, 0);\n\n    // Calculate the ratio of vertical space to the viewport height\n    const spaceRatio = verticalSpace / viewportHeight;\n\n    elementsData.push({\n      element: item,\n      intersectionRatio: Math.max(0, Math.min(1, spaceRatio)),\n    });\n  });\n\n  return elementsData;\n};\n\nconst gotoSection = (event) => {\n  const { target } = event;\n  const button = target.closest('button');\n\n  if (button) {\n    const { id } = button.dataset;\n\n    updateActive(id);\n    scrollToSection(id);\n  }\n};\n\nconst updateActive = (id) => {\n  const activeItemInList = document.querySelector(`.${blockName}__item--active`);\n\n  // Prevent reassign active value\n  if (activeItemInList?.firstElementChild?.dataset.id === id) {\n    return;\n  }\n\n  // Remove focus position\n  document.activeElement.blur();\n\n  // check active id is equal to id don't do anything\n  const selectedItem = document.querySelector(`.${blockName}__selected-item`);\n  activeItemInList?.classList.remove(`${blockName}__item--active`);\n  const itemsButton = document.querySelectorAll(`.${blockName}__items button`);\n  const { pathname } = window.location;\n\n  if (id) {\n    const selectedButton = [...itemsButton].find((button) => button.dataset.id === id);\n    if (!selectedButton) {\n      return;\n    }\n    selectedItem.textContent = selectedButton.textContent;\n    selectedButton.parentNode.classList.add(`${blockName}__item--active`);\n\n    window.history.replaceState({}, '', `${pathname}#${id}`);\n  } else {\n    window.history.replaceState({}, '', `${pathname}`);\n  }\n};\n\nconst addHeaderScrollBehavior = (header) => {\n  let prevPosition = 0;\n\n  const onScroll = () => {\n    if (window.scrollY > prevPosition) {\n      header.classList.add(`${blockName}--hidden`);\n    } else {\n      header.classList.remove(`${blockName}--hidden`);\n    }\n\n    // on Safari the window.scrollY can be negative so `> 0` check is needed\n    prevPosition = window.scrollY > 0 ? window.scrollY : 0;\n  };\n\n  window.addEventListener('scroll', onScroll, { passive: true });\n\n  return () => {\n    window.removeEventListener('scroll', onScroll);\n    header.classList.remove(`${blockName}--hidden`);\n  };\n};\n\n/**\n * Update the in-page navigation factor based on the visibility of the CTA button.\n * @param {HTMLElement} ctaButton\n */\nconst updateNavFactor = (ctaButton = null) => {\n  if (!ctaButton) {\n    return;\n  }\n  const rect = ctaButton.getBoundingClientRect();\n  const docStyle = getComputedStyle(document.documentElement);\n  const navHeight = parseFloat(docStyle.getPropertyValue('--inpage-navigation-height')) || 0;\n\n  // Calculate visible height of CTA button within viewport\n  const visibleHeight = Math.max(0, Math.min(rect.bottom, window.innerHeight) - Math.max(rect.top, 0));\n  const factor = rect.height ? Math.max(0, Math.min(navHeight, (visibleHeight / rect.height) * navHeight)) : navHeight;\n\n  document.documentElement.style.setProperty('--inpage-navigation-factor', `${factor}px`);\n};\n\n/**\n * Handles bottom-sticky in-page nav behavior on mobile:\n * - Updates nav position based on CTA visibility.\n * - Hides when footer enters the viewport.\n * - Cleans up all listeners and observers when called.\n *\n * @param {HTMLElement} block - The in-page navigation block.\n * @returns {() => void} Teardown function to remove listeners and reset styles.\n */\nconst addBottomScrollBehavior = (block) => {\n  const wrapper = block.closest('.v2-inpage-navigation-wrapper');\n  const primaryButton = getMetadata('inpage-primary-button');\n  const primaryCta = document.querySelector(`.v2-hero a[title=\"${primaryButton}\"]:not(.${blockName}__marketing`);\n  const secondaryButton = getMetadata('inpage-secondary-button');\n  const secondaryCta = document.querySelector(`a[title=\"${secondaryButton}\"]:not(.${blockName}__marketing)`);\n  const ctaButton = secondaryCta || primaryCta;\n\n  if (!ctaButton) {\n    return () => {};\n  }\n\n  const handleScroll = (() => {\n    let last = 0;\n    const delay = 100;\n    return () => {\n      const now = Date.now();\n      if (now - last >= delay) {\n        updateNavFactor(ctaButton);\n        last = now;\n      }\n    };\n  })();\n\n  const handleResize = debounce(() => {\n    if (isMobileViewport()) {\n      updateNavFactor(ctaButton);\n    }\n  }, 150);\n\n  window.addEventListener('scroll', handleScroll, { passive: true });\n  window.addEventListener('resize', handleResize);\n  window.addEventListener('orientationchange', handleResize);\n\n  // Footer visibility observer\n  const footer = document.querySelector('footer');\n  let footerObserver;\n  if (footer) {\n    footerObserver = new IntersectionObserver(\n      ([entry]) => {\n        block.parentNode.classList.toggle(`${blockName}--hide`, entry.isIntersecting);\n      },\n      { threshold: 0.1 },\n    );\n    footerObserver.observe(footer);\n  }\n\n  requestAnimationFrame(() => updateNavFactor(ctaButton));\n\n  return () => {\n    window.removeEventListener('scroll', handleScroll);\n    window.removeEventListener('resize', handleResize);\n    window.removeEventListener('orientationchange', handleResize);\n    footerObserver?.disconnect();\n    document.documentElement.style.setProperty('--inpage-navigation-factor', '0px');\n    wrapper?.classList.remove(`${blockName}--hide`);\n  };\n};\n\n/**\n * Minimal responsive wiring:\n * - Mobile: bottom-sticky + update factor once per scroll (handled inside addBottomScrollBehavior).\n * - Desktop: header hide-on-scroll.\n * One global listener switches modes; no nested per-mode listeners.\n *\n * @param {HTMLElement} block\n * @returns {() => void} teardown\n */\nconst setupResponsiveBehavior = (block) => {\n  let teardown = null;\n\n  const enterMobile = () => {\n    const stop = addBottomScrollBehavior(block);\n    updateNavFactor(document.querySelector('.v2-hero a.primary') || document.querySelector('.v2-hero a.secondary'));\n    return () => {\n      if (stop) {\n        stop();\n      }\n      document.documentElement.style.setProperty('--inpage-navigation-factor', '0px');\n    };\n  };\n\n  const enterDesktop = () => addHeaderScrollBehavior(block.parentNode);\n\n  const apply = () => {\n    if (teardown) {\n      teardown();\n      teardown = null;\n    }\n    teardown = isMobileViewport() ? enterMobile() : enterDesktop();\n  };\n\n  apply();\n\n  const onChange = debounce(apply, 200);\n  window.addEventListener('resize', onChange);\n  window.addEventListener('orientationchange', onChange);\n\n  return () => {\n    if (teardown) {\n      teardown();\n    }\n    window.removeEventListener('resize', onChange);\n    window.removeEventListener('orientationchange', onChange);\n  };\n};\n\n/**\n * Decorate a single button within the in-page navigation.\n * @param {HTMLElement} block\n */\nconst renderInpageDropdownNav = (block) => {\n  const ctaButton = inPageNavigationButton();\n\n  const wrapper = block.querySelector(':scope > div');\n  wrapper.classList.add(`${blockName}__wrapper`);\n  const itemsWrapper = block.querySelector(':scope > div > div > p');\n\n  const dropdownBackground = createElement('div', { classes: `${blockName}__dropdown-background` });\n  const dropdownWrapper = createElement('div', { classes: `${blockName}__dropdown` });\n  const selectedItemWrapper = createElement('div', { classes: `${blockName}__selected-item-wrapper` });\n  const selectedItem = createElement('div', { classes: `${blockName}__selected-item` });\n\n  const listContainer = createElement('div', { classes: `${blockName}__items-container` });\n  const dropdownTitle = createElement('span', { classes: `${blockName}__dropdown-title` });\n\n  const sectionTitle = createElement('span', { classes: `${blockName}__title` });\n  const inPageTitle = getMetadata('inpage-title');\n  sectionTitle.innerText = inPageTitle;\n\n  const listCloseButton = createElement('button', { classes: `${blockName}__items-close` });\n  const closeIcon = createElement('span', { classes: ['icon', 'icon-close'] });\n\n  listCloseButton.appendChild(closeIcon);\n  listContainer.appendChild(listCloseButton);\n\n  const submenuTitle = getTextLabel('Section');\n  dropdownTitle.innerText = submenuTitle;\n  listContainer.appendChild(sectionTitle);\n  listContainer.appendChild(dropdownTitle);\n\n  const list = createElement('ul', { classes: `${blockName}__items` });\n\n  [...itemsWrapper.children].forEach((item, index) => {\n    const classes = [`${blockName}__item`];\n    if (index === 0) {\n      // Default selected item\n      classes.push(`${blockName}__item--active`);\n      selectedItem.textContent = item.textContent;\n    }\n    const listItem = createElement('li', { classes });\n\n    listItem.innerHTML = item.outerHTML;\n    list.appendChild(listItem);\n  });\n\n  const dropdownArrowIcon = createElement('span', { classes: ['icon', 'icon-chevron-down'] });\n\n  selectedItemWrapper.append(selectedItem);\n  selectedItemWrapper.appendChild(dropdownArrowIcon);\n\n  dropdownWrapper.append(selectedItemWrapper);\n  listContainer.append(list);\n  dropdownWrapper.appendChild(listContainer);\n\n  wrapper.appendChild(dropdownBackground);\n  wrapper.appendChild(dropdownWrapper);\n\n  itemsWrapper.remove();\n\n  decorateIcons(wrapper);\n\n  if (ctaButton) {\n    wrapper.appendChild(ctaButton);\n  }\n\n  list.addEventListener('click', gotoSection);\n\n  // on load Go to section if defined\n  const hash = window.location.hash.substring(1);\n  if (hash) {\n    updateActive(hash);\n\n    setTimeout(() => {\n      scrollToSection(hash);\n    }, 1000);\n  }\n\n  // Listener to toggle the dropdown (open / close)\n  document.addEventListener('click', (e) => {\n    const oneTrustButton = document.querySelector('#onetrust-consent-sdk');\n\n    // click on selected item we show the menu\n    if (e.target.closest(`.${blockName}__selected-item-wrapper`)) {\n      dropdownWrapper.classList.add(`${blockName}__dropdown--open`);\n      block.parentNode.classList.add(`${blockName}--open`);\n      document.body.classList.add('disable-body-scroll');\n      if (oneTrustButton) {\n        oneTrustButton.style.display = 'none';\n      }\n    } else if (\n      e.target.closest(`.${blockName}__dropdown-background`) ||\n      (e.target.closest(`.${blockName}__items-container`) &&\n        (e.target.closest(`.${blockName}__items-close`) || e.target.closest(`.${blockName}__item`)))\n    ) {\n      // Hide menu:\n      // - Click on black background\n      // - Click on close button OR menu item\n      // - Click outside the menu\n      dropdownWrapper.classList.remove(`${blockName}__dropdown--open`);\n      block.parentNode.classList.remove(`${blockName}--open`);\n      document.body.classList.remove('disable-body-scroll');\n      if (oneTrustButton) {\n        oneTrustButton.style.display = '';\n      }\n    }\n  });\n\n  const sectionsList = document.querySelectorAll('main .section');\n  // listen scroll to change the url + navigation item\n  window.addEventListener(\n    'scroll',\n    debounce(() => {\n      // Calculate intersectionRatio from all section items\n      const elementsData = wrapSectionItems(sectionsList);\n\n      // Get intersected item that occupies most of the space in the viewport\n      const intersectedItem = elementsData.reduce((prev, current) => (prev.intersectionRatio > current.intersectionRatio ? prev : current));\n\n      if (intersectedItem.element.dataset?.inpageid) {\n        updateActive(intersectedItem.element.dataset.inpageid);\n      } else {\n        updateActive();\n      }\n    }),\n  );\n\n  setupResponsiveBehavior(block);\n};\n\n/**\n * Build and wire the dual-CTA variant of the in-page nav.\n * - Renders primary/secondary CTAs if present.\n * - Mobile: enables bottom-sticky behavior.\n * - Desktop: enables header hide-on-scroll.\n * - Re-evaluates on resize/orientation and tears down previous listeners.\n *\n * @param {HTMLElement} navBlock - Root element of the in-page navigation block.\n */\nconst renderCtaNav = (block) => {\n  const [primaryCta, secondaryCta] = inPageNavigationButtons();\n  const buttonsWrapper = createElement('div', { classes: `${blockName}__wrapper` });\n  block.innerText = '';\n\n  if (primaryCta) {\n    buttonsWrapper.appendChild(primaryCta);\n  }\n\n  if (secondaryCta) {\n    buttonsWrapper.appendChild(secondaryCta);\n  }\n\n  if (primaryCta || secondaryCta) {\n    block.appendChild(buttonsWrapper);\n  }\n\n  let teardown = null;\n\n  const applyMode = () => {\n    if (teardown) {\n      teardown();\n      teardown = null;\n    }\n\n    if (isMobileViewport()) {\n      block.parentNode.classList.remove(`${blockName}--hidden`);\n      teardown = addBottomScrollBehavior(block);\n    } else {\n      document.documentElement.style.setProperty('--inpage-navigation-factor', '0px');\n      teardown = addHeaderScrollBehavior(block.parentNode);\n    }\n  };\n\n  applyMode();\n\n  const handleViewportChange = debounce(applyMode, 150);\n  window.addEventListener('resize', handleViewportChange);\n  window.addEventListener('orientationchange', handleViewportChange);\n};\n\nexport default async function decorate(block) {\n  // Check if the block is within a bottom sticky CTA variant set in metadata\n  const isBottomStickyVariant = block.closest('main')?.classList.contains('bottom-sticky-cta');\n\n  if (isBottomStickyVariant) {\n    renderCtaNav(block);\n    return;\n  }\n\n  renderInpageDropdownNav(block);\n}\n","import { selectVideoLink } from '../../scripts/video-helper.js';\n\nexport default function decorate(block) {\n  const links = block.querySelectorAll('a');\n  const selectedLink = selectVideoLink(links);\n  if (selectedLink) {\n    const icon = document.createElement('i');\n    icon.classList.add('fa', 'fa-play-circle-o');\n    selectedLink.prepend(icon);\n    block.innerHTML = '';\n    block.appendChild(selectedLink);\n  } else {\n    block.remove();\n\n    console.warn('local video link missing', block);\n  }\n}\n","import { createElement } from '../../scripts/common.js';\nimport { smoothScrollHorizontal } from '../../scripts/motion-helper.js';\n\nconst blockName = 'v2-truck-lineup';\nlet currentColor;\n\nfunction setupMetaField(metaFieldName, truckCarousel) {\n  if (!metaFieldName || !truckCarousel) {\n    return;\n  }\n\n  const pageMetaField = document.querySelector(`head meta[name=\"${metaFieldName}\"]`);\n  if (pageMetaField && truckCarousel) {\n    pageMetaField.setAttribute('content', truckCarousel);\n  } else if (truckCarousel) {\n    const meta = document.createElement('meta');\n    meta.name = metaFieldName;\n    meta.content = truckCarousel;\n    document.getElementsByTagName('head')[0].appendChild(meta);\n  }\n}\n\nfunction stripEmptyTags(main, child) {\n  if (child !== main && child.innerHTML.trim() === '') {\n    const parent = child.parentNode;\n    child.remove();\n    stripEmptyTags(main, parent);\n  }\n}\n\nconst moveNavigationLine = (navigationLine, activeTab, tabNavigation) => {\n  if (!activeTab || !navigationLine || !tabNavigation) {\n    return;\n  }\n  const { x: navigationX } = tabNavigation.getBoundingClientRect();\n  const { x, width } = activeTab.getBoundingClientRect();\n  Object.assign(navigationLine.style, {\n    left: `${x + tabNavigation.scrollLeft - navigationX}px`,\n    width: `${width}px`,\n  });\n};\n\nfunction buildButtonNavigation(tabItems, block) {\n  const buttonNavigation = createElement('ul', { classes: `${blockName}__navigation` });\n\n  [...tabItems]\n    .filter((buttonItem) => !buttonItem.classList.contains('hidden'))\n    .forEach((buttonItem, i) => {\n      const tabContent = buttonItem.querySelector(':scope > div');\n      const listItem = createElement('li', { classes: [`${blockName}__navigation-item`, ...(i === 0 ? ['active'] : [])] });\n      const button = createElement('button', {\n        classes: ['button', 'secondary'],\n        props: { type: 'button', value: tabContent?.dataset?.truckCarousel || '' },\n      });\n      button.addEventListener('click', () => {\n        setCarouselPosition(block.querySelector(`.${blockName}__images-container`), i);\n      });\n\n      if (tabContent) {\n        button.innerText = tabContent.dataset.truckCarousel;\n        listItem.append(button);\n        buttonNavigation.append(listItem);\n      }\n    });\n\n  return buttonNavigation;\n}\n\nfunction buildTabNavigation(tabItems, clickHandler, block) {\n  const tabNavigation = createElement('ul', { classes: `${blockName}__navigation` });\n  const navigationLine = createElement('li', { classes: `${blockName}__navigation-line` });\n  let timeout;\n\n  [...tabItems]\n    .filter((tabItem) => !tabItem.classList.contains('hidden'))\n    .forEach((tabItem, i) => {\n      const listItem = createElement('li', { classes: `${blockName}__navigation-item` });\n      const button = createElement('button');\n      button.addEventListener('click', () => clickHandler(i));\n      button.addEventListener('mouseover', (e) => {\n        clearTimeout(timeout);\n        moveNavigationLine(navigationLine, e.currentTarget, tabNavigation);\n      });\n\n      button.addEventListener('mouseout', () => {\n        timeout = setTimeout(() => {\n          const activeItem = block.querySelector(`.${blockName}__navigation-item.active`);\n          moveNavigationLine(navigationLine, activeItem, tabNavigation);\n        }, 600);\n      });\n\n      const tabContent = tabItem.querySelector(':scope > div');\n      if (tabContent) {\n        button.innerHTML = tabContent.dataset.truckCarousel;\n        listItem.append(button);\n        tabNavigation.append(listItem);\n      }\n    });\n\n  tabNavigation.append(navigationLine);\n\n  return tabNavigation;\n}\n\nfunction buildColorSwitcherList(colors, carousel, onColorChangeCallback) {\n  const colorSwitcherList = createElement('ul', { classes: `${blockName}__color-switcher` });\n  const colorElements = [];\n  let firstItemActiveClass = 'active';\n\n  colors.forEach((color) => {\n    colorElements.push(`\n      <li>\n        <button class=\"v2-truck-lineup__color-button ${firstItemActiveClass}\" data-color=\"${color}\" title=\"${color}\" style=\"background-color: ${color}\"></button>\n      </li>\n    `);\n    firstItemActiveClass = '';\n  });\n\n  colorSwitcherList.append(document.createRange().createContextualFragment(colorElements.join('')));\n\n  colorSwitcherList.querySelectorAll('button').forEach((button) => {\n    button.addEventListener('click', (e) => {\n      if (carousel.classList.contains('is-animating')) {\n        return;\n      }\n\n      const color = e.currentTarget.dataset.color;\n      const activeColor = colorSwitcherList.querySelector('.active');\n      activeColor.classList.remove('active');\n      e.currentTarget.classList.add('active');\n\n      onColorChangeCallback(color);\n    });\n  });\n\n  return colorSwitcherList;\n}\n\nconst updateActiveItem = (index, block) => {\n  const allImages = block.querySelector(`.${blockName}__images-container`);\n  const currentImages = block.querySelectorAll(\n    currentColor ? `.${blockName}__image-item[data-color=\"${currentColor}\"]` : `.${blockName}__image-item`,\n  );\n  const descriptions = block.querySelector(`.${blockName}__description-container`);\n  const navigation = block.querySelector(`.${blockName}__navigation`);\n  const navigationLine = block.querySelector(`.${blockName}__navigation-line`);\n  const metaFieldName = getMetaFieldName(currentImages[index]);\n  const truckCarousel = getTruckCarousel(currentImages[index]);\n\n  [allImages, descriptions, navigation].forEach((c) =>\n    c.querySelectorAll('.active').forEach((i) => {\n      i.classList.remove('active');\n\n      // Remove aria-hidden and tabindex from previously active items\n      i.setAttribute('aria-hidden', 'true');\n      i.querySelectorAll('a').forEach((link) => link.setAttribute('tabindex', '-1'));\n    }),\n  );\n\n  currentImages[index].classList.add('active');\n\n  setupMetaField(metaFieldName, truckCarousel);\n\n  descriptions.children[index].classList.add('active');\n  navigation.children[index].classList.add('active');\n\n  // Make links of current item are accessible by keyboard\n  descriptions.children[index].setAttribute('aria-hidden', 'false');\n  descriptions.children[index].querySelectorAll('a').forEach((link) => link.setAttribute('tabindex', '0'));\n\n  const activeNavigationItem = navigation.children[index];\n  moveNavigationLine(navigationLine, activeNavigationItem, navigation);\n\n  // Center navigation item\n  const navigationActiveItem = navigation.querySelector('.active');\n\n  if (navigation && navigationActiveItem) {\n    const { clientWidth: itemWidth, offsetLeft } = navigationActiveItem;\n    // Calculate the scroll position to center the active item\n    const scrollPosition = offsetLeft - (navigation.clientWidth - itemWidth) / 2;\n    navigation.scrollTo({\n      left: scrollPosition,\n      behavior: 'smooth',\n    });\n  }\n\n  // Update description position\n  const descriptionWidth = descriptions.offsetWidth;\n\n  setTimeout(() => {\n    descriptions.scrollTo({\n      left: descriptionWidth * index,\n      behavior: 'smooth',\n    });\n  }, 50);\n};\n\nconst listenScroll = (carousel, block) => {\n  const imageLoadPromises = Array.from(carousel.querySelectorAll('.v2-truck-lineup__image-item:not(.hidden) picture > img'))\n    .filter((img) => !img.complete)\n    .map(\n      (img) =>\n        new Promise((resolve) => {\n          img.addEventListener('load', resolve);\n        }),\n    );\n\n  Promise.all(imageLoadPromises).then(() => {\n    const elements = carousel.querySelectorAll(':scope > *');\n\n    const io = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting && entry.intersectionRatio >= 0.9) {\n            const activeItem = entry.target;\n            if (activeItem.classList.contains('hidden')) {\n              return;\n            }\n            const currentIndex = Array.from(activeItem.parentNode.children).indexOf(activeItem);\n            updateActiveItem(currentIndex, block);\n          }\n        });\n      },\n      {\n        root: carousel,\n        threshold: 0.9,\n      },\n    );\n\n    elements.forEach((el) => io.observe(el));\n\n    // Force to go to the first item on load\n    carousel.scrollTo({\n      left: 0,\n      behavior: 'instant',\n    });\n  });\n};\n\nconst setCarouselPosition = (carousel, index) => {\n  const scrollOffset = carousel.querySelector('.v2-truck-lineup__image-item:not(.hidden)')?.getBoundingClientRect().width;\n  const targetX = index * scrollOffset;\n\n  smoothScrollHorizontal(carousel, targetX, 1200);\n};\n\nconst navigate = (carousel, direction, block) => {\n  if (carousel.classList.contains('is-animating')) {\n    return;\n  }\n\n  const currentImages = block.querySelectorAll(\n    currentColor ? `.${blockName}__image-item[data-color=\"${currentColor}\"]` : `.${blockName}__image-item`,\n  );\n  const activeItem = carousel.querySelector(`.${blockName}__image-item.active`);\n  let index = [...activeItem.parentNode.querySelectorAll(`.${blockName}__image-item:not(.hidden)`)].indexOf(activeItem);\n  if (direction === 'left') {\n    index -= 1;\n    if (index === -1) {\n      index = currentImages.length - 1;\n    }\n  } else {\n    index += 1;\n    if (index > currentImages.length - 1) {\n      index = 0;\n    }\n  }\n\n  const images = carousel.querySelectorAll('.v2-truck-lineup__image-item');\n  images.forEach((image) => image.classList.remove('active'));\n  currentImages[index].classList.add('active');\n\n  setCarouselPosition(carousel, index);\n};\n\nconst createArrowControls = (carousel, block) => {\n  const arrowControls = createElement('ul', { classes: [`${blockName}__arrow-controls`] });\n  const arrows = document.createRange().createContextualFragment(`\n    <li>\n      <button aria-label=\"Previous\">\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15.6276 3.03255C15.8458 3.20171 15.8856 3.51578 15.7165 3.73404L9.31099 11.9992L15.7165 20.2643C15.8856 20.4826 15.8458 20.7967 15.6276 20.9658C15.4093 21.135 15.0952 21.0952 14.9261 20.8769L8.2832 12.3055C8.14348 12.1252 8.14348 11.8732 8.2832 11.6929L14.9261 3.12147C15.0952 2.90321 15.4093 2.86339 15.6276 3.03255Z\" fill=\"currentColor\"/>\n        </svg>\n      </button>\n    </li>\n    <li>\n      <button aria-label=\"Next\">\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.37245 20.9674C8.15418 20.7983 8.11437 20.4842 8.28353 20.266L14.689 12.0008L8.28353 3.73567C8.11437 3.5174 8.15418 3.20333 8.37245 3.03418C8.59072 2.86502 8.90479 2.90483 9.07394 3.1231L15.7168 11.6945C15.8565 11.8748 15.8565 12.1268 15.7168 12.3071L9.07394 20.8785C8.90479 21.0968 8.59072 21.1366 8.37245 20.9674Z\" fill=\"currentColor\"/>\n        </svg>\n      </button>\n    </li>\n  `);\n  arrowControls.append(...arrows.children);\n  carousel.insertAdjacentElement('beforebegin', arrowControls);\n  const [prevButton, nextButton] = arrowControls.querySelectorAll(':scope button');\n  prevButton.addEventListener('click', () => navigate(carousel, 'left', block));\n  nextButton.addEventListener('click', () => navigate(carousel, 'right', block));\n};\n\nconst getTabColor = (tabItem) => {\n  const tabContent = tabItem.querySelector(':scope > div, :scope > p > div');\n\n  if (tabContent) {\n    return tabContent.dataset.truckColor;\n  }\n\n  return '';\n};\n\nconst getMetaFieldName = (container) => {\n  const defaultMetaFieldName = 'v2-truck-lineup-meta-active';\n  const subContainer = container.querySelector(':scope > div, :scope > p > div');\n\n  if (!container) {\n    return defaultMetaFieldName;\n  }\n\n  if (subContainer) {\n    return subContainer.dataset.metaFieldName || defaultMetaFieldName;\n  }\n\n  return container.dataset.metaFieldName || defaultMetaFieldName;\n};\n\nconst getTruckCarousel = (container) => {\n  const defaultTruckCarousel = '';\n\n  if (!container) {\n    return defaultTruckCarousel;\n  }\n\n  const subContainer = container.querySelector(':scope > div, :scope > p > div');\n\n  if (subContainer) {\n    return subContainer.dataset.truckCarousel || defaultTruckCarousel;\n  }\n\n  return container.dataset.truckCarousel || defaultTruckCarousel;\n};\n\nexport default function decorate(block) {\n  const buttonNavigation = block.closest('main').classList.contains('truck-lineup-buttons');\n  const descriptionContainer = block.querySelector(':scope > div');\n  const imagesWrapper = createElement('div', { classes: `${blockName}__slider-wrapper` });\n  const imagesContainer = createElement('div', { classes: `${blockName}__images-container` });\n  descriptionContainer.classList.add(`${blockName}__description-container`);\n\n  let tabItems = block.querySelectorAll(':scope > div > div');\n  const selectedColor = getTabColor(tabItems[0]);\n  const metaFieldName = getMetaFieldName(tabItems[0]);\n  const truckCarousel = getTruckCarousel(tabItems[0]);\n\n  // Set the initial value to the meta field\n  setupMetaField(metaFieldName, truckCarousel);\n\n  const colors = new Set();\n\n  tabItems.forEach((tabItem) => {\n    const firstChildParagraph = tabItem.querySelector(':scope > p');\n\n    if (firstChildParagraph) {\n      tabItem.innerHTML = firstChildParagraph.innerHTML;\n    }\n\n    const color = getTabColor(tabItem);\n\n    colors.add(getTabColor(tabItem));\n\n    if (color !== selectedColor) {\n      tabItem.classList.add('hidden');\n      return;\n    }\n  });\n\n  tabItems = block.querySelectorAll(':scope > div > div');\n\n  if (colors.size > 1) {\n    currentColor = getTabColor(tabItems[0]);\n\n    const colorSwitcherList = buildColorSwitcherList(colors, imagesContainer, function onColorChange(color) {\n      if (imagesContainer.classList.contains('is-animating')) {\n        return;\n      }\n\n      currentColor = color;\n      const imageItems = block.querySelectorAll(`.${blockName}__image-item:not(.hidden)`);\n      const newColorImageItems = block.querySelectorAll(`.${blockName}__image-item[data-color=\"${color}\"]`);\n\n      imageItems.forEach((element) => element.classList.add('hidden'));\n      newColorImageItems.forEach((element) => element.classList.remove('hidden'));\n      imagesContainer.scrollLeft = 0;\n\n      updateActiveItem(0, block);\n    });\n\n    descriptionContainer.parentNode.prepend(colorSwitcherList);\n  }\n  descriptionContainer.parentNode.prepend(imagesWrapper);\n  imagesWrapper.appendChild(imagesContainer);\n\n  const tabNavigation = buttonNavigation\n    ? buildButtonNavigation(tabItems, block)\n    : buildTabNavigation(\n        tabItems,\n        (index) => {\n          setCarouselPosition(imagesContainer, index);\n        },\n        block,\n      );\n\n  // Arrows\n  createArrowControls(imagesContainer, block);\n\n  descriptionContainer.parentNode.prepend(tabNavigation);\n\n  const colorCheck = [];\n  const imageObj = new Image();\n  tabItems.forEach((tabItem) => {\n    const color = getTabColor(tabItem);\n    const metaFieldName = getMetaFieldName(tabItem);\n    const truckCarousel = getTruckCarousel(tabItem);\n\n    tabItem.classList.add(`${blockName}__desc-item`);\n    const tabContent = tabItem.querySelector(':scope > div');\n\n    // Create div for image and append inside image div container\n    const picture = tabItem.querySelector('picture');\n    const imageItem = createElement('div', { classes: `${blockName}__image-item` });\n    imageItem.appendChild(picture);\n    imageItem.setAttribute('data-color', color);\n    imageItem.setAttribute('data-meta-field-name', metaFieldName);\n    imageItem.setAttribute('data-truck-carousel', truckCarousel);\n\n    if (!colorCheck.includes(color)) {\n      imageItem.classList.add('first-of-color');\n      colorCheck.push(color);\n    }\n\n    if (selectedColor && getTabColor(tabItem) !== selectedColor) {\n      imageItem.classList.add('hidden');\n    }\n\n    imageObj.src = imageItem?.src;\n\n    imagesContainer.appendChild(imageItem);\n\n    // Remove empty tags\n    tabContent.querySelectorAll('p, div').forEach((item) => {\n      stripEmptyTags(tabContent, item);\n    });\n\n    // Wrap links in container\n    const buttonContainer = createElement('div', { classes: `${blockName}__buttons-container` });\n    const buttons = tabContent.querySelectorAll('.button-container');\n\n    if (buttons.length) {\n      const parentButtonContainer = buttons[0].parentNode;\n      buttonContainer.append(...buttons);\n      parentButtonContainer.appendChild(buttonContainer);\n    }\n  });\n\n  // Update the button indicator on scroll\n  listenScroll(imagesContainer, block);\n\n  // Update text position + navigation line when page is resized\n  window.addEventListener('resize', () => {\n    const activeItem = imagesContainer.querySelector(`.${blockName}__image-item.active, .${blockName}__image-item:first-child`); // The .active or the first item\n\n    if (activeItem) {\n      const index = [...activeItem.parentNode.children].indexOf(activeItem);\n      updateActiveItem(index, block);\n    }\n  });\n}\n","import { removeEmptyTags, unwrapDivs } from '../../scripts/common.js';\n\n// hide buttons for, content if they are from same origin\nfunction hideButtons(buttons) {\n  buttons.forEach((element) => {\n    if (element.classList.contains('tertiary')) {\n      element.classList.remove('button', 'tertiary');\n    }\n    if (element.href.match(/\\/recalls/)) {\n      element.classList.add('button', 'nhsta-header__langauge-switch');\n    } else if (element.href.match(/www.volvotrucks/)) {\n      element.target = '_blank';\n    }\n  });\n}\n\nexport default async function decorate(block) {\n  unwrapDivs(block);\n  const anchorTags = block.querySelectorAll('a');\n  anchorTags.forEach((element) => {\n    block.insertBefore(element, element.parentNode);\n  });\n  removeEmptyTags(block);\n  hideButtons(anchorTags);\n}\n","import {\n  selectVideoLink,\n  addPlayIcon,\n  showVideoModal,\n  isLowResolutionVideoUrl,\n  createLowResolutionBanner,\n  createIframe,\n} from '../../scripts/video-helper.js';\n\nexport default function decorate(block) {\n  const isAutoplay = block.classList.contains('autoplay');\n  const isLoopedVideo = block.classList.contains('loop');\n  const isFullWidth = block.classList.contains('full-width');\n  const hideLowResolutionBanner = block.classList.contains('no-banner');\n  const videoWrapper = document.createElement('div');\n  // removing classes to avoid collision with other css\n  block.classList.remove('loop', 'autoplay', 'full-width');\n  videoWrapper.classList.add('embed-video');\n\n  const preferredType = (() => {\n    if (isFullWidth) {\n      return 'local';\n    }\n    return 'auto';\n  })();\n\n  const links = block.querySelectorAll('a');\n  const selectedLink = selectVideoLink(links, preferredType);\n  const video = document.createElement('video');\n  const source = document.createElement('source');\n\n  if (!selectedLink) {\n    block.innerHTML = '';\n\n    console.warn('Embed block: There is no video link. Please check if the fallback video link is provided.');\n    return;\n  }\n\n  const isLowResolutionVideo = isLowResolutionVideoUrl(selectedLink.getAttribute('href'));\n  const showControls = isLowResolutionVideo && !isFullWidth;\n\n  video.appendChild(source);\n  block.innerHTML = '';\n  block.appendChild(videoWrapper);\n\n  const loadEmbed = () => {\n    if (video.classList.contains('embed-video-loaded') || !selectedLink) {\n      return;\n    }\n\n    if (isAutoplay) {\n      video.autoplay = true;\n      // autoplay requires the video to be muted otherwise the autoplay\n      // can be block by the browser\n      // https://developer.mozilla.org/en-US/docs/Web/Media/Autoplay_guide\n      video.muted = true;\n    }\n\n    if (isLoopedVideo) {\n      video.loop = true;\n    }\n\n    video.playsInline = true;\n    video.controls = showControls;\n    video.classList.add('embed-video-element', 'embed-video-loaded');\n    source.setAttribute('src', selectedLink.getAttribute('href'));\n    source.setAttribute('type', 'video/mp4');\n    videoWrapper.appendChild(video);\n\n    if (isFullWidth) {\n      const link = document.createElement('a');\n      link.setAttribute('href', selectVideoLink(links).getAttribute('href'));\n      block.classList.add('embed-full-width');\n      addPlayIcon(block);\n\n      video.addEventListener('click', () => {\n        showVideoModal(selectVideoLink(links).getAttribute('href'));\n      });\n    }\n\n    if (!isFullWidth && !hideLowResolutionBanner) {\n      const banner = createLowResolutionBanner();\n      videoWrapper.prepend(banner);\n    }\n  };\n\n  const observer = new IntersectionObserver((entries) => {\n    if (entries.some((e) => e.isIntersecting)) {\n      observer.disconnect();\n      if (isLowResolutionVideo) {\n        loadEmbed();\n      } else {\n        createIframe(selectedLink.getAttribute('href'), { parentEl: videoWrapper, classes: 'embed-video-element' });\n      }\n    }\n  });\n  observer.observe(block);\n}\n","import { addClassIfChildHasClass, createElement, removeEmptyTags, unwrapDivs, variantsClassesToBEM } from '../../scripts/common.js';\n\nconst variantClasses = ['media-right', 'expanded-width'];\nconst blockName = 'v2-media-with-tabs';\n\nconst handleChangeTab = (e) => {\n  const parentBlock = e.target.closest(`.${blockName}`);\n  const activeClassList = e.target.classList;\n  if (activeClassList.contains('active')) {\n    return;\n  }\n\n  let activeNumber;\n  activeClassList.forEach((cl) => {\n    if (cl.substring(0, 4) === 'tab-') {\n      activeNumber = Number(cl.split('-').pop());\n    }\n  });\n\n  parentBlock.querySelector(`.${blockName}__tab.active`).classList.remove('active');\n  parentBlock.querySelector(`.${blockName}__image.active`).classList.remove('active');\n\n  parentBlock.querySelector(`.${blockName}__image.img-${activeNumber}`).classList.add('active');\n  e.target.classList.add('active');\n  if (window.innerWidth < 1200) {\n    e.target.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });\n  }\n};\n\nexport default function decorate(block) {\n  variantsClassesToBEM(block.classList, variantClasses, blockName);\n  addClassIfChildHasClass(block, 'expanded-width');\n\n  const content = block.querySelectorAll(':scope > div > div');\n  const [header, list] = content;\n\n  const imageSection = createElement('div', { classes: `${blockName}__images-section` });\n  const tabsSection = createElement('div', { classes: `${blockName}__tabs-section` });\n\n  const items = list.querySelectorAll('li');\n\n  const headerSection = createElement('div', { classes: `${blockName}__header-section` });\n  const headingTypes = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n  const heading = header.querySelector(headingTypes);\n  heading.classList.add(`${blockName}__heading`);\n  const subtitle = heading.nextElementSibling;\n  subtitle.classList.add(`${blockName}__subtitle`);\n\n  headerSection.append(header, subtitle);\n\n  const textSection = createElement('div', { classes: `${blockName}__texts-section` });\n\n  items.forEach((el, idx) => {\n    const image = el.querySelector('picture');\n    image.classList.add(`${blockName}__image`, `img-${idx}`);\n\n    const tab = createElement('button', { classes: [`${blockName}__tab`, `tab-${idx}`] });\n    tab.classList.add(`${blockName}__tab`, `tab-${idx}`);\n    tab.textContent = el.innerText;\n    tab.onclick = (e) => handleChangeTab(e);\n\n    if (idx === 0) {\n      image.classList.add('active');\n      tab.classList.add('active');\n    }\n\n    imageSection.append(image);\n    tabsSection.append(tab);\n  });\n  items[0].parentNode.remove();\n\n  textSection.append(tabsSection, headerSection);\n  block.append(imageSection, textSection);\n\n  unwrapDivs(block, { ignoreDataAlign: true });\n  removeEmptyTags(block);\n}\n","import { getLocale } from '../common.js';\nimport { fetchSearchData, pressReleaseQuery, TENANT } from '../search-api.js';\n\n/**\n * Fetches magazine articles based on the provided criteria.\n *\n * @param {Object} options - Options for fetching magazine articles.\n * @param {number} options.limit - The maximum number of articles to fetch.\n * @param {number} [options.offset=0] - The starting point for fetching articles (pagination).\n * @param {Object|null} [options.tags=null] - An object with keys \"truck\", \"topic\" and/or \"category\" to filter articles, or null.\n * @param {string} [options.q='truck'] - The query term to search for articles.\n * @param {string} [options.sort] - The sorting criteria for articles.\n * @param {string} [options.tenant=TENANT] - The tenant identifier.\n * @param {string} [options.language=getLocale().split('-')[0].toUpperCase()] -\n * The language code for the articles.\n * @param {string} [options.category='magazine'] - The category of articles to fetch.\n * @param {Array<string>} [options.facets=['ARTICLE', 'TOPIC', 'TRUCK']] -\n * The facets to include in the search.\n * @returns {Promise<Object|null>} The fetched articles data, or null if an error occurs.\n *\n * @async\n * @throws {Error} Logs errors to the console and returns null if the fetch fails.\n */\nexport const fetchPressReleases = async ({\n  tenant = TENANT,\n  language = getLocale().split('-')[0].toUpperCase(),\n  q = 'Volvo',\n  limit = 100,\n  offset = 0,\n  category = 'Press releases',\n  sort,\n} = {}) => {\n  const variables = {\n    tenant,\n    language,\n    q,\n    limit,\n    offset,\n    category,\n    sort,\n  };\n\n  try {\n    if (!tenant) {\n      throw new Error('TENANT not defined');\n    }\n\n    const rawData = await fetchSearchData({\n      query: pressReleaseQuery(),\n      variables,\n    });\n    return rawData?.data?.edssearch || null;\n  } catch (error) {\n    console.error('Error fetching magazine articles:', error);\n    return null;\n  }\n};\n","import { getTextLabel, unwrapDivs, variantsClassesToBEM } from '../../scripts/common.js';\n\nexport default async function decorate(block) {\n  const blockName = 'v2-social-block';\n  const variantClasses = ['black', 'gray'];\n\n  variantsClassesToBEM(block.classList, variantClasses, blockName);\n\n  const headings = block.querySelectorAll('h1, h2, h3, h4, h5, h6');\n  [...headings].forEach((heading) => heading.classList.add(`${blockName}__title`));\n\n  const socialWrapper = block.querySelector(':scope > div');\n  socialWrapper.classList.add(`${blockName}__list-wrapper`);\n\n  const list = socialWrapper.querySelector('ul');\n  let copyAnchor;\n\n  list.classList.add(`${blockName}__list`);\n  list.classList.remove('cta-list');\n\n  [...list.children].forEach((item) => {\n    item.className = '';\n\n    const anchor = item.querySelector('a');\n    if (anchor) {\n      anchor.className = `${blockName}__button`;\n    }\n\n    const copyLink = item.querySelector('.icon-link');\n    if (copyLink) {\n      copyAnchor = anchor;\n      anchor.dataset.tooltip = getTextLabel('v2_social_block:copied');\n\n      anchor.addEventListener('click', async (e) => {\n        e.preventDefault();\n        try {\n          await navigator.clipboard.writeText(`${anchor.href}`);\n          anchor.classList.add('show');\n\n          setTimeout(() => {\n            anchor.classList.remove('show');\n          }, 1000);\n        } catch (err) {\n          console.error('Failed to copy: ', err);\n        }\n      });\n      anchor.classList.add('tooltip', 'tooltip--top');\n    }\n  });\n  unwrapDivs(block);\n\n  const mobileMQ = window.matchMedia('(max-width: 743px)');\n  const tabletMQ = window.matchMedia('(min-width: 744px)');\n\n  function onMobileChange() {\n    copyAnchor.classList.remove('tooltip--right');\n    copyAnchor.classList.add('tooltip--top');\n  }\n\n  function onTabletChange() {\n    copyAnchor.classList.remove('tooltip--top');\n    copyAnchor.classList.add('tooltip--right');\n  }\n\n  if (mobileMQ.matches) {\n    onMobileChange(mobileMQ);\n  }\n\n  if (tabletMQ.matches) {\n    onTabletChange(tabletMQ);\n  }\n\n  window.addEventListener('resize', () => {\n    if (mobileMQ.matches) {\n      onMobileChange();\n    } else if (tabletMQ.matches) {\n      onTabletChange();\n    }\n  });\n}\n","import { decorateSections, decorateBlocks, decorateButtons, loadSections, loadCSS } from '../../scripts/aem.js';\nimport { decorateIcons } from '../../scripts/common.js';\n\nexport async function showOffer(a) {\n  const { href, title } = a;\n  const module$ = import(`${window.hlx.codeBasePath}/common/sidebar/sidebar.js`);\n  const styles$ = loadCSS(`${window.hlx.codeBasePath}/blocks/get-an-offer/get-an-offer.css`);\n  const content = await fetch(`${href}.plain.html`);\n\n  async function decorateSidebar(container) {\n    decorateButtons(container);\n    decorateIcons(container);\n    decorateSections(container);\n    decorateBlocks(container);\n\n    container.classList.add('get-an-offer-sidebar');\n    const [header, details, from] = container.children;\n    header.classList.add('header');\n    details.classList.add('details');\n    from.classList.add('form');\n\n    if (title === 'Details') {\n      container.classList.add('show-details');\n      const ctaList = a.closest('ul');\n      const cta = [...ctaList.querySelectorAll('a')].find(({ href: h }) => h === href);\n      // clone the button to show the form\n      const fragment = document.createRange().createContextualFragment(`\n                <div class=\"default-content-wrapper\">\n                    <p class=\"button-container\">\n                        ${cta.outerHTML}\n                    </p>\n                </div>\n            `);\n      const button = fragment.querySelector('a');\n      button.addEventListener('click', (e) => {\n        e.preventDefault();\n        container.classList.remove('show-details');\n      });\n      details.append(...fragment.children);\n    } else {\n      container.classList.remove('show-details');\n    }\n\n    await loadSections(container);\n  }\n\n  if (content.ok) {\n    const html = await content.text();\n    const fragment = document.createRange().createContextualFragment(html);\n    const [module] = await Promise.all([module$, styles$]);\n    module.showSidebar(fragment.children, decorateSidebar);\n  }\n}\n","import { results, resetForm, updatedData, addAnimations, resetData, getNumberFormat, reverseFormatNumber } from './results.js';\nimport { getTextLabel } from '../../scripts/common.js';\n\nconst calculatorPath = './calculator.json';\nconst percentagesPath = './percentages.json';\n\nconst getInitialData = async (path = calculatorPath) => {\n  // get data from spreadsheet in json format\n  const response = await fetch(path);\n  const json = await response.json();\n  return json.data;\n};\n\nconst formatData = (data) => {\n  // get the values from the json\n  const values = data.pop();\n  const dataEntries = Object.entries(values).map(([key, value], i) => ({\n    idx: i + 1,\n    label: key,\n    value,\n    type: [2, 8].some((id) => id === i) ? 'number' : 'text',\n  }));\n\n  // get the last element of the excel as the disclaimer that goes on the middle\n  const disclaimer = dataEntries.length === 10 ? dataEntries.pop().value : '';\n  const divider = 7;\n\n  const [, priceFuel, currentMPG, milesTruckYear, priceIncrease, defPrice, defUsage, , trucksNum] = dataEntries;\n  const formData = {\n    '1_baseline_powertrain': 0,\n    '2_price_of_fuel': priceFuel.value,\n    '3_current_MPG': currentMPG.value,\n    '4_miles/Truck/Year': milesTruckYear.value,\n    '5_annual_fuel_price_increase': priceIncrease.value,\n    '6_price_of_DEF': defPrice.value,\n    '7_DEF%_usage': defUsage.value,\n    '8_next-gen_D13TC_powertrain': 0,\n    '9_number_of_new_trucks': trucksNum.value,\n  };\n\n  // divides into 2 sections, 'current' and 'new'\n  const firstSection = dataEntries.slice(0, divider);\n  const lastSection = dataEntries.slice(divider, dataEntries.length);\n\n  // turn the string into an array\n  const splitValues = (completeString) => completeString[0].value.split(',');\n\n  firstSection[0].value = splitValues(firstSection);\n  lastSection[0].value = splitValues(lastSection);\n\n  firstSection[0].type = 'select';\n  lastSection[0].type = 'select';\n\n  return [firstSection, lastSection, formData, disclaimer];\n};\n\nconst buildPercentages = (rawPercentages) => {\n  const tempData = {};\n  rawPercentages.forEach((row) => {\n    tempData[row.sumproduct] = row.result;\n  });\n  return tempData;\n};\n\nconst createButton = (type) => {\n  // create the reset button\n  const button = document.createElement('button');\n  button.classList.add(`calculator-${type}-button`);\n  button.id = `calculator-${type}-button`;\n  button.innerText = `${type} calculator`;\n  button.setAttribute('type', 'submit');\n\n  return button;\n};\n\nconst getInputType = (e) => {\n  const errorMessage = getTextLabel('calculator:error_message');\n  // identify and return if the input is a number input or a select\n  const inputLabel = e.label.slice(2).replaceAll('_', ' ');\n  if (e.type === 'select') {\n    return `\n      <label for=\"input-${e.idx}\" class=\"label-input-${e.idx}\">${inputLabel}</label>\n      <select name=\"input-${e.idx}\" class=\"form-control\" id=\"input-${e.idx}\">\n        ${e.value.map(\n          (value, idx) => `\n        <option data-value=\"${idx + 1}\" value=\"${value}\">${value}</option>`,\n        )}\n      </select>`;\n  }\n  return `\n    <label class=\"label-input-${e.idx}\" for=\"input-${e.idx}\">${inputLabel}</label>\n    <input\n      type=\"${e.type}\"\n      id=\"input-${e.idx}\"\n      class=\"form-control\"\n      value=\"${getNumberFormat(e.value, e.idx)}\"\n      ${e.idx === 9 ? 'min=\"1\"' : ''}\n      ${e.idx === 3 ? 'min=\"0.01\" step=\"0.01\"' : ''}/>\n    <span class=\"error-message\">${errorMessage}</span>`;\n};\n\nconst createInputs = (data, type) => {\n  // build the list of inputs with their corresponding title\n  const truckSection = document.createElement('div');\n  truckSection.classList.add('calculator-inputs-section');\n\n  const truckTitle = document.createElement('h3');\n  truckTitle.classList.add('calculator-inputs-title');\n  truckTitle.innerText = `${type} trucks`;\n\n  const inputList = document.createElement('ul');\n  inputList.classList.add('calculator-input-list');\n\n  data.forEach((input) => {\n    const listItem = document.createElement('li');\n    listItem.classList.add('calculator-item');\n    listItem.innerHTML = getInputType(input);\n    inputList.append(listItem);\n  });\n\n  truckSection.append(truckTitle);\n  truckSection.append(inputList);\n\n  return truckSection;\n};\n\nconst focusNextField = (e, form) => {\n  if (e.key === 'Enter') {\n    if (e.target.localName === 'button') {\n      resetForm(e);\n      return;\n    }\n    const formElements = [...form];\n    const idx = e.target.id.split('-')[1];\n    const nextId = idx === '9' ? 0 : +idx;\n    formElements[nextId].focus();\n  }\n};\n\nconst formatDataField = (e) => {\n  if (['select', 'button'].some((field) => field === e.target.localName)) {\n    return;\n  }\n  const { target } = e;\n  const { value } = target;\n  const idx = +target.id.split('-')[1];\n  const fn = {\n    focus: reverseFormatNumber(value, 'en-US'),\n    blur: getNumberFormat(value, idx),\n  };\n  let hasError = false;\n  if (e.type === 'blur') {\n    target.classList.toggle('error', !reverseFormatNumber(value));\n    hasError = target.classList.contains('error');\n  }\n  if (!hasError) {\n    target.value = fn[e.type] ? fn[e.type] : value;\n  }\n};\n\nexport default async function decorate(block) {\n  // the final disclaimer comes from the index.doc file in order to make it editable\n  const finalDisclaimer = block.innerText;\n\n  // this data acts a placeholder and is also the one used to make the first calculations\n  const rawData = await getInitialData();\n  const initialData = formatData(rawData);\n  const [, , formData, dataText] = initialData;\n  const rawPercentages = await getInitialData(percentagesPath);\n  const percentages = buildPercentages(rawPercentages);\n  resetData.push(formData);\n\n  const middleDisclaimerText = document.createElement('p');\n  middleDisclaimerText.classList.add('disclaimer');\n  middleDisclaimerText.classList.add('calculator-inputs-disclaimer');\n  middleDisclaimerText.innerText = dataText;\n\n  const currentInputsSection = createInputs(initialData[0], 'current');\n  const newInputsSection = createInputs(initialData[1], 'new');\n\n  const resetButton = createButton('reset');\n  resetButton.onclick = (e) => resetForm(e);\n\n  const allInputs = document.createElement('form');\n  allInputs.classList.add('calculator-inputs-form');\n  allInputs.id = 'calculator';\n  allInputs.oninput = (e) => resetForm(e);\n  allInputs.onkeydown = (e) => focusNextField(e, allInputs);\n  allInputs.addEventListener('focus', (e) => formatDataField(e), true);\n  allInputs.addEventListener('blur', (e) => formatDataField(e), true);\n\n  const finalDisclaimerText = document.createElement('p');\n  finalDisclaimerText.classList.add('disclaimer');\n  finalDisclaimerText.classList.add('results-disclaimer');\n  finalDisclaimerText.innerText = finalDisclaimer;\n\n  // empties the block\n  block.innerText = '';\n\n  const selectorsAndCharts = results(formData, percentages);\n  addAnimations(selectorsAndCharts);\n\n  allInputs.append(currentInputsSection);\n  allInputs.append(middleDisclaimerText);\n  allInputs.append(newInputsSection);\n  allInputs.append(resetButton);\n\n  block.append(allInputs);\n  block.append(selectorsAndCharts);\n\n  block.append(finalDisclaimerText);\n  updatedData.push(selectorsAndCharts);\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=\"$lit$\",h=`lit$${Math.random().toFixed(9).slice(2)}$`,o=\"?\"+h,n=`<${o}>`,r=document,l=()=>r.createComment(\"\"),c=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,a=Array.isArray,u=t=>a(t)||\"function\"==typeof t?.[Symbol.iterator],d=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\\\s\"'>=/]+)(${d}*=${d}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),p=/'/g,g=/\"/g,$=/^(?:script|style|textarea|title)$/i,y=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=y(1),b=y(2),w=y(3),T=Symbol.for(\"lit-noChange\"),E=Symbol.for(\"lit-nothing\"),A=new WeakMap,C=r.createTreeWalker(r,129);function P(t,i){if(!a(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==s?s.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,o=[];let r,l=2===i?\"<svg>\":3===i?\"<math>\":\"\",c=f;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,y=0;for(;y<s.length&&(c.lastIndex=y,u=c.exec(s),null!==u);)y=c.lastIndex,c===f?\"!--\"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?($.test(u[2])&&(r=RegExp(\"</\"+u[2],\"g\")),c=m):void 0!==u[3]&&(c=m):c===m?\">\"===u[0]?(c=r??f,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?m:'\"'===u[3]?g:p):c===g||c===p?c=m:c===v||c===_?c=f:(c=m,r=void 0);const x=c===m&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===f?s+n:d>=0?(o.push(a),s.slice(0,d)+e+s.slice(d)+h+x):s+h+(-2===d?i:x)}return[P(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":3===i?\"</math>\":\"\")),o]};class N{constructor({strings:t,_$litType$:s},n){let r;this.parts=[];let c=0,a=0;const u=t.length-1,d=this.parts,[f,v]=V(t,s);if(this.el=N.createElement(f,n),C.currentNode=this.el.content,2===s||3===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=C.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(e)){const i=v[a++],s=r.getAttribute(t).split(h),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:c,name:e[2],strings:s,ctor:\".\"===e[1]?H:\"?\"===e[1]?I:\"@\"===e[1]?L:k}),r.removeAttribute(t)}else t.startsWith(h)&&(d.push({type:6,index:c}),r.removeAttribute(t));if($.test(r.tagName)){const t=r.textContent.split(h),s=t.length-1;if(s>0){r.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)r.append(t[i],l()),C.nextNode(),d.push({type:2,index:++c});r.append(t[s],l())}}}else if(8===r.nodeType)if(r.data===o)d.push({type:2,index:c});else{let t=-1;for(;-1!==(t=r.data.indexOf(h,t+1));)d.push({type:7,index:c}),t+=h.length-1}c++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function S(t,i,s=t,e){if(i===T)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=c(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=S(t,h._$AS(t,i.values),h,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??r).importNode(i,!0);C.currentNode=e;let h=C.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){if(o===l.index){let i;2===l.type?i=new R(h,h.nextSibling,this,t):1===l.type?i=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(i=new z(h,this,t)),this._$AV.push(i),l=s[++n]}o!==l?.index&&(h=C.nextNode(),o++)}return C.currentNode=r,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class R{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),c(t)?t===E||null==t||\"\"===t?(this._$AH!==E&&this._$AR(),this._$AH=E):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==E&&c(this._$AH)?this._$AA.nextSibling.data=t:this.T(r.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=N.createElement(P(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new M(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t}}_$AC(t){let i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new N(t)),i}k(t){a(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new R(this.O(l()),this.O(l()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class k{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=E,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=E}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=S(this,t,i,0),o=!c(t)||t!==this._$AH&&t!==T,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=S(this,e[s+n],i,n),r===T&&(r=this._$AH[n]),o||=!c(r)||r!==this._$AH[n],r===E?t=E:t!==E&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.j(t)}j(t){t===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class H extends k{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===E?void 0:t}}class I extends k{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==E)}}class L extends k{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=S(this,t,i,0)??E)===T)return;const s=this._$AH,e=t===E&&s!==E||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==E&&(s===E||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const Z={M:e,P:h,A:o,C:1,L:V,R:M,D:u,V:S,I:R,H:k,N:I,U:L,B:H,F:z},j=t.litHtmlPolyfillSupport;j?.(N,R),(t.litHtmlVersions??=[]).push(\"3.3.1\");const B=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new R(i.insertBefore(l(),t),t,void 0,s??{})}return h._$AI(t),h};export{Z as _$LH,x as html,w as mathml,T as noChange,E as nothing,B as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","import {\n  createElement,\n  decorateIcons,\n  adjustPretitle,\n  isMobileOrTabletViewport,\n  isTabletOnlyViewport,\n  isMobileViewport,\n} from '../../scripts/common.js';\nimport { isVideoLink, createVideo, queryVideoEl, playMutedInline, pausePlayback } from '../../scripts/video-helper.js';\n\nconst blockName = 'v2-content-carousel';\nlet desktopCardsPerClick = 1;\n\n/**\n * Compute the index of the left-most slot (card) in a horizontal scroller.\n * Uses the first cards width plus the containers CSS gap.\n * @param {HTMLElement} container\n * @param {string} itemSelector - e.g. '.v2-content-carousel__media-item'\n * @returns {number}\n */\nconst getFirstSlotIndex = (container, itemSelector) => {\n  const items = container.querySelectorAll(itemSelector);\n  if (!items.length) {\n    return 0;\n  }\n\n  const firstItem = items[0];\n  const gap = parseFloat(getComputedStyle(container).gap) || 0;\n  const slotWidth = firstItem.offsetWidth + gap || container.scrollWidth / items.length || 1;\n  const rawIndex = Math.floor((container.scrollLeft + Number.EPSILON) / slotWidth);\n  const clampedIndex = Math.max(0, Math.min(items.length - 1, rawIndex));\n  return clampedIndex;\n};\n\n/**\n * Autoplay the video in the left-most slot on mobile/tablet; pause others.\n * @param {HTMLElement} container\n * @param {string} itemSelector\n * @param {string} videoItemClass - e.g. 'v2-content-carousel__media-item--video'\n */\nconst updateMobileOrTabletAutoplay = (container, itemSelector, videoItemClass) => {\n  const items = container.querySelectorAll(itemSelector);\n  if (!items.length) {\n    return;\n  }\n\n  const activeIndex = getFirstSlotIndex(container, itemSelector);\n\n  items.forEach((item, index) => {\n    if (!item.classList.contains(videoItemClass)) {\n      return;\n    }\n    const player = queryVideoEl(item);\n    if (!player) {\n      return;\n    }\n    if (index === activeIndex) {\n      playMutedInline(player);\n    } else {\n      pausePlayback(player);\n    }\n  });\n};\n\n/**\n * Bind desktop hover playback: play on pointer enter, pause on pointer leave.\n * Attaches listeners to items matching `${itemSelector}.${videoItemClass}`.\n * Returns a teardown function to remove the listeners, or `undefined` if no targets are found.\n *\n * @param {HTMLElement} root - Container to search within.\n * @param {string} itemSelector - Selector for carousel items (e.g., '.v2-content-carousel__media-item').\n * @param {string} videoItemClass - Modifier class indicating video items (e.g., 'v2-content-carousel__media-item--video').\n * @returns {(() => void) | undefined} Teardown function, or `undefined` when nothing was bound.\n */\nconst setupDesktopHover = (root, itemSelector, videoItemClass) => {\n  const items = root.querySelectorAll(`${itemSelector}.${videoItemClass}`);\n  if (!items.length) {\n    return;\n  }\n\n  const listeners = [];\n  items.forEach((item) => {\n    const player = queryVideoEl(item);\n    if (!player) {\n      return;\n    }\n    const onEnter = () => playMutedInline(player);\n    const onLeave = () => pausePlayback(player);\n    item.addEventListener('pointerenter', onEnter);\n    item.addEventListener('pointerleave', onLeave);\n    listeners.push({ item, onEnter, onLeave });\n  });\n\n  return () => {\n    listeners.forEach(({ item, onEnter, onLeave }) => {\n      item.removeEventListener('pointerenter', onEnter);\n      item.removeEventListener('pointerleave', onLeave);\n    });\n  };\n};\n\n/**\n * Observe container visibility and invoke handlers.\n * Uses IntersectionObserver; \"visible\" means intersecting with\n * intersectionRatio >= `threshold`. You can offset for a sticky header\n * via `rootMargin` (e.g., '-52px 0px 0px 0px').\n *\n * @param {HTMLElement} container - Element to observe.\n * @param {() => void} onVisible - Called when container is considered visible.\n * @param {() => void} onHidden  - Called when container is considered hidden.\n * @param {{ threshold?: number, rootMargin?: string }} [opts] - Observer options.\n * @param {number}  [opts.threshold=0.25] - Visibility ratio (01) to treat as visible.\n * @param {string}  [opts.rootMargin='0px'] - Root margin in CSS shorthand.\n * @returns {(() => void) | undefined} Teardown function to disconnect, or `undefined`\n * if IntersectionObserver is unavailable or container is falsy.\n */\nconst setupViewportGate = (container, onVisible, onHidden, { threshold = 0.25, rootMargin = '0px' } = {}) => {\n  if (!container || typeof IntersectionObserver === 'undefined') {\n    return;\n  }\n\n  const observer = new IntersectionObserver(\n    ([entry]) => {\n      const visible = entry.isIntersecting && entry.intersectionRatio >= threshold;\n      (visible ? onVisible : onHidden)();\n    },\n    { threshold: [0, threshold, 1], rootMargin },\n  );\n\n  observer.observe(container);\n  return () => observer.disconnect();\n};\n\n/**\n * Get the height (in pixels) of the first element matching `selector`.\n * Useful to compute a negative top rootMargin for a sticky header.\n *\n * @param {string} [selector='header'] - CSS selector for the header element.\n * @returns {number} Pixel height, or 0 if not found.\n */\nconst getHeaderHeight = (selector = 'header') => document.querySelector(selector)?.getBoundingClientRect().height || 0;\n\n/**\n * Pause all videos in a container.\n * @param {HTMLElement} container\n * @param {string} itemSelector\n */\nconst pauseAllInContainer = (container, itemSelector) => {\n  container.querySelectorAll(itemSelector).forEach((item) => {\n    const player = queryVideoEl(item);\n    if (player) {\n      pausePlayback(player);\n    }\n  });\n};\n\n/**\n * Mobile/Tablet setup:\n * - Mobile (744px): only the left-most fully visible video plays (others pause).\n * - Tablet (7681199px): all video items that are at least `TABLET_VISIBLE` visible play (others pause).\n * Visibility is gated by the container being on-screen, adjusted for a sticky header via rootMargin.\n *\n * @param {HTMLElement} container - The horizontal scroller element.\n * @param {string} itemSelector - Selector for each carousel item.\n * @param {string} videoItemClass - Class indicating items that contain a video.\n * @returns {() => void} Teardown function.\n */\nconst setupMobileOrTabletAutoplay = (container, itemSelector, videoItemClass) => {\n  const FULLY_VISIBLE = 0.98;\n  const TABLET_VISIBLE = 0.5;\n  const headerOffset = getHeaderHeight();\n\n  let containerVisible = false;\n  let activeObserver = null; // mobile: observe the active item\n  let multiObserver = null; // tablet: observe all video items\n\n  const disconnectActive = () => {\n    activeObserver?.disconnect();\n    activeObserver = null;\n  };\n\n  const disconnectMulti = () => {\n    multiObserver?.disconnect();\n    multiObserver = null;\n  };\n\n  const onVisible = () => {\n    containerVisible = true;\n\n    if (isTabletOnlyViewport()) {\n      disconnectActive();\n\n      if (!multiObserver) {\n        multiObserver = new IntersectionObserver(\n          (entries) => {\n            if (!containerVisible) {\n              return;\n            }\n            entries.forEach(({ target, isIntersecting, intersectionRatio }) => {\n              const player = queryVideoEl(target);\n              if (!player) {\n                return;\n              }\n              if (isIntersecting && intersectionRatio >= TABLET_VISIBLE) {\n                playMutedInline(player);\n              } else {\n                pausePlayback(player);\n              }\n            });\n          },\n          { threshold: [0, TABLET_VISIBLE], rootMargin: `-${headerOffset}px 0px 0px 0px` },\n        );\n      }\n\n      const items = container.querySelectorAll(`${itemSelector}.${videoItemClass}`);\n      items.forEach((item) => multiObserver.observe(item));\n    } else {\n      // mobile mode (left-most only)\n      disconnectMulti();\n      updateMobileOrTabletAutoplay(container, itemSelector, videoItemClass);\n\n      const items = container.querySelectorAll(itemSelector);\n      if (!items.length) {\n        return;\n      }\n\n      const activeIndex = getFirstSlotIndex(container, itemSelector);\n      const activeItem = items[activeIndex];\n\n      disconnectActive();\n      activeObserver = new IntersectionObserver(\n        ([entry]) => {\n          if (!containerVisible) {\n            return;\n          }\n          if (entry.isIntersecting && entry.intersectionRatio >= FULLY_VISIBLE) {\n            updateMobileOrTabletAutoplay(container, itemSelector, videoItemClass);\n          } else {\n            const player = queryVideoEl(activeItem);\n            if (player) {\n              pausePlayback(player);\n            }\n          }\n        },\n        { threshold: [FULLY_VISIBLE, 1], rootMargin: `-${headerOffset}px 0px 0px 0px` },\n      );\n      activeObserver.observe(activeItem);\n    }\n  };\n\n  const onHidden = () => {\n    containerVisible = false;\n    disconnectActive();\n    disconnectMulti();\n    pauseAllInContainer(container, `${itemSelector}.${videoItemClass}`);\n  };\n\n  const teardownIO = setupViewportGate(container, onVisible, onHidden, {\n    threshold: 0,\n    rootMargin: `-${headerOffset}px 0px 0px 0px`,\n  });\n\n  const refresh = () => {\n    if (!containerVisible) {\n      return;\n    }\n    onVisible();\n  };\n\n  onVisible();\n  container.addEventListener('scroll', refresh, { passive: true });\n  window.addEventListener('resize', refresh);\n\n  return () => {\n    teardownIO?.();\n    disconnectActive();\n    disconnectMulti();\n    container.removeEventListener('scroll', refresh);\n    window.removeEventListener('resize', refresh);\n    onHidden();\n  };\n};\n\n/**\n * Responsive wrapper: bind desktop or mobile behavior and rebind on breakpoint change.\n * Returns teardown.\n * @param {HTMLElement} blockRoot\n * @param {HTMLElement} container\n * @param {string} itemSelector\n * @param {string} videoItemClass\n * @returns {() => void}\n */\nconst setupResponsivePlayback = (blockRoot, container, itemSelector, videoItemClass) => {\n  const computeMode = () => (isMobileOrTabletViewport() ? 'mobileOrTablet' : 'desktop');\n\n  let mode = computeMode();\n  let unbind =\n    mode === 'mobileOrTablet'\n      ? setupMobileOrTabletAutoplay(container, itemSelector, videoItemClass)\n      : setupDesktopHover(blockRoot, itemSelector, videoItemClass);\n\n  const onResize = () => {\n    const nextMode = computeMode();\n    if (nextMode !== mode) {\n      unbind?.();\n      unbind =\n        nextMode === 'mobileOrTablet'\n          ? setupMobileOrTabletAutoplay(container, itemSelector, videoItemClass)\n          : setupDesktopHover(blockRoot, itemSelector, videoItemClass);\n      mode = nextMode;\n    } else if (isMobileViewport()) {\n      updateMobileOrTabletAutoplay(container, itemSelector, videoItemClass);\n    }\n  };\n\n  window.addEventListener('resize', onResize);\n\n  return () => {\n    window.removeEventListener('resize', onResize);\n    unbind?.();\n  };\n};\n\nfunction numberCardsToNavigate() {\n  const isMobileOrTablet = isMobileOrTabletViewport();\n\n  if (isMobileOrTablet) {\n    return 1;\n  }\n\n  return desktopCardsPerClick;\n}\n\nconst navigate = (carousel, direction) => {\n  const isMobileOrTablet = isMobileOrTabletViewport();\n  let numberCardsToNavigatePerClick = numberCardsToNavigate();\n\n  if (isMobileOrTablet) {\n    numberCardsToNavigatePerClick = 1;\n  } else {\n    const isInteractive = carousel.closest(`.${blockName}`)?.classList.contains('interactive');\n    numberCardsToNavigatePerClick = isInteractive ? 2 : 1;\n  }\n\n  const scrollContainer = carousel;\n  let newScrollLeft = scrollContainer.scrollLeft;\n  const numberItems = carousel.querySelectorAll(`.${blockName}__media-item`)?.length || 1;\n  const scrollContainerScrollWidth = scrollContainer.scrollWidth;\n  const itemWidth = scrollContainerScrollWidth / numberItems;\n  const style = window.getComputedStyle(scrollContainer);\n  const gap = parseFloat(style.gap) || 0;\n  const paddingLeft = parseFloat(style.paddingLeft);\n  const marginLeft = parseFloat(style.marginLeft);\n\n  if (isMobileOrTablet) {\n    const isInteractiveVariant = carousel.closest(`.${blockName}`)?.classList.contains('interactive');\n    const atStart = newScrollLeft <= paddingLeft + marginLeft + gap;\n    const atEnd = scrollContainer.clientWidth + scrollContainer.scrollLeft >= scrollContainerScrollWidth;\n\n    if (isInteractiveVariant) {\n      // logic to loop the carousel (interactive only)\n      if (direction === 'left') {\n        if (atStart) {\n          newScrollLeft = scrollContainerScrollWidth;\n        } else {\n          newScrollLeft = scrollContainer.scrollLeft - itemWidth * numberCardsToNavigatePerClick;\n        }\n      } else {\n        if (atEnd) {\n          newScrollLeft = 0;\n        } else {\n          newScrollLeft = scrollContainer.scrollLeft + itemWidth * numberCardsToNavigatePerClick;\n        }\n      }\n    } else {\n      // default variant on mobile: clamp + update arrows\n      if (direction === 'left') {\n        newScrollLeft = atStart ? scrollContainer.scrollLeft : scrollContainer.scrollLeft - itemWidth * numberCardsToNavigatePerClick;\n      } else {\n        newScrollLeft = atEnd ? scrollContainer.scrollLeft : scrollContainer.scrollLeft + itemWidth * numberCardsToNavigatePerClick;\n      }\n\n      if (scrollContainer.clientWidth + newScrollLeft >= scrollContainerScrollWidth) {\n        carousel.nextElementSibling?.querySelector(`button.${blockName}__button-next`)?.setAttribute('disabled', 'true');\n      } else {\n        carousel.nextElementSibling?.querySelector(`button.${blockName}__button-next`)?.removeAttribute('disabled');\n      }\n\n      if (newScrollLeft <= paddingLeft + marginLeft + gap) {\n        carousel.nextElementSibling?.querySelector(`button.${blockName}__button-prev`)?.setAttribute('disabled', 'true');\n      } else {\n        carousel.nextElementSibling?.querySelector(`button.${blockName}__button-prev`)?.removeAttribute('disabled');\n      }\n    }\n  } else {\n    if (direction === 'left') {\n      newScrollLeft = scrollContainer.scrollLeft - itemWidth * numberCardsToNavigatePerClick;\n    } else {\n      newScrollLeft = scrollContainer.scrollLeft + itemWidth * numberCardsToNavigatePerClick;\n    }\n\n    if (scrollContainer.clientWidth + newScrollLeft >= scrollContainerScrollWidth) {\n      // disable next button\n      carousel.nextElementSibling?.querySelector(`button.${blockName}__button-next`)?.setAttribute('disabled', 'true');\n    } else {\n      carousel.nextElementSibling?.querySelector(`button.${blockName}__button-next`)?.removeAttribute('disabled');\n    }\n\n    if (newScrollLeft <= paddingLeft + marginLeft + gap) {\n      // disable prev button\n      carousel.nextElementSibling?.querySelector(`button.${blockName}__button-prev`)?.setAttribute('disabled', 'true');\n    } else {\n      carousel.nextElementSibling?.querySelector(`button.${blockName}__button-prev`)?.removeAttribute('disabled');\n    }\n  }\n\n  scrollContainer.scrollLeft = newScrollLeft;\n  if (isMobileViewport()) {\n    updateMobileOrTabletAutoplay(scrollContainer, `.${blockName}__media-item`, `${blockName}__media-item--video`);\n  }\n};\n\nconst createArrowControls = (carousel, isInteractive) => {\n  const isMobileOrTablet = isMobileOrTabletViewport();\n  const arrowControls = createElement('ul', { classes: [`${blockName}__arrowcontrols`] });\n  const arrows = document.createRange().createContextualFragment(`\n    <li>\n      <button aria-label=\"Previous\" class=\"${blockName}__button ${blockName}__button-prev\">\n        <span class=\"icon icon-arrow-left\" aria-hidden=\"true\" />\n      </button>\n    </li>\n    <li>\n      <button aria-label=\"Next\" class=\"${blockName}__button ${blockName}__button-next\">\n        <span class=\"icon icon-arrow-right\" aria-hidden=\"true\" />\n      </button>\n    </li>\n  `);\n  arrowControls.append(...arrows.children);\n  decorateIcons(arrowControls);\n  carousel.insertAdjacentElement('afterend', arrowControls);\n\n  const [prevButton, nextButton] = arrowControls.querySelectorAll(':scope button');\n  prevButton.addEventListener('click', () => navigate(carousel, 'left'));\n  nextButton.addEventListener('click', () => navigate(carousel, 'right'));\n\n  if (!isMobileOrTablet || (isMobileOrTablet && !isInteractive)) {\n    // disable prev button on load\n    prevButton.setAttribute('disabled', 'true');\n  }\n\n  return arrowControls;\n};\n\n/**\n * Collect caption nodes from a figure (after its picture), excluding given nodes.\n *\n * @param {HTMLElement} figureEl\n * @param {HTMLPictureElement|null} pictureEl\n * @param {Node[]} [exclude=[]]\n * @returns {DocumentFragment}\n */\nconst collectCaption = (figureEl, pictureEl, exclude = []) => {\n  const frag = document.createDocumentFragment();\n  const omit = new Set(exclude.filter(Boolean));\n  let node = pictureEl ? pictureEl.nextSibling : figureEl.firstChild;\n\n  while (node) {\n    const next = node.nextSibling;\n    if (!omit.has(node) && !(node.nodeType === Node.TEXT_NODE && !node.nodeValue.trim())) {\n      frag.appendChild(node);\n    }\n    node = next;\n  }\n  return frag;\n};\n\n/**\n * Mounts a video player into the carousel item and appends any remaining caption content.\n * Replaces the video link with the created player (or inserts player at the top of the figure).\n *\n * @param {HTMLElement} el - The <li> media item element.\n * @param {HTMLElement} figure - The <figure> wrapper inside the media item.\n * @param {HTMLPictureElement | null} picture - The poster <picture> (if available).\n * @param {HTMLElement} figCaption - The <figcaption> element to receive caption content.\n * @param {HTMLAnchorElement} videoLink - The anchor element pointing to the video URL.\n * @returns {void}\n */\nconst mountVideoItem = (el, figure, picture, figCaption, videoLink) => {\n  el.classList.add(`${blockName}__media-item--video`);\n  const captionFragment = collectCaption(figure, picture, [videoLink, picture]);\n  const player = createVideo(videoLink, `${blockName}__video`, { controls: false, playsinline: true, muted: true, autoplay: false, loop: true });\n\n  if (videoLink.parentElement) {\n    videoLink.replaceWith(player);\n  } else {\n    figure.insertBefore(player, figure.firstChild);\n  }\n\n  if (captionFragment.hasChildNodes()) {\n    figCaption.appendChild(captionFragment);\n    figure.appendChild(figCaption);\n  }\n};\n\n/**\n * Marks the media item as an image variant and appends the caption content (if any).\n *\n * @param {HTMLElement} el - The <li> media item element.\n * @param {HTMLElement} figure - The <figure> wrapper inside the media item.\n * @param {HTMLPictureElement | null} picture - The <picture> element to exclude from caption collection.\n * @param {HTMLElement} figCaption - The <figcaption> element to receive caption content.\n * @returns {void}\n */\nconst mountImageItem = (el, figure, picture, figCaption) => {\n  el.classList.add(`${blockName}__media-item--image`);\n  if (!picture) {\n    return;\n  }\n\n  const captionFragment = collectCaption(figure, picture, [picture]);\n  if (captionFragment.hasChildNodes()) {\n    figCaption.appendChild(captionFragment);\n    figure.appendChild(figCaption);\n  }\n};\n\n/**\n * Sync prev/next button disabled state based on current scroll position.\n * Keeps both enabled on mobile/tablet for the interactive (looping) variant.\n * @param {HTMLElement} carousel\n */\nconst syncArrowButtons = (carousel) => {\n  const isMobileOrTablet = isMobileOrTabletViewport();\n  const isInteractive = carousel.closest(`.${blockName}`)?.classList.contains('interactive');\n  const controls = carousel.nextElementSibling;\n  if (!controls) {\n    return;\n  }\n\n  const prevBtn = controls.querySelector(`button.${blockName}__button-prev`);\n  const nextBtn = controls.querySelector(`button.${blockName}__button-next`);\n  if (!prevBtn || !nextBtn) {\n    return;\n  }\n\n  if (isMobileOrTablet && isInteractive) {\n    prevBtn.removeAttribute('disabled');\n    nextBtn.removeAttribute('disabled');\n    return;\n  }\n\n  const EPS = 1; // guard for sub-pixel rounding\n  const style = window.getComputedStyle(carousel);\n  const gap = parseFloat(style.gap) || 0;\n  const paddingLeft = parseFloat(style.paddingLeft) || 0;\n  const marginLeft = parseFloat(style.marginLeft) || 0;\n\n  const atStart = carousel.scrollLeft <= paddingLeft + marginLeft + gap + EPS;\n  const atEnd = carousel.clientWidth + carousel.scrollLeft >= carousel.scrollWidth - EPS;\n\n  if (atStart) {\n    prevBtn.setAttribute('disabled', 'true');\n  } else {\n    prevBtn.removeAttribute('disabled');\n  }\n  if (atEnd) {\n    nextBtn.setAttribute('disabled', 'true');\n  } else {\n    nextBtn.removeAttribute('disabled');\n  }\n};\n\nexport default async function decorate(block) {\n  const rows = [...block.querySelectorAll(':scope > div')];\n  const isInteractive = block.classList.contains('interactive');\n  desktopCardsPerClick = isInteractive ? 2 : 1;\n\n  rows.forEach((row) => {\n    row.classList.add(`${blockName}__row`);\n  });\n\n  const cols = [...block.querySelectorAll(':scope > div > div')];\n  cols.forEach((col) => {\n    col.classList.add(`${blockName}__col`);\n    adjustPretitle(col);\n  });\n\n  const list = block.querySelector(':scope ul');\n  const mediaCol = list.closest(`.${blockName}__col`);\n  mediaCol?.classList.add(`${blockName}__media-col`);\n  mediaCol?.previousElementSibling?.classList.add(`${blockName}__text-col`);\n  list.classList.add(`${blockName}__media-list`);\n\n  [...list.querySelectorAll(':scope > li')].forEach(async (el) => {\n    const link = el.querySelector('a[href]');\n    const videoLink = link && isVideoLink(link) ? link : null;\n\n    el.classList.add(`${blockName}__media-item`);\n\n    const figure = createElement('figure', { classes: `${blockName}__figure` });\n    const figCaption = createElement('figcaption', { classes: `${blockName}__figure-text` });\n    const fragment = document.createDocumentFragment();\n\n    while (el.firstChild) {\n      fragment.appendChild(el.firstChild);\n    }\n\n    figure.appendChild(fragment);\n    el.appendChild(figure);\n\n    const picture = figure.querySelector('picture');\n\n    if (videoLink) {\n      mountVideoItem(el, figure, picture, figCaption, videoLink);\n    } else {\n      mountImageItem(el, figure, picture, figCaption);\n    }\n\n    if (isInteractive) {\n      const modalLink = figCaption.querySelector('a');\n      modalLink && el.appendChild(modalLink);\n    }\n  });\n\n  [...mediaCol.querySelectorAll('ul > li img')].forEach((img) => {\n    img.classList.add(`${blockName}__image`);\n  });\n\n  block.querySelectorAll('h1, h2, h3, h4, h5, h6').forEach((el) => el.classList.add(`${blockName}__heading`));\n\n  block.querySelectorAll('p').forEach((el) => {\n    el.classList.add(`${blockName}__text`);\n  });\n\n  const carousel = mediaCol.querySelector(`.${blockName}__media-list`);\n  createArrowControls(carousel, isInteractive);\n  syncArrowButtons(carousel);\n  carousel.addEventListener('scroll', () => syncArrowButtons(carousel), { passive: true });\n  window.addEventListener('resize', () => syncArrowButtons(carousel));\n  const itemSel = `.${blockName}__media-item`;\n  const videoModClass = `${blockName}__media-item--video`;\n  setupResponsivePlayback(block, carousel, itemSel, videoModClass);\n}\n","import { readBlockConfig, getMetadata } from '../../scripts/aem.js';\nimport { createElement, decorateIcons, getLanguagePath, getTextLabel } from '../../scripts/common.js';\n\nfunction addScrollToTopButton(mainEl) {\n  const scrollToTopButton = document.createRange().createContextualFragment(`\n    <div class=\"scroll-to-top-container\">\n      <a href=\"#\" class=\"scroll-to-top\" title=${getTextLabel('footer:go_to_top')}>\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M11.9999 20C11.7237 20 11.4999 19.7761 11.4999 19.5L11.4999 5.70711L6.35341 10.8536C6.15815 11.0488 5.84157 11.0488 5.6463 10.8536C5.45104 10.6583 5.45104 10.3417 5.6463 10.1464L11.6463 4.14645C11.8416 3.95119 12.1581 3.95118 12.3534 4.14644L18.3535 10.1464C18.5488 10.3417 18.5488 10.6583 18.3536 10.8535C18.1583 11.0488 17.8417 11.0488 17.6465 10.8536L12.4999 5.70709L12.4999 19.5C12.4999 19.7761 12.276 20 11.9999 20Z\" fill=\"currentColor\"/>\n        </svg>\n      </a>\n    </div>\n  `);\n  mainEl.append(scrollToTopButton);\n}\n\n/**\n * loads and decorates the footer\n * @param {Element} block The header block element\n */\nexport default async function decorate(block) {\n  const cfg = readBlockConfig(block);\n  block.textContent = '';\n  let footerPath = cfg.footer || `${getLanguagePath()}footer`;\n  const isCustomFooter = getMetadata('custom-footer');\n  if (isCustomFooter) {\n    footerPath = cfg.footer || `${getLanguagePath()}${isCustomFooter}`;\n  }\n\n  const resp = await fetch(`${footerPath}.plain.html`);\n  const html = await resp.text();\n  const footer = createElement('div', { classes: 'footer-container' });\n  footer.innerHTML = html.replaceAll('{year}', new Date().getFullYear());\n\n  // for custom footer we don't need the external link section,\n  // so check if columns block exist\n  const columnsWrapper = footer.querySelector('.columns');\n  let footerBar = footer.children[1];\n  let footerCopyright = footer.children[2];\n  let mainLinkWrapper;\n\n  const headings = footer.querySelectorAll('h1, h2, h3, h4, h5, h6');\n  [...headings].forEach((heading) => heading.classList.add('footer__title'));\n\n  openExternalLinksInNewTab(footer);\n\n  if (columnsWrapper) {\n    mainLinkWrapper = columnsWrapper.parentElement;\n    wrapSocialMediaLinks(mainLinkWrapper);\n    mainLinkWrapper.classList.add('footer-links-wrapper');\n    // in Word, it is edited like a column block, but we style it differently\n    mainLinkWrapper.firstElementChild.classList.remove('columns');\n    mainLinkWrapper.querySelectorAll('.footer__title').forEach((title) => {\n      const heading = title.firstElementChild;\n      const [text, icon] = heading.childNodes;\n      const spanEle = createElement('span');\n      spanEle.textContent = text.textContent;\n\n      title.append(spanEle);\n      title.append(icon);\n      heading.remove();\n\n      title.parentElement.classList.add('footer-list');\n      title.parentElement.parentElement.classList.add('footer-list-wrapper');\n      title.nextElementSibling?.classList.add('footer-list-item');\n\n      title.addEventListener('click', (e) => toggleExpand(e.currentTarget));\n    });\n  } else {\n    [footerBar, footerCopyright] = footer.children;\n  }\n\n  const copyrightWrapper = createElement('div', { classes: 'footer-copyright-wrapper' });\n  const copyrightContainer = createElement('div', { classes: 'footer-copyright-container' });\n\n  copyrightWrapper.append(copyrightContainer);\n\n  if (footerBar) {\n    const list = footerBar.firstElementChild;\n    list?.classList.add('footer-bar');\n    copyrightContainer.appendChild(list);\n    footerBar.remove();\n  }\n\n  if (footerCopyright) {\n    copyrightContainer.appendChild(footerCopyright);\n    footerCopyright?.classList.add('footer-copyright');\n  }\n\n  footer.appendChild(copyrightWrapper);\n  await decorateIcons(footer);\n  block.append(footer);\n  addScrollToTopButton(block);\n}\n\nfunction wrapSocialMediaLinks(footer) {\n  footer.querySelectorAll('.icon-newtab').forEach((icon) => {\n    const textIconWrapper = createElement('span', { classes: 'footer-text-icon-wrapper' });\n    const anchor = icon.parentElement;\n    textIconWrapper.append(icon.previousSibling);\n    textIconWrapper.append(icon);\n    anchor.append(textIconWrapper);\n  });\n}\n\nfunction openExternalLinksInNewTab(footer) {\n  footer.querySelectorAll('a').forEach((anchor) => {\n    try {\n      const { origin } = new URL(anchor.href, window.location.href);\n      if (origin && origin !== window.location.origin) {\n        anchor.setAttribute('target', '_blank');\n      }\n    } catch (e) {\n      console.warn(`Invalid link ${anchor.href}: ${e}`);\n    }\n  });\n}\n\nfunction findList(headingElement) {\n  let nextElement = headingElement.nextElementSibling;\n  while (nextElement && !nextElement.classList.contains('footer-list-item')) {\n    nextElement = nextElement.nextElementSibling;\n  }\n  return nextElement;\n}\n\nfunction toggleExpand(headingElement) {\n  const isExpanded = headingElement.classList.contains('expand');\n  const wrapper = headingElement.closest('.footer-list-wrapper');\n  const columns = wrapper.querySelectorAll('.footer-list');\n\n  const content = findList(headingElement);\n\n  columns.forEach((column) => {\n    const headingElements = column.querySelectorAll('.footer__title');\n    headingElements.forEach((heading) => {\n      const columnContent = findList(heading);\n      if (heading === headingElement && !isExpanded) {\n        heading.classList.add('expand');\n        content.style.maxHeight = `${content.scrollHeight}px`;\n      } else if (heading === headingElement && isExpanded) {\n        heading.classList.remove('expand');\n        content.style.maxHeight = null;\n      } else {\n        heading.classList.remove('expand');\n        columnContent.style.maxHeight = null;\n      }\n    });\n  });\n}\n","import { createOptimizedPicture } from '../../scripts/aem.js';\nimport { adjustPretitle, createElement, removeEmptyTags, variantsClassesToBEM } from '../../scripts/common.js';\nimport { createVideo, getDynamicVideoHeight, isVideoLink } from '../../scripts/video-helper.js';\n\nconst blockName = 'v2-content-card';\nconst variantClasses = ['images-grid', 'images-grid-masonry', 'editorial', 'with-button', 'centered'];\n\nconst handleVideoLinks = (videoLinks) => {\n  videoLinks.forEach((videoLink) => {\n    const article = videoLink.closest('article');\n\n    requestAnimationFrame(() => {\n      const videoElement = createVideo(videoLink.getAttribute('href'), `${blockName}__media`, {\n        muted: true,\n        autoplay: true,\n        loop: true,\n        playsinline: true,\n      });\n\n      article.prepend(videoElement);\n      videoLink.parentElement.remove();\n      getDynamicVideoHeight(videoElement);\n    });\n  });\n};\n\nexport default async function decorate(block) {\n  // add Hero variant classnames\n  variantsClassesToBEM(block.classList, variantClasses, blockName);\n\n  // replace <div> with <ul> to maintain DOM tree depth\n  const ul = createElement('ul', { classes: block.classList });\n  block.replaceWith(ul);\n\n  [...block.querySelectorAll(':scope > div > div')].forEach((cell) => {\n    // If cell contain any element, we add them in the ul\n    if (cell.childElementCount) {\n      const li = createElement('li', { classes: [`${blockName}__item`] });\n      li.append(...cell.childNodes);\n      ul.append(li);\n    }\n    cell.remove();\n  });\n\n  // give format to the list items\n  [...ul.children].forEach(async (li) => {\n    const section = createElement('article');\n    const headings = li.querySelectorAll('h1, h2, h3, h4, h5, h6');\n    let picture = li.querySelector('picture');\n\n    [...headings].forEach((heading) => heading.classList.add(`${blockName}__title`));\n    adjustPretitle(li);\n\n    if (picture) {\n      const img = picture.lastElementChild;\n      const newPicture = createOptimizedPicture(img.src, img.alt, false);\n      picture.replaceWith(newPicture);\n      picture = newPicture;\n      picture.querySelector('img').classList.add(`${blockName}__media`);\n      section.prepend(picture);\n    }\n\n    const container = createElement('div', { classes: `${blockName}__content` });\n    container.innerHTML = li.innerHTML;\n    li.innerHTML = '';\n    section.append(container);\n    li.append(section);\n  });\n\n  const videoLinks = [...ul.querySelectorAll('a')].filter(isVideoLink);\n\n  if (videoLinks.length > 0) {\n    handleVideoLinks(videoLinks);\n  }\n\n  // remove empty tags\n  removeEmptyTags(ul);\n}\n","import {\n  debounce,\n  decorateIcons,\n  getPlaceholders,\n  getTextLabel,\n  getLocale,\n  variantsClassesToBEM,\n  getLanguagePath,\n  MAGAZINE_CONFIGS,\n} from '../../scripts/common.js';\nimport { topicSearchQuery, fetchSearchData, TENANT } from '../../scripts/search-api.js';\nimport { fetchAutosuggest, handleArrowDown, handleArrowUp } from '../search/autosuggest.js';\n\nconst blockName = 'v2-article-search';\nconst filterContainerClass = `${blockName}__filter-container`;\nconst dropdownClass = `${blockName}__filter-dropdown`;\nconst dropdownOpen = `${blockName}__filter-dropdown--open`;\nconst filterListOpen = `${blockName}__filter-list-wrapper--open`;\nconst searchInputExpanded = `${blockName}__search-input--expanded`;\nconst blockVariants = ['black', 'gray'];\n\nawait getPlaceholders();\nconst filterDefault = getTextLabel('v2_article_search:default_filter');\nconst searchPlaceholder = getTextLabel('v2_article_search:search_placeholder');\nconst clearPlaceholder = getTextLabel('v2_article_search:clear');\n\nconst locale = getLocale();\nconst language = locale.split('-')[0].toUpperCase();\nconst languagePath = getLanguagePath();\nconst currentURL = new URL(window.location.href);\nconst { MAGAZINE_PATH } = MAGAZINE_CONFIGS;\nconst magazinePath = `${languagePath}${MAGAZINE_PATH}`;\nconst magazineParam = '?search=&category=&topic=&truck=';\ncurrentURL.pathname = magazinePath;\ncurrentURL.search = magazineParam;\n\nconst getTopics = async (props = {}) => {\n  const { limit = 1, offset = 0, article = {} } = props;\n  const variables = {\n    tenant: TENANT,\n    language,\n    limit,\n    offset,\n    category: 'Magazine',\n    article,\n    sort: 'BEST_MATCH',\n    facets: ['ARTICLE', 'TOPIC', 'TRUCK'],\n  };\n\n  try {\n    if (!TENANT) {\n      throw new Error('TENANT not defined');\n    }\n\n    const rawData = await fetchSearchData({\n      query: topicSearchQuery(),\n      variables,\n    });\n\n    const querySuccess = rawData && rawData.data && rawData.data.edsrecommend;\n\n    if (!querySuccess) {\n      return [];\n    }\n\n    const [trucks, topics, articles] = querySuccess.facets;\n    return [\n      ...new Set(trucks.items.map((item) => ({ key: 'truck', value: item.value.trim() }))),\n      ...new Set(topics.items.map((item) => ({ key: 'topic', value: item.value.trim() }))),\n      ...new Set(articles.items.map((item) => ({ key: 'category', value: item.value.trim() }))),\n    ].sort((a, b) => a.value.localeCompare(b.value));\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    throw error;\n  }\n};\n\nconst buildFilterElement = () =>\n  document.createRange().createContextualFragment(`\n  <div class=\"${blockName}__filter-container\">\n    <form class=\"${blockName}__filter\">\n      <fieldset class=\"${blockName}__fieldset\">\n        <div class=\"${blockName}__filter-dropdown\">\n          ${filterDefault} <span class=\"${blockName}__filter-dropdown-icon\">\n            <span class=\"icon icon-chevron-down\"></span>\n          </span>\n        </div>\n        <div class=\"${blockName}__filter-input\">\n          <div id=\"autosuggest-magazine\"  aria-expanded=\"false\" class=\"${blockName}__input-container\">\n            <span class=\"icon icon-search-icon\"></span>\n            <input aria-haspopup=\"listbox\" autocomplete=\"off\" aria-autocomplete=\"list\" \n              aria-controls=\"autosuggest-autosuggest__results\" type=\"text\" id=\"search\"\n              name=\"search\" placeholder=\"${searchPlaceholder}\" />\n            <label for=\"search\" class=\"${blockName}__input-label\">${searchPlaceholder}</label>\n            <button type=\"button\" class=\"${blockName}__clear-button\" aria-label=\"${clearPlaceholder}\">${clearPlaceholder}</button>\n            <span class=\"icon icon-close\"></span>\n          </div>\n          <div id=\"autosuggest-autosuggest__results\" class=\"autosuggest__results-container\">\n            <div aria-labelledby=\"autosuggest-magazine\" class=\"autosuggest__results\"> \n              <ul role=\"listbox\"></ul>\n            </div>\n          </div>\n        </div>\n      </fieldset>\n    </form>\n    <div class=\"${blockName}__filter-list-wrapper\"></div>\n  </div>\n`);\n\nconst buildBulletList = (allTopics) =>\n  allTopics\n    .map((item) => {\n      const param = item.value.replace(/\\s/g, '-');\n      currentURL.search = magazineParam;\n      currentURL.searchParams.set(item.key, param);\n      return `<li class=\"${blockName}__filter-item\">\n    <a href=\"${currentURL.href.replace('#', '')}\"\n      class=\"${blockName}__filter-link\">${item.value}</a>\n  </li>`;\n    })\n    .join('');\n\nconst buildFilterList = async () => {\n  const allTopics = await getTopics();\n  return document.createRange().createContextualFragment(`\n    <ul class=\"${blockName}__filter-list\">\n      ${buildBulletList(allTopics)}\n    </ul>\n  `);\n};\n\nconst addDropdownHandler = (filter) => {\n  filter.addEventListener('click', (e) => {\n    const dropdown = e.target.tagName === 'svg' ? e.target.closest(`.${dropdownClass}`) : e.target;\n    const filterContainer = dropdown.closest(`.${filterContainerClass}`);\n    const filterList = filterContainer.querySelector(`.${blockName}__filter-list-wrapper`);\n    dropdown.classList.toggle(dropdownOpen);\n    filterList.classList.toggle(filterListOpen);\n  });\n};\n\n/**\n * Adds an event handler to the close icon to collapse the search container\n * and filter list when clicked, hiding the clear button as well.\n *\n * @param {HTMLElement} closeIcon - The close icon element that triggers the collapse.\n */\nconst addCloseHandler = (closeIcon) => {\n  closeIcon.addEventListener('click', (e) => {\n    e.stopPropagation();\n    const filterContainer = e.target.closest(`.${filterContainerClass}`);\n    const filterListWrapper = filterContainer.querySelector(`.${blockName}__filter-list-wrapper`);\n    const dropdown = filterContainer.querySelector(`.${dropdownClass}`);\n    const searchContainer = filterContainer.closest(`.${blockName}__filter-container`);\n\n    if (filterListWrapper && filterListWrapper.classList.contains(filterListOpen)) {\n      filterListWrapper.classList.remove(filterListOpen);\n      dropdown.classList.remove(dropdownOpen);\n    }\n\n    if (searchContainer) {\n      const searchInput = searchContainer.querySelector('input[type=\"text\"]');\n      const clearButton = searchContainer.querySelector(`.${blockName}__clear-button`);\n      searchContainer.classList.remove(searchInputExpanded);\n      searchInput.value = '';\n      clearButton.classList.remove('active');\n    }\n  });\n};\n\n/**\n * Initializes the search input handlers, including expand/collapse behavior,\n * input clearing, and the clear button visibility toggle.\n * @param {HTMLElement} searchContainer - The main container element that wraps the search input.\n */\nconst initializeSearchHandlers = (searchContainer) => {\n  const searchInputWrapper = searchContainer.querySelector(`.${blockName}__filter-input`);\n  const searchInput = searchContainer.querySelector('input[type=\"text\"]');\n  const clearButton = searchContainer.querySelector(`.${blockName}__clear-button`);\n  const formElement = searchContainer.querySelector('form');\n  const listEl = searchContainer.querySelector('.autosuggest__results-container ul');\n  const input = document.getElementById('search');\n\n  const toggleClearButton = () => {\n    clearButton.classList.toggle('active', !!searchInput.value);\n  };\n\n  let liSelected;\n  let next;\n  let index = -1;\n  const MAX_SUGGESTIONS = 6;\n\n  const delayFetchData = debounce((term) =>\n    fetchAutosuggest(\n      term,\n      listEl,\n      {\n        tag: 'li',\n        class: 'autosuggest__results-item',\n        props: {\n          role: 'option',\n          'data-section-name': 'default',\n        },\n      },\n      searchArticles,\n      true,\n      MAX_SUGGESTIONS,\n    ),\n  );\n\n  const clearAutosuggestions = () => {\n    listEl.textContent = '';\n  };\n\n  const showAutoSuggestions = (e) => {\n    const term = e.target.value;\n    const MIN_SEARCH_LENGTH = 2;\n\n    if (term.trim().length < MIN_SEARCH_LENGTH) {\n      clearAutosuggestions();\n      return;\n    }\n\n    const list = listEl.getElementsByTagName('li');\n    if (e.key === 'Enter') {\n      submitSearchTerm(e);\n    } else if (e.key === 'Escape') {\n      clearAutosuggestions();\n    } else if (['ArrowUp', 'ArrowDown'].includes(e.key)) {\n      let returnObj;\n\n      if (e.key === 'ArrowUp') {\n        returnObj = handleArrowUp({\n          list,\n          liSelected,\n          index,\n          next,\n        });\n      } else {\n        returnObj = handleArrowDown({\n          list,\n          liSelected,\n          index,\n          next,\n        });\n      }\n\n      liSelected = returnObj.liSelected;\n      index = returnObj.index;\n      next = returnObj.next;\n      input.value = liSelected.textContent.replace(/[ ]{2,}/g, '');\n    } else {\n      delayFetchData(term);\n    }\n  };\n\n  const clearInput = () => {\n    searchInput.value = '';\n    toggleClearButton();\n    searchInput.focus();\n    clearAutosuggestions();\n  };\n\n  const handleOutsideClick = (event) => {\n    if (!searchContainer.contains(event.target)) {\n      collapseSearchContainer();\n    }\n    clearAutosuggestions();\n  };\n\n  const collapseSearchContainer = () => {\n    searchContainer.classList.remove(searchInputExpanded);\n    searchInput.value = ''; // Clear the input value\n    clearButton.classList.remove('active'); // Hide the clear button\n    document.removeEventListener('click', handleOutsideClick, { capture: true });\n  };\n\n  const expandSearchContainer = () => {\n    searchContainer.classList.add(searchInputExpanded);\n    searchInput.focus();\n    document.addEventListener('click', handleOutsideClick, { capture: true });\n  };\n\n  const searchArticles = (term) => {\n    currentURL.search = magazineParam;\n    currentURL.searchParams.set('search', term);\n    window.location.href = currentURL.href;\n    collapseSearchContainer();\n  };\n\n  const submitSearchTerm = (event) => {\n    event.preventDefault();\n    const searchTerm = searchInput.value.trim();\n    if (searchTerm) {\n      searchArticles(searchTerm);\n    }\n  };\n\n  if (searchInputWrapper && searchInput && clearButton && formElement) {\n    searchInputWrapper.addEventListener('click', expandSearchContainer);\n    searchInput.addEventListener('input', toggleClearButton);\n    searchInput.addEventListener('keyup', showAutoSuggestions);\n    clearButton.addEventListener('click', clearInput);\n    formElement.addEventListener('submit', submitSearchTerm);\n\n    // Find the close icon and add its collapse functionality\n    const closeIcon = searchContainer.querySelector('.icon-close');\n    if (closeIcon) {\n      addCloseHandler(closeIcon);\n    }\n  }\n};\n\nconst decorateArticleSearch = async (block) => {\n  const filter = buildFilterElement();\n  const filterList = await buildFilterList();\n  variantsClassesToBEM(block.classList, blockVariants, blockName);\n  filter.querySelector(`.${blockName}__filter-list-wrapper`).append(filterList);\n  block.prepend(filter);\n  addDropdownHandler(block.querySelector(`.${blockName}__filter-dropdown`));\n  addCloseHandler(block.querySelector('.icon-close'));\n  const filterContainer = block.querySelector(`.${blockName}__filter-container`);\n  if (filterContainer) {\n    initializeSearchHandlers(filterContainer);\n  }\n  decorateIcons(block);\n};\n\nexport default async function decorate(block) {\n  decorateArticleSearch(block);\n}\n","import { getTextLabel, createElement, getDateFromTimestamp } from '../../scripts/common.js';\nimport { createList } from '../../scripts/magazine-press.js';\nimport { createOptimizedPicture } from '../../scripts/aem.js';\nimport { fetchMagazineArticles, parseArticleData } from '../../scripts/services/magazine.service.js';\n\nconst filterLists = { category: null, topic: null, truck: null };\nlet isFirstLoad = true;\nlet offsetMultiplier = 1;\nlet temporaryOffset = 0;\n// This value represents opensearch's article limit\nconst searchLimit = 100;\n\nconst extractFilters = (facets) => {\n  facets.forEach((facet) => {\n    const key = facet.field === 'ARTICLE' ? 'category' : facet.field.toLowerCase();\n    const uniqueItems = new Set(\n      facet.items.map((item) => {\n        const value = item.value.trim();\n        return value;\n      }),\n    );\n    filterLists[key] = [...uniqueItems];\n  });\n};\n\nconst processMagazineArticles = async (params = {}) => {\n  const rawData = await fetchMagazineArticles(params);\n\n  if (!rawData) {\n    console.error('No data returned from fetchMagazineArticles');\n    return [];\n  }\n\n  const { items, count, facets: dataFacets } = rawData;\n\n  if (!items || items.length === 0) {\n    console.error('No items returned in raw data:', rawData);\n    return [];\n  }\n\n  const articles = items.map((item) => parseArticleData(item)).filter(Boolean);\n\n  temporaryOffset = temporaryOffset + searchLimit < count ? searchLimit * offsetMultiplier : count - temporaryOffset + temporaryOffset;\n  offsetMultiplier++;\n\n  if ((temporaryOffset < count) & !params.limit) {\n    const moreArticles = await processMagazineArticles({\n      ...params,\n      offset: articles.length,\n    });\n    return articles.concat(moreArticles);\n  }\n\n  if (isFirstLoad) {\n    isFirstLoad = false;\n    extractFilters(dataFacets);\n  }\n\n  const sortedArticles = articles.sort((a, b) => new Date(b.publishDate) - new Date(a.publishDate));\n\n  return sortedArticles;\n};\n\nfunction buildMagazineArticle(entry) {\n  const { path, image, title, description, author, category, readingTime, publishDate, isDefaultImage } = entry;\n\n  const card = createElement('article');\n  const picture = createOptimizedPicture(image, title, false, [{ width: '380', height: '214' }]);\n  const pictureTag = picture.outerHTML;\n  const formattedDate = getDateFromTimestamp(publishDate);\n\n  card.innerHTML = `\n    <a href=\"${path}\" class=\"imgcover\">\n      ${pictureTag}\n    </a>\n    <div class=\"content\">\n      <ul>\n        <li>${formattedDate}</li>\n      ${category ? `<li>${category}</li>` : ''}\n      </ul>\n      <h3><a href=\"${path}\">${title}</a></h3>\n      <p>${description}</p>\n      <ul>\n        <li>${author}</li>\n        <li>${readingTime}</li>\n      </ul>\n    </div>\n  `;\n  card.querySelector('picture').classList.toggle('default-image', isDefaultImage);\n  return card;\n}\n\nfunction buildLatestMagazineArticle(entry) {\n  const { url, image, title, description, linkText } = entry;\n  const card = createElement('article');\n  const picture = createOptimizedPicture(image, title, false, [{ width: '590', height: '410' }]);\n  const pictureTag = picture.outerHTML;\n  const readMore = linkText || 'Read more...';\n  card.innerHTML = `\n    <a href=\"${url}\" class=\"imgcover\">\n      ${pictureTag}\n    </a>\n    <div class=\"content\">\n      <h3>${title}</h3>\n      <p>${description}</p>\n      <a href=\"${url}\" class=\"cta\">${readMore}</a>\n    </div>\n  `;\n  return card;\n}\n\nasync function filterArticles(articles, activeFilters) {\n  const { category, topic, truck, search } = activeFilters;\n  const filters = { category, topic, truck };\n  const haveFilters = [category, topic, truck].some((filter) => !!filter);\n  const hasSearch = !!search;\n\n  if (!haveFilters && !hasSearch) {\n    // If no filters are applied, return articles asynchronously\n    return Promise.resolve(articles);\n  }\n\n  // otherwise do a query again with any of these filters\n  const tags = {};\n  Object.entries(filters).forEach(([key, value]) => {\n    // values stored as facets are separated by a space, so if the url filter has a dash\n    // it has to be replaced by a space\n    value && (tags[key] = [value.replaceAll('-', ' ')]);\n  });\n\n  const filterOptions = {\n    ...(haveFilters && { tags }),\n    ...(search && { q: search }),\n  };\n\n  try {\n    const filteredArticles = await processMagazineArticles({\n      ...filterOptions,\n      limit: articles.length,\n      offset: 0,\n    });\n    return filteredArticles;\n  } catch (error) {\n    console.error('Error filtering articles:', error);\n    return [];\n  }\n}\n\nasync function createFilter(articles, activeFilters, createDropdown, createInputSearch) {\n  const searchText = getTextLabel('magazine_articles:search');\n  const term = activeFilters.search || '';\n  const { category, topic, truck } = filterLists;\n  const search = await createInputSearch(searchText.toLowerCase(), term, searchText);\n  const categoryFilter = createDropdown(category, activeFilters.category, 'category', 'All Categories');\n  const topicFilter = createDropdown(topic, activeFilters.topic, 'topic', 'All Topics');\n  const truckFilter = createDropdown(truck, activeFilters.truck, 'truck', 'All Truck Series');\n\n  [categoryFilter, topicFilter, truckFilter].forEach((filter) => {\n    const select = filter.querySelector('select');\n    select.addEventListener('change', (e) => e.target.form.submit());\n  });\n\n  return [search, categoryFilter, topicFilter, truckFilter];\n}\n\nfunction createArticleList(block, articles, limit) {\n  createList(articles, filterArticles, createFilter, buildMagazineArticle, limit, block);\n}\n\nasync function createLatestMagazineArticles(mainEl, magazineArticles) {\n  mainEl.innerHTML = '';\n  const articleCards = document.createElement('div');\n  articleCards.classList.add('latest-magazine-articles');\n  mainEl.appendChild(articleCards);\n  magazineArticles.forEach((entry) => {\n    const articleCard = buildLatestMagazineArticle(entry);\n    articleCards.appendChild(articleCard);\n  });\n}\n\nexport default async function decorate(block) {\n  const latest = block.classList.contains('latest');\n  const limit = latest ? 3 : undefined;\n  const magazineArticles = await processMagazineArticles({ limit, sort: 'PUBLISH_DATE_DESC' });\n  if (latest) {\n    createLatestMagazineArticles(block, magazineArticles);\n  } else {\n    const limitPerPage = 8;\n    createArticleList(block, magazineArticles, limitPerPage);\n  }\n}\n","import { createElement, createResponsivePicture, unwrapDivs, debounce } from '../../scripts/common.js';\n\nconst blockName = 'v2-applications-carousel';\n\n/**\n * Creates a card element for carousel navigation and appends it to a parent.\n * @param {HTMLElement} parentElement - The parent element where the card will be appended.\n * @param {string} cardTitle - The title of the navigation card.\n * @param {number} cardIndex - The index of the card.\n * @param {boolean} isActive - Whether the card is selected.\n * @param {string} [cardIconMarkup] - Optional markup for the icon.\n */\nconst createCarouselCard = (parentElement, cardTitle, cardIndex, isActive, cardIconMarkup) => {\n  const cardHTML = `\n    <li class=\"${blockName}__card\"\n        role=\"tab\"\n        aria-selected=\"${isActive}\"\n        tabindex=\"${isActive ? '0' : '-1'}\"\n        aria-controls=\"${blockName}-image-${cardIndex}\"\n        data-${blockName}-image-index=\"${cardIndex}\">\n      ${cardIconMarkup || ''}\n      <span class=\"${blockName}__card-title\">${cardTitle}</span>\n    </li>\n  `;\n  parentElement.insertAdjacentHTML('beforeend', cardHTML);\n};\n\n/**\n * Creates responsive image configuration for use in picture elements.\n * @param {string} mobileSrc - The mobile image source.\n * @param {string} desktopSrc - The desktop image source.\n * @returns {Array<Object>} - The responsive image configuration.\n */\nconst createResponsiveImageConfig = (mobileSrc, desktopSrc) => [\n  {\n    src: mobileSrc,\n    breakpoints: [\n      {\n        media: '(max-width: 743px)',\n        width: 750,\n      },\n    ],\n  },\n  {\n    src: desktopSrc,\n    breakpoints: [\n      {\n        media: '(min-width: 744px)',\n        width: 750,\n      },\n      {\n        media: '(min-width: 1200px)',\n        width: 1200,\n      },\n      {\n        media: '(min-width: 1440px)',\n        width: 1440,\n      },\n      {\n        media: '(min-width: 1920px)',\n        width: 1920,\n      },\n    ],\n  },\n];\n\n/**\n * Creates the image carousel container.\n * @param {Array<Object>} carouselCardsData - The processed card data.\n * @returns {HTMLElement} - The image carousel container element.\n */\nconst createImageCarousel = (carouselCardsData) => {\n  const imagesContainer = createElement('div', {\n    classes: `${blockName}__images`,\n  });\n  const fragment = document.createDocumentFragment();\n\n  carouselCardsData.forEach(({ mobileImageUrl = '', desktopImageUrl = '', title = '', index, isActive = false }) => {\n    const imageConfig = createResponsiveImageConfig(mobileImageUrl, desktopImageUrl);\n    const responsivePicture = createResponsivePicture(imageConfig, true, title, `${blockName}__image-display`);\n\n    const imageWrapper = createElement('div', {\n      classes: `${blockName}__image`,\n      props: {\n        id: `${blockName}-image-${index}`,\n        [`data-${blockName}-index`]: index,\n        'aria-hidden': isActive ? 'false' : 'true',\n        role: 'tabpanel',\n        tabindex: isActive ? '0' : '-1',\n      },\n    });\n\n    imageWrapper.appendChild(responsivePicture);\n    fragment.appendChild(imageWrapper);\n  });\n\n  imagesContainer.appendChild(fragment);\n  return imagesContainer;\n};\n\n/**\n * Extracts card data for the carousel.\n * @param {NodeListOf<HTMLElement> | HTMLElement[]} cardElements - The card elements.\n * @returns {Array<Object>} - The parsed card data.\n */\nconst extractCarouselCardData = (cardElements) =>\n  cardElements.map((card, index) => {\n    if (!card) {\n      return null;\n    }\n\n    return {\n      index,\n      title: card.querySelector('div > p')?.textContent?.trim() || '',\n      iconMarkup: card.querySelector('.icon')?.outerHTML || '',\n      mobileImageUrl: card.querySelector('div > div > p:first-of-type picture img')?.src?.split('?')[0] || '',\n      desktopImageUrl: card.querySelector('div > div > p:last-of-type picture img')?.src?.split('?')[0] || '',\n      isActive: index === 0,\n    };\n  });\n\n/**\n * Creates the navigation container for the carousel.\n * @param {Array<Object>} carouselCardsData - The processed card data.\n * @returns {HTMLElement} - The navigation container element.\n */\nconst createCarouselCardsContainer = (carouselCardsData) => {\n  const navigation = createElement('nav', {\n    classes: `${blockName}__cards`,\n    props: {\n      role: 'tablist',\n      'aria-label': 'Applications Carousel Navigation',\n    },\n  });\n  const cardList = createElement('ul', {\n    classes: `${blockName}__cards-list`,\n  });\n\n  carouselCardsData.forEach(({ title, index, isActive, iconMarkup }) => {\n    createCarouselCard(cardList, title, index, isActive, iconMarkup);\n  });\n\n  navigation.appendChild(cardList);\n  return navigation;\n};\n\n/**\n * Updates the CSS variable for --inpage-nav-height if the navigation wrapper exists.\n */\nconst updateInpageNavHeight = () => {\n  const inpageNavWrapper = document.querySelector('.v2-inpage-navigation-wrapper');\n  const root = document.documentElement;\n\n  if (inpageNavWrapper) {\n    const inpageNavHeight = `${inpageNavWrapper.offsetHeight}px`;\n    root.style.setProperty('--inpage-nav-height', inpageNavHeight);\n  } else {\n    root.style.setProperty('--inpage-nav-height', '0px');\n  }\n};\n\n/**\n * Initializes the carousel scroll functionality for a vertical-to-horizontal scrolling carousel.\n */\nconst initializeCarouselScroll = () => {\n  const carouselElement = document.querySelector(`.${blockName}`);\n  const cardContainer = document.querySelector(`.${blockName}__cards-list`);\n  const cardElements = Array.from(document.querySelectorAll(`.${blockName}__card`));\n  const imageElements = Array.from(document.querySelectorAll(`.${blockName}__image`));\n\n  if (!carouselElement || !cardContainer || cardElements.length === 0 || imageElements.length === 0) {\n    console.warn('Carousel elements are missing or not initialized correctly.');\n    return;\n  }\n\n  let touchStartX = 0;\n  let initialScrollLeft = 0;\n  const SLIDE_SCROLL_DISTANCE = 500;\n\n  /**\n   * Dynamically sets the height of the carousel container based on slide scroll distance and viewport height.\n   */\n  const adjustCarouselHeight = () => {\n    const viewportHeight = window.innerHeight;\n    carouselElement.style.height = `${SLIDE_SCROLL_DISTANCE * cardElements.length + viewportHeight}px`;\n  };\n\n  /**\n   * Updates the active card and its corresponding image based on the provided index.\n   * @param {number} activeIndex - The index of the active card.\n   */\n  const setActiveCardAndImage = (activeIndex) => {\n    cardElements.forEach((card, index) => {\n      card.setAttribute('aria-selected', index === activeIndex ? 'true' : 'false');\n      card.setAttribute('tabindex', index === activeIndex ? '0' : '-1');\n    });\n    imageElements.forEach((image, index) => {\n      image.setAttribute('aria-hidden', index === activeIndex ? 'false' : 'true');\n      image.setAttribute('tabindex', index === activeIndex ? '0' : '-1');\n    });\n  };\n\n  /**\n   * Calculates the active card index based on the current scroll position.\n   * @param {number} scrollPosition - The current scroll position.\n   * @returns {number} - The calculated active index.\n   */\n  const getActiveCardIndex = (scrollPosition) => {\n    const adjustedScroll = Math.max(0, scrollPosition);\n    return Math.min(cardElements.length - 1, Math.floor(adjustedScroll / SLIDE_SCROLL_DISTANCE));\n  };\n\n  /**\n   * Handles the scroll event to update the carousel's active card and scroll position.\n   */\n  const onScrollUpdate = () => {\n    const currentScrollY = window.scrollY;\n    const containerRect = carouselElement.getBoundingClientRect();\n    const scrollPosition = currentScrollY - carouselElement.offsetTop;\n\n    if (containerRect.top < window.innerHeight && containerRect.bottom > 0) {\n      const activeIndex = getActiveCardIndex(scrollPosition);\n      const activeCard = cardElements[activeIndex];\n      const cardOffset = activeCard.offsetLeft;\n      const containerScrollWidth = cardContainer.scrollWidth - cardContainer.clientWidth;\n      const targetScrollLeft = Math.max(0, Math.min(cardOffset, containerScrollWidth));\n      cardContainer.scrollLeft = targetScrollLeft;\n      setActiveCardAndImage(activeIndex);\n    }\n  };\n\n  /**\n   * Handles touchstart event for swipe gestures.\n   * @param {TouchEvent} e - The touch event.\n   */\n  const onTouchStart = (e) => {\n    touchStartX = e.touches[0].pageX;\n    initialScrollLeft = cardContainer.scrollLeft;\n  };\n\n  /**\n   * Handles touchmove event for swipe gestures.\n   * @param {TouchEvent} e - The touch event.\n   */\n  const onTouchMove = (e) => {\n    const deltaX = touchStartX - e.touches[0].pageX;\n    cardContainer.scrollLeft = initialScrollLeft + deltaX;\n  };\n\n  /**\n   * Initializes the carousel by setting up dynamic height, event listeners, and default states.\n   */\n  const initializeCarousel = () => {\n    adjustCarouselHeight();\n    window.addEventListener('scroll', onScrollUpdate, { passive: true });\n    window.addEventListener('resize', adjustCarouselHeight);\n    cardContainer.addEventListener('touchstart', onTouchStart);\n    cardContainer.addEventListener('touchmove', onTouchMove, { passive: true });\n    setActiveCardAndImage(0);\n  };\n\n  initializeCarousel();\n};\n\n/**\n * Decorates the block element by creating and appending the carousel elements.\n * @param {HTMLElement} block - The block element to decorate.\n */\nexport default async function decorate(block) {\n  const allElements = [...block.querySelectorAll(':scope > div')];\n  if (!allElements.length) {\n    return;\n  }\n  const header = allElements[0];\n  header.classList.add(`${blockName}__header`);\n  const cardElements = allElements.slice(1);\n  const carouselCardsData = extractCarouselCardData(cardElements);\n  const fragment = document.createDocumentFragment();\n  const stickyContent = createElement('div', { classes: `${blockName}__sticky-content` });\n  const navigationContainer = createCarouselCardsContainer(carouselCardsData);\n  const imageContainer = createImageCarousel(carouselCardsData);\n  stickyContent.append(navigationContainer, imageContainer);\n  fragment.appendChild(stickyContent);\n  block.appendChild(fragment);\n  cardElements.forEach((card) => card.remove());\n  unwrapDivs(block);\n  updateInpageNavHeight();\n  initializeCarouselScroll();\n  window.addEventListener(\n    'resize',\n    debounce(() => {\n      updateInpageNavHeight();\n    }, 150),\n  );\n}\n","export default async function decorate(block) {\n  const controls = `<div class=\"controls\">\n        <i class=\"fa fa-caret-left\" aria-label=\"left\"></i>\n        <i class=\"fa fa-caret-right\" aria-label=\"right\"></i>\n    </div>`;\n  const pictures = block.querySelectorAll('picture');\n\n  block.innerHTML = controls;\n  block.append(...pictures);\n\n  pictures[0].classList.add('active');\n\n  block.querySelectorAll('.controls .fa').forEach((control) => {\n    control.addEventListener('click', () => {\n      const active = block.querySelector('.active');\n      active.classList.remove('active');\n      let next;\n      if (control.matches('.fa-caret-left')) {\n        next = active.previousElementSibling;\n        if (next.tagName !== 'PICTURE') {\n          next = block.querySelector('picture:last-of-type');\n        }\n      } else {\n        next = active.nextElementSibling;\n        if (!next) {\n          next = block.querySelector('picture:first-of-type');\n        }\n      }\n      next.classList.add('active');\n    });\n  });\n}\n","import { readBlockConfig, toClassName } from './aem.js';\nimport { createElement } from './common.js';\n\n/*\n * Common functions for searching the press releases and magazines\n */\nfunction getSelectionFromUrl(field) {\n  return toClassName(new URLSearchParams(window.location.search).get(field)) || '';\n}\n\nfunction createInputSearch(name, searchTerm, placeholder) {\n  const container = createElement('div', {\n    classes: toClassName(`${name}-field`),\n  });\n  const input = createElement('input', {\n    props: {\n      type: 'text',\n      name,\n      placeholder,\n    },\n  });\n\n  if (searchTerm) {\n    input.value = searchTerm;\n  }\n  const btn = createElement('button');\n  btn.innerHTML = `\n    <i class=\"fa fa-search\"></i>\n  `;\n  container.append(input, btn);\n  return container;\n}\n\nfunction createDropdown(options, selected, name, placeholder, label) {\n  const container = createElement('div', {\n    classes: toClassName(`${name}-field`),\n  });\n  if (label) {\n    const labelEl = createElement('label', {\n      props: { for: name },\n    });\n    labelEl.innerText = label;\n    container.append(labelEl);\n  }\n  const input = createElement('select', {\n    props: {\n      name,\n      id: name,\n    },\n  });\n  if (placeholder) {\n    const optionTag = createElement('option', { props: { value: '' } });\n    optionTag.innerText = placeholder;\n    if (!selected) {\n      optionTag.selected = true;\n    }\n    input.append(optionTag);\n  }\n\n  if (options) {\n    options.forEach((option) => {\n      const optionTag = createElement('option', {\n        props: { value: option },\n      });\n      optionTag.innerText = option;\n      if (optionTag.value === selected) {\n        optionTag.selected = true;\n      }\n      input.append(optionTag);\n    });\n  }\n\n  container.append(input);\n\n  return container;\n}\n\nfunction createPaginationLink(page, label) {\n  const newUrl = new URL(window.location);\n  const listElement = createElement('li');\n  const link = createElement('a', { classes: label });\n  newUrl.searchParams.set('page', page);\n  link.href = newUrl.toString();\n  listElement.append(link);\n  return listElement;\n}\n\nfunction createPagination(entries, page, limit) {\n  const listPagination = createElement('div', { classes: 'pager' });\n  const totalResults = createElement('div', { classes: 'total' });\n  totalResults.textContent = `${entries.length} results`;\n  listPagination.appendChild(totalResults);\n  const pagination = createElement('div', { classes: 'pagination' });\n\n  if (entries.length > limit) {\n    const maxPages = Math.ceil(entries.length / limit);\n\n    const listSize = createElement('span', { classes: 'size' });\n    if (entries.length > limit) {\n      listSize.innerHTML = `<strong>Page ${page}</strong> of ${maxPages}`;\n    }\n    const list = createElement('ol', { classes: 'scroll' });\n    if (page === 1) {\n      list.append(createPaginationLink(page + 1, 'next'));\n      list.append(createPaginationLink(maxPages, 'last'));\n    } else if (page > 1 && page < maxPages) {\n      list.append(createPaginationLink(1, 'first'));\n      list.append(createPaginationLink(page - 1, 'prev'));\n      list.append(createPaginationLink(page + 1, 'next'));\n      list.append(createPaginationLink(maxPages, 'last'));\n    } else if (page === maxPages) {\n      list.append(createPaginationLink(1, 'first'));\n      list.append(createPaginationLink(page - 1, 'prev'));\n    }\n\n    pagination.append(listSize, list);\n    listPagination.appendChild(pagination);\n  }\n  return listPagination;\n}\n\nexport function splitTags(tags) {\n  return tags ? JSON.parse(tags) : [];\n}\n\nfunction getActiveFilters() {\n  const result = {};\n  [...new URLSearchParams(window.location.search).entries()]\n    .filter(([_, value]) => value !== '')\n    .forEach(([key, value]) => {\n      result[key] = value;\n    });\n  return result;\n}\n\nasync function renderFilters(data, createFilters) {\n  // render filters\n  const filter = createElement('div', { classes: 'list-filter' });\n  const form = createElement('form', { props: { method: 'get', name: 'list-filter' } });\n  const formFieldSet = createElement('fieldset');\n\n  const filters = await createFilters(data, getActiveFilters(), createDropdown, createInputSearch);\n  formFieldSet.append(...filters);\n  if (filters.length > 0) {\n    form.append(formFieldSet);\n    filter.append(form);\n    return filter;\n  }\n  return null;\n}\n\nasync function buildElements(pressReleases, filter, createFilters, buildPressReleaseArticle, limitPerPage, cfg) {\n  const elements = {};\n  let actFilter = getActiveFilters();\n  let relatedPressReleases = false;\n  if (cfg.tags) {\n    actFilter = {\n      ...actFilter,\n      ...{ tags: toClassName(cfg.tags) },\n    };\n    relatedPressReleases = true;\n  }\n\n  let filteredData = filter ? await filter(pressReleases, actFilter) : pressReleases;\n\n  let page = parseInt(getSelectionFromUrl('page'), 10);\n  page = Number.isNaN(page) ? 1 : page;\n\n  if (!relatedPressReleases && createFilters) {\n    const filterElements = await renderFilters(pressReleases, createFilters);\n    if (filterElements) {\n      elements.filter = filterElements;\n    }\n    if (limitPerPage > 0) {\n      elements.pagination = createPagination(filteredData, page, limitPerPage);\n    }\n  }\n  if (limitPerPage > 0) {\n    const start = (page - 1) * limitPerPage;\n    filteredData = filteredData.slice(start, start + limitPerPage);\n  }\n  const articleList = createElement('ul', { classes: 'article-list' });\n  filteredData.forEach((pressRelease) => {\n    const articleItem = createElement('li');\n    const pressReleaseArticle = buildPressReleaseArticle(pressRelease);\n    articleItem.appendChild(pressReleaseArticle);\n    articleList.appendChild(articleItem);\n  });\n  elements.list = articleList;\n  return elements;\n}\n\nexport async function createList(pressReleases, filter, createFilters, buildPressReleaseArticle, limitPerPage, mainEl) {\n  const cfg = readBlockConfig(mainEl);\n\n  async function reloadList(params) {\n    // push the new querystring state\n    const url = new URL(window.location);\n    [...params.entries()].forEach(([k, v]) => url.searchParams.set(k, v));\n    window.history.pushState({}, '', url);\n    // rebuild the list\n    const elements = await buildElements(pressReleases, filter, createFilters, buildPressReleaseArticle, limitPerPage, cfg);\n    renderList(mainEl, elements);\n  }\n\n  function reloadFilteredList(event) {\n    if (event) {\n      event.preventDefault();\n    }\n    const params = new URLSearchParams(new FormData(this));\n    const urlParams = new URL(window.location).searchParams;\n    const page = urlParams.get('page');\n    if (page && +page > 1) {\n      params.set('page', 1);\n    }\n    reloadList(params);\n  }\n\n  function reloadPaginatedList(event) {\n    event.preventDefault();\n    reloadList(new URL(event.target.href).searchParams);\n  }\n\n  function attachSubmitListeners(filter) {\n    const form = filter.querySelector('form');\n    if (form) {\n      form.submit = reloadFilteredList.bind(form);\n      form.addEventListener('submit', reloadFilteredList.bind(form));\n    }\n    return filter;\n  }\n\n  function attachClickListeners(pagination) {\n    pagination.querySelectorAll('a').forEach((a) => a.addEventListener('click', reloadPaginatedList));\n    return pagination;\n  }\n\n  function renderList(el, { filter, pagination, list }) {\n    const children = [];\n    if (filter) {\n      children.push(attachSubmitListeners(filter));\n    }\n    if (pagination) {\n      children.push(attachClickListeners(pagination));\n    }\n    children.push(list);\n    if (pagination) {\n      children.push(attachClickListeners(pagination.cloneNode(true)));\n    }\n    el.replaceChildren(...children);\n  }\n\n  const elements = await buildElements(pressReleases, filter, createFilters, buildPressReleaseArticle, limitPerPage, cfg);\n  renderList(mainEl, elements);\n}\n","import { createElement, unwrapDivs, getTextLabel, getDateFromTimestamp } from '../../scripts/common.js';\nimport { createOptimizedPicture, loadCSS } from '../../scripts/aem.js';\nimport { fetchMagazineArticles, parseArticleData } from '../../scripts/services/magazine.service.js';\nimport createPagination from '../../common/pagination/pagination.js';\n\nconst blockName = 'v2-article-cards';\nlet paginationCssOnce;\nconst pageDataCache = new Map();\n\n/**\n * Safely extracts the pathname from a URL string.\n *\n * @param {string} u - URL string.\n * @returns {string|null} - Pathname or null if invalid.\n */\nconst getPathname = (u) => {\n  try {\n    return u ? new URL(u).pathname : null;\n  } catch (e) {\n    console.warn(`Invalid URL: ${u}`, e);\n    return null;\n  }\n};\n\n/**\n * Returns the block page size and whether a total-cap limit is present.\n * If a class \"limit-x\" exists, x is used; otherwise defaults to 9.\n *\n * @param {HTMLElement} block\n * @returns {{ pageSize:number, hasLimitVariant:boolean }}\n */\nconst getLimitConfig = (block) => {\n  const classes = [...block.classList];\n  let limitAmount = null;\n\n  classes.forEach((el) => {\n    if (el.includes('limit')) {\n      const parts = el.split('-');\n      limitAmount = Number(parts[parts.length - 1]);\n    }\n  });\n\n  const hasLimitVariant = Number.isFinite(limitAmount) && limitAmount > 0;\n  const pageSize = hasLimitVariant ? limitAmount : 9;\n\n  return { pageSize, hasLimitVariant };\n};\n\n/**\n * Generates a stable cache key for the current loader request.\n *\n * @param {Object} baseParams\n * @param {number} pageSize\n * @param {number} pageIndex\n * @param {Set<string>} excludeUrlPaths\n * @returns {string}\n */\nconst makeCacheKey = (baseParams, pageSize, pageIndex, excludeUrlPaths) => {\n  const excludeKey = excludeUrlPaths && excludeUrlPaths.size ? [...excludeUrlPaths].join('|') : '';\n  return `${pageSize}:${pageIndex}:${excludeKey}:${JSON.stringify(baseParams)}`;\n};\n\nconst renderArticleCard = (article) => {\n  const { url, image, title, publishDate, button = false } = article;\n\n  const shortTitle = title.split('|')[0];\n  const card = createElement('a', { classes: `${blockName}__article-card`, props: { href: url } });\n  const picture = createOptimizedPicture(image, shortTitle, false);\n  const pictureTag = picture.outerHTML;\n  const formattedDate = getDateFromTimestamp(publishDate);\n  const cardContent = document.createRange().createContextualFragment(`\n    <div class=\"${blockName}__image-wrapper\">\n      ${pictureTag}\n    </div>\n    <div class=\"${blockName}__texts-wrapper\">\n      <p class=\"${blockName}__card-date\">\n        ${formattedDate}\n      </p>\n      <h4 class=\"${blockName}__card-heading\">\n        ${shortTitle}\n      </h4>\n    </div>\n  `);\n  const textWrapper = cardContent.querySelector(`.${blockName}__texts-wrapper`);\n\n  if (button) {\n    button.classList.add(`${blockName}__card-button`);\n    textWrapper.appendChild(button);\n  } else {\n    const newButton = document.createRange().createContextualFragment(`\n      <div class=\"button-container ${blockName}__card-button\">\n        <a class=\"button tertiary\">\n          ${getTextLabel('v2_article_cards:read_more')}\n        </a>\n      </div>\n    `);\n    textWrapper.appendChild(newButton);\n  }\n  card.appendChild(cardContent);\n  return card;\n};\n\nconst renderArticleList = (block, articles = null, amount = null) => {\n  const articleList = createElement('div', { classes: `${blockName}__article-list` });\n  articles.forEach((art) => {\n    const card = renderArticleCard(art);\n    articleList.append(card);\n  });\n  block.append(articleList);\n  if (amount) {\n    articleList.classList.add(`${blockName}--featured-articles`);\n    articleList.classList.add(`${blockName}--${amount}-articles`);\n  } else {\n    articleList.classList.add(`${blockName}--dynamic-articles`);\n  }\n};\n\nconst getQueryOptionsFromURL = () => {\n  const currentURL = new URL(window.location);\n  const params = new URLSearchParams(currentURL.search);\n  const searchQuery = params.get('search');\n  const filters = ['truck', 'category', 'topic'];\n  const tags = {};\n  const options = { sort: 'PUBLISH_DATE_DESC' };\n\n  if (searchQuery) {\n    options.q = searchQuery;\n  }\n\n  if (filters.some((filter) => params.get(filter))) {\n    filters.forEach((filter) => {\n      const filterParam = params.get(filter);\n      if (filterParam) {\n        tags[filter] = filterParam.split(',').map((item) => item.trim().replaceAll('-', ' '));\n      }\n    });\n\n    options.tags = tags;\n  }\n\n  return options;\n};\n\nconst hasQueryFilters = () => {\n  const currentURL = new URL(window.location);\n  const params = new URLSearchParams(currentURL.search);\n  const searchQuery = params.get('search');\n  const filters = ['truck', 'category', 'topic'];\n  return Boolean(searchQuery || filters.some((filter) => params.get(filter)));\n};\n\n/**\n * Ensures a reusable pagination content area exists on the block.\n *\n * @param {HTMLElement} block\n * @returns {HTMLElement}\n */\nconst getOrCreateContentArea = (block) => {\n  let contentArea = block.querySelector('.pagination-content');\n  if (!contentArea) {\n    contentArea = createElement('div', { classes: ['pagination-content'] });\n    block.appendChild(contentArea);\n  }\n  return contentArea;\n};\n\n/**\n * Loads the pagination CSS exactly once.\n */\nconst loadPaginationCssOnce = async () => {\n  if (!paginationCssOnce) {\n    const baseURL = window.location.origin;\n    paginationCssOnce = loadCSS(`${baseURL}/common/pagination/pagination.css`);\n  }\n  await paginationCssOnce;\n};\n\n/**\n * Returns a per-page loader function bound to the provided base params.\n * Excludes any URL paths present in `excludeUrlPaths` and performs a\n * top-up loop to keep pages full (when possible). Uses a stable cache key.\n *\n * @param {Object} baseParams\n * @param {number} pageSize\n * @param {Set<string>} excludeUrlPaths\n * @param {number} totalCount\n * @returns {(pageIndex:number) => Promise<Array>}\n */\nconst makePageLoader =\n  (baseParams = {}, pageSize, excludeUrlPaths, totalCount = Infinity) =>\n  async (pageIndex) => {\n    const key = makeCacheKey(baseParams, pageSize, pageIndex, excludeUrlPaths);\n    if (pageDataCache.has(key)) {\n      return pageDataCache.get(key);\n    }\n\n    const page = [];\n    let fetchOffset = pageIndex * pageSize;\n    const maxIterations = 10; // safety guard to avoid excessive loops\n\n    for (let iter = 0; iter < maxIterations && page.length < pageSize; iter += 1) {\n      if (fetchOffset >= totalCount) {\n        break;\n      }\n\n      const { items = [] } = await fetchMagazineArticles({\n        ...baseParams,\n        sort: 'PUBLISH_DATE_DESC',\n        limit: pageSize,\n        offset: fetchOffset,\n      });\n\n      if (!items.length) {\n        break;\n      }\n\n      const parsed = items.map((it) => parseArticleData(it)).filter(Boolean);\n\n      parsed.forEach((art) => {\n        if (page.length >= pageSize) {\n          return;\n        }\n        const p = getPathname(art?.url);\n        if (!p || !excludeUrlPaths || !excludeUrlPaths.has(p)) {\n          page.push(art);\n        }\n      });\n\n      fetchOffset += pageSize;\n    }\n\n    pageDataCache.set(key, page);\n    return page;\n  };\n\n/**\n * Fetches total count (without applying exclusions).\n *\n * @param {Object} baseParams\n * @param {number} pageSize\n * @returns {{ total:number }}\n */\nconst fetchCountAndPrimeCache = async (baseParams = {}, pageSize) => {\n  const first = await fetchMagazineArticles({\n    ...baseParams,\n    sort: 'PUBLISH_DATE_DESC',\n    limit: pageSize,\n    offset: 0,\n  });\n\n  const total = Number(first?.count || 0);\n  return { total };\n};\n\n/**\n * Extracts paths from button links within the block and maps path -> button element.\n *\n * @param {HTMLElement} block\n * @returns {{ targets:Set<string>, buttonByPath:Map<string,HTMLElement> }}\n */\nconst collectFeaturedTargets = (block) => {\n  const buttons = block.querySelectorAll('.button-container');\n  const targets = new Set();\n  const buttonByPath = new Map();\n\n  [...buttons].forEach((btn) => {\n    const href = btn.querySelector('a')?.href;\n    const path = getPathname(href);\n    if (path) {\n      targets.add(path);\n      buttonByPath.set(path, btn);\n    }\n  });\n\n  return { targets, buttonByPath };\n};\n\n/**\n * Resolves \"featured\" articles defined via button links in the block.\n * Fetches batches until all targets are found or results are exhausted.\n * Preserves the visual order of buttons in the block.\n *\n * @param {HTMLElement} block\n * @param {Object} baseParams\n * @returns {Promise<Array>}\n */\nconst resolveFeaturedArticles = async (block, baseParams = {}) => {\n  const { targets, buttonByPath } = collectFeaturedTargets(block);\n\n  if (targets.size === 0) {\n    return [];\n  }\n\n  // Keep the paths in the same order as the buttons appear in the DOM\n  const buttonPathsInOrder = [...buttonByPath.keys()];\n  const foundByPath = new Map();\n\n  const batchSize = 100; // OpenSearch limit\n  let offset = 0;\n  let total = Infinity;\n\n  while (offset < total && targets.size > 0) {\n    const resp = await fetchMagazineArticles({\n      ...baseParams,\n      sort: 'PUBLISH_DATE_DESC',\n      limit: batchSize,\n      offset,\n    });\n\n    total = Number(resp?.count || 0);\n    const items = (resp?.items || []).map((it) => parseArticleData(it)).filter(Boolean);\n\n    items.forEach((art) => {\n      const p = getPathname(art?.url);\n      if (p && targets.has(p)) {\n        const button = buttonByPath.get(p);\n        if (button) {\n          art.button = button;\n        }\n        foundByPath.set(p, art);\n        targets.delete(p);\n      }\n    });\n\n    offset += batchSize;\n  }\n\n  // Return in the same order as the buttons appear in the block\n  return buttonPathsInOrder.map((p) => foundByPath.get(p)).filter(Boolean);\n};\n\n/**\n * Fetches additional non-featured articles until we fill `needed` items\n * or run out of results. Used for total-cap (limit-x) variant.\n *\n * @param {Object} baseParams\n * @param {Set<string>} excludeUrlPaths\n * @param {number} needed\n * @returns {Promise<Array>}\n */\nconst fetchFillArticles = async (baseParams = {}, excludeUrlPaths, needed) => {\n  const result = [];\n  const batchSize = 100;\n  let offset = 0;\n  let total = Infinity;\n\n  while (result.length < needed && offset < total) {\n    const resp = await fetchMagazineArticles({\n      ...baseParams,\n      sort: 'PUBLISH_DATE_DESC',\n      limit: batchSize,\n      offset,\n    });\n\n    total = Number(resp?.count || 0);\n    const items = (resp?.items || []).map((it) => parseArticleData(it)).filter(Boolean);\n\n    items.forEach((art) => {\n      if (result.length >= needed) {\n        return;\n      }\n      const p = getPathname(art?.url);\n      if (!p || !excludeUrlPaths || !excludeUrlPaths.has(p)) {\n        result.push(art);\n      }\n    });\n\n    offset += batchSize;\n  }\n\n  return result;\n};\n\n/**\n * Removes any existing pagination content and nav (safe no-ops if absent).\n *\n * @param {HTMLElement} block\n */\nconst removePaginationUI = (block) => {\n  block.querySelector('.pagination-content')?.remove();\n  block.querySelector('.pagination-nav')?.remove();\n};\n\n/**\n * Renders the featured section (if any), replacing any previous content area.\n *\n * @param {HTMLElement} block\n * @param {Array} featuredArticles\n * @param {number} featuredLinkCount\n */\nconst renderFeaturedSection = (block, featuredArticles, featuredLinkCount) => {\n  if (featuredArticles.length > 0) {\n    removePaginationUI(block);\n    renderArticleList(block, featuredArticles, featuredLinkCount);\n  }\n};\n\n/**\n * Handles the total-cap (limit-x) variant: featured first, then fill up to cap. No pagination.\n *\n * @param {HTMLElement} block\n * @param {Array} featuredArticles\n * @param {number} pageSize\n * @param {Object} queryOptions\n * @param {number} featuredLinkCount\n */\nconst renderTotalCapVariant = async (block, featuredArticles, pageSize, queryOptions, featuredLinkCount) => {\n  const featuredUrlPaths = new Set(featuredArticles.map((a) => getPathname(a?.url)).filter(Boolean));\n  const remaining = Math.max(0, pageSize - featuredArticles.length);\n  let filler = [];\n  if (remaining > 0) {\n    filler = await fetchFillArticles(queryOptions, featuredUrlPaths, remaining);\n  }\n\n  removePaginationUI(block);\n  renderArticleList(block, [...featuredArticles, ...filler], featuredLinkCount);\n  unwrapDivs(block);\n};\n\n/**\n * Initializes the paginated (non-limit) variant beneath any featured section.\n *\n * @param {HTMLElement} block\n * @param {Object} queryOptions\n * @param {number} pageSize\n * @param {Array} featuredArticles\n * @param {number} featuredLinkCount\n */\nconst initPaginatedVariant = async (block, queryOptions, pageSize, featuredArticles, featuredLinkCount) => {\n  renderFeaturedSection(block, featuredArticles, featuredLinkCount);\n\n  const contentArea = getOrCreateContentArea(block);\n  await loadPaginationCssOnce();\n\n  const featuredUrlPaths = new Set(featuredArticles.map((a) => getPathname(a?.url)).filter(Boolean));\n\n  pageDataCache.clear();\n  const { total } = await fetchCountAndPrimeCache(queryOptions, pageSize);\n  const totalPages = Math.max(1, Math.ceil(total / pageSize));\n\n  const loadPageData = makePageLoader(queryOptions, pageSize, featuredUrlPaths, total);\n\n  if (total > 0) {\n    createPagination({\n      block,\n      contentArea,\n      totalPages,\n      renderItems: (area, articles) => renderArticleList(area, articles, null),\n      loadPageData,\n      initialPage: 0,\n    });\n  } else if (featuredArticles.length === 0) {\n    contentArea.innerHTML = '';\n    const noResultsMsg = createElement('p', { classes: `${blockName}__no-results-message` });\n    noResultsMsg.textContent = getTextLabel('v2_article_cards:no_results').replace('$0', '');\n    contentArea.append(noResultsMsg);\n  }\n\n  unwrapDivs(block);\n};\n\nexport default async function decorate(block) {\n  const options = getQueryOptionsFromURL();\n  const hasFilters = hasQueryFilters();\n\n  if (hasFilters) {\n    block.innerText = '';\n  }\n\n  const { pageSize, hasLimitVariant } = getLimitConfig(block);\n  const featuredLinkCount = block.children.length;\n  const hasFeaturedVariant = featuredLinkCount > 0;\n  const featuredArticles = hasFeaturedVariant ? await resolveFeaturedArticles(block, options) : [];\n\n  if (hasLimitVariant) {\n    await renderTotalCapVariant(block, featuredArticles, pageSize, options, hasFeaturedVariant ? featuredLinkCount : null);\n    return;\n  }\n\n  await initPaginatedVariant(block, options, pageSize, featuredArticles, featuredLinkCount);\n}\n","import {\n  buildBlock,\n  decorateSections,\n  decorateBlocks,\n  decorateBlock,\n  decorateTemplateAndTheme,\n  createOptimizedPicture,\n  getMetadata,\n  toClassName,\n  loadSections,\n  loadCSS,\n  loadScript,\n  loadBlock,\n  loadFooter,\n  loadHeader,\n} from './aem.js';\n\nimport {\n  decorateIcons,\n  getHref,\n  getPlaceholders,\n  getTextLabel,\n  loadTemplate,\n  createElement,\n  slugify,\n  variantsClassesToBEM,\n  formatStringToArray,\n  TRUCK_CONFIGURATOR_URLS,\n} from './common.js';\n\nimport {\n  isVideoLink,\n  isSoundcloudLink,\n  isLowResolutionVideoUrl,\n  addVideoShowHandler,\n  addSoundcloudShowHandler,\n  hasVideoOnPage,\n  loadVideoJs,\n} from './video-helper.js';\n\nimport { validateCountries } from './validate-countries.js';\n\nlet modal;\n\nfunction getCTAContainer(ctaLink) {\n  return ['strong', 'em'].includes(ctaLink.parentElement.localName) ? ctaLink.parentElement.parentElement : ctaLink.parentElement;\n}\n\nfunction isCTALinkCheck(ctaLink) {\n  const btnContainer = getCTAContainer(ctaLink);\n  if (!btnContainer.classList.contains('button-container')) {\n    return false;\n  }\n  const nextSibling = btnContainer?.nextElementSibling;\n  const previousSibling = btnContainer?.previousElementSibling;\n  const twoPreviousSibling = previousSibling?.previousElementSibling;\n  const siblings = [previousSibling, nextSibling, twoPreviousSibling];\n  return siblings.some((elem) => elem?.localName === 'h1');\n}\n\n/**\n * Returns a picture element with webp and fallbacks / allow multiple src paths for every breakpoint\n * @param {string} src Default image URL (if no src is passed to breakpoints object)\n * @param {boolean} eager load image eager\n * @param {Array} breakpoints breakpoints and corresponding params (eg. src, width, media)\n */\nexport function createCustomOptimizedPicture(\n  src,\n  alt = '',\n  eager = false,\n  breakpoints = [{ media: '(min-width: 400px)', width: '2000' }, { width: '750' }],\n) {\n  const url = new URL(src, getHref());\n  const picture = document.createElement('picture');\n  let { pathname } = url;\n  const ext = pathname.substring(pathname.lastIndexOf('.') + 1);\n\n  breakpoints.forEach((br) => {\n    // custom src path in breakpoint\n    if (br.src) {\n      const customUrl = new URL(br.src, getHref());\n      pathname = customUrl.pathname;\n    }\n\n    const source = document.createElement('source');\n    if (br.media) {\n      source.setAttribute('media', br.media);\n    }\n    source.setAttribute('type', 'image/webp');\n    source.setAttribute('srcset', `${pathname}?width=${br.width}&format=webply&optimize=medium`);\n    picture.appendChild(source);\n  });\n\n  // fallback\n  breakpoints.forEach((br, i) => {\n    if (i < breakpoints.length - 1) {\n      const source = document.createElement('source');\n      if (br.media) {\n        source.setAttribute('media', br.media);\n      }\n      source.setAttribute('srcset', `${pathname}?width=${br.width}&format=${ext}&optimize=medium`);\n      picture.appendChild(source);\n    } else {\n      const img = document.createElement('img');\n      img.setAttribute('loading', eager ? 'eager' : 'lazy');\n      img.setAttribute('alt', alt);\n      img.setAttribute('width', br.width);\n      img.setAttribute('height', br.height);\n      picture.appendChild(img);\n      img.setAttribute('src', `${pathname}?width=${br.width}&format=${ext}&optimize=medium`);\n    }\n  });\n\n  return picture;\n}\n\nfunction buildHeroBlock(main) {\n  // switching off hero autoblock for redesign\n  if (document.querySelector('main').classList.contains('redesign-v2')) {\n    return;\n  }\n\n  // don't create a hero if the first item is a block, except hero block\n  const firstSection = main.querySelector('div');\n  if (!firstSection) {\n    return;\n  }\n  const firstElement = firstSection.firstElementChild;\n  if (firstElement.tagName === 'DIV' && firstElement.classList.length && !firstElement.classList.contains('hero')) {\n    return;\n  }\n\n  const h1 = firstSection.querySelector('h1');\n  const picture = firstSection.querySelector('picture');\n  let ctaLink = firstSection.querySelector('a');\n  let video = null;\n\n  if (ctaLink && isLowResolutionVideoUrl(ctaLink.getAttribute('href'))) {\n    const videoTemp = `\n      <video muted loop class=\"hero-video\">\n        <source src=\"${ctaLink.getAttribute('href')}\" type=\"video/mp4\"></source>\n      </video>\n    `;\n\n    const videoWrapper = document.createElement('div');\n    videoWrapper.innerHTML = videoTemp;\n    video = videoWrapper.querySelector('video');\n    ctaLink.parentElement.remove();\n    ctaLink = firstSection.querySelector('a');\n\n    // adding video with delay to not affect page loading time\n    setTimeout(() => {\n      picture.replaceWith(video);\n\n      // TODO: This is just a way of prevent the code to break due to the NotAllowedError error on iOS and Safari\n      // For this to work better needs further development and either way it will always be an hack can at any point can stop working\n      try {\n        video.play();\n      } catch (error) {\n        if (error.name === 'NotAllowedError') {\n          console.error('Playback was prevented by the browser:', error);\n        } else {\n          console.error('An error occurred while trying to play the video:', error);\n        }\n      }\n    }, 3000);\n  }\n\n  // check if the previous element or the previous of that is an h1\n  const isCTALink = ctaLink && isCTALinkCheck(ctaLink);\n  if (isCTALink) {\n    ctaLink.classList.add('cta');\n  }\n\n  if (h1 && picture && h1.compareDocumentPosition(picture) & Node.DOCUMENT_POSITION_PRECEDING) {\n    const headings = createElement('div', { classes: 'hero-headings' });\n    const elems = [picture, headings];\n    if (\n      h1.nextElementSibling &&\n      (h1.nextElementSibling.matches('h2,h3,h4') ||\n        // also consider a <p> without any children as sub heading except BR\n        (h1.nextElementSibling.matches('p') && ![...h1.nextElementSibling.children].filter((el) => el.tagName !== 'BR').length))\n    ) {\n      const h4 = document.createElement('h4');\n      h4.innerHTML = h1.nextElementSibling.innerHTML;\n      h1.nextElementSibling.remove();\n      headings.appendChild(h4);\n    }\n    headings.appendChild(h1);\n    if (isCTALink) {\n      headings.appendChild(getCTAContainer(ctaLink));\n    }\n    const section = document.createElement('div');\n    const newHeroBlock = buildBlock('hero', { elems });\n    newHeroBlock.classList.add(...firstElement.classList);\n    section.append(newHeroBlock);\n    // remove the empty pre-section to avoid decorate it as empty section\n    const containerChildren = firstSection.children;\n    const wrapperChildren = containerChildren[0].children;\n    if (containerChildren.length <= 1 && wrapperChildren.length === 0) {\n      firstSection.remove();\n    } else if (wrapperChildren.length === 0) {\n      containerChildren[0].remove();\n    }\n\n    if (video) {\n      section.querySelector('.hero')?.classList.add('hero-with-video');\n    }\n\n    // after all are settled, the new section can be added\n    main.prepend(section);\n  }\n}\n\nfunction buildSubNavigation(main, head) {\n  const subnav = head.querySelector('meta[name=\"sub-navigation\"]');\n  if (subnav && subnav.content.startsWith('/')) {\n    const block = buildBlock('sub-nav', []);\n    main.previousElementSibling.prepend(block);\n    decorateBlock(block);\n  }\n}\n\n/**\n * Builds all synthetic blocks in a container element.\n * @param {Element} main The container element\n * @param {Element} head The header element\n */\nfunction buildAutoBlocks(main, head) {\n  try {\n    buildHeroBlock(main);\n    buildSubNavigation(main, head);\n\n    buildCtaList(main);\n  } catch (error) {\n    console.error('Auto Blocking failed', error);\n  }\n}\n\nfunction createTabbedSection(tabItems, tabType, { fullWidth }) {\n  const tabSection = createElement('div', { classes: ['section', 'tabbed-container'] });\n  if (fullWidth) {\n    tabSection.classList.add('tabbed-container-full-width');\n  }\n  tabSection.dataset.sectionStatus = 'initialized';\n  const wrapper = document.createElement('div');\n  tabSection.append(wrapper);\n  const tabBlock = buildBlock(`tabbed-${tabType}`, [tabItems]);\n  wrapper.append(tabBlock);\n  return tabSection;\n}\n\nfunction buildCtaList(main) {\n  [...main.querySelectorAll('ul')].forEach((list) => {\n    const lis = [...list.querySelectorAll('li')];\n    const isCtaList = lis.every((li) => {\n      if (li.children.length !== 1) {\n        return false;\n      }\n      const firstChild = li.firstElementChild;\n      if (firstChild.tagName === 'A') {\n        return true;\n      }\n      if (firstChild.children.length !== 1) {\n        return false;\n      }\n      const firstGrandChild = firstChild.firstElementChild;\n      return (firstChild.tagName === 'STRONG' || firstChild.tagName === 'EM') && firstGrandChild.tagName === 'A';\n    });\n\n    if (isCtaList) {\n      list.classList.add('cta-list');\n      const primaryLink = lis[0].querySelector('a.primary');\n      if (primaryLink) {\n        primaryLink.classList.add('dark');\n      }\n    }\n  });\n}\n\nfunction buildTabbedBlock(main) {\n  let tabItems = [];\n  let tabType;\n  let fullWidth = false;\n  [...main.querySelectorAll(':scope > div')].forEach((section) => {\n    const sectionMeta = section.dataset.carousel || section.dataset.tabs;\n    if (sectionMeta) {\n      const tabContent = document.createElement('div');\n      tabType = tabType || (section.dataset.carousel ? 'carousel' : 'accordion');\n      tabContent.dataset[tabType] = sectionMeta;\n      tabContent.className = 'tab-content';\n      fullWidth = fullWidth || section.matches('.full-width');\n      tabContent.innerHTML = section.innerHTML;\n      tabContent.querySelectorAll('p > picture').forEach((pic) => {\n        if (!pic.nextElementSibling && !pic.previousElementSibling) {\n          pic.parentElement.classList.add('picture');\n        }\n      });\n      tabItems.push(tabContent);\n      section.remove();\n    } else if (tabItems.length > 0) {\n      const tabbedSection = createTabbedSection(tabItems, tabType, { fullWidth });\n      section.parentNode.insertBefore(tabbedSection, section);\n      decorateBlock(tabbedSection.querySelector('.tabbed-carousel, .tabbed-accordion'));\n      tabItems = [];\n      tabType = undefined;\n      fullWidth = false;\n    }\n  });\n  if (tabItems.length > 0) {\n    const tabbedCarouselSection = createTabbedSection(tabItems, tabType, { fullWidth });\n    main.append(tabbedCarouselSection);\n    decorateBlock(tabbedCarouselSection.querySelector('.tabbed-carousel, .tabbed-accordion'));\n  }\n\n  async function triggerLoad() {\n    await loadSections(main);\n  }\n\n  triggerLoad();\n}\n\nfunction createTruckLineupSection(tabItems) {\n  const tabSection = createElement('div', { classes: 'section' });\n  tabSection.dataset.sectionStatus = 'initialized';\n  const wrapper = createElement('div');\n  tabSection.append(wrapper);\n  const tabBlock = buildBlock('v2-truck-lineup', [tabItems]);\n  wrapper.append(tabBlock);\n  return tabSection;\n}\n\nfunction buildTruckLineupBlock(main) {\n  const tabItems = [];\n  let nextElement;\n  const BREAKPOINTS = {\n    0: '(min-width: 400px)',\n    1: '(min-width: 1200px)',\n  };\n  let inpageMeta;\n\n  const mainChildren = [...main.querySelectorAll(':scope > div')];\n  mainChildren.forEach((section, i) => {\n    const sectionMetaTruckCarousel = section.dataset.truckCarousel;\n    const isTruckCarousel = !!sectionMetaTruckCarousel;\n    if (!isTruckCarousel) {\n      return;\n    }\n\n    const carouselMetaFieldName = section.dataset.metaFieldName || 'v2-truck-lineup-meta-active';\n\n    // save carousel position\n    nextElement = mainChildren[i + 1];\n    if (!inpageMeta && section.dataset.inpage) {\n      inpageMeta = section.dataset.inpage.toLowerCase();\n    }\n\n    const tabContent = createElement('div', { classes: 'v2-truck-lineup__content' });\n    tabContent.dataset.truckCarousel = sectionMetaTruckCarousel;\n    tabContent.dataset.metaFieldName = carouselMetaFieldName;\n    tabContent.innerHTML = section.innerHTML;\n    const images = tabContent.querySelectorAll('p > picture');\n\n    const imageBreakpoints = [];\n    const firstImage = images[0]?.lastElementChild;\n    const baseImageObj = {\n      src: firstImage?.src,\n      alt: firstImage?.alt,\n    };\n\n    images.forEach((pic, j) => {\n      const img = pic.lastElementChild;\n      imageBreakpoints.push({\n        src: img.src,\n        width: img.width,\n        height: img.height,\n        media: BREAKPOINTS[j],\n      });\n\n      pic.parentNode.remove();\n    });\n    imageBreakpoints.reverse(); // order first big and then small version\n    const newPicture = createCustomOptimizedPicture(baseImageObj.src, baseImageObj.alt, false, imageBreakpoints);\n\n    tabContent.prepend(newPicture);\n\n    tabItems.push(tabContent);\n    section.remove();\n  });\n\n  if (tabItems.length > 0) {\n    const truckLineupSection = createTruckLineupSection(tabItems);\n\n    if (inpageMeta) {\n      truckLineupSection.setAttribute('data-inpageid', inpageMeta);\n    }\n\n    if (nextElement) {\n      // if we saved a position push the carousel in that position if not\n      main.insertBefore(truckLineupSection, nextElement);\n    } else {\n      main.append(truckLineupSection);\n    }\n    decorateIcons(truckLineupSection);\n    decorateBlock(truckLineupSection.querySelector('.v2-truck-lineup'));\n  }\n}\n\nfunction decorateSectionBackgrounds(main) {\n  const variantClasses = ['black-background', 'gray-background'];\n\n  main.querySelectorAll(':scope > .section').forEach((section) => {\n    // transform background color variants into BEM classnames\n    variantsClassesToBEM(section.classList, variantClasses, 'section');\n\n    // If the section contains a background image\n    const src = section.dataset.background;\n    if (src) {\n      const picture = createOptimizedPicture(src, '', false);\n      section.appendChild(picture);\n      section.classList.add('section-with-background');\n    }\n  });\n}\n\nfunction decorateHyperlinkImages(container) {\n  // picture + br + a in the same paragraph\n  [...container.querySelectorAll('picture + br + a, picture + a')]\n    // link text is an unformatted URL paste\n    .filter((a) => a.textContent.trim().startsWith('http'))\n    .forEach((a) => {\n      const br = a.previousElementSibling;\n      let picture = br.previousElementSibling;\n      if (br.tagName === 'PICTURE') {\n        picture = br;\n      }\n      picture.remove();\n      br.remove();\n      a.innerHTML = picture.outerHTML;\n      // make sure the link is not decorated as a button\n      a.parentNode.classList.remove('button-container');\n      a.className = '';\n    });\n\n  // with link and image in separate paragraphs\n  [...container.querySelectorAll('p > a[href]')]\n    // link (in a <p>) has no siblings\n    .filter((a) => a.parentNode.childElementCount === 1)\n    // is preceded by an image (in a <p>) and image has no other siblings\n    .filter((a) => a.parentNode.previousElementSibling?.firstElementChild?.tagName === 'PICTURE')\n    .filter((a) => a.parentNode.previousElementSibling?.childElementCount === 1)\n    // link text is an unformatted URL paste\n    .filter((a) => a.textContent.trim().startsWith('http'))\n    .forEach((a) => {\n      const picture = a.parentNode.previousElementSibling.firstElementChild;\n      picture.parentNode.remove();\n      a.innerHTML = picture.outerHTML;\n      // make sure the link is not decorated as a button\n      a.parentNode.classList.remove('button-container');\n      a.className = '';\n    });\n}\n\nfunction handleFetchError(statusCode, mainElement) {\n  const errorType = statusCode === 404 ? '404' : 'unknown';\n  const errorMessage = document.createRange().createContextualFragment(`\n    <div class=\"section\">\n      <div class=\"inline-message-wrapper\">\n        <div class=\"inline-message block inline-message--error\">\n          <span class=\"icon icon-control-remove\" aria-hidden=\"true\"></span>\n          <h2>${getTextLabel(`modal:error-title-${errorType}`)}</h2>\n          <p>${getTextLabel(`modal:error-text-${errorType}`)}</p>\n        </div>\n      </div>\n    </div>\n  `);\n\n  decorateIcons(errorMessage);\n  mainElement.appendChild(errorMessage);\n\n  const modalEvent = new CustomEvent('open-modal', {\n    detail: {\n      content: mainElement.children, // Now this refers to the errorContainer which mimics a section\n      target: document.activeElement, // might consider the previous active element or a default\n    },\n  });\n  document.dispatchEvent(modalEvent, { bubbles: true });\n}\n\nfunction handleModalLinks(link) {\n  if (!modal) {\n    loadModalScript();\n  }\n  link.addEventListener('click', async (event) => {\n    event.preventDefault();\n    const modalContentLink = link.getAttribute('data-modal-content');\n    const resp = await fetch(`${modalContentLink}.plain.html`);\n    const main = document.createElement('main');\n\n    if (resp.ok) {\n      main.innerHTML = await resp.text();\n\n      decorateMain(main, main);\n      await loadSections(main);\n      const modalEvent = new CustomEvent('open-modal', {\n        detail: {\n          content: main.children,\n          target: event.target,\n        },\n      });\n      document.dispatchEvent(modalEvent, { bubbles: true });\n    } else {\n      handleFetchError(resp.status, main);\n    }\n  });\n}\n\nexport function decorateLinks(block) {\n  [...block.querySelectorAll('a')]\n    .filter(({ href }) => !!href)\n    .forEach((link) => {\n      if (isVideoLink(link)) {\n        addVideoShowHandler(link);\n        return;\n      }\n      if (isSoundcloudLink(link)) {\n        addSoundcloudShowHandler(link);\n      }\n      if (link.getAttribute('href').startsWith('/modal-content=')) {\n        const href = link.getAttribute('href');\n        link.setAttribute('data-modal-content', href.split('modal-content=')[1]);\n        // removing the `/modal-content=` so the link can be opened in the other tab by coping link\n        link.setAttribute('href', link.getAttribute('href').replace('/modal-content=', ''));\n        handleModalLinks(link);\n        return;\n      }\n\n      const url = new URL(link.href);\n      const external =\n        !url.host.match('volvotrucks.(us|ca|mx)') && !url.host.match(/\\.hlx\\.(page|live)|\\.aem\\.(page|live)/) && !url.host.match('localhost');\n      if (url.host.match('build.volvotrucks.(us)') || url.pathname.endsWith('.pdf') || url.pathname.endsWith('.jpeg') || external) {\n        link.target = '_blank';\n      }\n    });\n}\n\nfunction decorateOfferLinks(main) {\n  async function openOffer(event) {\n    event.preventDefault();\n    const module = await import(`${window.hlx.codeBasePath}/blocks/get-an-offer/get-an-offer.js`);\n    if (module.showOffer) {\n      await module.showOffer(event.target);\n    }\n  }\n  main.querySelectorAll('a[href*=\"offer\"]').forEach((a) => {\n    if (a.href.endsWith('-offer')) {\n      let list = a.closest('ul');\n      if (!list) {\n        list = document.createElement('ul');\n        const parent = a.parentElement;\n        const li = document.createElement('li');\n        list.append(li);\n        li.append(a);\n        parent.after(list);\n        if (parent.textContent === '' && parent.children.length === 0) {\n          parent.remove();\n        }\n      }\n      list.classList.add('inline');\n      const li = document.createElement('li');\n      const clone = a.cloneNode(true);\n      clone.textContent = 'Details';\n      clone.title = clone.textContent;\n      li.append(clone);\n      list.append(li);\n      a.addEventListener('click', openOffer);\n      clone.addEventListener('click', openOffer);\n    }\n  });\n}\n\nfunction createInpageNavigation(main) {\n  const navItems = [];\n  const tabItemsObj = [];\n\n  // Extract the inpage navigation info from sections\n  [...main.querySelectorAll(':scope > div')].forEach((section) => {\n    const title = section.dataset.inpage;\n    if (title) {\n      const countDuplicated = tabItemsObj.filter((item) => item.title === title)?.length || 0;\n      const order = parseFloat(section.dataset.inpageOrder);\n      const anchorID = countDuplicated > 0 ? slugify(`${section.dataset.inpage}-${countDuplicated}`) : slugify(section.dataset.inpage);\n      const obj = {\n        title,\n        id: anchorID,\n      };\n\n      if (order) {\n        obj.order = order;\n      }\n\n      tabItemsObj.push(obj);\n\n      // Set section with ID\n      section.dataset.inpageid = anchorID;\n    }\n  });\n\n  // Sort the object by order\n  const sortedObject = tabItemsObj.slice().sort((obj1, obj2) => {\n    const order1 = obj1.order ?? Infinity; // Fallback to a large number if 'order' is not present\n    const order2 = obj2.order ?? Infinity;\n\n    return order1 - order2;\n  });\n\n  // From the array of objects create the DOM\n  sortedObject.forEach((item) => {\n    const subnavItem = createElement('div');\n    const subnavLink = createElement('button', {\n      props: {\n        'data-id': item.id,\n        title: item.title,\n      },\n    });\n\n    subnavLink.textContent = item.title;\n\n    subnavItem.append(subnavLink);\n    navItems.push(subnavLink);\n  });\n\n  return navItems;\n}\n\nfunction buildInpageNavigationBlock(main) {\n  const inpageClassName = 'v2-inpage-navigation';\n\n  const items = createInpageNavigation(main);\n\n  if (items.length > 0) {\n    const section = createElement('div');\n    const inpageBlock = buildBlock(inpageClassName, { elems: items });\n\n    section.append(inpageBlock);\n    main.prepend(section);\n\n    decorateBlock(section.querySelector(`.${inpageClassName}`));\n    loadBlock(inpageBlock);\n  }\n}\n\nconst reparentChildren = (element) => {\n  const parent = element.parentNode;\n  while (element.firstChild) {\n    parent.insertBefore(element.firstChild, element);\n  }\n  element.remove();\n};\n\nconst shouldDecorateLink = (a) => {\n  a.title = a.title || a.textContent;\n  return a.href !== a.textContent && !a.querySelector('img');\n};\n\nconst getButtonClass = (up, twoUp) => {\n  if ((up.tagName === 'EM' && twoUp.tagName === 'STRONG') || (up.tagName === 'STRONG' && twoUp.tagName === 'EM')) {\n    reparentChildren(up);\n    reparentChildren(twoUp);\n    return 'marketing';\n  }\n\n  if (up.tagName === 'STRONG' || up.tagName === 'EM') {\n    reparentChildren(up);\n    return up.tagName === 'STRONG' ? 'primary' : 'secondary';\n  }\n\n  return 'tertiary';\n};\n\nconst addClassToContainer = (element) => {\n  if (element.childNodes.length === 1 && ['P', 'DIV', 'LI'].includes(element.tagName)) {\n    element.classList.add('button-container');\n  }\n};\n\n/**\n * Applies button styling to anchor tags within a specified element,\n * decorating them as button-like if they meet certain criteria.\n * @param {Element} element - The container element within which to search and style anchor tags.\n */\nconst decorateButtons = (element) => {\n  element.querySelectorAll('a').forEach((a) => {\n    if (shouldDecorateLink(a)) {\n      let up = a.parentElement;\n      const twoUp = up.parentElement;\n      const threeUp = twoUp.parentElement;\n      const buttonClass = getButtonClass(up, twoUp);\n\n      up = a.parentElement;\n      if (['P', 'DIV', 'LI'].includes(up.tagName)) {\n        a.className = `button ${buttonClass}`;\n      } else {\n        a.className = buttonClass;\n      }\n\n      addClassToContainer(up);\n      addClassToContainer(twoUp);\n      addClassToContainer(threeUp);\n\n      if (![up, twoUp, threeUp].some((el) => el.classList.contains('button-container'))) {\n        a.className = '';\n      }\n    }\n  });\n};\n\nfunction decorateConfigurator(main) {\n  moveClassToHtmlEl('truck-configurator');\n\n  const currentUrl = window.location.href;\n  const isConfiguratorPage = document.documentElement.classList.contains('truck-configurator') || currentUrl.includes('/summary?config=');\n\n  if (isConfiguratorPage) {\n    const allowedCountries = getMetadata('allowed-countries');\n    const errorPageUrl = getMetadata('redirect-url');\n    if (allowedCountries && errorPageUrl) {\n      validateCountries(allowedCountries, errorPageUrl);\n    }\n\n    const container = createElement('div', { props: { id: 'configurator' } });\n    main.innerHTML = '';\n    main.append(container);\n\n    const { JS = false, CSS = false } = TRUCK_CONFIGURATOR_URLS;\n    const cssUrls = formatStringToArray(CSS);\n    const jsUrls = formatStringToArray(JS);\n    if (jsUrls.length > 0 && currentUrl.includes('/summary?config=')) {\n      document.documentElement.classList.add('external-app');\n      const truckConfiguratorBaseUrl = new URL(jsUrls[0]).origin;\n      const currentUrlHash = new URL(currentUrl).hash;\n      jsUrls.unshift(`${truckConfiguratorBaseUrl}/${currentUrlHash}`);\n    }\n\n    // if there are no css files, remove js files as well to avoid a weird animation\n    if (cssUrls.length === 0) {\n      jsUrls.length = 0;\n    }\n\n    jsUrls.forEach((url) => {\n      loadScript(url, { type: 'text/javascript', charset: 'UTF-8', defer: 'defer' });\n    });\n\n    cssUrls.forEach((url) => {\n      loadCSS(url);\n    });\n  }\n}\n\n/**\n * Decorates the main element.\n * @param {Element} main The main element\n * @param {Element} head The header element\n */\nexport function decorateMain(main, head) {\n  const pageStyle = head.querySelector('[name=\"style\"]')?.content;\n  if (pageStyle) {\n    pageStyle\n      .split(',')\n      .map((style) => toClassName(style.trim()))\n      .forEach((style) => main.classList.add(style));\n  }\n  // hopefully forward compatible button decoration\n  decorateButtons(main);\n  decorateIcons(main);\n  buildAutoBlocks(main, head);\n  decorateSections(main);\n  decorateBlocks(main);\n\n  // These autoblocks need to be built after the sections and blocks are decorated :(\n  buildTruckLineupBlock(main);\n  buildInpageNavigationBlock(main);\n\n  decorateHyperlinkImages(main);\n  decorateSectionBackgrounds(main);\n  decorateLinks(main);\n  buildTabbedBlock(main);\n  decorateOfferLinks(main);\n  decorateConfigurator(main);\n}\n\n/**\n * loads everything needed to get to LCP.\n */\nasync function loadEager(doc) {\n  decorateTemplateAndTheme();\n\n  const disableHeader = getMetadata('disable-header').toLowerCase() === 'true';\n  const main = doc.querySelector('main');\n  const { head } = doc;\n\n  if (!disableHeader) {\n    const header = doc.querySelector('header');\n    header && loadHeader(header);\n  }\n\n  if (main) {\n    decorateMain(main, head);\n    document.body.classList.add('appear');\n    const meta_i18n = doc.querySelector('meta[name=\"i18n\"]');\n    const meta_locale = doc.querySelector('meta[name=\"locale\"]');\n    document.documentElement.lang = (meta_i18n && meta_i18n.content) || (meta_locale && meta_locale.content.toLowerCase()) || 'en';\n    const templateName = getMetadata('template');\n    if (templateName) {\n      await loadTemplate(doc, templateName);\n    }\n  } else {\n    document.documentElement.lang = 'en';\n  }\n\n  await getPlaceholders();\n}\n\nexport const MEDIA_BREAKPOINTS = {\n  MOBILE: 'MOBILE',\n  TABLET: 'TABLET',\n  DESKTOP: 'DESKTOP',\n};\n\nexport function getImageForBreakpoint(imagesList, onChange = () => {}) {\n  const mobileMQ = window.matchMedia('(max-width: 743px)');\n  const tabletMQ = window.matchMedia('(min-width: 744px) and (max-width: 1199px)');\n  const desktopMQ = window.matchMedia('(min-width: 1200px)');\n\n  const [mobilePic, tabletPic, desktopPic] = imagesList.querySelectorAll('picture');\n\n  const onBreakpointChange = (mq, picture, breakpoint) => {\n    if (mq.matches) {\n      onChange(picture, breakpoint);\n    }\n  };\n  const onMobileChange = (mq) => onBreakpointChange(mq, mobilePic, MEDIA_BREAKPOINTS.MOBILE);\n  const onTabletChange = (mq) => onBreakpointChange(mq, tabletPic, MEDIA_BREAKPOINTS.TABLET);\n  const onDesktopChange = (mq) => onBreakpointChange(mq, desktopPic, MEDIA_BREAKPOINTS.DESKTOP);\n\n  mobileMQ.addEventListener('change', onMobileChange);\n  tabletMQ.addEventListener('change', onTabletChange);\n  desktopMQ.addEventListener('change', onDesktopChange);\n\n  if (mobileMQ.matches) {\n    onMobileChange(mobileMQ);\n    return;\n  }\n\n  if (tabletMQ.matches) {\n    onTabletChange(tabletMQ);\n    return;\n  }\n  onDesktopChange(desktopMQ);\n}\n\nconst moveClassToHtmlEl = (className, elementSelector = 'main') => {\n  if (document.querySelector(elementSelector).classList.contains(className)) {\n    document.querySelector('html').classList.add(className);\n    document.querySelector(elementSelector).classList.remove(className);\n  }\n};\n\n/**\n * loads everything that doesn't need to be delayed.\n */\nasync function loadLazy(doc) {\n  const main = doc.querySelector('main');\n  await loadSections(main);\n\n  const { hash } = window.location;\n  const element = hash ? doc.getElementById(hash.substring(1)) : false;\n  if (hash && element) {\n    element.scrollIntoView();\n  }\n  const header = doc.querySelector('header');\n\n  const disableFooter = getMetadata('disable-footer').toLowerCase() === 'true';\n\n  if (!disableFooter) {\n    loadFooter(doc.querySelector('footer'));\n  }\n\n  const subnav = header?.querySelector('.block.sub-nav');\n  if (subnav) {\n    loadBlock(subnav);\n    header.appendChild(subnav);\n  }\n\n  loadCSS(`${window.hlx.codeBasePath}/styles/lazy-styles.css`);\n\n  import('../tools/sidekick/aem-genai-variations.js');\n}\n\n/**\n * Loads everything that happens a lot later,\n * without impacting the user experience.\n */\nfunction loadDelayed() {\n  window.setTimeout(() => {\n    import('./delayed.js');\n  }, 3000);\n  // load anything that can be postponed to the latest here\n}\n\n/**\n * Main page initialization logic.\n * Loads eager/lazy resources and conditionally loads video support.\n */\nasync function loadPage() {\n  await loadEager(document);\n  await loadLazy(document);\n  loadDelayed();\n\n  if (hasVideoOnPage()) {\n    await loadVideoJs();\n  }\n}\n\nloadPage();\n\n/* REDESIGN CLASS CHECK */\nmoveClassToHtmlEl('redesign-v2');\n\n/* MODAL */\nasync function loadModalScript() {\n  if (!modal) {\n    modal = await import('../common/modal/modal.js');\n  }\n\n  return modal;\n}\n\ndocument.addEventListener('open-modal', (event) => {\n  loadModalScript().then((modal) => {\n    const variantClasses = ['black', 'gray', 'reveal'];\n    const modalClasses = [...event.detail.target.closest('.section').classList].filter((el) => el.startsWith('modal-'));\n    // changing the modal variants classes to BEM naming\n    variantClasses.forEach((variant) => {\n      const index = modalClasses.findIndex((el) => el === `modal-${variant}`);\n\n      if (index >= 0) {\n        modalClasses[index] = modalClasses[index].replace('modal-', 'modal--');\n      }\n    });\n\n    modal.showModal(event.detail.content, { modalClasses, invokeContext: event.detail.target });\n  });\n});\n","/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nconst yAxisSides = /*#__PURE__*/new Set(['top', 'bottom']);\nfunction getSideAxis(placement) {\n  return yAxisSides.has(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nconst lrPlacement = ['left', 'right'];\nconst rlPlacement = ['right', 'left'];\nconst tbPlacement = ['top', 'bottom'];\nconst btPlacement = ['bottom', 'top'];\nfunction getSideList(side, isStart, rtl) {\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rlPlacement : lrPlacement;\n      return isStart ? lrPlacement : rlPlacement;\n    case 'left':\n    case 'right':\n      return isStart ? tbPlacement : btPlacement;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  const {\n    x,\n    y,\n    width,\n    height\n  } = rect;\n  return {\n    width,\n    height,\n    top: y,\n    left: x,\n    right: x + width,\n    bottom: y + height,\n    x,\n    y\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n","import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    x,\n    y,\n    width: rects.floating.width,\n    height: rects.floating.height\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const initialSideAxis = getSideAxis(initialPlacement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== 'none';\n      if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          const ignoreCrossAxisOverflow = checkCrossAxis === 'alignment' ? initialSideAxis !== getSideAxis(nextPlacement) : false;\n          if (!ignoreCrossAxisOverflow ||\n          // We leave the current main axis only if every placement on that axis\n          // overflows the main axis.\n          overflowsData.every(d => getSideAxis(d.placement) === initialSideAxis ? d.overflows[0] > 0 : true)) {\n            // Try next placement and re-run the lifecycle.\n            return {\n              data: {\n                index: nextIndex,\n                overflows: overflowsData\n              },\n              reset: {\n                placement: nextPlacement\n              }\n            };\n          }\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$filter2;\n                const placement = (_overflowsData$filter2 = overflowsData.filter(d => {\n                  if (hasFallbackAxisSideDirection) {\n                    const currentSideAxis = getSideAxis(d.placement);\n                    return currentSideAxis === initialSideAxis ||\n                    // Create a bias to the `y` side axis due to horizontal\n                    // reading directions favoring greater width.\n                    currentSideAxis === 'y';\n                  }\n                  return true;\n                }).map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$filter2[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nconst originSides = /*#__PURE__*/new Set(['left', 'top']);\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = originSides.has(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n\n  // eslint-disable-next-line prefer-const\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: rawValue.mainAxis || 0,\n    crossAxis: rawValue.crossAxis || 0,\n    alignmentAxis: rawValue.alignmentAxis\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y,\n          enabled: {\n            [mainAxis]: checkMainAxis,\n            [crossAxis]: checkCrossAxis\n          }\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = originSides.has(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      var _state$middlewareData, _state$middlewareData2;\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const maximumClippingHeight = height - overflow.top - overflow.bottom;\n      const maximumClippingWidth = width - overflow.left - overflow.right;\n      const overflowAvailableHeight = min(height - overflow[heightSide], maximumClippingHeight);\n      const overflowAvailableWidth = min(width - overflow[widthSide], maximumClippingWidth);\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if ((_state$middlewareData = state.middlewareData.shift) != null && _state$middlewareData.enabled.x) {\n        availableWidth = maximumClippingWidth;\n      }\n      if ((_state$middlewareData2 = state.middlewareData.shift) != null && _state$middlewareData2.enabled.y) {\n        availableHeight = maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n","function hasWindow() {\n  return typeof window !== 'undefined';\n}\nfunction getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  if (!hasWindow() || typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nconst invalidOverflowDisplayValues = /*#__PURE__*/new Set(['inline', 'contents']);\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !invalidOverflowDisplayValues.has(display);\n}\nconst tableElements = /*#__PURE__*/new Set(['table', 'td', 'th']);\nfunction isTableElement(element) {\n  return tableElements.has(getNodeName(element));\n}\nconst topLayerSelectors = [':popover-open', ':modal'];\nfunction isTopLayer(element) {\n  return topLayerSelectors.some(selector => {\n    try {\n      return element.matches(selector);\n    } catch (_e) {\n      return false;\n    }\n  });\n}\nconst transformProperties = ['transform', 'translate', 'scale', 'rotate', 'perspective'];\nconst willChangeValues = ['transform', 'translate', 'scale', 'rotate', 'perspective', 'filter'];\nconst containValues = ['paint', 'layout', 'strict', 'content'];\nfunction isContainingBlock(elementOrCss) {\n  const webkit = isWebKit();\n  const css = isElement(elementOrCss) ? getComputedStyle(elementOrCss) : elementOrCss;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  // https://drafts.csswg.org/css-transforms-2/#individual-transforms\n  return transformProperties.some(value => css[value] ? css[value] !== 'none' : false) || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || willChangeValues.some(value => (css.willChange || '').includes(value)) || containValues.some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else if (isTopLayer(currentNode)) {\n      return null;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nconst lastTraversableNodeNames = /*#__PURE__*/new Set(['html', 'body', '#document']);\nfunction isLastTraversableNode(node) {\n  return lastTraversableNodeNames.has(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.scrollX,\n    scrollTop: element.scrollY\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    const frameElement = getFrameElement(win);\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], frameElement && traverseIframes ? getOverflowAncestors(frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\nfunction getFrameElement(win) {\n  return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getFrameElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isTopLayer, isWebKit };\n","import { rectToClientRect, arrow as arrow$1, autoPlacement as autoPlacement$1, detectOverflow as detectOverflow$1, flip as flip$1, hide as hide$1, inline as inline$1, limitShift as limitShift$1, offset as offset$1, shift as shift$1, size as size$1, computePosition as computePosition$1 } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle as getComputedStyle$1, isHTMLElement, isElement, getWindow, isWebKit, getFrameElement, getNodeScroll, getDocumentElement, isTopLayer, getNodeName, isOverflowElement, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle$1(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = getFrameElement(currentWin);\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle$1(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = getFrameElement(currentWin);\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\n// If <html> has a CSS width greater than the viewport, then this will be\n// incorrect for RTL.\nfunction getWindowScrollBarX(element, rect) {\n  const leftScroll = getNodeScroll(element).scrollLeft;\n  if (!rect) {\n    return getBoundingClientRect(getDocumentElement(element)).left + leftScroll;\n  }\n  return rect.left + leftScroll;\n}\n\nfunction getHTMLOffset(documentElement, scroll) {\n  const htmlRect = documentElement.getBoundingClientRect();\n  const x = htmlRect.left + scroll.scrollLeft - getWindowScrollBarX(documentElement, htmlRect);\n  const y = htmlRect.top + scroll.scrollTop;\n  return {\n    x,\n    y\n  };\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === 'fixed';\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x + htmlOffset.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y + htmlOffset.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle$1(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Safety check: ensure the scrollbar space is reasonable in case this\n// calculation is affected by unusual styles.\n// Most scrollbars leave 15-18px of space.\nconst SCROLLBAR_MAX = 25;\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  const windowScrollbarX = getWindowScrollBarX(html);\n  // <html> `overflow: hidden` + `scrollbar-gutter: stable` reduces the\n  // visual width of the <html> but this is not considered in the size\n  // of `html.clientWidth`.\n  if (windowScrollbarX <= 0) {\n    const doc = html.ownerDocument;\n    const body = doc.body;\n    const bodyStyles = getComputedStyle(body);\n    const bodyMarginInline = doc.compatMode === 'CSS1Compat' ? parseFloat(bodyStyles.marginLeft) + parseFloat(bodyStyles.marginRight) || 0 : 0;\n    const clippingStableScrollbarWidth = Math.abs(html.clientWidth - body.clientWidth - bodyMarginInline);\n    if (clippingStableScrollbarWidth <= SCROLLBAR_MAX) {\n      width -= clippingStableScrollbarWidth;\n    }\n  } else if (windowScrollbarX <= SCROLLBAR_MAX) {\n    // If the <body> scrollbar is on the left, the width needs to be extended\n    // by the scrollbar amount so there isn't extra space on the right.\n    width += windowScrollbarX;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nconst absoluteOrFixed = /*#__PURE__*/new Set(['absolute', 'fixed']);\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y,\n      width: clippingAncestor.width,\n      height: clippingAncestor.height\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle$1(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle$1(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle$1(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && absoluteOrFixed.has(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n\n  // If the <body> scrollbar appears on the left (e.g. RTL systems). Use\n  // Firefox with layout.scrollbar.side = 3 in about:config to test this.\n  function setLeftRTLScrollbarOffset() {\n    offsets.x = getWindowScrollBarX(documentElement);\n  }\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      setLeftRTLScrollbarOffset();\n    }\n  }\n  if (isFixed && !isOffsetParentAnElement && documentElement) {\n    setLeftRTLScrollbarOffset();\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\n  const x = rect.left + scroll.scrollLeft - offsets.x - htmlOffset.x;\n  const y = rect.top + scroll.scrollTop - offsets.y - htmlOffset.y;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction isStaticPositioned(element) {\n  return getComputedStyle$1(element).position === 'static';\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle$1(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  let rawOffsetParent = element.offsetParent;\n\n  // Firefox returns the <html> element as the offsetParent if it's non-static,\n  // while Chrome and Safari return the <body> element. The <body> element must\n  // be used to perform the correct calculations even if the <html> element is\n  // non-static.\n  if (getDocumentElement(element) === rawOffsetParent) {\n    rawOffsetParent = rawOffsetParent.ownerDocument.body;\n  }\n  return rawOffsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const win = getWindow(element);\n  if (isTopLayer(element)) {\n    return win;\n  }\n  if (!isHTMLElement(element)) {\n    let svgOffsetParent = getParentNode(element);\n    while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {\n      if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {\n        return svgOffsetParent;\n      }\n      svgOffsetParent = getParentNode(svgOffsetParent);\n    }\n    return win;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {\n    return win;\n  }\n  return offsetParent || getContainingBlock(element) || win;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  const floatingDimensions = await getDimensionsFn(data.floating);\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      width: floatingDimensions.width,\n      height: floatingDimensions.height\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle$1(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\nfunction rectsAreEqual(a, b) {\n  return a.x === b.x && a.y === b.y && a.width === b.width && a.height === b.height;\n}\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const elementRectForRootMargin = element.getBoundingClientRect();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = elementRectForRootMargin;\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          // If the reference is clipped, the ratio is 0. Throttle the refresh\n          // to prevent an infinite loop of updates.\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 1000);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      if (ratio === 1 && !rectsAreEqual(elementRectForRootMargin, element.getBoundingClientRect())) {\n        // It's possible that even though the ratio is reported as 1, the\n        // element is not actually fully within the IntersectionObserver's root\n        // area anymore. This can happen under performance constraints. This may\n        // be a bug in the browser's IntersectionObserver implementation. To\n        // work around this, we compare the element's bounding rect now with\n        // what it was at the time we created the IntersectionObserver. If they\n        // are not equal then the element moved, so we refresh.\n        refresh();\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (_e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && !rectsAreEqual(prevRefRect, nextRefRect)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nconst detectOverflow = detectOverflow$1;\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = offset$1;\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, platform, shift, size };\n","import { createElement, removeEmptyTags } from '../../scripts/common.js';\n\nconst blockname = 'v2-feature-carousel';\n\nexport default function decorate(block) {\n  const cardsWraper = block.querySelector('ul');\n  cardsWraper.classList.add(`${blockname}__cards-list`);\n  block.innerHTML = '';\n  block.append(cardsWraper);\n\n  [...cardsWraper.querySelectorAll('li')].forEach((el) => {\n    el.classList.add(`${blockname}__card`);\n    const text = el.lastChild;\n    const textwrapper = createElement('span', { classes: `${blockname}__text` });\n    textwrapper.textContent = text.textContent;\n    el.append(textwrapper);\n    text.remove();\n  });\n\n  removeEmptyTags(block);\n}\n","export default async function decorate(block) {\n  const fullWidthClass = 'full-viewport';\n  const isFullWidth = block.classList.contains(fullWidthClass);\n\n  if (isFullWidth) {\n    block.closest('.image-wrapper')?.classList.add(fullWidthClass);\n  }\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e=t=>(...e)=>({_$litDirective$:t,values:e});class i{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}export{i as Directive,t as PartType,e as directive};\n//# sourceMappingURL=directive.js.map\n","import{isSingleExpression as i}from\"./directive-helpers.js\";import{Directive as t,PartType as e}from\"./directive.js\";export{directive}from\"./directive.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const s=(i,t)=>{const e=i._$AN;if(void 0===e)return!1;for(const i of e)i._$AO?.(t,!1),s(i,t);return!0},o=i=>{let t,e;do{if(void 0===(t=i._$AM))break;e=t._$AN,e.delete(i),i=t}while(0===e?.size)},r=i=>{for(let t;t=i._$AM;i=t){let e=t._$AN;if(void 0===e)t._$AN=e=new Set;else if(e.has(i))break;e.add(i),c(t)}};function h(i){void 0!==this._$AN?(o(this),this._$AM=i,r(this)):this._$AM=i}function n(i,t=!1,e=0){const r=this._$AH,h=this._$AN;if(void 0!==h&&0!==h.size)if(t)if(Array.isArray(r))for(let i=e;i<r.length;i++)s(r[i],!1),o(r[i]);else null!=r&&(s(r,!1),o(r));else s(this,i)}const c=i=>{i.type==e.CHILD&&(i._$AP??=n,i._$AQ??=h)};class f extends t{constructor(){super(...arguments),this._$AN=void 0}_$AT(i,t,e){super._$AT(i,t,e),r(this),this.isConnected=i._$AU}_$AO(i,t=!0){i!==this.isConnected&&(this.isConnected=i,i?this.reconnected?.():this.disconnected?.()),t&&(s(this,i),o(this))}setValue(t){if(i(this._$Ct))this._$Ct._$AI(t,this);else{const i=[...this._$Ct._$AH];i[this._$Ci]=t,this._$Ct._$AI(i,this,0)}}disconnected(){}reconnected(){}}export{f as AsyncDirective,t as Directive,e as PartType};\n//# sourceMappingURL=async-directive.js.map\n","import{nothing as t}from\"../lit-html.js\";import{AsyncDirective as i}from\"../async-directive.js\";import{directive as s}from\"../directive.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const e=()=>new h;class h{}const o=new WeakMap,n=s(class extends i{render(i){return t}update(i,[s]){const e=s!==this.G;return e&&void 0!==this.G&&this.rt(void 0),(e||this.lt!==this.ct)&&(this.G=s,this.ht=i.options?.host,this.rt(this.ct=i.element)),t}rt(t){if(this.isConnected||(t=void 0),\"function\"==typeof this.G){const i=this.ht??globalThis;let s=o.get(i);void 0===s&&(s=new WeakMap,o.set(i,s)),void 0!==s.get(this.G)&&this.G.call(this.ht,void 0),s.set(this.G,t),void 0!==t&&this.G.call(this.ht,t)}else this.G.value=t}get lt(){return\"function\"==typeof this.G?o.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});export{e as createRef,n as ref};\n//# sourceMappingURL=ref.js.map\n","import { createElement, getOrigin, getDateFromTimestamp, getTextLabel, getPlaceholders } from '../../scripts/common.js';\nimport { createOptimizedPicture, loadCSS } from '../../scripts/aem.js';\nimport createPagination from '../../common/pagination/pagination.js';\nimport { fetchPressReleases } from '../../scripts/services/press-release.service.js';\n\nconst blockName = 'press-releases';\nconst PAGE_SIZE = 10;\nlet paginationCssOnce;\nconst pageDataCache = new Map();\n\nconst parsePressRelease = (item) => {\n  const isImageLink = (link) => `${link}`.split('?')[0].match(/\\.(jpeg|jpg|gif|png|svg|bmp|webp)$/) !== null;\n\n  const getDefaultImage = () => {\n    const logoImageURL = '/media/logo/media_10a115d2f3d50f3a22ecd2075307b4f4dcaedb366.jpeg';\n    return getOrigin() + logoImageURL;\n  };\n\n  const { image } = item.metadata;\n\n  return {\n    ...item.metadata,\n    image: isImageLink(image) ? getOrigin() + image : getDefaultImage(),\n    path: item.metadata?.url,\n    isDefaultImage: !isImageLink(image),\n  };\n};\n\nconst renderSearchBar = () => {\n  const searchBar = createElement('div', { classes: `${blockName}__search-bar` });\n  searchBar.innerHTML = `\n    <input type=\"text\" name=\"search\" autocomplete=\"off\" placeholder=\"${getTextLabel('press_releases:search_placeholder')}\"/>\n    <button type=\"submit\"><i class=\"fa fa-search\"></i></button>`;\n  return searchBar;\n};\n\nconst renderPressReleaseCard = (entry) => {\n  const { path, image, title, description, publishDate } = entry;\n  const card = createElement('article', { classes: `${blockName}__article` });\n  const picture = createOptimizedPicture(image, title, false, [{ width: '414' }]);\n  const formattedDate = getDateFromTimestamp(publishDate);\n\n  card.innerHTML = `\n    <a href=\"${path}\">\n      ${picture.outerHTML}\n    </a>\n    <div>\n      <span class=\"date\">${formattedDate}</span>\n      <h3><a href=\"${path}\">${title}</a></h3>\n      <p>${description}</p>\n    </div>`;\n\n  return card;\n};\n\nconst renderPressReleaseList = (block, pressReleases) => {\n  const list = createElement('ul', { classes: ['article-list'] });\n  pressReleases.forEach((pr) => {\n    list.append(renderPressReleaseCard(pr));\n  });\n  block.append(list);\n};\n\n/**\n * Ensures a reusable pagination content area exists on the block.\n *\n * @param {HTMLElement} block\n * @returns {HTMLElement}\n */\nconst getOrCreateContentArea = (block) => {\n  let contentArea = block.querySelector('.pagination-content');\n  if (!contentArea) {\n    contentArea = createElement('div', { classes: ['pagination-content'] });\n    block.appendChild(contentArea);\n  }\n  return contentArea;\n};\n\n/**\n * Loads the pagination CSS exactly once.\n */\nconst loadPaginationCss = async () => {\n  if (!paginationCssOnce) {\n    const baseURL = window.location.origin;\n    paginationCssOnce = loadCSS(`${baseURL}/common/pagination/pagination.css`);\n  }\n  await paginationCssOnce;\n};\n\n/**\n * Returns a per-page loader function bound to the provided base params,\n * with a tiny in-memory cache to avoid refetching visited pages.\n *\n * @param {Object} baseParams\n * @returns {(pageIndex:number) => Promise<Array>}\n */\nconst makePageLoader =\n  (baseParams = {}) =>\n  async (pageIndex) => {\n    if (pageDataCache.has(pageIndex)) {\n      return pageDataCache.get(pageIndex);\n    }\n    const { items = [] } = await fetchPressReleases({\n      ...baseParams,\n      sort: 'PUBLISH_DATE_DESC',\n      limit: PAGE_SIZE,\n      offset: pageIndex * PAGE_SIZE,\n    });\n    const parsed = items.map((item) => parsePressRelease(item));\n    pageDataCache.set(pageIndex, parsed);\n    return parsed;\n  };\n\n/**\n * Fetches the first page to compute totals and seed cache.\n *\n * @param {Object} baseParams\n * @returns {{ total:number, totalPages:number }}\n */\nconst fetchCountAndPrimeCache = async (baseParams = {}) => {\n  const first = await fetchPressReleases({\n    ...baseParams,\n    sort: 'PUBLISH_DATE_DESC',\n    limit: PAGE_SIZE,\n    offset: 0,\n  });\n\n  const total = Number(first?.count || 0);\n  const totalPages = Math.max(1, Math.ceil(total / PAGE_SIZE));\n\n  if (first?.items?.length) {\n    pageDataCache.set(\n      0,\n      first.items.map((i) => parsePressRelease(i)),\n    );\n  }\n\n  return { total, totalPages };\n};\n\n/**\n * Initializes dynamic pagination with API-backed totalPages and per-page fetching.\n *\n * @param {HTMLElement} block\n * @param {Object} baseParams\n */\nconst initPressReleasesPagination = async (block, baseParams = {}) => {\n  const contentArea = getOrCreateContentArea(block);\n  await loadPaginationCss();\n\n  pageDataCache.clear();\n\n  const { total, totalPages } = await fetchCountAndPrimeCache(baseParams);\n  const loadPageData = makePageLoader(baseParams);\n\n  createPagination({\n    block,\n    contentArea,\n    totalPages,\n    renderItems: renderPressReleaseList,\n    loadPageData,\n    initialPage: 0,\n  });\n\n  if (!total) {\n    contentArea.innerHTML = '';\n    const noResultsMsg = createElement('p', { classes: `${blockName}__no-results-message` });\n    const q = baseParams?.q || '';\n    noResultsMsg.textContent = getTextLabel('press_releases:no_results').replace('$0', `\"${q}\"`);\n    contentArea.append(noResultsMsg);\n  }\n};\n\nconst addEventListeners = (block) => {\n  const searchInput = block.querySelector(`.${blockName}__search-bar input`);\n  const searchButton = block.querySelector(`.${blockName}__search-bar button`);\n\n  const applySearch = async () => {\n    const query = searchInput.value?.trim();\n    block.querySelector('.pagination-content')?.remove();\n    block.querySelector('.pagination-nav')?.remove();\n    await initPressReleasesPagination(block, query ? { q: query } : {});\n  };\n\n  searchButton.addEventListener('click', applySearch);\n  searchInput.addEventListener('keydown', (event) => {\n    if (event.key === 'Enter') {\n      applySearch();\n    }\n  });\n};\n\nexport default async function decorate(block) {\n  await getPlaceholders();\n  block.append(renderSearchBar());\n  await initPressReleasesPagination(block);\n  addEventListeners(block);\n}\n","import { loadScript } from '../../scripts/aem.js';\n\nexport default async function decorate(block) {\n  const datasource = block.textContent.trim();\n  window.locatorConfig = {\n    consolidateFilters: true,\n    selectedBrand: 'volvo',\n    dataSource: datasource,\n    amenities: [\n      'Appointments Accepted',\n      'Bilingual Service',\n      'Driver Lounge',\n      'Free Pickup and Delivery',\n      'Hotel Shuttle',\n      'Internet Service',\n      'Laundry',\n      'Showers',\n      'Telephones',\n      'Trailer Parking',\n      'Video Games',\n    ],\n  };\n\n  loadScript('/blocks/dealer-locator/vendor/jquery.min.js', { type: 'text/javascript', charset: 'UTF-8' }).then(() => {\n    // these scripts depend on jquery:\n    loadScript('/blocks/dealer-locator/sidebar-maps.js', { type: 'text/javascript', charset: 'UTF-8' });\n    loadScript('/blocks/dealer-locator/my-dealer.js', { type: 'text/javascript', charset: 'UTF-8' });\n  });\n\n  loadScript('/blocks/dealer-locator/vendor/moment.js', { type: 'text/javascript', charset: 'UTF-8' }).then(() => {\n    loadScript('/blocks/dealer-locator/vendor/moment-timezone.min.js', { type: 'text/javascript', charset: 'UTF-8' });\n  });\n\n  block.innerHTML = `<input id=\"hoverText\" value=\"Please unselect the selected option to click this option\" hidden/>\n<div class=\"wrapper\">\n    <div class=\"mobile-main-header\">\n        <div class=\"panel-header\">\n            <input type=\"text\" id=\"location2\" placeholder=\"Enter City, State, or Zip Code\"/>\n            <div class=\"search-container\">\n                <button type=\"button\" id=\"search\" onclick=\"$.fn.setAddress2();\">\n                    <img src=\"/blocks/dealer-locator/images/search.svg\"/>\n                </button>\n            </div>\n            <div class=\"filter-container\">\n                <button type=\"button\" onclick=\"$.fn.switchSidebarPane('sidebar-filter');\">\n                    <div style=\"width:44px;\">\n                        <div class=\"icon\"><img src=\"/blocks/dealer-locator/images/filter.svg\"/></div>\n                    </div>\n                </button>\n            </div>\n            <div class=\"geo-container\">\n                <button type=\"button\" id=\"search\" onclick=\"$.fn.setLocation();\"><img\n                        src=\"/blocks/dealer-locator/images/location.svg\"/></button>\n            </div>\n\n        </div>\n    </div>\n    <div id=\"map\"></div>\n    <div class=\"map-geo-container\">\n        <button type=\"button\" id=\"search\" onclick=\"$.fn.setLocation();\"><img\n                src=\"/blocks/dealer-locator/images/location.svg\"/></button>\n    </div>\n    <div class=\"sidebar\" style=\"left:0px;\">\n        <div class=\"row main-header\">\n            <div class=\"panel-header\">\n                <input type=\"text\" id=\"location\" placeholder=\"Enter City, State, or Zip Code\"/>\n                <div class=\"search-container\">\n                    <button type=\"button\" id=\"search\" onclick=\"$.fn.setAddress();\">\n                        <img src=\"/blocks/dealer-locator/images/search.svg\"/>\n                    </button>\n                </div>\n                <div class=\"filter-container\">\n                    <button type=\"button\" onclick=\"$.fn.switchSidebarPane('sidebar-filter');\">\n                        <div style=\"width:44px;\">\n                            <div class=\"icon\"><img src=\"/blocks/dealer-locator/images/filter.svg\"/></div>\n                        </div>\n                    </button>\n                </div>\n                <div class=\"geo-container\">\n                    <button type=\"button\" id=\"search\" onclick=\"$.fn.setLocation();\"><img\n                            src=\"/blocks/dealer-locator/images/location.svg\"/></button>\n                </div>\n\n            </div>\n        </div>\n        <div class=\"row legend-header\">\n\n\n            <div class=\"sidebar-legend\">\n                 <span id=\"dealer-tag\">\n                 <div class=\"dealer\" id=\"filterDealer\">\n                     <div>\n                     <img src=\"/blocks/dealer-locator/images/volvo-pin-dealer.svg\" class=\"legend-icon\"/> \n                     <span>Dealer</span>\n                      </div>\n                 </div>\n                     </span>\n                <span id=\"uptime-tag\">\n                 <div class=\"uptime-dealer\" id=\"filterUptime\">\n                     <div>\n                     <img src=\"/blocks/dealer-locator/images/volvo-pin-uptime.svg\" class=\"legend-icon\"/> <span>Certified Uptime Dealer</span>\n                </div>\n                         </div>\n                     </span>\n                <span id=\"electric-tag\">\n                 <div class=\"electric-dealer\" id=\"filterElectricDealer\">\n                     <div>\n                     <img src=\"/blocks/dealer-locator/images/bolt.svg\" class=\"legend-icon\"/> <span>Certified Electric Dealer</span>\n                 </div>\n                     </div>\n                      </span>\n                <div class=\"mobile-dealer\" id=\"filterDealerMobile\">\n                    <div>\n                        <img src=\"/blocks/dealer-locator/images/volvo-pin-dealer.svg\" class=\"legend-icon\"/>\n                        <span>Dealer</span>\n                    </div>\n                </div>\n                <div class=\"mobile-uptime-dealer\" id=\"filterUptimeMobile\">\n                    <div>\n                        <img src=\"/blocks/dealer-locator/images/volvo-pin-uptime.svg\" class=\"legend-icon\"/> <span>Certified Uptime</span>\n                    </div>\n                </div>\n                <div class=\"mobile-electric-dealer\" id=\"filterElectricDealerMobile\">\n                    <div>\n                        <img src=\"/blocks/dealer-locator/images/bolt.svg\" class=\"legend-icon\"/>\n                        <span>Certified Electric</span>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n        <div class=\"row main-directions\" style=\"display: none;\">\n            <div class=\"go-back-direction\" style=\"text-align: right;\">\n                <button type=\"button\" id=\"cancel2\">Back</button>\n            </div>\n            <div class=\"panel-header from-directions\">\n                <input type=\"text\" id=\"location\" placeholder=\"Enter City, State, or Zip Code\"/>\n            </div>\n            <div class=\"panel-header to-directions\" style=\"margin-top:5px;\">\n                <input type=\"text\" id=\"location\" placeholder=\"Enter City, State, or Zip Code\"/>\n            </div>\n            <div class=\"panel-header add-directions\" onclick=\"$.fn.switchSidebarPane('add-directions-return', this);\"\n                 data-id=\"\">\n                <i class=\"fa fa-refresh\"></i> Recalculate Directions\n            </div>\n        </div>\n        <div class=\"sidebar-content\">\n            <div class=\"go-back\" style=\"display:none;\">\n                <button type=\"button\" class=\"tooltip\" id=\"cancel\">Back</button>\n            </div>\n            <div class=\"loading-overlay\">\n                <div class=\"loading-msg\">\n                    <p>One moment while we gather nearby dealers</p>\n                </div>\n            </div>\n            <div class=\"waiting-overlay\">\n                <p>Start finding nearby dealers by providing a location above.</p>\n            </div>\n        </div>\n    </div>\n\n    <a href=\"javascript:void(0);\" class=\"slider-arrow hide\"><i class=\"fa fa-angle-left\"></i></a>\n\n\n</div>\n<div id=\"sidebar-pins\" style=\"display: none;\">\n    <div class=\"row\" style=\"height:100%;\">\n\n        <div class=\"scroller\">\n            <p class=\"no-dealer-text\" style=\"display: none;\">No Dealers Found</p>\n            <div class=\"nearby-pins\"></div>\n        </div>\n    </div>\n    <div class=\"panel-footer\">Loading...</div>\n</div>\n<div id=\"sidebar-pin\" style=\"display: none;\">\n    <div class=\"pin-header\">\n        <div class=\"pin-details-header\">\n            <img id=\"head-marker\" class=\"pin-header-img\" src=\"\"/>\n            <div id=\"title\"></div>\n\n\n        </div>\n        <div id=\"type\"></div>\n        <div class=\"button-group\">\n            <div id=\"my-dealer\" style=\"display: none;\"><i class=\"fa fa-star-o tooltip\"><span\n                    class=\"tooltiptext mydealer\">Your Preferred Dealer</span></i></div>\n        </div>\n\n        <div class=\"dealer-deatils-header\">\n            <div class=\"detail-website\">\n                <a target=\"_blank\">\n                    <img src=\"/blocks/dealer-locator/images/Globe-4.png\"/>\n                    Website</a>\n            </div>\n            <div class=\"detail-direction\">\n                <a id=\"directions\" data-id=\"\" onclick=\"$.fn.switchSidebarPane('sidebar-directions', this);\">\n                    <img src=\"/blocks/dealer-locator/images/GPS-2.png\"/>\n                    Directions</a>\n            </div>\n            <div class=\"detail-call\">\n\n            </div>\n            <div class=\"detail-share\">\n\n                <a id=\"share\" class=\"accordion\">\n                    <img src=\"/blocks/dealer-locator/images/Share-2.png\"/>\n                    SHARE\n                </a>\n\n                <div class=\"accordion-panel\">\n                    <input type=\"text\" id=\"share-link\" value=\"\" onclick=\"this.select();\"/>\n                </div>\n            </div>\n            <div class=\"detail-email\">\n\n            </div>\n        </div>\n    </div>\n    <div class=\"row pin-content\">\n        <div class=\"scroller\">\n            <div class=\"pin-container\">\n\n\n                <ul class=\"pin-details\">\n                    <li>\n                        <img src=\"/blocks/dealer-locator/images/Map.png\"/>\n                        <div id=\"title2\"></div>\n                        <br/>\n                        <div id=\"address1\">\n                            <div></div>\n                        </div>\n                        <br/>\n                        <div id=\"address2\">\n                            <div></div>\n                        </div>\n                        <br/>\n                        <div id=\"city-state-zip\">\n                            <div></div>\n                        </div>\n                        <div class=\"controls\">\n                            <i class=\"tooltip fa fa-copy\" id=\"clipboard-address\" data-clipboard=\"\"\n                               onclick=\"$.fn.copyToClipboard(this);\"><span class=\"tooltiptext copy\">Copy address</span></i>\n                        </div>\n                    </li>\n                    <li id=\"hours\">\n                        <img src=\"/blocks/dealer-locator/images/Clock.png\"/>\n                        <div></div>\n                    </li>\n                    <li>\n                        <img src=\"/blocks/dealer-locator/images/Globe.png\"/>\n                        <div id=\"website\">No website available</div>\n                        <div class=\"controls\">\n                            <i class=\"tooltip fa fa-external-link\" id=\"open-website\" onclick=\"\"><span\n                                    class=\"tooltiptext link\">Open website</span></i>\n                        </div>\n                    </li>\n                    <li>\n                        <img src=\"/blocks/dealer-locator/images/Mail.png\"/>\n                        <div id=\"email\">No email available</div>\n                    </li>\n\n\n                    <li id=\"details\" class=\"accordion-panel\"></li>\n                </ul>\n                <div class=\"header-title header-driver-title\">Driver Amenitites</div>\n                <ul id=\"drivers\">\n                </ul>\n                <div class=\"header-title header-services-title\">Truck Services</div>\n                <ul id=\"services\">\n                </ul>\n            </div>\n        </div>\n    </div>\n</div>\n<div id=\"nearbyPinDetails\" style=\"display: none;\">\n    <div class=\"panel-card\">\n        <div class=\"panel-container\">\n            <article class=\"teaser\">\n                <div class=\"marker-main\">\n                    <img id=\"marker\" src=\"\"/>\n                </div>\n                <div class=\"dealerPanelContainer\">\n                    <div class=\"teaser-top\" onclick=\"$.fn.switchSidebarPane('sidebar-pin', this);\" data-id=\"\">\n                        <div class=\"heading\">\n                            <p></p>\n\n                            <div class=\"distance\"></div>\n                        </div>\n                        <div class=\"info\">\n                            <div class=\"hours\"></div>\n                        </div>\n                        <div class=\"left\">\n                            <div class=\"address\"></div>\n                            <div class=\"city\"></div>\n                            <div class=\"phone\"></div>\n                        </div>\n                    </div>\n                    <div class=\"teaser-bottom\">\n\n                        <div class=\"right\">\n                            <div class=\"website\">\n                                <a href=\"\" target=\"_blank\" rel=\"noopener\"></a>\n                            </div>\n                        </div>\n                        <div class=\"right\">\n                            <div class=\"direction\">\n                                <a href=\"\" id=\"direction\"\n                                   onclick=\"$.fn.switchSidebarPane('sidebar-direction-list', this);return false;\"></a>\n                            </div>\n                        </div>\n                        <div class=\"right\">\n                            <div class=\"call\">\n\n                            </div>\n                        </div>\n                        <div class=\"right\">\n                            <div class=\"more\" onclick=\"$.fn.switchSidebarPane('sidebar-pin', this);\">\n                                <a>More</a>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"teaser-services\">\n                    </div>\n                </div>\n            </article>\n        </div>\n    </div>\n</div>\n<div id=\"sidebar-filter\" style=\"display: none;\">\n    <div class=\"row\" style=\"padding-top: 25px;\">\n        <div class=\"panel-card result-item\">\n            <div class=\"panel-container\">\n                <span class=\"header-title\">Filter By Distance</span>\n                <ul>\n                    <li>\n                        <div>\n                            <input name=range-filter class=range-filter type=range id=range value=75 list=steplist\n                                   max=100 min=25 step=25 onchange=\"$.fn.radiusChange();\"/>\n                            <datalist id=steplist class=sliderticks>\n                                <option>25</option>\n                                <option>50</option>\n                                <option>75</option>\n                                <option>100</option>\n                            </datalist>\n                        </div>\n                    </li>\n                </ul>\n            </div>\n        </div>\n        <div class=\"panel-card result-item\">\n            <div class=\"panel-container\">\n                <span class=\"header-title\">Filter By Service</span>\n                <ul id=\"filter-options\">\n\n                    <li>\n                        <label for=all>All Dealers\n                            <input name=type-filter type=checkbox id=all value=\"All Dealers\" checked=checked/>\n                            <span class=\"checkmark\"></span>\n                        </label>\n                    </li>\n                    <li>\n                        <label for=rental-leasing>Rental &amp; Leasing\n                            <input name=type-filter type=checkbox id=rental-leasing value=Leasing/>\n                            <span class=\"checkmark\"></span>\n                        </label>\n                    </li>\n\n                </ul>\n            </div>\n        </div>\n    </div>\n</div>\n<div id=\"sidebar-direction-list\" style=\"display: none;\">\n    <div class=\"row\">\n        <div class=\"scroller\">\n            <div class=\"directions-panel\">\n                <div class=\"pin-actions directions\">\n                    <button type=\"button\" id=\"gmaps-link\"><img\n                            src=\"/blocks/dealer-locator/images/Google-Maps-Old.svg\"/><span>Open in<br>Google Maps</span>\n                    </button>\n                    <button type=\"button\" id=\"print\"><img\n                            src=\"/blocks/dealer-locator/images/Print.svg\"/><span>Print</span></button>\n                    <button type=\"button\" id=\"add-directions\" onclick=\"$.fn.switchSidebarPane('sidebar-select-pins');\">\n                        <img src=\"/blocks/dealer-locator/images/MacOS-Maximize.svg\"/></i><span>Modify Dealer<br>Waypoints</span>\n                    </button>\n                </div>\n                <div id=\"directions-container\"></div>\n            </div>\n        </div>\n    </div>\n\n</div>\n<div id=\"sidebar-directions\" style=\"display: none;\">\n\n    <div class=\"row\">\n        <div class=\"scroller\">\n            <div class=\"directions-panel\">\n                <div class=\"pin-actions directions\">\n                    <button type=\"button\" id=\"gmaps-link\"><img\n                            src=\"/blocks/dealer-locator/images/Google-Maps-Old.svg\"/><span>Open in<br>Google Maps</span>\n                    </button>\n                    <button type=\"button\" id=\"print\"><img\n                            src=\"/blocks/dealer-locator/images/Print.svg\"/><span>Print</span></button>\n                    <button type=\"button\" id=\"add-directions\" onclick=\"$.fn.switchSidebarPane('sidebar-select-pins');\">\n                        <img src=\"/blocks/dealer-locator/images/MacOS-Maximize.svg\"/></i><span>Modify Dealer<br>Waypoints</span>\n                    </button>\n                </div>\n                <div id=\"directions-container\"></div>\n            </div>\n        </div>\n    </div>\n</div>\n<div id=\"sidebar-select-pins\" style=\"display: none;\">\n    <div class=\"row\">\n        <span class=\"header-title\">Advanced Routing</span>\n        <p>Click any <i><span id=\"filter\"></span> Dealer</i> on the map to add it to your route. When done, click\n            <strong>Calculate Route</strong> below.</p>\n        <p>\n        <div class=\"go-back-pin\">\n            <button type=\"button\">Calculate Route</button>\n            <button type=\"button\">Back to Directions</button>\n        </div>\n        </p>\n        <div class=\"scroller\">\n            <div class=\"nearby-select\"></div>\n        </div>\n    </div>\n</div>\n<div id=\"sidebar-select-pin\" style=\"display: none;\">\n    <div class=\"panel-card\">\n        <div class=\"panel-container\">\n            <article class=\"teaser\">\n\n                <div style=\"width: 15%;\">\n                    <i class=\"fa fa-close tooltip\" onclick=\"$.fn.removeWaypoint(this)\" data-id=\"\"><span\n                            class=\"tooltiptext removepin\">Remove from route</span></i>\n                </div>\n                <div style=\"width: 80%;\">\n                    <div class=\"teaser-top\">\n                        <div class=\"heading\">\n                            <p></p>\n                        </div>\n                        <div class=\"info\">\n                            <div class=\"hours\"></div>\n                            <div class=\"distance\"></div>\n                        </div>\n                    </div>\n                    <div class=\"teaser-bottom\">\n                        <div class=\"left\">\n                            <div class=\"address\"></div>\n                            <div class=\"city\"></div>\n                            <div class=\"phone\"></div>\n                        </div>\n                        <div class=\"right\">\n                            <div class=\"website\">\n                                <a href=\"\" target=\"_blank\" rel=\"noopener\"></a>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"teaser-services\">\n\n                    </div>\n                </div>\n            </article>\n        </div>\n    </div>\n</div>\n<div id=\"locator-snackbar\"></div>\n</div> `;\n}\n","/**\n * Viewports with fractional widths can occur under certain conditions on high-dpi devices.\n * Using values with higher precision for these comparisons.\n */\nexport const breakpoints = {\n    xs: {\n        from: 0,\n        to: 599.98,\n    },\n    sm: {\n        from: 600,\n        to: 904.98,\n    },\n    md: {\n        from: 905,\n        to: 1239.98,\n    },\n    lg: {\n        from: 1240,\n        to: 1439.98,\n    },\n    xl: {\n        from: 1440,\n        to: 15360,\n    },\n};\n//# sourceMappingURL=breakpoints.js.map","/*\n * Copyright 2023 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nasync function* request(url, context) {\n  const { chunks, sheet, fetch } = context;\n  for (let offset = 0, total = Infinity; offset < total; offset += chunks) {\n    const params = new URLSearchParams(`offset=${offset}&limit=${chunks}`);\n    if (sheet) {\n      params.append('sheet', sheet);\n    }\n    const resp = await fetch(`${url}?${params.toString()}`);\n    if (resp.ok) {\n      const json = await resp.json();\n      total = json.total;\n      for (const entry of json.data) {\n        yield entry;\n      }\n    } else {\n      return;\n    }\n  }\n}\n\n// Operations:\n\nfunction withFetch(upstream, context, fetch) {\n  context.fetch = fetch;\n  return upstream;\n}\n\nfunction withHtmlParser(upstream, context, parseHtml) {\n  context.parseHtml = parseHtml;\n  return upstream;\n}\n\nfunction chunks(upstream, context, chunks) {\n  context.chunks = chunks;\n  return upstream;\n}\n\nfunction sheet(upstream, context, sheet) {\n  context.sheet = sheet;\n  return upstream;\n}\n\nasync function* skip(upstream, context, skip) {\n  let skipped = 0;\n  for await (const entry of upstream) {\n    if (skipped < skip) {\n      skipped += 1;\n    } else {\n      yield entry;\n    }\n  }\n}\n\nasync function* limit(upstream, context, limit) {\n  let yielded = 0;\n  for await (const entry of upstream) {\n    yield entry;\n    yielded += 1;\n    if (yielded === limit) {\n      return;\n    }\n  }\n}\n\nasync function* map(upstream, context, fn, maxInFlight = 5) {\n  const promises = [];\n  for await (let entry of upstream) {\n    promises.push(fn(entry));\n    if (promises.length === maxInFlight) {\n      for (entry of promises) {\n        entry = await entry;\n        if (entry) {\n          yield entry;\n        }\n      }\n      promises.splice(0, promises.length);\n    }\n  }\n  for (let entry of promises) {\n    entry = await entry;\n    if (entry) {\n      yield entry;\n    }\n  }\n}\n\nasync function* filter(upstream, context, fn) {\n  for await (const entry of upstream) {\n    if (fn(entry)) {\n      yield entry;\n    }\n  }\n}\n\nfunction slice(upstream, context, from, to) {\n  return limit(skip(upstream, context, from), context, to - from);\n}\n\nfunction follow(upstream, context, name, maxInFlight = 5) {\n  const { fetch, parseHtml } = context;\n  return map(\n    upstream,\n    context,\n    async (entry) => {\n      const value = entry[name];\n      if (value) {\n        const resp = await fetch(value);\n        return { ...entry, [name]: resp.ok ? parseHtml(await resp.text()) : null };\n      }\n      return entry;\n    },\n    maxInFlight,\n  );\n}\n\nasync function all(upstream) {\n  const result = [];\n  for await (const entry of upstream) {\n    result.push(entry);\n  }\n  return result;\n}\n\nasync function first(upstream) {\n  for await (const entry of upstream) {\n    return entry;\n  }\n  return null;\n}\n\n// Helper\n\nfunction assignOperations(generator, context) {\n  // operations that return a new generator\n  function createOperation(fn) {\n    return (...rest) => assignOperations(fn.apply(null, [generator, context, ...rest]), context);\n  }\n  const operations = {\n    skip: createOperation(skip),\n    limit: createOperation(limit),\n    slice: createOperation(slice),\n    map: createOperation(map),\n    filter: createOperation(filter),\n    follow: createOperation(follow),\n  };\n\n  // functions that either return the upstream generator or no generator at all\n  const functions = {\n    chunks: chunks.bind(null, generator, context),\n    all: all.bind(null, generator, context),\n    first: first.bind(null, generator, context),\n    withFetch: withFetch.bind(null, generator, context),\n    withHtmlParser: withHtmlParser.bind(null, generator, context),\n    sheet: sheet.bind(null, generator, context),\n  };\n\n  return Object.assign(generator, operations, functions);\n}\n\nexport function ffetch(url) {\n  let chunks = 255;\n  const fetch = (...rest) => window.fetch.apply(null, rest);\n  const parseHtml = (html) => new window.DOMParser().parseFromString(html, 'text/html');\n\n  try {\n    if ('connection' in window.navigator && window.navigator.connection.saveData === true) {\n      // request smaller chunks in save data mode\n      chunks = 64;\n    }\n  } catch (e) {\n    /* ignore */\n  }\n\n  const context = { chunks, fetch, parseHtml };\n  const generator = request(url, context);\n\n  return assignOperations(generator, context);\n}\n","import { isVideoLink, createVideo } from '../../scripts/video-helper.js';\nimport { createElement } from '../../scripts/common.js';\n\nconst blockName = 'v2-key-facts';\n\nconst CLASSES = {\n  row: `${blockName}__row`,\n  row_media: `${blockName}__row--with-media`,\n  row_text: `${blockName}__row--with-text`,\n  video: `${blockName}__video`,\n  image: `${blockName}__image`,\n  key_item: `${blockName}__key-item`,\n  item_title: `${blockName}__key-title`,\n  item_subtitle: `${blockName}__key-subtitle`,\n  centered: `${blockName}__centered`,\n  two_items: `${blockName}__two-items`,\n};\n\n/**\n *  Helper function to check if an element has text nodes as direct children\n * @param {HTMLElement} el The element to check\n * @returns {boolean} True if the element has text nodes, false otherwise\n */\nconst CheckForTextNodes = (el) => {\n  let hasTextNodes = false;\n  [...el.childNodes].forEach((node) => {\n    if (node.nodeType === Node.TEXT_NODE && node.textContent.trim().length > 0) {\n      hasTextNodes = true;\n    }\n  });\n  return hasTextNodes;\n};\n\n/**\n * Build the text section of a key fact item\n * @param {HTMLElement} el The key fact item element\n * @param {boolean} hasMedia True if the block has media, false otherwise\n */\nconst buildTextsSection = (el, hasMedia) => {\n  [...el.querySelectorAll(':scope > p, :scope > h4')].forEach((el, idx) => {\n    el.classList.add(`${CLASSES[`item_${idx === 0 ? '' : 'sub'}title`]}`);\n    if (el.childNodes.length <= 1) {\n      return;\n    }\n    const hasTextNodes = CheckForTextNodes(el);\n    [...el.childNodes].forEach((node) => {\n      if (!hasTextNodes || node.nodeType === Node.TEXT_NODE || node.nodeType === Node.BR) {\n        return;\n      }\n      node.classList.add('small');\n\n      if (hasMedia) {\n        // wrap non-text nodes in a span to avoid variants compatibility issues if has media like video or image\n        const span = createElement('span', { classes: node.className });\n        span.innerHTML = node.innerHTML;\n        node.replaceWith(span);\n      }\n    });\n  });\n};\n\nexport default function decorate(block) {\n  let hasMedia = false;\n  Array.from(block.children).forEach((row) => {\n    row.classList.add(CLASSES.row);\n\n    const columns = Array.from(row.children);\n    if (columns.length === 2) {\n      row.classList.add(CLASSES.two_items);\n    }\n    columns.forEach((col) => {\n      const videoLinks = [...col.querySelectorAll('a')].filter(isVideoLink);\n      const isVideoCell = videoLinks.length;\n      const isImageCell = !!col.querySelector('picture');\n      row.classList.add(isVideoCell || isImageCell ? CLASSES.row_media : CLASSES.row_text);\n      hasMedia = hasMedia || Boolean(isVideoCell) || Boolean(isImageCell);\n\n      if (isVideoCell) {\n        const video = createVideo(videoLinks[0].getAttribute('href'), CLASSES.video, {\n          muted: true,\n          autoplay: true,\n          loop: 'loop',\n          playsinline: true,\n        });\n        col.replaceWith(video);\n        videoLinks[0].remove();\n        return;\n      }\n\n      if (isImageCell) {\n        col.classList.add(CLASSES.image);\n        return;\n      }\n\n      col.classList.add(CLASSES.key_item);\n      buildTextsSection(col, hasMedia);\n    });\n    if (!hasMedia) {\n      row.classList.add(CLASSES.centered);\n    }\n  });\n}\n","const debounceDelay = 30;\n\nfunction stripEmptyTags(main, child) {\n  if (child !== main && child.innerHTML.trim() === '') {\n    const parent = child.parentNode;\n    child.remove();\n    stripEmptyTags(main, parent);\n  }\n}\n\nfunction setActive(tabNavigation, tabContainer, index) {\n  if (!tabNavigation.children[index].classList.contains('active')) {\n    [tabNavigation, tabContainer].forEach((c) => c.querySelectorAll('.active').forEach((i) => i.classList.remove('active')));\n\n    handlingVideo(tabContainer, index);\n    tabNavigation.children[index].classList.add('active');\n    tabContainer.children[index].classList.add('active');\n  }\n}\n\nfunction buildTabNavigation(tabItems, clickHandler) {\n  const tabNavigation = document.createElement('ul');\n  [...tabItems].forEach((tabItem, i) => {\n    const listItem = document.createElement('li');\n    const button = document.createElement('button');\n    button.addEventListener('click', () => clickHandler.call(this, tabNavigation, tabItem, i));\n    const tabContent = tabItem.querySelector(':scope > div');\n    button.innerHTML = tabContent.dataset.carousel;\n    listItem.append(button);\n    tabNavigation.append(listItem);\n  });\n  tabNavigation.className = 'tab-navigation';\n  return tabNavigation;\n}\n\nfunction handlingVideo(carouselContainer, activeIndex) {\n  carouselContainer.querySelectorAll('.tab-item').forEach((tab, index) => {\n    const video = tab.querySelector('video');\n\n    if (video) {\n      if (index === activeIndex) {\n        video.play();\n      } else {\n        video.pause();\n      }\n    }\n  });\n}\n\nexport default function decorate(block) {\n  const tabContainer = block.querySelector(':scope > div');\n  tabContainer.classList.add('tab-container');\n  const tabItems = block.querySelectorAll(':scope > div > div');\n\n  tabItems.forEach((tabItem) => {\n    const firstChildParagraph = tabItem.querySelector(':scope > p');\n    if (firstChildParagraph) {\n      tabItem.innerHTML = firstChildParagraph.innerHTML;\n    }\n  });\n\n  const tabNavigation = buildTabNavigation(tabItems, (nav, tabItem, index) => {\n    tabContainer.scrollTo({\n      top: 0,\n      left: tabItem.offsetLeft - tabItem.parentNode.offsetLeft,\n      behavior: 'smooth',\n    });\n\n    setActive(tabNavigation, tabContainer, index);\n  });\n  tabItems.forEach((tabItem) => {\n    tabItem.classList.add('tab-item');\n    const tabContent = tabItem.querySelector(':scope > div');\n    const picture = tabItem.querySelector('picture');\n\n    if (picture) {\n      tabContent.prepend(picture);\n    }\n\n    tabContent.querySelectorAll('p, div').forEach((item) => {\n      stripEmptyTags(tabContent, item);\n    });\n  });\n  block.parentElement.prepend(tabNavigation);\n\n  // update the button indicator on scroll\n  let scrollTimeout;\n  tabContainer.addEventListener('scroll', () => {\n    if (scrollTimeout) {\n      clearTimeout(scrollTimeout);\n    }\n    scrollTimeout = setTimeout(() => {\n      const { scrollLeft } = tabContainer;\n      const { clientWidth } = tabContainer.firstElementChild;\n      const activeIndex = Math.floor(scrollLeft / clientWidth);\n      setActive(tabNavigation, tabContainer, activeIndex);\n    }, debounceDelay);\n  });\n\n  setActive(tabNavigation, tabContainer, 0);\n}\n","import{_$LH as o}from\"./lit-html.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{I:t}=o,i=o=>null===o||\"object\"!=typeof o&&\"function\"!=typeof o,n={HTML:1,SVG:2,MATHML:3},e=(o,t)=>void 0===t?void 0!==o?._$litType$:o?._$litType$===t,l=o=>null!=o?._$litType$?.h,d=o=>void 0!==o?._$litDirective$,c=o=>o?._$litDirective$,f=o=>void 0===o.strings,r=()=>document.createComment(\"\"),s=(o,i,n)=>{const e=o._$AA.parentNode,l=void 0===i?o._$AB:i._$AA;if(void 0===n){const i=e.insertBefore(r(),l),d=e.insertBefore(r(),l);n=new t(i,d,o,o.options)}else{const t=n._$AB.nextSibling,i=n._$AM,d=i!==o;if(d){let t;n._$AQ?.(o),n._$AM=o,void 0!==n._$AP&&(t=o._$AU)!==i._$AU&&n._$AP(t)}if(t!==l||d){let o=n._$AA;for(;o!==t;){const t=o.nextSibling;e.insertBefore(o,l),o=t}}}return n},v=(o,t,i=o)=>(o._$AI(t,i),o),u={},m=(o,t=u)=>o._$AH=t,p=o=>o._$AH,M=o=>{o._$AR(),o._$AA.remove()},h=o=>{o._$AR()};export{n as TemplateResultType,h as clearPart,p as getCommittedValue,c as getDirectiveClass,s as insertPart,l as isCompiledTemplateResult,d as isDirectiveResult,i as isPrimitive,f as isSingleExpression,e as isTemplateResult,M as removePart,v as setChildPartValue,m as setCommittedValue};\n//# sourceMappingURL=directive-helpers.js.map\n","function buildTabNavigation(tabItems, clickHandler) {\n  const tabNavigation = document.createElement('ul');\n  [...tabItems].forEach((tabItem, i) => {\n    const listItem = document.createElement('li');\n    if (!i) {\n      listItem.classList.add('active');\n    }\n    const button = document.createElement('button');\n    const tabContent = tabItem.querySelector(':scope > div, :scope > p > div');\n    if (tabContent) {\n      button.addEventListener('click', () => clickHandler.call(this, tabContent, tabNavigation, listItem));\n      button.innerHTML = tabContent.dataset.accordion;\n    }\n    listItem.append(button);\n    tabNavigation.append(listItem);\n  });\n  tabNavigation.className = 'tab-navigation';\n  return tabNavigation;\n}\n\nexport default function decorate(block) {\n  const tabContainer = block.querySelector(':scope > div, :scope > p > div');\n  tabContainer.classList.add('accordion-container');\n  const tabItems = block.querySelectorAll(':scope > div > div');\n  const tabNavigation = buildTabNavigation(tabItems, (tabContent, nav, listItem) => {\n    const currentActiveTabContent = tabContainer.querySelector('.is-active');\n    if (currentActiveTabContent !== tabContent) {\n      currentActiveTabContent.classList.remove('is-active');\n    }\n    tabContent.parentElement.classList.add('is-active');\n\n    const currentActiveNavigationItem = nav.querySelector('.active');\n    if (currentActiveNavigationItem !== listItem) {\n      currentActiveNavigationItem.classList.remove('active');\n    }\n    listItem.classList.add('active');\n  });\n  tabItems.forEach((tabItem, i) => {\n    tabItem.classList.add('accordion-item');\n    const accordionContent = tabItem.querySelector(':scope > div, :scope > p > div');\n    accordionContent.classList.add('accordion-collapse');\n    const accordionHeader = document.createElement('div');\n    accordionHeader.classList.add('accordion-header');\n    if (!i) {\n      tabItem.classList.add('is-active');\n    }\n    const button = document.createElement('button');\n    button.innerHTML = accordionContent.dataset.accordion;\n    accordionHeader.append(button);\n    button.addEventListener('click', () => {\n      tabItem.classList.toggle('is-active');\n    });\n    tabItem.prepend(accordionHeader);\n  });\n  block.parentElement.prepend(tabNavigation);\n}\n","/* eslint-disable  */\n\n// Map Sidebar Animation\n$('.slider-arrow').click(function () {\n\n  if ($(this).hasClass('show')) {\n\n    if ($(window).width() <= 700) {\n      $(\".slider-arrow, .sidebar, .sidebar-legend\").animate({\n        left: \"+=80%\"\n      }, 200, function () {\n        // Animation complete.\n      });\n    }\n    else {\n      $(\".slider-arrow, .sidebar, .sidebar-legend\").animate({\n        left: \"+=483\"\n      }, 200, function () {\n        // Animation complete.\n      });\n    }\n\n    $(this).removeClass('show').addClass('hide').find('i').removeClass('fa fa-angle-right').addClass('fa fa-angle-left');\n  }\n  else {\n\n    if ($(window).width() <= 700) {\n      $(\".slider-arrow, .sidebar, .sidebar-legend\").animate({\n        left: \"-=80%\"\n      }, 200, function () {\n        // Animation complete.\n      });\n    }\n    else {\n      $(\".slider-arrow, .sidebar, .sidebar-legend\").animate({\n        left: \"-=483\"\n      }, 200, function () {\n        // Animation complete.\n      });\n    }\n\n    $(this).removeClass('hide').addClass('show').find('i').removeClass('fa fa-angle-left').addClass('fa fa-angle-right');\n  }\n});\n\n// Global values\n$html = $('html');\n$pins2 = [];\n$pins = [];                                                                                     // array of all pin details (YOUR ARRAY OF PINS GO HERE)\n$location = null;                                                                               // stores users current coordinates {lat, lng}\n$radius = null;                                                                                 // stores current google maps radius object\n$me = null;                                                                                     // stores the 'me' marker object\n$nearbyPins = [];                                                                               // stores pin ID's for pins shown in radius\n$markers = [];                                                                                  // stores all google marker objects\n$radiusControl = $('#filters input[type=\"range\"]');                                             // the radius filter control input\n$map = null;                                                                                    // the main google map object\n$geocoder = null;                                                                               // geocoder object for all things geocode\n$filters = $('.sidebar-content #filter-options input[type=\"checkbox\"]');                        // the radio group filter values\n$consolidateFilters = window.locatorConfig.consolidateFilters;                                  // Shows \"All Dealers\" and \"Rental & Leasing\" filter options\n$viewingPin = null;                                                                             // tracks current pin in view\n$pinIcon = 'pin.svg';                                                                           // sets basic marker pin icon\n//$pinIconHover = 'pin_hover.svg';                                                              // sets hover marker pin icon\n$meIcon = '/blocks/dealer-locator/images/ME.svg';                                               // sets the icon of the ME marker\n$panes = [];                                                                                    // cache all panes created\n$lastPane = \"\";                                                                                 // track the last pane in view\n$radiusValue = $('#range').val();                                                               // the current radius value\n$sortedPins = null;                                                                             // stores all pins by distance (miles)\n$offset = ((new Date().getTimezoneOffset()) / 60) * -1;\n$key = 'AIzaSyAP8IewqHuU8SMz_6tNiIUlbU_l0GFOd1w';\n$myDealer = null;\n$wayPoints = [];\n$directionsService = null;\n$directionsDisplay = null;\n$directionsObject = null;\n$printDirections = $('#print-directions');\n$printableDirections = $('#printable-directions');\n$directionResults = null;\n$currentAddress = '';\n$directionsMessage = $('#directions-message');\n$isAmentities = window.locatorConfig.amenities;\n$brandOptionSelected = \"\";\nvar uptimeClicked = false;\n$electricDealer = false;\n$hoverText = $('#hoverText').val();\n\nconst colorGrey1 = getComputedStyle(document.documentElement).getPropertyValue('--c-grey-1');\nconst colorGrey2 = getComputedStyle(document.documentElement).getPropertyValue('--c-grey-2');\nconst colorGrey3 = getComputedStyle(document.documentElement).getPropertyValue('--c-grey-3');\nconst colorGrey4 = getComputedStyle(document.documentElement).getPropertyValue('--c-grey-4');\n\n// Google callback letting us know maps is ready to be used\n(function () {\n  initMap = function () {\n\n    $geocoder = new google.maps.Geocoder();\n\n    $map = new google.maps.Map(document.getElementById('map'), {\n      center: { lat: 39.670469, lng: -101.766407 },                                             // set default center to be U.S.A\n      zoom: 4,\n      mapTypeControl: false,\n      streetViewControl: false,\n      fullscreenControl: false,\n      styles: [\n        {\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": colorGrey1\n            }\n          ]\n        },\n        {\n          \"elementType\": \"labels.icon\",\n          \"stylers\": [\n            {\n              \"visibility\": \"on\"\n            }\n          ]\n        },\n        {\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": colorGrey4\n            }\n          ]\n        },\n        {\n          \"elementType\": \"labels.text.stroke\",\n          \"stylers\": [\n            {\n              \"color\": colorGrey1\n            }\n          ]\n        },\n        {\n          \"featureType\": \"administrative.land_parcel\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": colorGrey2\n            }\n          ]\n        },\n        {\n          \"featureType\": \"poi\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": colorGrey1\n            }\n          ]\n        },\n        {\n          \"featureType\": \"poi\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": colorGrey3\n            }\n          ]\n        },\n        {\n          \"featureType\": \"poi.park\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": \"#e5e5e5\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"poi.park\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": \"#9e9e9e\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"road\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": \"#ffffff\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"road.arterial\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": colorGrey3\n            }\n          ]\n        },\n        {\n          \"featureType\": \"road.highway\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": \"#dadada\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"road.highway\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": colorGrey4\n            }\n          ]\n        },\n        {\n          \"featureType\": \"road.local\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": \"#9e9e9e\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"transit.line\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": \"#e5e5e5\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"transit.station\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": colorGrey1\n            }\n          ]\n        },\n        {\n          \"featureType\": \"water\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": \"#c9c9c9\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"water\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": \"#9e9e9e\"\n            }\n          ]\n        }\n      ]\n    });\n\n    // Attempt geolocation\n    $.fn.setLocation();\n\n    $directionsService = new google.maps.DirectionsService();\n    $directionsDisplay = new google.maps.DirectionsRenderer();\n  }\n})();\n\n$.fn.initGoogleMaps = function () {\n  // Lets us control OOO when some cases gmaps takes longer to initialize\n  $.ajax({\n    type: \"GET\",\n    url: \"https://maps.googleapis.com/maps/api/js?key=AIzaSyAP8IewqHuU8SMz_6tNiIUlbU_l0GFOd1w&libraries=places,geometry\",\n    dataType: \"script\",\n    success: function (d) {\n      initMap();\n    }\n  });\n};\n\n$.fn.getTimeZoneId = async function (dealer) {\n  var lat = dealer.MAIN_LATITUDE;\n  var long = dealer.MAIN_LONGITUDE;\n\n  var apiUrl = `https://maps.googleapis.com/maps/api/timezone/json?location=${lat},${long}&timestamp=${Math.floor(Date.now() / 1000)}&key=${$key}`;\n\n  var response = await fetch(apiUrl);\n  var locationObj = await response.json();\n\n  return locationObj.timeZoneId;\n};\n\n$.fn.loadPins = function () {\n\n\n  $pins = [];\n  $nearbyPins = [];\n  $markers = [];\n\n  if (!window.locatorConfig.dataSource) {\n    // TODO: Review this:\n    window.locatorConfig.dataSource = '/simpleprox.ashx?https://dealerlocator.volvotrucks.us/Volvo_DealerJson.ashx';\n  }\n\n  $.ajax({\n    url: `${window.locatorConfig.dataSource}?state=1`,\n    type: \"GET\",\n    success: function (data) {\n\n      try {\n        data = JSON.parse(data);\n      } catch (e) {\n        // data is already an object, proceed.\n      }\n\n      for (var country in data.countries) {\n\n        if (data.countries.hasOwnProperty(country)) {\n\n          $country = data.countries[country];\n\n          for (var state in $country.states) {\n\n            if ($country.states.hasOwnProperty(state)) {\n\n              $state = $country.states[state];\n\n              for (var dealer in $state.dealers) {\n\n                if ($state.dealers.hasOwnProperty(dealer)) {\n\n                  $dealer = $state.dealers[dealer];\n\n                  if ($dealer.services) {\n\n                    for (var service in $dealer.services) {\n\n                      if ($dealer.services.hasOwnProperty(service)) {\n\n                        $service = $dealer.services[service];\n\n                        if ($service.toLowerCase().indexOf(\"certified uptime\") > -1) {\n                          $dealer.isCertifiedUptimeCenter = true;\n                          $electricDealer = false;\n                        }\n\n                        if ($service.toLowerCase().indexOf(\"certified\") > -1) {\n                          $dealer.isCertifiedCenter = true;\n                        }\n\n                        if ($service.toLowerCase().indexOf('premium used') > -1) {\n                          $dealer.isPremiumUsedTruckDealer = true;\n                          $service = 'Premium Certified Used Truck Dealer';\n                        }\n\n                        if ($service.toLowerCase().indexOf('select part store') > -1) {\n                          $dealer.services[service] = 'SELECT Part Store&reg;';\n                        }\n                      }\n\n                    }\n                    if (Object.values($dealer.services).includes('Volvo Certified EV Dealer')) {\n                      $electricDealer = true;\n                      // $dealer.services == \"Volvo Certified EV Dealer\"\n                      // $dealer.services[service] = 'Volvo Certified EV Dealer';\n                    }\n\n                  }\n                  if ($dealer.isCertifiedUptimeCenter) {\n                    var pinIcon = {\n                      url: \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\",\n                      scaledSize: new google.maps.Size(17, 23), // scaled size\n                      origin: new google.maps.Point(0, 0), // origin\n                      anchor: new google.maps.Point(0, 0)\n                    }\n                    if ($electricDealer === true || ($dealer.services && Object.values($dealer.services).includes('Volvo Certified EV Dealer'))) {\n                      var pinIcon = {\n                        url: \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\",\n                        scaledSize: new google.maps.Size(17, 23), // scaled size\n                        origin: new google.maps.Point(0, 0), // origin\n                        anchor: new google.maps.Point(0, 0)\n                      }\n                    }\n                  }\n                  else if ($electricDealer === true || ($dealer.services && Object.values($dealer.services).includes('Volvo Certified EV Dealer'))) {\n                    var pinIcon = {\n                      url: \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\",\n                      scaledSize: new google.maps.Size(17, 23), // scaled size\n                      origin: new google.maps.Point(0, 0), // origin\n                      anchor: new google.maps.Point(0, 0)\n                    }\n                  }\n                  else {\n                    var pinIcon = {\n                      url: \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\",\n                      scaledSize: new google.maps.Size(17, 23), // scaled size\n                      origin: new google.maps.Point(0, 0), // origin\n                      anchor: new google.maps.Point(0, 0)\n                    }\n                  }\n\n                  $marker = new google.maps.Marker({\n                    id: $dealer.IDENTIFIER_VALUE,\n                    position: { lat: parseFloat($dealer.MAIN_LATITUDE), lng: parseFloat($dealer.MAIN_LONGITUDE) },\n                    title: $dealer.COMPANY_DBA_NAME,\n                    map: $map,\n                    icon: pinIcon\n                  });\n\n                  // Marker click event listener\n                  $marker.addListener('click', function () {\n\n                    var index = $markers.indexOf(this);\n\n                    var marker = $markers[index];\n\n                    $map.panTo(marker.position);\n\n                    if ($lastPane == 'sidebar-select-pins') {\n\n                      var details = null;\n                      for (i = 0; i < $pins.length; i++) {\n\n                        if ($pins[i].IDENTIFIER_VALUE == marker.id) {\n\n                          if ($.fn.isWaypoint($pins[i].waypoint)) {\n                            continue;\n                          }\n\n                          $wayPoints.push($pins[i].waypoint);\n                          details = $pins[i];\n                          // minus icon\n                          var pinIcon = $.fn.drawPin('-', 38, 38, '808080');\n                          marker.setIcon(pinIcon);\n                          // update select-pins display with location\n                          $.fn.renderAddDirectionsPin(marker, details);\n\n                        }\n\n                      }\n\n                      return;\n                    }\n\n                    // reset all markers to basic\n                    $markers.forEach(function (marker) {\n\n                      var details = $.fn.getPinById(marker.ID);\n\n                      if (details.isCertifiedUptimeCenter) {\n                        var pinIcon = {\n                          url: \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\",\n                          scaledSize: new google.maps.Size(17, 23), // scaled size\n                          origin: new google.maps.Point(0, 0), // origin\n                          anchor: new google.maps.Point(0, 0)\n                        }\n                        if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n                          var pinIcon = {\n                            url: \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\",\n                            scaledSize: new google.maps.Size(17, 23), // scaled size\n                            origin: new google.maps.Point(0, 0), // origin\n                            anchor: new google.maps.Point(0, 0)\n                          }\n                        }\n                      }\n                      else if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n                        var pinIcon = {\n                          url: \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\",\n                          scaledSize: new google.maps.Size(17, 23), // scaled size\n                          origin: new google.maps.Point(0, 0), // origin\n                          anchor: new google.maps.Point(0, 0)\n                        }\n                      }\n                      else {\n                        var pinIcon = {\n                          url: \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\",\n                          scaledSize: new google.maps.Size(17, 23), // scaled size\n                          origin: new google.maps.Point(0, 0), // origin\n                          anchor: new google.maps.Point(0, 0)\n                        }\n                      }\n\n                      marker.setIcon(pinIcon);\n\n                    });\n\n                    var details = $.fn.getPinById(marker.ID);\n                    if (details.isCertifiedUptimeCenter) {\n                      var pinIcon = {\n                        url: \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\",\n                        scaledSize: new google.maps.Size(58, 80), // scaled size\n                        origin: new google.maps.Point(0, 0), // origin\n                        anchor: new google.maps.Point(0, 0)\n                      }\n                      if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n                        var pinIcon = {\n                          url: \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\",\n                          scaledSize: new google.maps.Size(58, 80), // scaled size\n                          origin: new google.maps.Point(0, 0), // origin\n                          anchor: new google.maps.Point(0, 0)\n                        }\n                      }\n                    }\n                    else if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n                      var pinIcon = {\n                        url: \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\",\n                        scaledSize: new google.maps.Size(58, 80), // scaled size\n                        origin: new google.maps.Point(0, 0), // origin\n                        anchor: new google.maps.Point(0, 0)\n                      }\n                    }\n                    else {\n                      var pinIcon = {\n                        url: \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\",\n                        scaledSize: new google.maps.Size(58, 80), // scaled size\n                        origin: new google.maps.Point(0, 0), // origin\n                        anchor: new google.maps.Point(0, 0)\n                      }\n                    }\n\n                    marker.setIcon(pinIcon);\n\n                    $.fn.myDealer();\n\n                    $.fn.switchSidebarPane('sidebar-pin', marker.id);\n\n                  });\n\n                  $markers.push($marker);\n\n                  $marker.ID = $dealer.IDENTIFIER_VALUE;\n\n                  $dealer.waypoint = {\n                    id: $dealer.IDENTIFIER_VALUE,\n                    point: {\n                      location: new google.maps.LatLng($dealer.MAIN_LATITUDE, $dealer.MAIN_LONGITUDE),\n                      stopover: false\n                    }\n                  };\n\n                  $pins.push($dealer);\n\n                  $pins2.push($dealer);\n\n                }\n\n              }\n            }\n          }\n        }\n      }\n\n      $.fn.myDealer();\n      $.fn.filterRadius();\n\n      var markerId = $.fn.getUrlParameter('view');\n      var viewMarker = $.fn.getPinById(markerId);\n      if (markerId && viewMarker) {\n\n\n        //setCenter\n        for (i = 0; i < $markers.length; i++) {\n\n          if ($markers[i].id == markerId) {\n\n            $.fn.switchSidebarPane('sidebar-pin', markerId);\n\n          }\n        }\n\n\n      }\n\n\n    }\n\n  });\n};\n\n$.fn.removeWaypoint = function (pin) {\n\n  var $this = $(pin);\n  var $id = $this.attr('data-id');\n\n  for (var i = 0; i < $pins.length; i++) {\n\n    if ($markers[i].id == $id) {\n\n      var pinIcon = $.fn.drawPin('+', 38, 38, '4174C4');\n\n      $markers[i].setIcon(pinIcon);\n    }\n\n  }\n\n  $wayPoints = $.grep($wayPoints, function (w) {\n    return w.id != $id;\n  });\n\n  var parent = $this.parents('.panel-card');\n\n  parent.remove();\n\n};\n\n$.fn.isWaypoint = function (waypoint) {\n\n  for (var i = 0; i < $wayPoints.length; i++) {\n    if ($wayPoints[i].id == waypoint.id) {\n      return true;\n    }\n  }\n  return false;\n};\n\n$.fn.formatTime = function (timeString) {\n  var [ hour, minutes ] = timeString.split(':');\n  var period = 'AM';\n  if (hour >= 12) {\n    period = 'PM';\n    hour = hour - 12;\n  }\n  return `${hour}:${minutes} ${period}`\n}\n\n$.fn.getOpenHours = function (pin) {\n  var time = new Date();\n  var today = time.getDay();\n\n  var isLeasing = Object.keys(pin.hours)[0].toLowerCase() === 'leasing';\n  var allTimes;\n\n  if (!isLeasing) {\n    var { Parts: parts, Sales: sales, Service: service } = pin.hours;\n    allTimes = [ parts[today], sales[today], service[today] ];\n  } else if (isLeasing) {\n    var { Leasing: leasing } = pin.hours;\n    allTimes = [ leasing[today] ];\n  }\n\n  var earliestHour;\n  var latestHour;\n\n  allTimes.forEach((time, idx) => {\n    var { Start: start, End: end } = time;\n    var compareDate = '1/1/2000 '\n\n    switch (start.toLowerCase()) {\n      case 'midnight':\n      case '24':\n        start = '12:00 AM';\n        break;\n      case 'noon':\n        start = '12:00 PM';\n        break;\n    }\n\n    switch (end.toLowerCase()) {\n      case 'midnight':\n      case '24':\n        end = '11:59 PM';\n        break;\n      case 'noon':\n        end = '12:00 PM';\n        break;\n    }\n\n    if (idx === 0) {\n      earliestHour = start;\n      latestHour = end;\n    } else {\n      if (start != '' && new Date (compareDate + start) < new Date (compareDate + earliestHour) || earliestHour === '') {\n        earliestHour = start;\n      }\n      if (end != '' && new Date (compareDate + end) > new Date (compareDate + latestHour)) {\n        latestHour = end;\n      }\n    }\n  });\n\n  return { open: earliestHour, close: latestHour }\n};\n\n$.fn.isOpen = async function (dealer, time) {\n  var hours = $.fn.getOpenHours(dealer);\n  var compareDate = '1/1/2000 '\n\n  if (!dealer.timeZoneId) {\n    dealer.timeZoneId = await $.fn.getTimeZoneId(dealer);\n  }\n\n  if (hours) {\n    var start = new Date(compareDate + hours.open);\n    var end = new Date(compareDate + hours.close);\n\n    if (~hours.close.toLowerCase().indexOf(\"am\")) {\n      // console.log('end date is AM, add 1 day');\n      end.setDate(compareDate.getDate() + 1);\n    }\n\n    var openTime = (start.getHours() * 60) + start.getMinutes();\n    var closeTime = (end.getHours() * 60) + end.getMinutes();\n\n    var stringDealerDate = moment().tz(dealer.timeZoneId).format();\n    var hourPosition = stringDealerDate.indexOf('T');\n    var dealerLocalHour = stringDealerDate.substring(hourPosition + 1, hourPosition + 6);\n    var [ hour, minutes ] = dealerLocalHour.split(':');\n    var dealerTime = (Number(hour) * 60) + Number(minutes);\n\n    if (dealerTime >= openTime && dealerTime < closeTime) {\n      return { open: true };\n    } else {\n      return { open: false };\n    }\n  }\n};\n\n$.fn.canDetermineHours = function (pin) {\n\n  var hours = null;\n\n  if (pin.hours['Parts']) {\n    hours = pin.hours['Parts'];\n  }\n\n  if (!hours && pin.hours['Service']) {\n    hours = pin.hours['Service'];\n  }\n\n  if (!hours && pin.hours['Leasing']) {\n    hours = pin.hours['Leasing'];\n  }\n\n  if (hours) {\n\n    return true;\n  }\n  return false;\n};\n\n$.fn.renderPinDirections = function (markerId) {\n\n  var templateClone = $($('#sidebar-directions').clone(true).html());\n  var templateClone = $($('#sidebar-direction-list').clone(true).html());\n  var markerDetails;\n\n  $('.add-directions').attr('data-id', markerId);\n\n  for (i = 0; i < $sortedPins.length; i++) {\n\n    if ($sortedPins[i].IDENTIFIER_VALUE == markerId) {\n\n      markerDetails = $sortedPins[i];\n    }\n\n  }\n\n  $('.main-header').css('display', 'none');\n  $('.main-directions').css('display', 'block');\n  $('.go-back').css('display', 'none');\n\n  $origin = $currentAddress;\n  if (!$origin || $origin == '') {\n    $origin = $location[0] + ',' + $location[1];\n    $('.from-directions input').val($origin);\n  }\n\n  let {\n    MAIN_ADDRESS_LINE_1_TXT: address1,\n    MAIN_ADDRESS_LINE_2_TXT: address2,\n    MAIN_CITY_NM: mainCity,\n    MAIN_STATE_PROV_CD: mainState,\n    MAIN_POSTAL_CD: postalCd,\n   } = markerDetails;\n\n  $destination = `${address1 || address2} ${mainCity} ${mainState} ${postalCd}`\n\n  if ($('.from-directions input').val()) {\n    $origin = $('.from-directions input').val();\n  }\n\n  $directionsObject = {\n    origin: $origin,\n    destination: $destination,\n    travelMode: 'DRIVING',\n    optimizeWaypoints: true,\n    provideRouteAlternatives: true,\n    waypoints: $.fn.wayPointArray()\n  };\n\n  $directionsService.route(\n      $directionsObject,\n      function (result, status) {\n        if (status == 'OK') {\n\n          $directionsDisplay.setMap($map);\n\n          $directionsDisplay.setPanel(templateClone.find(\"#directions-container\").get(0));\n          $directionsDisplay.setDirections(result);\n          $directionResults = result;\n        }\n      }\n  );\n\n  $('.from-directions input').val($origin);\n  $('.to-directions input').val($destination);\n\n  var waypointDecodeUrl = \"\";\n  for (var x = 0; x < $wayPoints.length; x++) {\n    var loc = $wayPoints[x].point.location;\n\n    waypointDecodeUrl += '/' + loc.lat() + ',' + loc.lng() + '/';\n  }\n\n  templateClone.find('#gmaps-link').attr('onclick', 'window.open(\"https://www.google.com/maps/dir/' + $origin + '/' + $destination + waypointDecodeUrl + '\", \"_blank\")');\n\n  return templateClone;\n}\n\n// Creates sidebar-pini overview item\n$.fn.renderPinDetails = async function (markerId) {\n\n  var templateClone = $($('#sidebar-pin').clone(true).html());\n  var markerDetails;\n\n  for (i = 0; i < $sortedPins.length; i++) {\n    if ($sortedPins[i].IDENTIFIER_VALUE == markerId) {\n      markerDetails = $sortedPins[i];\n    }\n  }\n\n  var marker;\n  for (i = 0; i < $markers.length; i++) {\n    if ($markers[i].id == markerId) {\n      marker = $markers[i];\n      $viewingPin = marker;\n    }\n  }\n\n  templateClone.find('#title').text($.fn.camelCase(markerDetails.COMPANY_DBA_NAME));\n  templateClone.find('#title2').text($.fn.camelCase(markerDetails.COMPANY_DBA_NAME));\n\n  if (!markerDetails.MAIN_ADDRESS_LINE_1_TXT) {\n    templateClone.find('#address1 div').text(markerDetails.MAIN_ADDRESS_LINE_2_TXT);\n    templateClone.find('#address2').next().remove();\n    templateClone.find('#address2').remove();\n  } else if (!markerDetails.MAIN_ADDRESS_LINE_2_TXT) {\n    templateClone.find('#address1 div').text(markerDetails.MAIN_ADDRESS_LINE_1_TXT);\n    templateClone.find('#address2').next().remove();\n    templateClone.find('#address2').remove();\n  } else {\n    templateClone.find('#address1 div').text(markerDetails.MAIN_ADDRESS_LINE_1_TXT);\n    templateClone.find('#address2 div').text(markerDetails.MAIN_ADDRESS_LINE_2_TXT);\n  }\n\n  templateClone.find('#city-state-zip div').text(markerDetails.MAIN_CITY_NM + ', ' + markerDetails.MAIN_STATE_PROV_CD + ' ' + markerDetails.MAIN_POSTAL_CD);\n\n  if (markerDetails.WEB_ADDRESS) {\n    templateClone.find('.detail-website a').attr('href', $.fn.formatWebAddress(markerDetails.WEB_ADDRESS));\n    templateClone.find('#website').text(markerDetails.WEB_ADDRESS).css('text-transform','lowercase');\n  } else {\n    templateClone.find('.detail-website').css({'pointer-events':'none','cursor':'default','opacity':'0.5'});\n    templateClone.find('#website').css({'pointer-events':'none','cursor':'default','opacity':'0.5'});\n    templateClone.find('#website').parent().addClass('noDataClass');\n  }\n\n  if (markerDetails.EMAIL_ADDRESS) {\n    templateClone.find('#email').html('<a href=\"mailto:' + markerDetails.EMAIL_ADDRESS.toLowerCase() + '\">' + markerDetails.EMAIL_ADDRESS.toLowerCase() + '</a>');\n    templateClone.find('.detail-email').html('<a href=\"mailto:' + markerDetails.EMAIL_ADDRESS.toLowerCase() + '\">' + '<img src=\"/blocks/dealer-locator/images/Mail-2.png\" />' + \"Email\" + '</a>');\n  } else {\n    templateClone.find('.detail-email').html('<a>' + '<img src=\"/blocks/dealer-locator/images/Mail-2.png\" />' + \"Email\" + '</a>');\n    templateClone.find('.detail-email').css({'pointer-events':'none','cursor':'default','opacity':'0.5'});\n    templateClone.find('#email').parent().addClass('noDataClass');\n    templateClone.find('#email').css({'pointer-events':'none','cursor':'default','opacity':'0.5'});\n  }\n\n  templateClone.find('#phone div').html('<a href=\"tel:' + markerDetails.REG_PHONE_NUMBER + '\">' + $.fn.formatPhoneNumber(markerDetails.REG_PHONE_NUMBER) + '</a>');\n  templateClone.find('#directions').attr('data-id', markerDetails.IDENTIFIER_VALUE);\n  templateClone.find('#clipboard-address').attr('data-clipboard', markerDetails.MAIN_ADDRESS_LINE_1_TXT + ' ' + markerDetails.MAIN_ADDRESS_LINE_2_TXT + ' ' + markerDetails.MAIN_CITY_NM + ', ' + markerDetails.MAIN_STATE_PROV_CD + ' ' + markerDetails.MAIN_POSTAL_CD);\n\n  templateClone.find('#open-website').attr('onclick', \"window.open('\" + $.fn.formatWebAddress(markerDetails.WEB_ADDRESS) + \"', '_blank')\");\n\n  templateClone.find('#share-link').val(window.location.href.split('?')[0] + '?view=' + markerDetails.IDENTIFIER_VALUE);\n\n  if (markerDetails.REG_PHONE_NUMBER) {\n    templateClone.find('.detail-call').html('<a href=\"tel:' + markerDetails.REG_PHONE_NUMBER + '\">' + '<img src=\"/blocks/dealer-locator/images/Phone-2.png\" />' + \"Call\" + '</a>');\n  } else {\n    templateClone.find('.detail-call').html('<a>' + '<img src=\"/blocks/dealer-locator/images/Phone-2.png\" />' + \"Call\" + '</a>');\n    templateClone.find('.detail-call').css({'pointer-events':'none','cursor':'default','opacity':'0.5'});\n  }\n\n  templateClone.find('#head-marker').attr('src', $viewingPin.icon.url);\n  templateClone.find('#head-marker').css('width', '31px');\n  templateClone.find('#head-marker').css('height', '43px');\n\n  var myDealer = $.fn.getCookie('my-dealer');\n\n  if (myDealer == markerDetails.IDENTIFIER_VALUE) {\n    //  templateClone.find('#set-dealer span').text('Preferred Dealer');\n    templateClone.find('#set-dealer').html('<img src=\"/blocks/dealer-locator/images/Vector-3.svg\" />');\n    templateClone.find('#head-marker').attr('src', $viewingPin.icon);\n  }\n  else {\n    // templateClone.find('#set-dealer span').text('Set As Your Dealer');\n    templateClone.find('#set-dealer').html('<img src=\"/blocks/dealer-locator/images/Star-1.svg\" />');\n  }\n  templateClone.find('#set-dealer').attr('data-pin', markerDetails.IDENTIFIER_VALUE);\n\n  var openHours = $.fn.getOpenHours(markerDetails);\n  var isOpenHtml = \"\";\n\n  if (openHours.open === '' && openHours.close === '') {\n    isOpenHtml = \"No schedule information available\";\n  } else if (openHours.open.toLowerCase() === 'open 24 hours') {\n    isOpenHtml = openHours.open\n  } else if (openHours.open.toLowerCase() === 'closed') {\n    isOpenHtml = openHours.open\n  } else {\n    var isOpen = await $.fn.isOpen(markerDetails);\n    isOpenHtml = `${isOpen.open ? 'Open' : 'Closed' } - ${openHours.open.toLowerCase()} - ${openHours.close.toLowerCase()}`;\n  }\n\n  var servicesHtml = templateClone.find('#services');\n  var driversHtml = templateClone.find('#drivers');\n  var driverAmenities = [];\n  var newdriverAmenities = [];\n  var serviceAmenities = [];\n  if (markerDetails.services) {\n    var newMarkerDetail = Object.values(markerDetails.services);\n  }\n  if (newMarkerDetail) {\n    jQuery.grep(newMarkerDetail, function (el) {\n      if (jQuery.inArray(el, $isAmentities) == -1) serviceAmenities.push(el);\n    });\n  }\n  if ($isAmentities) {\n    jQuery.grep($isAmentities, function (el) {\n      if (jQuery.inArray(el, newMarkerDetail) == -1) driverAmenities.push(el);\n    });\n  }\n  if ($isAmentities) {\n    jQuery.grep($isAmentities, function (el) {\n      if (jQuery.inArray(el, driverAmenities) == -1) newdriverAmenities.push(el);\n    });\n  }\n  if (serviceAmenities) {\n    $.each(serviceAmenities, function (i, item) {\n\n      $(\"<li/>\", {\n        'html': serviceAmenities[i]\n      }).appendTo(servicesHtml);\n\n    });\n  }\n  if (newdriverAmenities) {\n    $.each(newdriverAmenities, function (i, item) {\n\n      $(\"<li/>\", {\n        'html': newdriverAmenities[i]\n      }).appendTo(driversHtml);\n    });\n  }\n  var driversId = templateClone.find('#drivers');\n  if (driversId && !driversId.find('li').length || newdriverAmenities.length == 0) {\n    templateClone.find('.header-driver-title').hide();\n  } else {\n    templateClone.find('.header-driver-title').show();\n  }\n\n  if ($.isEmptyObject(markerDetails.services)) {\n    templateClone.find('.header-title').css('display', 'none');\n  }\n\n  // We need to display all hours to the user in the details pane\n  var hours = null;\n  var hoursHtml = templateClone.find('#details');\n  var days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n\n  var hasPartsHours = false,\n      hasServiceHours = false,\n      hasLeasingHours = false,\n      hasSalesHours = false;\n\n\n  if (markerDetails.hours.Parts) {\n    hours = markerDetails.hours.Parts;\n\n    $(\"<div/>\", {\n      'html': '<div class=\"hours-dept\">Parts:</div>'\n    }).appendTo(hoursHtml);\n\n    var added = 0;\n    $.each(hours, function (i, item) {\n\n      if (hours[i].Start.toLowerCase().indexOf('24 hours') >= 0 || hours[i].Start.toLowerCase().indexOf('closed') >= 0) {\n        hours[i].Start = '';\n      } else if (hours[i].Start.toLowerCase().length <= 0) {\n        return;\n      }\n\n      $(\"<div/>\", {\n        'html': '<span id=day>' + days[i] + '</span> <span id=time>' + hours[i].Start + ((!hours[i].Start) ? '' : ' - ') + hours[i].End + '</span>'\n      }).appendTo(hoursHtml);\n      added++;\n      hasPartsHours = true;\n    });\n\n    if (added <= 0) {\n      $(\"<div/>\", {\n        'html': 'Please call for hours.'\n      }).appendTo(hoursHtml);\n    }\n\n  }\n\n  if (markerDetails.hours.Service) {\n    hours = markerDetails.hours.Service;\n\n    $(\"<div/>\", {\n      'html': '<div class=\"hours-dept\">Service:</div>'\n    }).appendTo(hoursHtml);\n\n    var added = 0;\n    $.each(hours, function (i, item) {\n\n      if (hours[i].Start.toLowerCase().indexOf('24 hours') >= 0 || hours[i].Start.toLowerCase().indexOf('closed') >= 0) {\n        hours[i].Start = '';\n      } else if (hours[i].Start.toLowerCase().length <= 0) {\n        return;\n      }\n\n      $(\"<div/>\", {\n        'html': '<span id=day>' + days[i] + '</span> <span id=time>' + hours[i].Start + ((!hours[i].Start) ? '' : ' - ') + hours[i].End + '</span>'\n      }).appendTo(hoursHtml);\n      added++;\n      hasServiceHours = true;\n    });\n\n    if (added <= 0) {\n      $(\"<div/>\", {\n        'html': 'Please call for hours.'\n      }).appendTo(hoursHtml);\n    }\n  }\n\n  if (markerDetails.hours.Leasing) {\n    hours = markerDetails.hours.Leasing;\n\n    $(\"<div/>\", {\n      'html': '<div class=\"hours-dept\">Leasing:</div>'\n    }).appendTo(hoursHtml);\n\n    var added = 0;\n    $.each(hours, function (i, item) {\n\n      if (hours[i].Start.toLowerCase().indexOf('24 hours') >= 0 || hours[i].Start.toLowerCase().indexOf('closed') >= 0) {\n        hours[i].Start = '';\n      } else if (hours[i].Start.toLowerCase().length <= 0) {\n        return;\n      }\n\n      $(\"<div/>\", {\n        'html': '<span id=day>' + days[i] + '</span> <span id=time>' + hours[i].Start + ((!hours[i].Start) ? '' : ' - ') + hours[i].End + '</span>'\n      }).appendTo(hoursHtml);\n      added++;\n      hasLeasingHours = true;\n    });\n    if (added <= 0) {\n      $(\"<div/>\", {\n        'html': 'Please call for hours.'\n      }).appendTo(hoursHtml);\n    }\n  }\n\n\n  if (markerDetails.hours.Sales) {\n    hours = markerDetails.hours.Sales;\n\n    if (hours[0].Start.length > 0) {\n      $(\"<div/>\", {\n        'html': '<div class=\"hours-dept\">Sales:</div>'\n      }).appendTo(hoursHtml);\n      var added = 0;\n      $.each(hours, function (i, item) {\n\n        if (hours[i].Start.toLowerCase().indexOf('24 hours') >= 0 || hours[i].Start.toLowerCase().indexOf('closed') >= 0) {\n          hours[i].Start = '';\n        } else if (hours[i].Start.toLowerCase().length <= 0) {\n          return;\n        }\n\n        $(\"<div/>\", {\n          'html': '<span id=day>' + days[i] + '</span> <span id=time>' + hours[i].Start + ((!hours[i].Start) ? '' : ' - ') + hours[i].End + '</span>'\n        }).appendTo(hoursHtml);\n        added++;\n        hasSalesHours = true;\n      });\n      if (added <= 0) {\n        $(\"<div/>\", {\n          'html': 'Please call for hours.'\n        }).appendTo(hoursHtml);\n      }\n    }\n  }\n\n\n  if (!hasPartsHours && !hasServiceHours && !hasLeasingHours && !hasSalesHours) {\n    isOpenHtml = \"Closed\";\n  }\n\n  templateClone.find('#hours div').html(isOpenHtml);\n\n  $map.panTo(marker.position);\n\n\n  return templateClone;\n};\n\n$.fn.renderAddDirectionsPin = function (marker, details) {\n\n  var templateClone = $($('#sidebar-select-pin').clone(true).html());\n\n  templateClone.find('.fa-close').attr('data-id', details.IDENTIFIER_VALUE);\n  console.log(details, \"details\")\n\n  var openHours = $.fn.getOpenHours(pin);\n  var isOpenHtml = \"\";\n  if (openHours.open === '' && openHours.close === '') {\n    isOpenHtml = \"No schedule information available\";\n  } else if (openHours.open.toLowerCase() === 'open 24 hours') {\n    isOpenHtml = `${openHours.open}`;\n  } else if (openHours.open.toLowerCase() === 'closed') {\n    isOpenHtml = `${openHours.open}`;\n  } else {\n    isOpenHtml = `${openHours.open.toLowerCase()} - ${openHours.close.toLowerCase()}`;\n  }\n\n  templateClone.find('.heading p').text($.fn.camelCase(details.COMPANY_DBA_NAME));\n  templateClone.find('.hours').text(isOpenHtml);\n  templateClone.find('.distance').text('~ ' + Math.round(details.distance) + ' mi');\n  templateClone.find('.address').text(details.MAIN_ADDRESS_LINE_1_TXT + ' ' + details.MAIN_ADDRESS_LINE_2_TXT);\n  templateClone.find('.city').text(details.MAIN_CITY_NM + ', ' + details.MAIN_STATE_PROV_CD + ' ' + details.MAIN_POSTAL_CD);\n  templateClone.find('.phone').text(details.REG_PHONE_NUMBER);\n  templateClone.find('.detail-website a').attr(\"href\", $.fn.formatWebAddress(pin.WEB_ADDRESS));\n  templateClone.find('.detail-call').html('<a href=\"tel:' + pin.REG_PHONE_NUMBER + '\">' + '<img src=\"/blocks/dealer-locator/images/Phone-2.png\" />' + \"Call\" + '</a>');\n\n\n  $(\"<div/>\", {\n    'html': templateClone\n  }).appendTo('.nearby-select');\n\n\n};\n\n$.fn.setupAddDirectionsView = function () {\n\n  $('.go-back-pin').attr('onclick', '$.fn.switchSidebarPane(\\'add-directions-return\\',\\'' + $lastPane.split('-').pop().trim() + '\\');');\n\n  $('div[id*=\"sidebar-select-pins\"] span#filter').text($.fn.currentFilterHumanReadable());\n\n  for (var i = 0; i < $markers.length; i++) {\n\n    for (var k = 0; k < $pins.length; k++) {\n\n      if ($pins[k].IDENTIFIER_VALUE == $markers[i].id) {\n\n        if ($.fn.showPin($pins[k])) {\n\n          $markers[i].setMap($map);\n\n          if ($.fn.isWaypoint($pins[k].waypoint)) {\n            var pinIcon = $.fn.drawPin('-', 38, 38, '808080');\n          }\n          else {\n            var pinIcon = $.fn.drawPin('+', 38, 38, '4174C4');\n          }\n\n          $markers[i].setIcon(pinIcon);\n        }\n      }\n    }\n  }\n\n  $map.setZoom(8);\n};\n\n$.fn.switchSidebarPane = async function (id, e) {\n  var markerId = ($(e).data('id') ? $(e).data('id') : e);\n\n  var content = $('#' + id).html();\n\n  var forceRefresh = false;\n  if (e && id == 'sidebar-pin') {\n    content = await $.fn.renderPinDetails(markerId);\n  }\n  if ((e && id == 'sidebar-directions') || id == 'add-directions-return' || id == 'sidebar-direction-list') {\n    content = $.fn.renderPinDirections(markerId);\n    $('.sidebar-content').addClass(\"direction-content\");\n    $('.go-back').css('display', 'none');\n    $('.sidebar-legend').hide();\n    if ($(window).width() < 992) {\n      $('.sidebar').css(\"overflow\", \"scroll\");\n      $('.add-directions').text(\"Recalculate\");\n    }\n    if (id == 'add-directions-return') { forceRefresh = true; }\n\n  } else if (id.indexOf('sidebar-select-pins') >= 0) {\n\n    $.fn.setupAddDirectionsView();\n    content = $('#' + id).html();\n\n    $('.main-directions').css('display', 'none');\n    $('.main-header').css('display', 'none');\n\n  } else {\n    $('.main-directions').css('display', 'none');\n    $('.main-header').css('display', 'block');\n    $.fn.clearDirections();\n    $map.setZoom(8);\n  }\n  // $('.go-back').css('display', 'none');\n  if ($lastPane) {\n    $('#d-' + $lastPane).css('display', 'none');\n    //   $('.go-back').css('background', '#202A44');\n  }\n  if (id == 'sidebar-directions' || id == 'sidebar-direction-list') {\n    $('.go-back').css('display', 'none');\n  }\n  else if (id == 'sidebar-filter') {\n    $('.go-back').css('display', 'block');\n    $('.go-back').css('background', 'none');\n  } else if (id == 'sidebar-pin') {\n    $('.go-back').css('display', 'block');\n    $('.go-back').css('background', '#202A44');\n  } else {\n    $('.go-back').css('display', 'none');\n  }\n  document.body.scrollTop = 0; // For Safari\n  // document.documentElement.scrollTop = 0;\n  $('.sidebar').scrollTop(0);\n  id = id + ((e != null) ? '-' + markerId : '');\n\n  var foundPane = false;\n\n  $panes.forEach(function (pane) {\n    if (pane == id) {\n      if (id.indexOf('directions') >= 0 || id.indexOf('direction') >= 0) {\n\n        $('#d-' + id).remove();\n        $('.go-back').css('display', 'none');\n      } else if (id.indexOf('sidebar-pin') >= 0 && id.indexOf('sidebar-pin-' + markerId) >= 0) {\n        $('#d-' + id).remove();\n        //  $('.go-back').css('display', 'none');\n      } else {\n        $('#d-' + id).css('display', 'block');\n        foundPane = true;\n      }\n\n    }\n  });\n\n  if (!foundPane) {\n\n    $(\"<div/>\", {\n      'id': 'd-' + id,\n      'html': content\n    }).appendTo('.sidebar-content');\n\n    $panes.push(id);\n    //  $('.go-back').css('background', '#202A44');\n  }\n\n  if (forceRefresh) {\n    $('#d-' + id).html(content);\n  }\n\n\n  // Bring pane into view\n  if ($('.sidebar').css('left') != '0px') {\n\n    if ($(window).width() <= 700) {\n      $(\".slider-arrow, .sidebar\").animate({\n        left: \"+=80%\"\n      }, 200, function () {\n        // Animation complete.\n      });\n    }\n    else {\n      $(\".slider-arrow, .sidebar\").animate({\n        left: \"+=408\"\n      }, 200, function () {\n        // Animation complete.\n      });\n    }\n\n    $('.slider-arrow').html('&laquo;').removeClass('show').addClass('hide');\n  }\n\n  $lastPane = id;\n};\n\n$.fn.getPinById = function (id) {\n\n  return $.grep($pins, function (v, i) {\n    return v['IDENTIFIER_VALUE'] === id;\n  })[0];\n};\n\n// When in doubt or need to redraw pins, call this function\n$.fn.filterRadius = function () {\n\n  $nearbyPins = [];\n\n  $.fn.myDealer();\n\n  if (!$me && $location) {\n    $pin = {\n      url: $meIcon,\n      // This marker is 20 pixels wide by 32 pixels high.\n      size: new google.maps.Size(100, 100),\n\n      scaledSize: new google.maps.Size(30, 30),\n\n      // The origin for this image is (0, 0).\n      origin: new google.maps.Point(0, 0),\n\n      // The anchor for this image is the base of the flagpole at (0, 32).\n      anchor: new google.maps.Point(30, 30)\n    };\n\n    $me = new google.maps.Marker({\n      position: { lat: $location[0], lng: $location[1] },\n      title: 'ME',\n      map: $map,\n      zIndex: 0,\n      icon: $pin\n    });\n\n    $me.setZIndex(0);\n  }\n\n  var radius = $.fn.milesInMeters($('#range').val());\n\n  var bounds = new google.maps.LatLngBounds();\n\n  var k = 1;\n  for (var i = 0; i < $markers.length; i++) {\n\n    if (google.maps.geometry.spherical.computeDistanceBetween($markers[i].getPosition(), $me.getPosition()) < radius) {\n\n      bounds.extend($markers[i].getPosition())\n\n      var pin = $.grep($pins, function (v, b) {\n        return v['IDENTIFIER_VALUE'] === $markers[i].ID;\n      })[0];\n\n\n      if ($.fn.showPin(pin)) {\n\n        $markers[i].setMap($map);\n\n        $markers[i].setZIndex(2);\n\n\n\n        $nearbyPins.push($markers[i].ID);\n\n        k++;\n      }\n      else {\n        $markers[i].setMap(null);\n      }\n\n    } else {\n      //$markers[i].setMap(null);\n\n      var pin = $.grep($pins, function (v, b) {\n        return v['IDENTIFIER_VALUE'] === $markers[i].ID;\n      })[0];\n\n      if ($.fn.showPin(pin)) {\n        $markers[i].setMap($map);\n      }\n\n      if ($myDealer != null && ($myDealer.IDENTIFIER_VALUE == $markers[i].id)) {\n        var pinIcon = $.fn.drawPin('', 43, 63, '328E04');\n      }\n      else {\n        if (pin.isCertifiedUptimeCenter) {\n          var pinIcon = {\n            url: \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\",\n            scaledSize: new google.maps.Size(17, 23), // scaled size\n            origin: new google.maps.Point(0, 0), // origin\n            anchor: new google.maps.Point(0, 0)\n          }\n          if ($electricDealer === true || (pin.services && Object.values(pin.services).includes('Volvo Certified EV Dealer'))) {\n            var pinIcon = {\n              url: \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\",\n              scaledSize: new google.maps.Size(17, 23), // scaled size\n              origin: new google.maps.Point(0, 0), // origin\n              anchor: new google.maps.Point(0, 0)\n            }\n          }\n        }\n        else if ($electricDealer === true || (pin.services && Object.values(pin.services).includes('Volvo Certified EV Dealer'))) {\n          var pinIcon = {\n            url: \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\",\n            scaledSize: new google.maps.Size(17, 23), // scaled size\n            origin: new google.maps.Point(0, 0), // origin\n            anchor: new google.maps.Point(0, 0)\n          }\n        }\n\n        else {\n          var pinIcon = {\n            url: \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\",\n            scaledSize: new google.maps.Size(17, 23), // scaled size\n            origin: new google.maps.Point(0, 0), // origin\n            anchor: new google.maps.Point(0, 0)\n          }\n        }\n\n      }\n      $markers[i].setIcon(pinIcon);\n      $markers[i].pinIndex = null;\n\n    }\n\n    $map.fitBounds(bounds);\n\n    $map.setZoom(8);\n\n\n  }\n\n  $map.setCenter($me.getPosition());\n  $map.setZoom(8);\n\n  $.fn.filterNearbyPins();\n};\n\n$.fn.milesInMeters = function ($mi) {\n  return $mi * 1609.3;\n};\n\n$.fn.kmToMiles = function ($km) {\n  return $km * 0.621371;\n};\n\n$.fn.radiusChange = function () {\n\n  $value = $('#range').val() * 1;\n\n  $radiusLabel = $('label[for=\"range\"] span');\n\n  $radiusLabel.html($value);\n\n  $radius.setRadius($.fn.milesInMeters($value));\n\n  $.fn.filterRadius();\n\n  if ($value < 100) {\n\n    $map.fitBounds($radius.getBounds());\n\n  } else {\n    $map.setZoom(8);\n  }\n};\n\n$.fn.setCookie = function (name, value, days) {\n  var expires = \"\";\n  if (days) {\n    var date = new Date();\n    date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n    expires = \"; expires=\" + date.toUTCString();\n  }\n  document.cookie = name + \"=\" + (value || \"\") + expires + \"; path=/\";\n}\n\n$.fn.getCookie = function (name) {\n  var nameEQ = name + \"=\";\n  var ca = document.cookie.split(';');\n  for (var i = 0; i < ca.length; i++) {\n    var c = ca[i];\n    while (c.charAt(0) == ' ') c = c.substring(1, c.length);\n    if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);\n  }\n  return null;\n}\n\n$.fn.deleteCookie = function (name) {\n  document.cookie = name + '=; Max-Age=-99999999;';\n}\n\n$.fn.sortedPins = function () {\n\n  $pinLength = $pins.length;\n\n  for (var i = 0; i < $pinLength; i++) {\n\n    $pins[i];\n    $pins[i].distance = $.fn.getDistanceInMiles([$pins[i].MAIN_LATITUDE, $pins[i].MAIN_LONGITUDE]);\n\n  }\n\n  $sortedPins = $pins;\n\n  $sortedPins.sort(function (a, b) {\n    return parseFloat(a.distance) - parseFloat(b.distance);\n  });\n\n  $sortedPins.filter(function (i, n) {\n    $.fn.showPin(i);\n  });\n\n  return $sortedPins;\n};\n\n$.fn.showPin = function (pin) {\n  var filter = $.fn.currentFilter();\n\n  var condition;\n\n  if ($consolidateFilters) {\n    switch (filter) {\n      case 'all':\n        condition = pin.DEALER_TYPE_DESC.toLowerCase().indexOf('full line') > -1\n            || pin.DEALER_TYPE_DESC.toLowerCase().indexOf('parts & service') > -1\n            || pin.DEALER_TYPE_DESC.toLowerCase().indexOf('parts only') > -1\n            || pin.DEALER_TYPE_DESC.toLowerCase().indexOf('satellite') > -1\n            || pin.isCertifiedCenter\n            || pin.isCertifiedUptimeCenter;\n        break;\n\n      case 'rental-leasing':\n        condition = pin.DEALER_TYPE_DESC.toLowerCase().indexOf('leasing') > -1;\n        break;\n\n      default:\n        condition = false;\n        break;\n    }\n  } else {\n    switch (filter) {\n      case 'full-line':\n        condition = pin.DEALER_TYPE_DESC.toLowerCase().indexOf('full line') > -1;\n        break;\n\n      case 'rental-leasing':\n        condition = pin.DEALER_TYPE_DESC.toLowerCase().indexOf('leasing') > -1;\n        break;\n\n      case 'parts-service':\n        condition = pin.DEALER_TYPE_DESC.toLowerCase().indexOf('parts & service') > -1;\n        break;\n\n      case 'parts-only':\n        condition = pin.DEALER_TYPE_DESC.toLowerCase().indexOf('parts only') > -1;\n        break;\n\n      case 'satellite':\n        condition = pin.DEALER_TYPE_DESC.toLowerCase().indexOf('satellite') > -1;\n        break;\n\n      case 'premium-certified':\n        condition = pin.isCertifiedCenter;\n        break;\n\n      case 'certified-uptime':\n        condition = pin.isCertifiedUptimeCenter;\n        break;\n\n      default:\n        condition = false;\n        break;\n    }\n  }\n  return condition;\n};\n\n$.fn.tmpPins = function (tmpPinList) {\n  var pinIndex = 1;\n  var nearbyHtml = $('.nearby-pins').empty();\n  tmpPinList.forEach(async function (pin) {\n    if (!$.fn.showPin(pin)) {\n      return true;\n    }\n\n    var templateClone = $($('#nearbyPinDetails').clone(true).html());\n\n    templateClone.find('.teaser-top').attr('data-id', pin.IDENTIFIER_VALUE);\n    templateClone.find('.more').attr('data-id', pin.IDENTIFIER_VALUE);\n\n\n    var openHours = $.fn.getOpenHours(pin);\n    var isOpenHtml = \"\";\n    if (openHours.open === '' && openHours.close === '') {\n      isOpenHtml = \"No schedule information available\";\n    } else if (openHours.open.toLowerCase() === 'open 24 hours') {\n      isOpenHtml = `${openHours.open}`;\n    } else if (openHours.open.toLowerCase() === 'closed') {\n      isOpenHtml = `${openHours.open}`;\n    } else {\n      isOpenHtml = `${openHours.open.toLowerCase()} - ${openHours.close.toLowerCase()}`;\n    }\n\n\n    templateClone.find('.heading p').text($.fn.camelCase(pin.COMPANY_DBA_NAME));\n    templateClone.find('.hours').text(isOpenHtml);\n    templateClone.find('.distance').text('~ ' + Math.round(pin.distance) + ' mi');\n    templateClone.find('.city').text(pin.MAIN_CITY_NM + ', ' + pin.MAIN_STATE_PROV_CD + ' ' + pin.MAIN_POSTAL_CD);\n    templateClone.find('.direction a').attr('data-id', pin.IDENTIFIER_VALUE);\n    templateClone.find('.direction a').text('Direction');\n    templateClone.find('.website a').text('Dealer Site');\n    templateClone.find('.phone').text($.fn.formatPhoneNumber(pin.REG_PHONE_NUMBER));\n\n\n    if (!pin.MAIN_ADDRESS_LINE_1_TXT) {\n      templateClone.find('.address').text(pin.MAIN_ADDRESS_LINE_2_TXT);\n    } else if (!pin.MAIN_ADDRESS_LINE_2_TXT) {\n      templateClone.find('.address').text(pin.MAIN_ADDRESS_LINE_1_TXT);\n    } else {\n      templateClone.find('.address').text(pin.MAIN_ADDRESS_LINE_1_TXT + ', ' + pin.MAIN_ADDRESS_LINE_2_TXT);\n    }\n\n    if (pin.WEB_ADDRESS) {\n      templateClone.find('.website a').attr(\"href\", $.fn.formatWebAddress(pin.WEB_ADDRESS));\n    } else {\n      templateClone.find('.website').css({'pointer-events':'none','cursor':'default','opacity':'0.7'});\n    }\n\n    if (pin.REG_PHONE_NUMBER) {\n      templateClone.find('.call').html('<a href=\"tel:' + pin.REG_PHONE_NUMBER + '\">' + \"Call\" + '</a>');\n      templateClone.find('.call a').attr(\"href\", $.fn.formatPhoneNumber(pin.REG_PHONE_NUMBER));\n      // templateClone.find('.detail-call').html('<a href=\"tel:' + pin.REG_PHONE_NUMBER + '\">' + '<img src=\"/blocks/dealer-locator/images/Phone-2.png\" />' + \"Call\" + '</a>');\n    } else {\n      templateClone.find('.call').text('Call');\n      templateClone.find('.call').css({'pointer-events':'none','cursor':'default','opacity':'0.7'});\n    }\n\n    var marker;\n    for (i = 0; i < $markers.length; i++) {\n\n      if ($markers[i].id == pin.IDENTIFIER_VALUE) {\n\n        marker = $markers[i];\n\n        if (!$myDealer) {\n          $myDealer = { IDENTIFIER_VALUE: $.fn.getCookie('my-dealer') };\n        }\n\n        if ($myDealer.IDENTIFIER_VALUE == pin.IDENTIFIER_VALUE) {\n          var pinIcon = $.fn.drawPin('', 43, 63, '328E04');\n\n          templateClone.find('#marker').css('width', 'auto');\n          templateClone.find('#marker').css('height', 'auto');\n        }\n        else {\n\n          if (pin.isCertifiedUptimeCenter) {\n            var pinIcon = \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\";\n            var pinIcon2 = {\n              url: \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\",\n              scaledSize: new google.maps.Size(17, 23), // scaled size\n              origin: new google.maps.Point(0, 0), // origin\n              anchor: new google.maps.Point(0, 0)\n            }\n            if ($electricDealer === true || (pin.services && Object.values(pin.services).includes('Volvo Certified EV Dealer'))) {\n              var pinIcon = \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\";\n              var pinIcon2 = {\n                url: \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\",\n                scaledSize: new google.maps.Size(17, 23), // scaled size\n                origin: new google.maps.Point(0, 0), // origin\n                anchor: new google.maps.Point(0, 0)\n              }\n            }\n          }\n          else if ($electricDealer === true || (pin.services && Object.values(pin.services).includes('Volvo Certified EV Dealer'))) {\n            var pinIcon = \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\";\n            var pinIcon2 = {\n              url: \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\",\n              scaledSize: new google.maps.Size(17, 23), // scaled size\n              origin: new google.maps.Point(0, 0), // origin\n            }\n\n          }\n          else {\n            var pinIcon = \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\";\n            var pinIcon2 = {\n              url: \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\",\n              scaledSize: new google.maps.Size(17, 23), // scaled size\n              origin: new google.maps.Point(0, 0), // origin\n            }\n          }\n        }\n\n\n        marker.setIcon(pinIcon2);\n\n        marker['pinIndex'] = pinIndex;\n\n\n\n        templateClone.find('#marker').attr('src', pinIcon);\n\n        pinIndex++;\n      }\n    }\n\n    $.fn.myDealer();\n\n    $(\"<div/>\", {\n      'html': templateClone,\n      'click': function () {\n      },\n      'mouseenter': function () {\n\n        $(this).click(function () {\n          $(this).attr('clicked', 'yes');\n        });\n\n        var details = $.fn.getPinById(marker.ID);\n        if (details.isCertifiedUptimeCenter) {\n          var pinIcon = {\n            url: \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\",\n            scaledSize: new google.maps.Size(58, 80), // scaled size\n            origin: new google.maps.Point(0, 0), // origin\n            anchor: new google.maps.Point(19, 57)\n          }\n          if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n            var pinIcon = {\n              url: \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\",\n              scaledSize: new google.maps.Size(58, 80), // scaled size\n              origin: new google.maps.Point(0, 0), // origin\n              anchor: new google.maps.Point(19, 57)\n            }\n          }\n        }\n        else if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n          var pinIcon = {\n            url: \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\",\n            scaledSize: new google.maps.Size(58, 80), // scaled size\n            origin: new google.maps.Point(0, 0), // origin\n            anchor: new google.maps.Point(19, 57)\n          }\n        }\n        else {\n          var pinIcon = {\n            url: \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\",\n            scaledSize: new google.maps.Size(58, 80), // scaled size\n            origin: new google.maps.Point(0, 0), // origin\n            anchor: new google.maps.Point(19, 57)\n          }\n        }\n\n        marker.setIcon(pinIcon);\n\n        $.fn.myDealer();\n\n      },\n      'mouseleave': function () {\n\n        if ($(this).attr('clicked') != 'yes') {\n\n          var details = $.fn.getPinById(marker.ID);\n\n          if (details.isCertifiedUptimeCenter) {\n            var pinIcon = {\n              url: \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\",\n              scaledSize: new google.maps.Size(17, 23), // scaled size\n              origin: new google.maps.Point(0, 0), // origin\n              anchor: new google.maps.Point(0, 0)\n            }\n            if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n              var pinIcon = {\n                url: \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\",\n                scaledSize: new google.maps.Size(17, 23), // scaled size\n                origin: new google.maps.Point(0, 0), // origin\n                anchor: new google.maps.Point(0, 0)\n              }\n            }\n          }\n          else if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n            var pinIcon = {\n              url: \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\",\n              scaledSize: new google.maps.Size(17, 23), // scaled size\n              origin: new google.maps.Point(0, 0), // origin\n              anchor: new google.maps.Point(0, 0)\n            }\n          }\n          else {\n            var pinIcon = {\n              url: \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\",\n              scaledSize: new google.maps.Size(17, 23), // scaled size\n              origin: new google.maps.Point(0, 0), // origin\n              anchor: new google.maps.Point(0, 0)\n            }\n          }\n\n          marker.setIcon(pinIcon);\n\n          $.fn.myDealer();\n\n        }\n\n      }\n    }).appendTo(nearbyHtml);\n\n  });\n};\n// Creates pin result item\n$.fn.filterNearbyPins = function () {\n\n  $assist = 0;\n  $full = 0;\n  $rental = 0;\n  $partsService = 0;\n  $parts = 0;\n  $premium = 0;\n  $uptime = 0;\n\n\n  // First get the full details of our locations\n  var tmpPinList = [];\n  var sorted = $.fn.sortedPins();\n\n\n  var allPinsIds = [];\n  $pins.forEach(pin => {\n    allPinsIds.push(pin.IDENTIFIER_VALUE);\n  });\n\n  allPinsIds.forEach(function (pin) {\n    tmpPinList.push($.grep(sorted, function (v, i) {\n      return v['IDENTIFIER_VALUE'] === pin;\n    })[0]);\n  });\n\n  tmpPinList.sort(function (a, b) {\n    return parseFloat(a.distance) - parseFloat(b.distance);\n  });\n  $(\"#filterUptime,#filterElectricDealer,#filterDealer\").css(\"cursor\", \"pointer\");\n  $('.no-dealer-text').hide();\n  $(\"#filterUptime,#filterElectricDealer,#filterDealer\").css('background', '#484A4E');\n  $(\"#filterElectricDealerMobile,#filterDealerMobile,#filterUptimeMobile\").css('background', '#484A4E');\n  $(\"#filterUptime,#filterElectricDealer,#filterDealer\").removeData(\"toggled\");\n  $(\"#filterElectricDealerMobile,#filterDealerMobile,#filterUptimeMobile\").removeData(\"toggled\");\n  document.getElementById('filterElectricDealer').style.pointerEvents = 'auto';\n  document.getElementById('filterDealer').style.pointerEvents = 'auto';\n  document.getElementById('filterUptime').style.pointerEvents = 'auto';\n  document.getElementById('filterElectricDealerMobile').style.pointerEvents = 'auto';\n  document.getElementById('filterDealerMobile').style.pointerEvents = 'auto';\n  document.getElementById('filterUptimeMobile').style.pointerEvents = 'auto';\n\n  $(\"#filterUptime, #filterUptimeMobile \").unbind().bind(\"click\", function (e) {\n    e.preventDefault();\n    var tmpPinList2 = [];\n    var toggled = $(this).data('toggled');\n    $(this).data('toggled', !toggled);\n    $('.nearby-pins').empty();\n    $('.no-dealer-text').hide();\n    var filteredArray = tmpPinList.filter(function (item) {\n      return item.isCertifiedUptimeCenter == true || (item.isCertifiedUptimeCenter == true && (item.services && Object.values(item.services).includes('Volvo Certified EV Dealer')));\n    });\n    if (filteredArray.length == 0) {\n      $('.nearby-pins').empty();\n      $('.no-dealer-text').show();\n    }\n    var newList = [];\n    var pins = [];\n    pins = $pins;\n    if (pins) {\n      jQuery.grep(pins, function (el) {\n        if (jQuery.inArray(el, filteredArray) == -1) newList.push(el);\n      });\n    }\n    if (!toggled) {\n      $(this).css('background', '#808080');\n      tmpPinList2 = filteredArray;\n      $.fn.tmpPins(tmpPinList2);\n\n      newList.forEach(function (pin) {\n        for (i = 0; i < $markers.length; i++) {\n\n          if ($markers[i].id == pin.IDENTIFIER_VALUE) {\n\n            marker = $markers[i];\n            marker.setMap(null);\n          }\n        }\n      });\n      document.getElementById('filterElectricDealer').style.pointerEvents = 'none';\n      document.getElementById('filterDealer').style.pointerEvents = 'none';\n      document.getElementById('filterElectricDealerMobile').style.pointerEvents = 'none';\n      document.getElementById('filterDealerMobile').style.pointerEvents = 'none';\n      document.getElementById('dealer-tag').setAttribute(\"title\", $hoverText);\n      document.getElementById('electric-tag').setAttribute(\"title\", $hoverText);\n    }\n    else {\n      $(this).css('background', '#484A4E');\n      $('.no-dealer-text').hide();\n      $.fn.tmpPins(tmpPinList);\n      newList.forEach(function (pin) {\n        if (!$.fn.showPin(pin)) {\n          return true;\n        }\n        for (i = 0; i < $markers.length; i++) {\n\n          if ($markers[i].id == pin.IDENTIFIER_VALUE) {\n\n            marker = $markers[i];\n            marker.setMap($map);\n          }\n        }\n      });\n      document.getElementById('filterElectricDealer').style.pointerEvents = 'auto';\n      document.getElementById('filterDealer').style.pointerEvents = 'auto';\n      document.getElementById('filterElectricDealerMobile').style.pointerEvents = 'auto';\n      document.getElementById('filterDealerMobile').style.pointerEvents = 'auto';\n      document.getElementById('dealer-tag').removeAttribute(\"title\", $hoverText);\n      document.getElementById('electric-tag').removeAttribute(\"title\", $hoverText);\n    }\n    return false;\n  });\n\n  $(\"#filterElectricDealer, #filterElectricDealerMobile \").unbind().bind(\"click\", function (e) {\n    e.preventDefault();\n    var tmpPinList3 = [];\n    var toggled = $(this).data('toggled');\n    $(this).data('toggled', !toggled);\n    $('.nearby-pins').empty();\n    $('.no-dealer-text').hide();\n    var filteredDealerArray = tmpPinList.filter(function (item) {\n      return (item.services && Object.values(item.services).includes('Volvo Certified EV Dealer'));\n\n    });\n    if (filteredDealerArray.length == 0) {\n      $('.nearby-pins').empty();\n      $('.no-dealer-text').show();\n    }\n    var newList = [];\n    var pins = [];\n    pins = $pins;\n    if (pins) {\n      jQuery.grep(pins, function (el) {\n        if (jQuery.inArray(el, filteredDealerArray) == -1) newList.push(el);\n      });\n    }\n    if (!toggled) {\n      $(this).css('background', '#808080');\n      tmpPinList3 = filteredDealerArray;\n      $.fn.tmpPins(tmpPinList3);\n      newList.forEach(function (pin) {\n        for (i = 0; i < $markers.length; i++) {\n\n          if ($markers[i].id == pin.IDENTIFIER_VALUE) {\n\n            marker = $markers[i];\n            marker.setMap(null);\n          }\n        }\n      });\n      document.getElementById('filterDealer').style.pointerEvents = 'none';\n      document.getElementById('filterUptime').style.pointerEvents = 'none';\n      document.getElementById('filterDealerMobile').style.pointerEvents = 'none';\n      document.getElementById('filterUptimeMobile').style.pointerEvents = 'none';\n      document.getElementById('dealer-tag').setAttribute(\"title\", $hoverText);\n      document.getElementById('uptime-tag').setAttribute(\"title\", $hoverText);\n    }\n    else {\n      $(this).css('background', '#484A4E');\n      $('.no-dealer-text').hide();\n      $.fn.tmpPins(tmpPinList);\n      newList.forEach(function (pin) {\n\n        if (!$.fn.showPin(pin)) {\n          return true;\n        }\n        for (i = 0; i < $markers.length; i++) {\n\n          if ($markers[i].id == pin.IDENTIFIER_VALUE) {\n\n            marker = $markers[i];\n            marker.setMap($map);\n          }\n        }\n      });\n      document.getElementById('filterDealer').style.pointerEvents = 'auto';\n      document.getElementById('filterUptime').style.pointerEvents = 'auto';\n      document.getElementById('filterDealerMobile').style.pointerEvents = 'auto';\n      document.getElementById('filterUptimeMobile').style.pointerEvents = 'auto';\n      document.getElementById('dealer-tag').removeAttribute(\"title\", $hoverText);\n      document.getElementById('uptime-tag').removeAttribute(\"title\", $hoverText);\n    }\n    return false;\n  });\n\n  $(\"#filterDealer, #filterDealerMobile \").unbind().bind(\"click\", function (e) {\n    e.preventDefault();\n    var tmpPinList4 = [];\n    var toggled = $(this).data('toggled');\n    $(this).data('toggled', !toggled);\n    $('.nearby-pins').empty();\n    $('.no-dealer-text').hide();\n    var filteredDealerArray = tmpPinList.filter(function (item) {\n      return ((item.services == undefined) || (item.isCertifiedUptimeCenter == undefined && (item.services && Object.values(item.services).includes('Volvo Certified EV Dealer'))) || (item.isCertifiedUptimeCenter == undefined && (item.services && !Object.values(item.services).includes('Volvo Certified EV Dealer'))));\n      // }\n\n    });\n    if (filteredDealerArray.length == 0) {\n      $('.nearby-pins').empty();\n      $('.no-dealer-text').show();\n    }\n    var newList = [];\n    var pins = [];\n    pins = $pins;\n    if (pins) {\n      jQuery.grep(pins, function (el) {\n        if (jQuery.inArray(el, filteredDealerArray) == -1) newList.push(el);\n      });\n    }\n    if (!toggled) {\n      $(this).css('background', '#808080');\n      tmpPinList4 = filteredDealerArray;\n      $.fn.tmpPins(tmpPinList4);\n\n      newList.forEach(function (pin) {\n        for (i = 0; i < $markers.length; i++) {\n\n          if ($markers[i].id == pin.IDENTIFIER_VALUE) {\n\n            marker = $markers[i];\n            marker.setMap(null);\n          }\n        }\n      });\n      document.getElementById('filterElectricDealer').style.pointerEvents = 'none';\n      document.getElementById('filterUptime').style.pointerEvents = 'none';\n      document.getElementById('filterElectricDealerMobile').style.pointerEvents = 'none';\n      document.getElementById('filterUptimeMobile').style.pointerEvents = 'none';\n      document.getElementById('electric-tag').setAttribute(\"title\", $hoverText);\n      document.getElementById('uptime-tag').setAttribute(\"title\", $hoverText);\n    }\n    else {\n      $(this).css('background', '#484A4E');\n      $('.no-dealer-text').hide();\n      $.fn.tmpPins(tmpPinList);\n      newList.forEach(function (pin) {\n\n        if (!$.fn.showPin(pin)) {\n          return true;\n        }\n        for (i = 0; i < $markers.length; i++) {\n\n          if ($markers[i].id == pin.IDENTIFIER_VALUE) {\n\n            marker = $markers[i];\n            marker.setMap($map);\n          }\n        }\n      });\n      document.getElementById('filterElectricDealer').style.pointerEvents = 'auto';\n      document.getElementById('filterUptime').style.pointerEvents = 'auto';\n      document.getElementById('filterElectricDealerMobile').style.pointerEvents = 'auto';\n      document.getElementById('filterUptimeMobile').style.pointerEvents = 'auto';\n      document.getElementById('electric-tag').removeAttribute(\"title\", $hoverText);\n      document.getElementById('uptime-tag').removeAttribute(\"title\", $hoverText);\n    }\n    return false;\n  });\n\n\n  //  else {\n  $.fn.tmpPins(tmpPinList);\n  // }\n  if ($(window).width() <= 768) {\n    $('.panel-footer').html('<img src=\"' + $.fn.drawPin('', 38, 38, '3F62A5') + '\" /> Certified Uptime Dealer');\n  } else {\n    $('.panel-footer').html('Showing ' + $nearbyPins.length + ' locations');\n  }\n\n  $('.loading-overlay').css('display', 'none');\n};\n\n$.fn.selectNearbyPins = function () {\n\n  var nearbyHtml = $('.nearby-pins-select').empty();\n\n  // First get the full details of our locations\n  var tmpPinList = [];\n  var sorted = $.fn.sortedPins();\n\n  $nearbyPins.forEach(function (pin) {\n    tmpPinList.push($.grep(sorted, function (v, i) {\n      return v['IDENTIFIER_VALUE'] === pin;\n    })[0]);\n  });\n\n  tmpPinList.sort(function (a, b) {\n    return parseFloat(a.distance) - parseFloat(b.distance);\n  });\n\n  var pinIndex = 1;\n  // then iterate over them\n  tmpPinList.forEach(function (pin) {\n\n    if (!$.fn.showPin(pin)) {\n      return true;\n    }\n\n    var templateClone = $($('#nearbyPinDetails').clone(true).html());\n\n    templateClone.find('.panel-container').parent().attr('data-id', pin.IDENTIFIER_VALUE);\n\n\n    var openHours = $.fn.getOpenHours(pin);\n    var isOpenHtml = \"\";\n    if (openHours.open === '' && openHours.close === '') {\n      isOpenHtml = \"No schedule information available\";\n    } else {\n      isOpenHtml = `${openHours.open.toLowerCase()} - ${openHours.close.toLowerCase()}`;\n    }\n\n\n    templateClone.find('.heading p').text($.fn.camelCase(pin.COMPANY_DBA_NAME));\n    templateClone.find('.hours').text(isOpenHtml);\n    templateClone.find('.distance').text('~ ' + Math.round(pin.distance) + ' mi');\n    templateClone.find('.address').text(pin.MAIN_ADDRESS_LINE_1_TXT);\n    templateClone.find('.city').text(pin.MAIN_CITY_NM + ', ' + pin.MAIN_STATE_PROV_CD + ' ' + pin.MAIN_POSTAL_CD);\n    templateClone.find('.phone').text($.fn.formatPhoneNumber(pin.REG_PHONE_NUMBER));\n      templateClone.find('.website a').text('Dealer Site');\n      templateClone.find('.website a').attr(\"href\", $.fn.formatWebAddress(pin.WEB_ADDRESS));\n      templateClone.find('.detail-website a').attr(\"href\", $.fn.formatWebAddress(pin.WEB_ADDRESS));\n      templateClone.find('.detail-call').html('<a href=\"tel:' + pin.REG_PHONE_NUMBER + '\">' + '<img src=\"/blocks/dealer-locator/images/Phone-2.png\" />' + \"Call\" + '</a>');\n\n    var marker;\n    for (i = 0; i < $markers.length; i++) {\n\n      if ($markers[i].id == pin.IDENTIFIER_VALUE) {\n\n        marker = $markers[i];\n\n        if (!$myDealer) {\n          $myDealer = { IDENTIFIER_VALUE: $.fn.getCookie('my-dealer') };\n        }\n\n        if ($myDealer.IDENTIFIER_VALUE == pin.IDENTIFIER_VALUE) {\n          var pinIcon = $.fn.drawPin('', 43, 63, '328E04');\n        }\n        else {\n          var details = $.fn.getPinById(pin.ID);\n          if (details.isCertifiedUptimeCenter) {\n            var pinIcon = \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\";\n            if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n              pinIcon = \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\";\n            }\n          }\n          else if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n            var pinIcon = \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\";\n          }\n          else {\n            var pinIcon = \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\";\n          }\n        }\n\n        marker.setIcon(pinIcon);\n\n        marker['pinIndex'] = pinIndex;\n\n\n\n        templateClone.find('#marker').attr('src', pinIcon);\n        templateClone.find('#marker').css('width', '31px');\n        templateClone.find('#marker').css('height', '43px');\n\n        pinIndex++;\n      }\n    }\n\n    $.fn.myDealer();\n\n    $(\"<div/>\", {\n      'html': templateClone,\n      'click': function () {\n      },\n      'mouseenter': function () {\n\n        $(this).click(function () {\n          $(this).attr('clicked', 'yes');\n        });\n\n        var details = $.fn.getPinById(marker.ID);\n        if (details.isCertifiedUptimeCenter) {\n          var pinIcon = {\n            url: \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\",\n            scaledSize: new google.maps.Size(17, 23), // scaled size\n            origin: new google.maps.Point(0, 0), // origin\n            anchor: new google.maps.Point(0, 0)\n          }\n          if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n            var pinIcon = {\n              url: \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\",\n              scaledSize: new google.maps.Size(17, 23), // scaled size\n              origin: new google.maps.Point(0, 0), // origin\n              anchor: new google.maps.Point(0, 0)\n            }\n          }\n        }\n        else if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n          var pinIcon = {\n            url: \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\",\n            scaledSize: new google.maps.Size(17, 23), // scaled size\n            origin: new google.maps.Point(0, 0), // origin\n            anchor: new google.maps.Point(0, 0)\n          }\n        }\n        else {\n          var pinIcon = {\n            url: \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\",\n            scaledSize: new google.maps.Size(17, 23), // scaled size\n            origin: new google.maps.Point(0, 0), // origin\n            anchor: new google.maps.Point(0, 0)\n          }\n        }\n\n        marker.setIcon(pinIcon);\n\n        $.fn.myDealer();\n\n      },\n      'mouseleave': function () {\n\n        if ($(this).attr('clicked') != 'yes') {\n\n          var details = $.fn.getPinById(marker.ID);\n          if (details.isCertifiedUptimeCenter) {\n            var pinIcon = {\n              url: \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\",\n              scaledSize: new google.maps.Size(17, 23), // scaled size\n              origin: new google.maps.Point(0, 0), // origin\n              anchor: new google.maps.Point(0, 0)\n            }\n            if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n              var pinIcon = {\n                url: \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\",\n                scaledSize: new google.maps.Size(17, 23), // scaled size\n                origin: new google.maps.Point(0, 0), // origin\n                anchor: new google.maps.Point(0, 0)\n              }\n            }\n          }\n          else if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n            var pinIcon = {\n              url: \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\",\n              scaledSize: new google.maps.Size(17, 23), // scaled size\n              origin: new google.maps.Point(0, 0), // origin\n              anchor: new google.maps.Point(0, 0)\n            }\n          }\n          else {\n            var pinIcon = {\n              url: \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\",\n              scaledSize: new google.maps.Size(17, 23), // scaled size\n              origin: new google.maps.Point(0, 0), // origin\n              anchor: new google.maps.Point(0, 0)\n            }\n          }\n\n          marker.setIcon(pinIcon);\n\n          $.fn.myDealer();\n\n        }\n\n      }\n    }).appendTo(nearbyHtml);\n\n  });\n\n  if ($(window).width() <= 768) {\n    $('.panel-footer').html('<img src=\"' + $.fn.drawPin('', 38, 38, '3F62A5') + '\" /> Certified Uptime Dealer');\n  } else {\n    $('.panel-footer').html('Showing ' + $nearbyPins.length + ' locations');\n  }\n\n\n};\n\n$.fn.getDistanceInMiles = function ($b) {\n\n  if (!$location) {\n    return 0;\n  }\n\n  // Radius of the earth in km divided by 0.621371 mi/km\n  $R = 6371 * 0.621371;\n  $dLat = $.fn.deg2rad($b[0] - $location[0]);  // deg2rad below\n  $dLon = $.fn.deg2rad($b[1] - $location[1]);\n  $a =\n      Math.sin($dLat / 2) * Math.sin($dLat / 2) +\n      Math.cos($.fn.deg2rad($location[0])) * Math.cos($.fn.deg2rad($b[0])) *\n      Math.sin($dLon / 2) * Math.sin($dLon / 2);\n  $c = 2 * Math.atan2(Math.sqrt($a), Math.sqrt(1 - $a));\n  $d = $R * $c; // Distance in miles\n  return $d;\n};\n\n$.fn.deg2rad = function ($deg) {\n  return $deg * (Math.PI / 180);\n};\n\n// Fires when a client types a location manually\n$.fn.setAddress2 = function () {\n\n  address2 = $('#location2').val();\n\n  if (!address2) {\n    return null;\n  }\n\n  $geocoder = new google.maps.Geocoder;\n  $geocoder = new google.maps.Geocoder;\n  $geocoder.geocode({ 'address': address2 }, function (results, status) {\n    if (!results || results.length == 0) {\n      console.log(\"results not found\");\n    }\n    else {\n      $map.viewtype = (results[0].types[0]);\n      var ne = results[0].geometry.viewport.getNorthEast();\n      var sw = results[0].geometry.viewport.getSouthWest();\n      $map.fitBounds(results[0].geometry.viewport);\n\n      position = results[0].geometry.location;\n\n      var pos = {\n        lat: position.lat(),\n        lng: position.lng()\n      };\n\n      $location = [\n        position.lat(),\n        position.lng()\n      ];\n\n\n      if (!$me) {\n        $pin = {\n          url: $meIcon,\n          // This marker is 20 pixels wide by 32 pixels high.\n          size: new google.maps.Size(100, 100),\n\n          scaledSize: new google.maps.Size(30, 30),\n\n          // The origin for this image is (0, 0).\n          origin: new google.maps.Point(0, 0),\n\n          // The anchor for this image is the base of the flagpole at (0, 32).\n          anchor: new google.maps.Point(30, 30)\n        };\n\n        $me = new google.maps.Marker({\n          position: { lat: $location[0], lng: $location[1] },\n          title: 'ME',\n          map: $map,\n          zIndex: 0,\n          icon: $pin\n        });\n\n        $me.setZIndex(0);\n\n      }\n\n\n      $me.setPosition({ lat: parseFloat(pos.lat), lng: parseFloat(pos.lng) });\n\n\n      if (!$radius) {\n        $radius = new google.maps.Circle({\n          strokeColor: '#2c6ba4',\n          strokeOpacity: 0.5,\n          strokeWeight: 2,\n          fillColor: '#2c6ba4',\n          fillOpacity: 0.15,\n          map: $map,\n          center: pos,\n          radius: $.fn.milesInMeters($('#range').val())\n        });\n\n        $('.loading-overlay').css('display', 'block');\n\n        // Load pins into client cache\n        $.fn.loadPins();\n\n        // Sort pins by distance (miles)\n        $.fn.sortedPins();\n\n        // Set default sidebar pane\n        $.fn.switchSidebarPane('sidebar-pins');\n\n\n\n      } else {\n        $radius.setCenter({ lat: parseFloat(pos.lat), lng: parseFloat(pos.lng) });\n        $.fn.filterRadius();\n      }\n\n      // Set default sidebar pane\n      $.fn.switchSidebarPane('sidebar-pins');\n\n      $('.waiting-overlay').css('display', 'none');\n\n    }\n  });\n  // $.fn.filterNearbyPins();\n  // $.fn.filterRadius();\n};\n\n$.fn.setAddress = function () {\n\n  if ($(window).width() < 992) {\n    address = address2;\n  }\n  address = $('#location').val();\n  if (!address) {\n    return null;\n  }\n\n  $geocoder = new google.maps.Geocoder;\n  $geocoder = new google.maps.Geocoder;\n  $geocoder.geocode({ 'address': address }, function (results, status) {\n    if (!results || results.length == 0) {\n      console.log(\"results not found\");\n    }\n    else {\n      $map.viewtype = (results[0].types[0]);\n      var ne = results[0].geometry.viewport.getNorthEast();\n      var sw = results[0].geometry.viewport.getSouthWest();\n      $map.fitBounds(results[0].geometry.viewport);\n\n      position = results[0].geometry.location;\n\n      var pos = {\n        lat: position.lat(),\n        lng: position.lng()\n      };\n\n      $location = [\n        position.lat(),\n        position.lng()\n      ];\n\n\n      if (!$me) {\n        $pin = {\n          url: $meIcon,\n          // This marker is 20 pixels wide by 32 pixels high.\n          size: new google.maps.Size(100, 100),\n\n          scaledSize: new google.maps.Size(30, 30),\n\n          // The origin for this image is (0, 0).\n          origin: new google.maps.Point(0, 0),\n\n          // The anchor for this image is the base of the flagpole at (0, 32).\n          anchor: new google.maps.Point(30, 30)\n        };\n\n        $me = new google.maps.Marker({\n          position: { lat: $location[0], lng: $location[1] },\n          title: 'ME',\n          map: $map,\n          zIndex: 0,\n          icon: $pin\n        });\n\n        $me.setZIndex(0);\n\n      }\n\n\n      $me.setPosition({ lat: parseFloat(pos.lat), lng: parseFloat(pos.lng) });\n\n\n      if (!$radius) {\n        $radius = new google.maps.Circle({\n          strokeColor: '#2c6ba4',\n          strokeOpacity: 0.5,\n          strokeWeight: 2,\n          fillColor: '#2c6ba4',\n          fillOpacity: 0.15,\n          map: $map,\n          center: pos,\n          radius: $.fn.milesInMeters($('#range').val())\n        });\n\n        $('.loading-overlay').css('display', 'block');\n\n        // Load pins into client cache\n        $.fn.loadPins();\n\n        // Sort pins by distance (miles)\n        $.fn.sortedPins();\n\n        // Set default sidebar pane\n        $.fn.switchSidebarPane('sidebar-pins');\n\n\n\n      } else {\n        $radius.setCenter({ lat: parseFloat(pos.lat), lng: parseFloat(pos.lng) });\n        $.fn.filterRadius();\n      }\n\n      // Set default sidebar pane\n      $.fn.switchSidebarPane('sidebar-pins');\n\n      $('.waiting-overlay').css('display', 'none');\n\n    }\n  });\n  // $.fn.filterNearbyPins();\n  // $.fn.filterRadius();\n};\n\n// Handles geolocation\n$.fn.setLocation = function () {\n\n  if (navigator.geolocation) {\n\n    navigator.geolocation.getCurrentPosition(function (position) {\n\n      var pos = {\n        lat: position.coords.latitude,\n        lng: position.coords.longitude\n      };\n\n      $location = [\n        position.coords.latitude,\n        position.coords.longitude\n      ];\n\n      $map.setCenter(pos);\n      $map.setZoom(8);\n\n\n      if (!$radius) {\n\n        if ($map) {\n          $radius = new google.maps.Circle({\n            strokeColor: '#2c6ba4',\n            strokeOpacity: 0.5,\n            strokeWeight: 2,\n            fillColor: '#2c6ba4',\n            fillOpacity: 0.15,\n            map: $map,\n            center: pos,\n            radius: $.fn.milesInMeters($('#range').val())\n          });\n        }\n\n        // Load pins into client cache\n        $.fn.loadPins();\n\n        // Sort pins be distance (miles)\n        $.fn.sortedPins();\n\n        // Set default sidebar pane\n        $.fn.switchSidebarPane('sidebar-pins');\n\n\n\n      } else {\n\n        $me.setPosition({ lat: parseFloat(pos.lat), lng: parseFloat(pos.lng) });\n\n        $radius.setCenter({ lat: parseFloat(pos.lat), lng: parseFloat(pos.lng) });\n\n        $.fn.filterRadius();\n\n      }\n\n      var address;\n\n      var latlng = new google.maps.LatLng(pos.lat, pos.lng);\n      $geocoder.geocode({ 'latLng': latlng }, function (results, status) {\n        if (status == google.maps.GeocoderStatus.OK) {\n\n          if (results[6]) {\n            address = results[0]?.formatted_address || '';\n          }\n          else if (results[0]) {\n            address = results[5]?.formatted_address || '';\n          }\n          else {\n            console.log('no results found');\n          }\n\n          if (address) {\n\n            $('.sidebar #location').val(address);\n            $currentAddress = address;\n            $('#location2').val(address);\n            $currentAddress = address;\n          }\n\n        } else {\n          console.log('geocode failed due to: ' + status);\n        }\n      });\n\n    }, function () {\n\n      //this.setMap(null);\n      console.log('error with navigator');\n      $.fn.handleLocationError(true);\n\n    });\n\n\n  } else {\n    // Browser doesn't support Geolocation\n    //this.setMap(null);\n\n    console.log('could not determine location');\n\n    $.fn.handleLocationError(false);\n\n  }\n};\n\n$.fn.currentFilter = function () {\n\n  $current = $('#filter-options input:checked').first();\n\n  if ($current.get(0) !== undefined) {\n\n    return $('#filter-options input:checked').first().attr('id');\n\n  }\n\n  return \"\";\n};\n\n$.fn.currentFilterHumanReadable = function () {\n\n  $current = $('#filter-options input:checked').first();\n\n  if ($current.get(0) !== undefined) {\n\n    return $('#filter-options input:checked').first().attr('value');\n\n  }\n\n  return \"\";\n};\n\n$.fn.setMyDealer = function (dealer) {\n\n  if ($myDealer != null && $myDealer.oldZIndex) {\n\n    //$myDealer.marker.setZIndex($myDealer.oldZIndex);\n\n  }\n\n  $eventData = {\n    dealer: '',\n    dealerName: '',\n    dealerHours: {},\n    dealerNumber: ''\n  };\n\n  if (dealer) {\n\n    $myDealer = dealer;\n\n    var marker;\n    for (i = 0; i < $markers.length; i++) {\n\n      if ($markers[i].id == dealer.IDENTIFIER_VALUE) {\n\n        marker = $markers[i];\n\n      }\n    }\n\n\n    var pinIcon = $.fn.drawPin('', 43, 63, '328E04');\n\n    marker.setIcon(pinIcon);\n\n    $myDealer.marker = marker;\n\n    var hours = {};\n\n    if ($myDealer.hours.Parts) {\n      hours = $myDealer.hours.Parts;\n    }\n\n    if ($.isEmptyObject(hours) && $myDealer.hours.Service) {\n      hours = $myDealer.hours.Service;\n    }\n\n    if ($.isEmptyObject(hours) && $myDealer.hours.Leasing) {\n      hours = $myDealer.hours.Leasing;\n    }\n\n    $eventData.dealer = $myDealer.IDENTIFIER_VALUE;\n    $eventData.dealerName = $myDealer.COMPANY_DBA_NAME;\n    $eventData.dealerHours = hours;\n    $eventData.dealerNumber = $myDealer.REG_PHONE_NUMBER;\n\n    $.fn.setCookie('my-dealer', $myDealer.IDENTIFIER_VALUE, 365 * 10);\n    $.fn.setCookie('my-dealer-name', $myDealer.COMPANY_DBA_NAME, 365 * 10);\n    $.fn.setCookie('my-dealer-hours', JSON.stringify(hours), 365 * 10);\n    $.fn.setCookie('my-dealer-number', $myDealer.REG_PHONE_NUMBER, 365 * 10);\n    $.fn.setCookie('my-dealer-coords', $myDealer.MAIN_LATITUDE + ',' + $myDealer.MAIN_LONGITUDE, 365 * 10);\n\n    $.fn.setCookie('my-dealer-city', $myDealer.MAIN_ADDRESS_LINE_1_TXT, 365 * 10);\n    $.fn.setCookie('my-dealer-city', $myDealer.MAIN_ADDRESS_LINE_2_TXT, 365 * 10);\n    $.fn.setCookie('my-dealer-city', $myDealer.MAIN_CITY_NM, 365 * 10);\n    $.fn.setCookie('my-dealer-state', $myDealer.MAIN_STATE_PROV_CD, 365 * 10);\n    $.fn.setCookie('my-dealer-zip', $myDealer.MAIN_POSTAL_CD, 365 * 10);\n\n    $html.attr('data-dealer', $myDealer.IDENTIFIER_VALUE);\n\n    $.fn.filterRadius();\n\n  } else {\n\n    $.fn.deleteCookie('my-dealer');\n    $.fn.deleteCookie('my-dealer-name');\n    $.fn.deleteCookie('my-dealer-hours');\n    $.fn.deleteCookie('my-dealer-number');\n    $.fn.deleteCookie('my-dealer-coords');\n\n    $myDealer = null;\n\n    $html.attr('data-dealer', '');\n\n  }\n\n  $dealerEvent = new CustomEvent('my-dealer', { detail: $eventData });\n  window.dispatchEvent($dealerEvent);\n\n  //$.fn.myDealer();\n\n};\n\n$.fn.myDealer = function () {\n\n  var dealer = $.fn.getCookie('my-dealer');\n\n  var marker;\n  for (i = 0; i < $markers.length; i++) {\n\n    if ($markers[i].id == dealer) {\n\n      var pinIcon = $.fn.drawPin('', 43, 63, '328E04');\n\n      $markers[i].setIcon(pinIcon);\n\n      marker = $markers[i];\n\n    }\n  }\n\n  return marker;\n\n};\n\n$.fn.drawPin = function (text, width, height, color) {\n\n  if (!text) {\n    text = '';\n  }\n\n  // my dealer color for mack\n  if (color == '328E04' && $.fn.isMack()) {\n    //color = '85754d'; // 328E04\n  }\n\n  // uptime center color for mack\n  if (color == '3F62A5' && $.fn.isMack()) {\n    color = '85754d';\n  }\n\n  return 'data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22' + width + '%22%20height%3D%22' + height + '%22%20viewBox%3D%220%200%2038%2038%22%3E%3Cpath%20fill%3D%22%23' + color + '%22%20stroke%3D%22%23ccc%22%20stroke-width%3D%22.5%22%20d%3D%22M34.305%2016.234c0%208.83-15.148%2019.158-15.148%2019.158S3.507%2025.065%203.507%2016.1c0-8.505%206.894-14.304%2015.4-14.304%208.504%200%2015.398%205.933%2015.398%2014.438z%22%2F%3E%3Ctext%20transform%3D%22translate%2819%2018.5%29%22%20fill%3D%22%23fff%22%20style%3D%22font-family%3A%20sans-serif%3Bfont-weight%3Abold%3Btext-align%3Acenter%3B%22%20font-size%3D%2212%22%20text-anchor%3D%22middle%22%3E' + text + '%3C%2Ftext%3E%3C%2Fsvg%3E';\n};\n\n$.fn.handleLocationError = function (browserHasGeolocation, infoWindow, pos) {\n\n  if (!browserHasGeolocation) {\n    alert('Error: Your browser doesn\\'t support geolocation.');\n  } else {\n    $('.loading-overlay').css('display', 'none');\n    $('.waiting-overlay').css('display', 'block');\n  }\n\n};\n\n$.fn.camelCase = function (str) {\n  if (!str) return;\n  return str.toLowerCase().replace(/\\w\\S*/g, function (txt) { return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase(); });\n};\n\n$.fn.formatPhoneNumber = function (str) {\n  if (!str) return;\n  return str.replace(/(\\d{3})(\\d{3})(\\d{4})/, \"$1-$2-$3\");\n}\n\n$.fn.formatWebAddress = function (str) {\n  var prefixes = 'http';\n  if (!str) return;\n  if (str.substr(0, prefixes.length).toLowerCase() === prefixes) {\n    return str.toLowerCase();\n  }\n  return 'https://' + str.toLowerCase();\n};\n\n$.fn.clearDirections = function () {\n\n  $.fn.directionsMessage();\n\n  $directionResults = null;\n  $directionsDisplay.setMap(null);\n\n  $directionsObject = null;\n  $wayPoints = [];\n};\n\n$.fn.getCurrentRouteTimeInHours = function () {\n\n  $currentRoute = null;\n  $currentTime = null;\n\n  if ($directionResults) {\n\n    if ($directionResults.routes && $directionResults.routes.length == 1) {\n\n      $currentRoute = $directionResults.routes[0];\n\n    } else if ($directionResults.routes && $directionResults.routes.length > 1) {\n\n      $referencePoint = $('.adp-listsel').first();\n      $currentRoute = $directionResults.routes[$referencePoint.attr('data-route-index')];\n    }\n  }\n\n  if ($currentRoute) {\n\n    $currentTime = $currentRoute.legs[0].duration.value / 60 / 60;\n  }\n\n  return $currentTime;\n};\n\n$.fn.wayPointArray = function () {\n\n  var waypoints = [];\n  var waypointLength = $wayPoints.length;\n\n  for (var wayPoint in $wayPoints) {\n\n    if ($wayPoints.hasOwnProperty(wayPoint)) {\n\n      waypoints.push($wayPoints[wayPoint].point);\n\n    }\n\n  }\n\n  return waypoints;\n};\n\n$.fn.directionsMessage = function (message) {\n\n  if (!message) {\n    $directionsMessage.html('');\n  } else {\n    $directionsMessage.html(message);\n  }\n};\n\n$.fn.getUrlParameter = function (sParam) {\n  var sPageURL = window.location.search.substring(1),\n      sURLVariables = sPageURL.split('&'),\n      sParameterName,\n      i;\n\n  for (i = 0; i < sURLVariables.length; i++) {\n    sParameterName = sURLVariables[i].split('=');\n\n    if (sParameterName[0] === sParam) {\n      return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);\n    }\n  }\n};\n\n$.fn.snackbar = function (message) {\n\n  // Get the snackbar DIV\n  var x = document.getElementById(\"locator-snackbar\");\n\n  x.innerHTML = message;\n\n  // Add the \"show\" class to DIV\n  x.className = \"show\";\n\n  // After 3 seconds, remove the show class from DIV\n  setTimeout(function () { x.className = x.className.replace(\"show\", \"\"); }, 3000);\n\n};\n\n$.fn.isMack = function () {\n\n  if ($.fn.brand() == 'mack') {\n\n    return true;\n\n  }\n\n  return false;\n\n};\n\n$.fn.isVolvo = function () {\n\n  if ($.fn.brand() == 'volvo') {\n\n    return true;\n\n  }\n\n  return false;\n\n};\n\n$.fn.brand = function () {\n\n  if ($html.is('[data-brand]')) {\n\n    return $html.attr('data-brand');\n\n  }\n\n  return '';\n\n};\n\n$.fn.copyToClipboard = function (text) {\n\n  if (typeof text != \"string\") {\n    text = $(text).attr('data-clipboard');\n  }\n\n  var textArea = document.createElement(\"textarea\");\n\n  // Place in top-left corner of screen regardless of scroll position.\n  textArea.style.position = 'fixed';\n  textArea.style.bottom = '0';\n  textArea.style.left = '0';\n\n  // Ensure it has a small width and height. Setting to 1px / 1em\n  // doesn't work as this gives a negative w/h on some browsers.\n  textArea.style.width = '2em';\n  textArea.style.height = '2em';\n\n  // We don't need padding, reducing the size if it does flash render.\n  textArea.style.padding = '0';\n\n  // Clean up any borders.\n  textArea.style.border = 'none';\n  textArea.style.outline = 'none';\n  textArea.style.boxShadow = 'none';\n\n  // Avoid flash of white box if rendered for any reason.\n  textArea.style.background = 'transparent';\n\n  textArea.value = text;\n\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  var result = false;\n\n  try {\n    var successful = document.execCommand('copy');\n\n    $.fn.snackbar('Copied to clipboard.');\n\n    result = successful ? true : false;\n\n  } catch (err) {\n    result = false;\n  }\n\n  document.body.removeChild(textArea);\n\n  return result;\n\n};\n\n// Event listeners\n$('.go-back').on('click', function () {\n  $.fn.switchSidebarPane('sidebar-pins');\n\n  //  $(\"#filterUptime,#filterElectricDealer,#filterDealer\").bind('click');\n  $wayPoints = [];\n  $('.nearby-select').empty();\n  $('.sidebar-content').removeClass(\"direction-content\");\n  $('.sidebar-legend').css(\"display\", \"flex\");\n  $('.sidebar').css(\"overflow\", \"hidden\");\n  $('.add-directions').text(\"Recalculate Directions\");\n});\n$('.go-back-direction').on('click', function () {\n  $.fn.switchSidebarPane('sidebar-pins');\n//$(\"#filterUptime,#filterElectricDealer,#filterDealer\").bind('click');\n  $wayPoints = [];\n  $('.nearby-select').empty();\n  $('.sidebar-content').removeClass(\"direction-content\");\n  $('.sidebar-legend').css(\"display\", \"flex\");\n  $('.sidebar').css(\"overflow\", \"hidden\");\n  $('.add-directions').text(\"Recalculate Directions\");\n});\n\n$(\"#location\").on('keyup', function (e) {\n  if (e.keyCode == 13) {\n    $.fn.setAddress();\n  }\n});\n$(\"#location2\").on('keyup', function (e) {\n  if (e.keyCode == 13) {\n    $.fn.setAddress2();\n  }\n});\n\n$('#cancel').on('click', function () {\n\n  try {\n\n    var details = $.fn.getPinById($viewingPin.ID);\n    if (details.isCertifiedUptimeCenter) {\n      var pinIcon = {\n        url: \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\",\n        scaledSize: new google.maps.Size(17, 23), // scaled size\n        origin: new google.maps.Point(0, 0), // origin\n        anchor: new google.maps.Point(0, 0)\n      }\n      if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n        var pinIcon = {\n          url: \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\",\n          scaledSize: new google.maps.Size(17, 23), // scaled size\n          origin: new google.maps.Point(0, 0), // origin\n          anchor: new google.maps.Point(0, 0)\n        }\n      }\n    }\n    else if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n      var pinIcon = {\n        url: \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\",\n        scaledSize: new google.maps.Size(17, 23), // scaled size\n        origin: new google.maps.Point(0, 0), // origin\n        anchor: new google.maps.Point(0, 0)\n      }\n    }\n    else {\n      var pinIcon = {\n        url: \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\",\n        scaledSize: new google.maps.Size(17, 23), // scaled size\n        origin: new google.maps.Point(0, 0), // origin\n        anchor: new google.maps.Point(0, 0)\n      }\n    }\n\n    $viewingPin.setIcon(pinIcon);\n\n    $.fn.myDealer();\n\n  } catch (e) {\n    // ignore\n  }\n  $('.nearby-pins').children().attr('clicked', '');\n});\n\n$('#cancel2').on('click', function () {\n\n  try {\n\n    var details = $.fn.getPinById($viewingPin.ID);\n    if (details.isCertifiedUptimeCenter) {\n      var pinIcon = {\n        url: \"/blocks/dealer-locator/images/volvo-pin-uptime.svg\",\n        scaledSize: new google.maps.Size(17, 23), // scaled size\n        origin: new google.maps.Point(0, 0), // origin\n        anchor: new google.maps.Point(0, 0)\n      }\n      if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n        var pinIcon = {\n          url: \"/blocks/dealer-locator/images/volvo-pin-uptime-electric.svg\",\n          scaledSize: new google.maps.Size(17, 23), // scaled size\n          origin: new google.maps.Point(0, 0), // origin\n          anchor: new google.maps.Point(0, 0)\n        }\n      }\n    }\n    else if ($electricDealer === true || (details.services && Object.values(details.services).includes('Volvo Certified EV Dealer'))) {\n      var pinIcon = {\n        url: \"/blocks/dealer-locator/images/volvo-pin-dealer-electric.svg\",\n        scaledSize: new google.maps.Size(17, 23), // scaled size\n        origin: new google.maps.Point(0, 0), // origin\n        anchor: new google.maps.Point(0, 0)\n      }\n    }\n    else {\n      var pinIcon = {\n        url: \"/blocks/dealer-locator/images/volvo-pin-dealer.svg\",\n        scaledSize: new google.maps.Size(17, 23), // scaled size\n        origin: new google.maps.Point(0, 0), // origin\n        anchor: new google.maps.Point(0, 0)\n      }\n    }\n\n    $viewingPin.setIcon(pinIcon);\n\n    $.fn.myDealer();\n\n  } catch (e) {\n    // ignore\n  }\n  $('.nearby-pins').children().attr('clicked', '');\n});\n\n$(window).on('resize', function () {\n  if ($(window).width() < 992) {\n    if ($(\".direction-content\")) {\n      $('.sidebar').css(\"overflow\", \"scroll\");\n      $('.add-directions').text(\"Recalculate\");\n    } else {\n      $('.sidebar').css(\"overflow\", \"hidden\");\n      $('.add-directions').text(\"Recalculate Directions\");\n    }\n  } else {\n    $('.sidebar').css(\"overflow\", \"hidden\");\n    $('.add-directions').text(\"Recalculate Directions\");\n  }\n  if ($('#location').val()) {\n    $('#location2').val($('#location').val());\n  }\n  if ($('#location2').val()) {\n    $('#location').val($('#location2').val());\n  }\n\n});\n\n$(document).on('click', '.sidebar-content #filter-options input[type=\"checkbox\"]', function (e) {\n\n  $clicked = $(this);\n\n  if ($('.sidebar-content #filter-options input[type=\"checkbox\"]:checked').length < 1) {\n    $clicked.prop('checked', true);\n    return;\n  }\n\n  $('.sidebar-content #filter-options input[type=\"checkbox\"]').each(function (i) {\n\n    $filter = $(this);\n\n    if ($clicked.get(0) !== $filter.get(0)) {\n\n      $filter.prop('checked', false);\n\n    }\n\n  });\n\n  $.fn.filterRadius();\n});\n\n$(document).on('click', '.accordion', function (eventObject) {\n\n  $(this).next('.accordion-panel').slideToggle(\"slow\");\n  $(this).find('.toggle-arrow').toggleClass('close');\n\n  document.getElementById(\"share-link\").select();\n\n\n});\n\n$(document).on('click', '#set-dealer', function (eventObject) {\n  console.log(\"inside set dealer\");\n  var pinId = $(this).attr('data-pin');\n\n  var pin = $.fn.getPinById(pinId);\n\n  $.fn.setMyDealer(pin);\n\n  //$(this).find('span').text('Remove As Dealer');\n  // $(this).find('span').text('Preferred Dealer');\n  //  $(this).find('i').removeClass('fa-star-o').addClass('fa-star');\n  $(this).find('#set-dealer').html('<img src=\"/blocks/dealer-locator/images/Vector-3.svg\" />');\n\n});\n\n$(document).on('click', '#print', function (eventObject) {\n\n  var divToPrint = $(this).parents('.directions-panel').find('#directions-container');\n\n  var newWin = window.open('', 'Print Window');\n\n  newWin.document.open();\n\n  newWin.document.write('<html><body onload=\"window.print()\">' + divToPrint.html() + '</body></html>');\n\n  newWin.document.close();\n\n  setTimeout(function () { newWin.close(); }, 10);\n\n});\n\n$.fn.initGoogleMaps();//entry point to dealer locator\n","import{nothing as t,noChange as i}from\"../lit-html.js\";import{Directive as r,PartType as s,directive as n}from\"../directive.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class e extends r{constructor(i){if(super(i),this.it=t,i.type!==s.CHILD)throw Error(this.constructor.directiveName+\"() can only be used in child bindings\")}render(r){if(r===t||null==r)return this._t=void 0,this.it=r;if(r===i)return r;if(\"string\"!=typeof r)throw Error(this.constructor.directiveName+\"() called with a non-string value\");if(r===this.it)return this._t;this.it=r;const s=[r];return s.raw=s,this._t={_$litType$:this.constructor.resultType,strings:s,values:[]}}}e.directiveName=\"unsafeHTML\",e.resultType=1;const o=n(e);export{e as UnsafeHTMLDirective,o as unsafeHTML};\n//# sourceMappingURL=unsafe-html.js.map\n","import{directive as s}from\"../directive.js\";import{UnsafeHTMLDirective as e}from\"./unsafe-html.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class t extends e{}t.directiveName=\"unsafeSVG\",t.resultType=2;const o=s(t);export{o as unsafeSVG};\n//# sourceMappingURL=unsafe-svg.js.map\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nexport default arrayMap;\n","import Symbol from './_Symbol.js';\nimport arrayMap from './_arrayMap.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default baseToString;\n","import baseToString from './_baseToString.js';\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nexport default toString;\n","export const getMainTemplate = (PLACEHOLDERS) => {\n  const [relevance, newest, oldest] = PLACEHOLDERS.sortFilter.split(',');\n  return `\n  <div class=\"search-input-wrapper\">\n    <div id=\"searchInput\" class=\"input-container-custom\">\n      <div class=\"sf-header-searchstudio-js mb-5\">\n        <div class=\"sf-form\">\n          <div id=\"autosuggest\" class=\"form-control-suggest\">\n            <div role=\"combobox\" aria-expanded=\"false\" aria-haspopup=\"listbox\"\n              aria-owns=\"autosuggest-autosuggest__results\">\n              <input type=\"text\" autocomplete=\"off\" aria-autocomplete=\"list\" id=\"searchTerm\"\n                aria-controls=\"autosuggest-autosuggest__results\"\n                placeholder=\"${PLACEHOLDERS.searchFor}...\" autofocus=\"autofocus\">\n            </div>\n            <div id=\"autosuggest-autosuggest__results\" class=\"autosuggest__results-container\">\n              <div aria-labelledby=\"autosuggest\" class=\"autosuggest__results\"> \n                <ul role=\"listbox\"></ul>\n              </div>\n            </div>\n          </div>\n          <span>\n            <button type=\"submit\" class=\"btn text-primary search-close-button\">\n              <span class=\"fa fa-search search-icon\"></span>\n            </button>\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"search-results-summary-options-wrapper\">\n    <div id=\"searchResultSummarySection\"></div>\n    <div id=\"searchOptionsSection\" class=\"hide\">\n      <div class=\"sf-filter-actions-wrapper\">\n        <div class=\"ml-auto sf-filter-actions-custom\">\n          <div class=\"form-inline justify-content-end\">\n            <label for=\"sort-by\" class=\"ml-4 mr-2\">${PLACEHOLDERS.sortBy}</label>\n            <select id=\"order-by\" class=\"custom-select-searchstudio-js\">\n              <option value=\"BEST_MATCH\">${relevance}</option>\n              <option value=\"PUBLISH_DATE_DESC\">${newest}</option>\n              <option value=\"PUBLISH_DATE_ASC\">${oldest}</option>\n            </select>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"search-results-wrapper\">\n    <div class=\"facet-container-wrapper\">\n      <div id=\"searchFacetSection\" class=\"facet-wrapper facet-container-holder\"></div>\n    </div>\n    <div class=\"result-container-wrapper\">\n      <div id=\"searchResultsSection\"></div>\n      <div id=\"paginationSection\">\n        <div class=\"search-pagination-container\">\n          <ul class=\"pagination\">\n            <li class=\"page-item\">\n              <a variant=\"outline-primary\" class=\"page-link-searchstudio-js prev\"> &lt; ${PLACEHOLDERS.previous} </a>\n            </li>\n            <li class=\"page-item\">\n              <span class=\"page-link-searchstudio-js page-number\"><strong class=\"page-range\">1  25 </strong> of <strong class=\"count\">113</strong></span>\n            </li>\n            <li class=\"page-item\">\n              <a variant=\"outline-primary\" class=\"page-link-searchstudio-js next\">  ${PLACEHOLDERS.next}  &gt; </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n`;\n};\n\nexport const getNoResultsTemplate = ({ noResults, refine }) => `\n  <div class=\"search-feedback-filters-wrapper\">\n    <div class=\"search-feedback-filters-custom\">\n      <div class=\"sf-filter-info-custom\">\n        <span class=\"no-result-msg\">${noResults}</span>\n        <br />\n        <span class=\"no-result-msg2\">${refine}</span>\n      </div>\n    </div>\n  </div>\n`;\n\nconst addEmTag = (text, value) => {\n  const words = text.split(' ');\n  const result = words.map((word) => (word.toLowerCase() === value.toLowerCase() ? `<em>${word}</em>` : word));\n  return result.join(' ');\n};\n\nexport const getResultsItemsTemplate = ({ items, queryTerm }) => {\n  let result = '';\n  items.forEach((item) => {\n    const { description, title, url } = item.metadata;\n    const emDescription = description ? addEmTag(description, queryTerm) : '';\n    const emTitle = title ? addEmTag(title, queryTerm) : '';\n    result += `\n      <div class=\"list-wrapper\">\n        <div class=\"card-searchstudio-js-custom\">\n          <div class=\"card-searchstudio-jsClass\">\n            <div class=\"card-searchstudio-js-body p-0\">\n              <div class=\"card-searchstudio-js-title\">\n                <a href=\"${url}\" target=\"_blank\" class=\"stretched-link\">\n                  <h4>${emTitle}</h4>\n                </a>\n              </div>\n              <div class=\"card-searchstudio-js-body p-0\">\n                <div class=\"card-searchstudio-js-text article_promo_short_overview_t\">\n                  <p class=\"Find\">${emDescription}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n  });\n  return `\n    <div id=\"searchContainer\">\n      <div class=\"container\">\n        <div class=\"result-edit\">\n          <div class=\"sf-lists active layout-list\">\n            <div class=\"row reset-row\">\n              <div class=\"sf-list w-100 p-0 d-flex flex-wrap position-relative\">\n                ${result}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;\n};\n\nexport const getShowingResultsTemplate = (text) => `\n  <div class=\"search-feedback-filters-wrapper-container\">\n    <div class=\"search-feedback-filters-wrapper\">\n      <div class=\"search-feedback-filters-custom align-items-center333\">\n        <div class=\"sf-filter-info\">\n          <span>${text}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n`;\n\nconst sanitizeString = (string) => string.replaceAll(' ', '-');\n\nconst getItemsList = (items, filter) =>\n  items\n    .map((item, i) => {\n      const sanitizedValue = sanitizeString(item.value);\n      return `\n    <li ${i > 2 ? 'class=\"d-none\"' : ''}>\n      <input type=\"checkbox\" id=\"${sanitizedValue}\" data-filter=\"${filter}\" value=\"${item.value}\" />\n      <label for=\"${sanitizedValue}\" class=\"ml-1\">\n      <span class=\"facet-name\" title=\"${sanitizedValue}\"> ${item.value} </span> (${item.count}) </label>\n    </li>\n  `;\n    })\n    .join('');\n\nexport const getFacetsTemplate = (facets) => {\n  const [truck, topic, article, category] = facets;\n  const categoryItemsText = getItemsList(category.items, 'CATEGORY');\n  const articleItemsText = getItemsList(article.items, 'ARTICLE');\n  const topicItemsText = getItemsList(topic.items, 'TOPIC');\n  const truckItemsText = getItemsList(truck.items, 'TRUCK');\n\n  return `\n    <div class=\"facet-template-container-custom\">\n      <div class=\"pill-container\">\n        <div class=\"pill\">Filter By <span class=\"pill-close filter-by\"></span></div>\n      </div>\n      <div class=\"sidebar-background\"></div>\n      <div class=\"sf-sidebar-container\">\n        <div class=\"sf-mobile-header\">\n          <div class=\"sf-mobile-header-text\">Filter By</div>\n          <button type=\"button\" class=\"btn btn-custom text-primary search-close-button fa fa-close\">\n          </button>\n        </div>\n        <div class=\"sf-sidebar\">\n          <ul id=\"search-facets\" class=\"list-group accordion\">\n            <li class=\"list-group-item-searchstudio-js\">\n              <div id=\"collapse-topics\" data-parent=\"#search-facets\" class=\"collapse show\">\n                <ul class=\"list-unstyled\">\n                  <div id=\"ss-search-results\">\n                    <div class=\"filters\">\n                      <form id=\"facetsFilters\">\n                        ${\n                          category.items.length > 0\n                            ? `\n                        <div class=\"facet-list mb-4\">\n                          <h4 class=\"sidebar-heading\">\n                            <a href=\"#\" class=\"text-uppercase active\">Page Categories </a>\n                          </h4>\n                          <div class=\"collapse show\">\n                            <ul class=\"list-unstyled pl-3\">\n                              ${categoryItemsText}\n                            </ul>\n                            ${\n                              category.items.length > 3\n                                ? `\n                            <div class=\"more-less\">\n                              <a href=\"#\">More</a>\n                            </div>`\n                                : ''\n                            }\n                          </div>\n                        </div>`\n                            : ''\n                        }\n                        ${\n                          article.items.length > 0\n                            ? `\n                        <div class=\"facet-list mb-4\">\n                          <h4 class=\"sidebar-heading\">\n                            <a href=\"#\" class=\"text-uppercase active\">Article Categories </a>\n                          </h4>\n                          <div class=\"collapse show\">\n                            <ul class=\"list-unstyled pl-3\">\n                              ${articleItemsText}\n                            </ul>\n                            ${\n                              article.items.length > 3\n                                ? `\n                            <div class=\"more-less\">\n                              <a href=\"#\">More</a>\n                            </div>`\n                                : ''\n                            }\n                          </div>\n                        </div>`\n                            : ''\n                        }\n                        ${\n                          topic.items.length > 0\n                            ? `\n                        <div class=\"facet-list mb-4\">\n                          <h4 class=\"sidebar-heading\">\n                            <a href=\"#\" class=\"text-uppercase active\">Topics </a>\n                          </h4>\n                          <div class=\"collapse show\">\n                            <ul class=\"list-unstyled pl-3\">\n                              ${topicItemsText}\n                            </ul>\n                            ${\n                              topic.items.length > 3\n                                ? `\n                            <div class=\"more-less\">\n                              <a href=\"#\">More</a>\n                            </div>`\n                                : ''\n                            }\n                          </div>\n                        </div>`\n                            : ''\n                        }\n                        ${\n                          truck.items.length > 0\n                            ? `\n                        <div class=\"facet-list mb-4\">\n                          <h4 class=\"sidebar-heading\">\n                            <a href=\"#\" class=\"text-uppercase active\">Trucks </a>\n                          </h4>\n                          <div class=\"collapse show\">\n                            <ul class=\"list-unstyled pl-3\">\n                              ${truckItemsText}\n                            </ul>\n                            ${\n                              truck.items.length > 3\n                                ? `\n                            <div class=\"more-less\">\n                              <a href=\"#\">More</a>\n                            </div>`\n                                : ''\n                            }\n                          </div>\n                        </div>`\n                            : ''\n                        }\n                      </form>\n                    </div>\n                  </div>\n                </ul>\n              </div>\n            </li>\n          </ul>\n          <button type=\"button\" class=\"btn btn-custom close-button\">Done</button>\n        </div>\n      </div>\n    </div>\n  `;\n};\n","import { createOptimizedPicture } from '../../scripts/aem.js';\nimport { createElement, removeEmptyTags } from '../../scripts/common.js';\n\nconst blockName = 'v2-visual-grid';\nconst CLASSES = {\n  list: `${blockName}__list`,\n  item: `${blockName}__item`,\n};\n\n/**\n * Extracts the alt text from the cell element.\n * @param {HTMLElement} cellElement - The cell element containing the text.\n * @returns {string} The extracted alt text.\n */\nconst extractAltText = (cellElement) => {\n  const altTextElement = cellElement.querySelector(':scope > p:not(:has(picture))');\n  return altTextElement ? altTextElement.textContent.trim() : '';\n};\n\n/**\n * Extracts the image element from the cell element.\n * @param {HTMLElement} cellElement - The cell element containing the picture.\n * @returns {HTMLImageElement|null} The image element, or null if not found.\n */\nconst extractImageElement = (cellElement) => {\n  const pictureElement = cellElement.querySelector('picture');\n  return pictureElement ? pictureElement.querySelector('img') : null;\n};\n\n/**\n * Creates a list item with an optimized picture.\n * @param {HTMLImageElement} image - The image element to optimize.\n * @param {string} altText - The alt text for the image.\n * @returns {HTMLElement} The list item with the optimized picture.\n */\nconst createListItemWithPicture = (image, altText) => {\n  const listItem = createElement('li', { classes: CLASSES.item });\n  const optimizedPicture = createOptimizedPicture(image.src, altText, false);\n  listItem.prepend(optimizedPicture);\n  return listItem;\n};\n\n/**\n * Processes a single cell to extract and create a list item if it contains a picture.\n * @param {HTMLElement} cellElement - The cell element to process.\n * @returns {HTMLElement|null} The created list item or null if no picture is found.\n */\nconst processCell = (cellElement) => {\n  const imageElement = extractImageElement(cellElement);\n  if (imageElement) {\n    const altText = extractAltText(cellElement);\n    return createListItemWithPicture(imageElement, altText);\n  }\n  return null;\n};\n\n/**\n * Processes each cell and adds it to the list if it contains a picture.\n * @param {HTMLElement} block - The block element containing the cells.\n * @returns {HTMLElement} The list element with all list items.\n */\nconst processCells = (block) => {\n  const listElement = createElement('ul', { classes: CLASSES.list });\n  const cellElements = block.querySelectorAll(':scope > div > div');\n\n  cellElements.forEach((cellElement) => {\n    const listItem = processCell(cellElement);\n    if (listItem) {\n      listElement.append(listItem);\n    }\n    cellElement.remove();\n  });\n\n  return listElement;\n};\n\n/**\n * Decorates the block element with an optimized visual grid.\n * @param {HTMLElement} block - The block element to decorate.\n */\nconst decorate = (block) => {\n  const listElement = processCells(block);\n  block.append(listElement);\n  removeEmptyTags(block);\n};\n\nexport default decorate;\n","import { loadScript } from '../../scripts/aem.js';\nimport { createElement } from '../../scripts/common.js';\n\n// cache contains the form element that should be reused\nconst formCache = new Map();\n\nconst blockName = 'v2-forms';\n\nfunction serialize(obj) {\n  const str = Object.keys(obj).map((key) => `${encodeURIComponent(key)}=${encodeURIComponent(obj[key])}`);\n  return str.join('&');\n}\n\nfunction constructPayload(form) {\n  const payload = {};\n  [...form.elements].forEach((fe) => {\n    if (fe.name) {\n      if (fe.type === 'radio') {\n        if (fe.checked) {\n          payload[fe.name] = fe.value;\n        }\n      } else if (fe.type === 'checkbox') {\n        if (fe.checked) {\n          payload[fe.name] = payload[fe.name] ? `${payload[fe.name]},${fe.value}` : fe.value;\n        }\n      } else if (fe.type !== 'file') {\n        payload[fe.name] = fe.value;\n      }\n    }\n  });\n  payload.callback = 'logResult';\n  return { payload };\n}\n\nasync function prepareRequest(form) {\n  const { payload } = constructPayload(form);\n  const url = form.dataset.action;\n\n  const serializedData = serialize(payload);\n\n  return loadScript(`${url}?${serializedData}`, { type: 'text/javascript', charset: 'UTF-8' });\n}\n\nasync function handleSubmit(form) {\n  if (form.getAttribute('data-submitting') !== 'true') {\n    form.setAttribute('data-submitting', 'true');\n    try {\n      await prepareRequest(form);\n    } catch (error) {\n      window.logResult({ result: 'success', log: error });\n    }\n  }\n}\n\nconst addForm = async (block) => {\n  const displayValue = block.style.display;\n  block.style.display = 'none';\n\n  let formContent;\n  const formName = block.firstElementChild.innerText.trim();\n  const formAction = block.firstElementChild.nextElementSibling.innerText.trim();\n\n  try {\n    formContent = await import(`./forms/${formName}.js`);\n  } catch (error) {\n    console.error(error);\n  }\n\n  if (!formContent) {\n    return;\n  }\n\n  const form = document.createRange().createContextualFragment(`\n    <form\n      method=\"post\"\n      name=\"form-${formName}\"\n      action=\"${formAction}\"\n    >${formContent.default}\n\n      <div style=\"position:absolute; left:-9999px; top: -9999px;\" aria-hidden=\"true\">\n        <label for=\"form_extra_field\">Comments</label>\n        <input type=\"text\" id=\"form_extra_field\" name=\"form_extra_field\" />\n      </div>\n    </form>\n  `);\n\n  if (formCache.get(formName)) {\n    const cachedForm = formCache.get(formName);\n    block.replaceWith(cachedForm);\n    block.style.display = displayValue;\n    return;\n  }\n\n  const formWrapper = createElement('div', { classes: `${blockName}__container` });\n  formWrapper.append(form);\n  block.innerText = '';\n  block.append(formWrapper);\n  formCache.set(formName, formWrapper);\n\n  block.style.display = displayValue;\n\n  const formObj = block.querySelector('form');\n\n  formObj.addEventListener('submit', (e) => {\n    if (formContent.onSubmit) {\n      e.preventDefault();\n      formObj.dataset.action = e.currentTarget.action;\n      formContent.onSubmit(formObj, handleSubmit);\n    }\n\n    let isValid = true;\n    if (formObj.hasAttribute('novalidate')) {\n      isValid = formObj.checkValidity();\n    }\n    e.preventDefault();\n    if (isValid) {\n      e.submitter.setAttribute('disabled', '');\n      formObj.dataset.action = e.currentTarget.action;\n\n      handleSubmit(formObj);\n    }\n  });\n\n  formContent.postLoad?.(formObj);\n};\n\nexport default async function decorate(block) {\n  const observer = new IntersectionObserver(\n    (entries) => {\n      if (entries.some((e) => e.isIntersecting)) {\n        observer.disconnect();\n        addForm(block);\n      }\n    },\n    {\n      rootMargin: '300px',\n    },\n  );\n  observer.observe(block);\n}\n","import { createElement, removeEmptyTags, variantsClassesToBEM, unwrapDivs } from '../../scripts/common.js';\n\nconst blockName = 'v2-quote';\nconst variantClasses = ['with-background'];\n\nexport default function decorate(block) {\n  variantsClassesToBEM(block.classList, variantClasses, blockName);\n\n  const quote = block.querySelector(':scope > div:nth-child(1) > div');\n  const bq = createElement('blockquote', { classes: [`${blockName}__quote-text`] });\n  bq.innerHTML = quote.innerHTML;\n  quote.parentNode.replaceChild(bq, quote);\n\n  const source = block.querySelector(':scope > div:nth-child(2) > div > p');\n  if (source) {\n    source.classList.add(`${blockName}__quote-source`);\n  }\n\n  unwrapDivs(block, { ignoreDataAlign: true });\n  removeEmptyTags(block);\n}\n","var map = {\n\t\"./article/article.js\": [\n\t\t5610,\n\t\t610\n\t],\n\t\"./magazine/magazine.js\": [\n\t\t9620,\n\t\t620\n\t],\n\t\"./v2-magazine/v2-magazine.js\": [\n\t\t4742,\n\t\t742\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 9091;\nmodule.exports = webpackAsyncContext;","export default async function decorate(block) {\n  const lis = [...block.children].map((row) => {\n    const li = document.createElement('li');\n    const link = row.querySelector('a');\n    if (link) {\n      const clone = link.cloneNode(false);\n      clone.append(...row.firstElementChild.childNodes);\n      li.appendChild(clone);\n      clone.querySelectorAll('a').forEach((a) => {\n        a.after(...a.childNodes);\n        a.remove();\n      });\n    } else {\n      li.append(...row.firstElementChild.childNodes);\n    }\n    return li;\n  });\n  const ul = document.createElement('ul');\n  ul.append(...lis);\n  block.innerHTML = ul.outerHTML;\n}\n","function newId() {\n  return (Math.random() + 1).toString(36).substring(7);\n}\n\nfunction calcScrollHeight(rowgroup) {\n  return [...rowgroup.children].map((child) => child.clientHeight).reduce((l, r) => l + r, 0);\n}\n\nfunction expand(event) {\n  const button = event.target.closest('button');\n  const rowgroup = button.nextElementSibling;\n  if (button.ariaExpanded === 'true') {\n    rowgroup.style.height = 0;\n    rowgroup.ariaHidden = true;\n    button.ariaExpanded = false;\n  } else {\n    rowgroup.style.height = `${rowgroup.scrollHeight}px`;\n    rowgroup.ariaHidden = false;\n    button.ariaExpanded = true;\n  }\n}\n\nfunction normalizeCells(cells, rowheaderRole = 'rowheader', cellRole = 'cell') {\n  [...cells].forEach((cell, j) => {\n    cell.normalize();\n    // remove any blank text nodes\n    if (cell.firstChild && cell.firstChild.nodeType === 3 && cell.firstChild.nodeValue.trim() === '') {\n      cell.firstChild.remove();\n    }\n    if (cell.lastChild && cell.lastChild.nodeType === 3 && cell.lastChild.nodeValue.trim() === '') {\n      cell.lastChild.remove();\n    }\n    // remove leading or trailing breaks\n    if (cell.firstChild && cell.firstChild.tagName === 'BR') {\n      cell.firstChild.remove();\n    }\n    if (cell.lastChild && cell.lastChild.tagName === 'BR') {\n      cell.lastChild.remove();\n    }\n    // wrap text-only cells with a <p>\n    if (!cell.querySelector('p') && cell.textContent !== '') {\n      cell.innerHTML = `<p>${cell.innerHTML}</p>`;\n    }\n    if (j === 0 && cells.length > 1) {\n      cell.role = rowheaderRole;\n    } else {\n      cell.role = cellRole;\n    }\n    cell.className = 'cell';\n  });\n}\n\nfunction activateMobileColumn(block, index) {\n  block.querySelectorAll('.cell.expand').forEach((cell) => cell.classList.remove('expand'));\n  block\n    .querySelectorAll(`.image-header .cell:nth-child(${index}),.row .cell:nth-child(${index + 1})`)\n    .forEach((cell) => cell.classList.add('expand'));\n  // adjust the height of all expanded rowgroups\n  block.querySelectorAll('[role=\"rowgroup\"][aria-hidden=\"false\"]').forEach((rowgroup) => {\n    rowgroup.style.height = `${calcScrollHeight(rowgroup)}px`;\n  });\n}\n\nfunction changeMobileColumn(event) {\n  activateMobileColumn(event.target.closest('.block'), parseInt(event.target.value, 10));\n}\n\nexport default async function decorate(block) {\n  block.role = 'table';\n\n  const colCount = block.firstElementChild.children.length;\n  block.style.setProperty('--grid-col-count', colCount);\n  const header = block.firstElementChild;\n  let firstRowIndex = 0;\n\n  // create a table header only if there are multiple columns in the first row\n  if (header.children.length > 1) {\n    const pictures = header.querySelectorAll('picture');\n    if (pictures.length > 0) {\n      const row = document.createElement('div');\n      row.className = 'image-header';\n      pictures.forEach((picture) => {\n        const cell = document.createElement('div');\n        cell.className = 'cell';\n        cell.appendChild(picture);\n        row.appendChild(cell);\n      });\n      header.insertAdjacentElement('beforebegin', row);\n      normalizeCells(row.children, 'cell');\n      firstRowIndex += 1;\n    }\n\n    header.className = 'column-header';\n    normalizeCells(header.children, 'rowheader', 'columnheader');\n    const mobileColumnHeader = document.createElement('div');\n    mobileColumnHeader.className = 'column-header-mobile';\n    mobileColumnHeader.innerHTML = `<select>\n      ${[...header.querySelectorAll('[role=\"columnheader\"]')]\n        .map((columnHeader, i) => `<option value=\"${i + 1}\">${columnHeader.textContent}</option>`)\n        .join('')}\n      </select>`;\n    mobileColumnHeader.firstElementChild.addEventListener('change', changeMobileColumn);\n    header.insertAdjacentElement('afterend', mobileColumnHeader);\n    firstRowIndex += 2;\n  }\n\n  // rowgroups and rows\n  const rows = [...block.children];\n  let rowCount = 0;\n  // special case: if all rows are single column (accordion style) the rowgroup headings must be\n  // bold\n  let singleColumn = true;\n  for (let i = firstRowIndex; i < rows.length && singleColumn; i += 1) {\n    singleColumn = rows[i].children.length === 1;\n  }\n  for (let i = firstRowIndex, rowgroup = null; i < rows.length; i += 1) {\n    const row = rows[i];\n    const cells = row.children;\n    const firstChild = (cells[0].firstElementChild && cells[0].firstElementChild.firstElementChild) || cells[0].firstElementChild;\n    const isWrappedByStrong = cells[0].children.length === 1 && firstChild && firstChild.tagName === 'STRONG';\n    const isHeader = cells.length === 1 && (!singleColumn || isWrappedByStrong);\n\n    if (isHeader) {\n      const button = document.createElement('button');\n      button.className = 'rowgroup-header';\n      button.type = 'button';\n      button.appendChild(cells[0]);\n      button.addEventListener('click', expand);\n      button.ariaExpanded = false;\n      row.insertAdjacentElement('beforebegin', button);\n\n      rowgroup = row;\n      rowgroup.role = 'rowgroup';\n      rowgroup.id = newId();\n      rowgroup.ariaHidden = true;\n      button.setAttribute('aria-controls', rowgroup.id);\n    } else {\n      row.className = 'row';\n      row.role = 'row';\n      rowCount += 1;\n      if (rowgroup) {\n        rowgroup.appendChild(row);\n      }\n      normalizeCells(cells);\n    }\n  }\n\n  block.ariaRowCount = rowCount;\n  block.ariaColCount = colCount;\n\n  activateMobileColumn(block, 1);\n}\n","import { TOOLS_CONFIGS, getJsonFromUrl } from './common.js';\n\nconst { GOOGLE_API_KEY = false } = TOOLS_CONFIGS;\nconst languageCode = 'en';\nconst API_KEY = GOOGLE_API_KEY || '';\n\nexport const splitString = (str) => str.split(',').map((item) => item.trim());\n\nexport const getUserCountryName = async (lat, lng) => {\n  const apiUrl = `https://maps.googleapis.com/maps/api/geocode/json?latlng=${lat},${lng}&language=${languageCode}&key=${API_KEY || ''}`;\n\n  const response = await getJsonFromUrl(apiUrl);\n  const locationString = response?.plus_code.compound_code;\n\n  return locationString;\n};\n\nconst checkForRedirect = (list, country, url) => {\n  // Check if country is included in the list that comes from the metadata\n  if (!list.includes(country)) {\n    console.error('Truck configurator not avaliable for: ', country);\n    const completeUrl = window.location.origin + url;\n    window.location.replace(completeUrl);\n  }\n};\n\nexport const validateCountries = async (countries, url) => {\n  const allowedCountries = splitString(countries);\n\n  const locationSuccess = async (position) => {\n    const { latitude, longitude } = position.coords;\n    const response = await getUserCountryName(latitude, longitude);\n    if (!response) {\n      return;\n    }\n\n    const country = splitString(response).reverse()[0];\n    if (country) {\n      checkForRedirect(allowedCountries, country, url);\n    }\n  };\n  const locationError = (error) => {\n    console.error('Error: ', error);\n  };\n\n  navigator.geolocation.getCurrentPosition(locationSuccess, locationError);\n};\n","import { decorateLinks } from '../../scripts/scripts.js';\n\nfunction handleActiveClick(ul, event) {\n  // on mobile we expand the navigation\n  if (document.documentElement.clientWidth < 992) {\n    if (ul.style.height) {\n      ul.style.height = '';\n      ul.classList.remove('expand');\n    } else {\n      const navHeight = [...ul.children].reduce((sum, el) => sum + el.offsetHeight, 0);\n      ul.style.height = `${navHeight}px`;\n      ul.classList.add('expand');\n    }\n    event.preventDefault();\n  }\n}\n\nasync function createSubNav(block, ref) {\n  const resp = await fetch(`${ref}.plain.html`);\n  if (resp.ok) {\n    const { pathname } = window.location;\n    const text = await resp.text();\n    const fragment = document.createRange().createContextualFragment(text);\n    const ul = fragment.querySelector('ul');\n\n    ul.querySelectorAll('picture').forEach((picture) => {\n      const pictureContainer = picture.parentElement;\n      const a = pictureContainer.querySelector('a');\n      if (a) {\n        const caption = document.createElement('span');\n        caption.className = 'caption';\n        caption.innerText = a.innerText;\n        a.replaceChildren(picture, caption);\n        pictureContainer.replaceChildren(a);\n      }\n    });\n\n    // move the active link to the top\n    const currentPathname = pathname.endsWith('/') ? pathname : `${pathname}/`;\n    let activeLink = [...ul.querySelectorAll('li a')].find((a) => {\n      let linkPathname = new URL(a.href).pathname;\n      linkPathname = linkPathname.endsWith('/') ? linkPathname : `${linkPathname}/`;\n\n      return linkPathname === currentPathname;\n    });\n\n    if (activeLink) {\n      activeLink.closest('li').classList.add('active');\n    } else {\n      // if there is no active link, create one for the current page for mobile\n      const [title] = document.title.split('|');\n      ul.firstElementChild.insertAdjacentHTML('afterend', `<li class=\"active synthetic\"><a href=\"#\">${title}</a></li>`);\n      activeLink = ul.querySelector('.active');\n    }\n\n    // create an overview link for mobile\n    const lastSlash = (pathname.endsWith('/') ? pathname.substring(0, pathname.length - 1) : pathname).lastIndexOf('/');\n    if (lastSlash > 0) {\n      const parentLink = `${pathname.substring(0, lastSlash)}/`;\n      ul.firstElementChild.insertAdjacentHTML('afterend', `<li class=\"overview\"><a href=\"${parentLink}\">Overview</a></li>`);\n    }\n\n    const nav = document.createElement('nav');\n    nav.appendChild(ul);\n    decorateLinks(nav);\n    block.replaceChildren(nav);\n\n    // attach click listner for mobile\n    (activeLink || ul.querySelector('a')).addEventListener('click', handleActiveClick.bind(null, ul));\n\n    window.addEventListener('scroll', () => {\n      const navHeight = block.previousElementSibling.clientHeight;\n      if (document.documentElement.scrollTop >= navHeight) {\n        block.classList.add('sticky');\n      } else {\n        block.classList.remove('sticky');\n      }\n    });\n\n    document.addEventListener('click', (event) => {\n      if (!block.contains(event.target)) {\n        const openItem = block.querySelector('.expand');\n        if (openItem) {\n          handleActiveClick(openItem, event);\n        }\n      }\n    });\n  }\n}\n\nexport default async function decorate(block) {\n  const { content } = document.head.querySelector('meta[name=\"sub-navigation\"]');\n  createSubNav(block, content);\n}\n","import { MEDIA_BREAKPOINTS, getImageForBreakpoint } from '../../scripts/scripts.js';\nimport { variantsClassesToBEM } from '../../scripts/common.js';\n\nconst blockName = 'v2-dealer-locator-teaser';\nconst variantClasses = ['right-align'];\n\nfunction initBackgroundPosition(classList, breakpoint) {\n  const classPrefixes = {\n    [MEDIA_BREAKPOINTS.MOBILE]: 's',\n    [MEDIA_BREAKPOINTS.TABLET]: 'm',\n    [MEDIA_BREAKPOINTS.DESKTOP]: 'l',\n  };\n  const classPrefix = classPrefixes[breakpoint];\n  const backgroudPositionClass = [...classList].find((item) => item.startsWith(`bp-${classPrefix}-`));\n  let backgroundPositionValue = 'unset';\n\n  if (backgroudPositionClass) {\n    let [, , xPosition, yPosition] = backgroudPositionClass.split('-');\n\n    // workaround, '-' character classes are not supported\n    // so for '-45px' we need to put 'm45px'\n    xPosition = xPosition.replace('m', '-');\n    yPosition = yPosition.replace('m', '-');\n\n    backgroundPositionValue = `${xPosition} ${yPosition}`;\n  }\n\n  return backgroundPositionValue;\n}\n\nfunction prepareBackgroundImage(block) {\n  const onBackgroundImgChange = (imgEl, backgroundTarget, breakpoint) => {\n    const backgroundPostionStyles = initBackgroundPosition(block.classList, breakpoint);\n    const backgroundSrc = imgEl.currentSrc;\n    backgroundTarget.style.backgroundImage = `url(${backgroundSrc})`;\n    backgroundTarget.style.backgroundPosition = backgroundPostionStyles;\n  };\n\n  const onBreakpointChange = (pictureEl, breakpoint) => {\n    const pictureClone = pictureEl.cloneNode(true);\n    const img = pictureClone.querySelector('img');\n    pictureClone.classList.add('v2-dlt__picture');\n\n    block.append(pictureClone);\n\n    if (img.currentSrc) {\n      onBackgroundImgChange(img, block, breakpoint);\n      pictureClone.remove();\n    } else {\n      img.addEventListener('load', () => {\n        onBackgroundImgChange(img, block, breakpoint);\n        pictureClone.remove();\n      });\n    }\n  };\n\n  const listOfPictures = block.querySelector('ul');\n  // removing from DOM - prevent loading all of provided images\n  listOfPictures.remove();\n  getImageForBreakpoint(listOfPictures, onBreakpointChange);\n}\n\nexport default async function decorate(block) {\n  variantsClassesToBEM(block.classList, variantClasses, blockName);\n\n  prepareBackgroundImage(block);\n  const headings = block.querySelectorAll('h1, h2, h3, h4, h5, h6');\n\n  [...headings].forEach((heading) => heading.classList.add('v2-dlt__title'));\n\n  block.parentElement.classList.add('full-width');\n\n  const contentElWrapper = block.querySelector(':scope > div');\n  contentElWrapper.classList.add('v2-dlt__content-wrapper');\n  const contentEl = block.querySelector(':scope > div > div');\n  contentEl.classList.add('v2-dlt__content');\n}\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 9374;\nmodule.exports = webpackEmptyAsyncContext;","/**\n * Add text-alignment or special styling to text blocks, as some stylings are stripped from the\n * Word document.\n * @param block\n */\nexport default function decorate(block) {\n  // unwrap empty divs that represent the row in the Word document.\n  // leaving the column-div to ensure that each row is a block.\n  [...block.children]\n    .filter((e) => e.tagName === 'DIV')\n    .filter((e) => e.attributes.length === 0)\n    .forEach((node) => {\n      // Move all children nodes to the parent\n      while (node.firstChild) {\n        block.insertBefore(node.firstChild, node);\n      }\n\n      // node becomes an empty element\n      node.remove();\n    });\n}\n","import { buildBlock, decorateBlock } from '../../scripts/aem.js';\nimport { createElement, decorateIcons } from '../../scripts/common.js';\nimport { createCustomOptimizedPicture } from '../../scripts/scripts.js';\n\nfunction getItemsFromBlock(block) {\n  const items = [];\n  block.querySelectorAll(':scope > div').forEach((item) => {\n    const cells = Array.from(item.querySelectorAll(':scope > div'));\n    const modelName = cells[0]?.textContent || '';\n    const description = cells[1]?.textContent || '';\n    const mobileImage = cells[2]?.querySelector('img') || '';\n    const desktopImage = cells[3]?.querySelector('img') || '';\n    const color = cells[4]?.textContent || '';\n\n    items.push({ modelName, description, mobileImage, desktopImage, color });\n  });\n  return items;\n}\n\nconst getTabContentTemplate = ({ modelName, description }) => `\n  <div class=\"default-content-wrapper\">\n    <p>\n      <strong>${modelName}</strong> ${description}\n    </p>\n  </div>\n`;\n\nexport default function buildTruckLineupBlock(block) {\n  // This data eventually will come from the RI API:\n  // The block will instead provide a configuration for the model that needs to be loaded\n  const config = getItemsFromBlock(block);\n\n  const models = [];\n\n  config.forEach(({ modelName, description, mobileImage, desktopImage, color }) => {\n    const tabContent = createElement('div', { classes: 'v2-truck-lineup__content' });\n\n    tabContent.dataset.truckCarousel = modelName;\n    tabContent.dataset.truckColor = color;\n    tabContent.innerHTML = getTabContentTemplate({ modelName, description });\n\n    const imageBreakpoints = [\n      {\n        src: desktopImage?.src,\n        width: desktopImage?.width,\n        height: desktopImage?.height,\n        media: '(min-width: 1200px)',\n      },\n      {\n        src: mobileImage.src,\n        width: mobileImage?.width,\n        height: mobileImage?.height,\n        media: '(min-width: 400px)',\n      },\n    ];\n\n    tabContent.prepend(createCustomOptimizedPicture(mobileImage?.src, mobileImage?.alt, false, imageBreakpoints));\n\n    models.push(tabContent);\n  });\n\n  if (models.length > 0) {\n    const lineupWrapper = createElement('div', { classes: 'v2-truck-lineup-wrapper' });\n    const truckLineupBlock = buildBlock('v2-truck-lineup', [models]);\n\n    block.replaceWith(lineupWrapper.appendChild(truckLineupBlock));\n\n    decorateIcons(truckLineupBlock);\n    decorateBlock(truckLineupBlock);\n  }\n}\n","import { createElement, decorateIcons, generateId, getTextLabel, getLanguagePath, HEADER_CONFIGS } from '../../scripts/common.js';\nimport { createOptimizedPicture, getMetadata } from '../../scripts/aem.js';\n\nconst blockClass = 'header';\n\n// check if the header has to have a login and/or a search button\nconst { SEARCH_DISABLED } = HEADER_CONFIGS;\n\nconst desktopMQ = window.matchMedia('(min-width: 1200px)');\n\nconst createLogo = (logoWrapper) => {\n  const logoImage = logoWrapper.querySelector('span.icon');\n  let logoLink = null;\n\n  if (logoImage.parentElement.tagName === 'A') {\n    logoLink = logoImage.parentElement;\n    logoLink.classList.add(`${blockClass}__logo-link`);\n    const logoLinkText = createElement('span', { classes: ['screenreader'] });\n    logoLinkText.append('Go to Volvo Trucks homepage');\n\n    logoLink.append(logoLinkText);\n  }\n\n  logoImage.classList.add(`${blockClass}__logo-image`);\n\n  return logoLink || logoImage;\n};\n\nconst createMainLinks = (mainLinksWrapper) => {\n  const list = mainLinksWrapper.querySelector('ul');\n  if (list) {\n    list.setAttribute('id', 'header-main-nav');\n    list.classList.add(`${blockClass}__main-nav`);\n    list.querySelectorAll('li').forEach((listItem) => {\n      listItem.classList.add(`${blockClass}__main-nav-item`);\n      const accordionContainer = document.createRange().createContextualFragment(`\n        <div class=\"${blockClass}__accordion-container\">\n          <div class=\"${blockClass}__accordion-content-wrapper\">\n          </div>\n        </div>\n      `);\n      listItem.append(accordionContainer);\n    });\n\n    list.querySelectorAll('li > a').forEach((link) => {\n      link.classList.add(`${blockClass}__main-nav-link`, `${blockClass}__link`, `${blockClass}__link-accordion`);\n    });\n    return list;\n  }\n  return null;\n};\n\nconst createActions = (actionsWrapper) => {\n  const list = actionsWrapper.querySelector('ul');\n\n  list.setAttribute('id', 'header-actions-list');\n  list.classList.add(`${blockClass}__actions-list`);\n  list.querySelectorAll('li').forEach((listItem) => {\n    listItem.classList.add(`${blockClass}__action-item`);\n  });\n\n  list.querySelectorAll('li > a').forEach((link) => {\n    link.classList.add(`${blockClass}__action-link`, `${blockClass}__link`);\n    // wrapping text nodes into spans &\n    // adding aria labels (because text labels are hidden on mobile)\n    [...link.childNodes]\n      .filter((node) => node.nodeType === Node.TEXT_NODE)\n      .forEach((textNode) => {\n        const spanWrapper = createElement('span', { classes: [`${blockClass}__action-link-text`] });\n\n        textNode.replaceWith(spanWrapper);\n        spanWrapper.append(textNode);\n        link.setAttribute('aria-label', textNode.textContent);\n      });\n  });\n\n  const closeMenuLabel = getTextLabel('header:close_menu');\n  const closeIcon = document.createRange().createContextualFragment(`\n    <li class=\"${blockClass}__action-item ${blockClass}__action-item--close-menu\">\n      <button\n        aria-label=\"${closeMenuLabel}\"\n        class=\"${blockClass}__close-menu\"\n        aria-expanded=\"false\"\n        aria-controls=\"header-main-nav, header-actions-list\"\n      >\n        <span class=\"icon icon-close\" aria-hidden=\"true\" />\n      </button>\n    </li>\n  `);\n\n  list.append(closeIcon);\n\n  return list;\n};\n\nconst mobileActions = () => {\n  const mobileActionsEl = createElement('div', { classes: [`${blockClass}__mobile-actions`] });\n  const searchLabel = getTextLabel('header:search');\n  const openMenuLabel = getTextLabel('header:open_menu');\n  const searchResults = `${getLanguagePath()}search-results`;\n\n  const searchEl = `<a href=\"${searchResults}\" aria-label=\"${searchLabel}\" class=\"${blockClass}__search-button ${blockClass}__action-link ${blockClass}__link\">\n    <span class=\"icon icon-search-icon\" aria-hidden=\"true\"></span>\n  </a>`;\n\n  const actions = document.createRange().createContextualFragment(`\n    ${!SEARCH_DISABLED || SEARCH_DISABLED.toLowerCase() === 'true' ? '' : searchEl}\n    <button\n      aria-label=\"${openMenuLabel}\"\n      class=\"${blockClass}__hamburger-menu ${blockClass}__action-link ${blockClass}__link\"\n      aria-expanded=\"false\"\n      aria-controls=\"header-main-nav, header-actions-list\"\n    >\n      <span class=\"icon icon-hamburger-icon\" aria-hidden=\"true\"></span>\n    </button>\n  `);\n\n  mobileActionsEl.append(...actions.childNodes);\n\n  return mobileActionsEl;\n};\n\nconst addHeaderScrollBehaviour = (header) => {\n  let prevPosition = 0;\n\n  window.addEventListener('scroll', () => {\n    if (window.scrollY > prevPosition && !document.body.classList.contains('disable-scroll')) {\n      header.classList.add(`${blockClass}--hidden`);\n    } else {\n      header.classList.remove(`${blockClass}--hidden`);\n    }\n\n    // on Safari the window.scrollY can be negative so `> 0` check is needed\n    prevPosition = window.scrollY > 0 ? window.scrollY : 0;\n  });\n};\n\nconst createOverviewLink = (linkToCopy, parent) => {\n  const overview = linkToCopy.cloneNode(true);\n  overview.classList.add(`${blockClass}__overview-link`);\n  const link = overview.querySelector('a');\n  link.classList.add(`${blockClass}__link`);\n  link.textContent = getTextLabel('header:overview');\n  parent.prepend(overview);\n};\n\nconst rebuildCategoryItem = (item) => {\n  item.classList.add(`${blockClass}__category-item`);\n\n  [...item.childNodes].forEach((el) => {\n    // removing new lines\n    if (el.tagName === 'BR') {\n      el.remove();\n    }\n\n    // wrapping orphan text\n    if (el.nodeType === Node.TEXT_NODE) {\n      const textContent = el.textContent.trim();\n\n      // removing empty text nodes\n      if (!textContent.length) {\n        el.remove();\n        return;\n      }\n\n      const textNode = createElement('span', { classes: `${blockClass}__link-description` });\n      textNode.textContent = textContent;\n      el.replaceWith(textNode);\n    }\n  });\n};\n\nconst optimiseImage = (picture) => {\n  const img = picture.querySelector('img');\n  const newPicture = createOptimizedPicture(img.src, img.alt, false, [\n    { media: '(min-width: 1200px) and (min-resolution: 2x)', width: '320' },\n    { media: '(min-width: 1200px)', width: '180' },\n  ]);\n\n  picture.replaceWith(newPicture);\n};\n\nconst buildMenuContent = (menuData, navEl) => {\n  menuData.querySelectorAll('picture').forEach(optimiseImage);\n\n  const menus = [...menuData.querySelectorAll('.menu')];\n  const navLinks = [...navEl.querySelectorAll(`.${blockClass}__main-nav-link`)];\n\n  menus.forEach((menuItemData) => {\n    const tabName = menuItemData.querySelector(':scope > div > div');\n    const categories = [...menuItemData.querySelectorAll(':scope > div > div')].slice(1);\n    const navLink = navLinks.find((el) => el.textContent.trim() === tabName.textContent.trim());\n    const accordionContentWrapper = navLink?.closest(`.${blockClass}__main-nav-item`).querySelector(`.${blockClass}__accordion-content-wrapper`);\n\n    const onAccordionItemClick = (el) => {\n      // on desktop only main nav links works as accordions\n      if (desktopMQ.matches && !el.target.classList.contains(`${blockClass}__main-nav-link`)) {\n        return;\n      }\n\n      el.preventDefault();\n      const menuEl = el.target.parentElement;\n      menuEl.classList.toggle(`${blockClass}__menu-open`);\n      const isExpanded = menuEl.classList.contains(`${blockClass}__menu-open`);\n      el.target.setAttribute('aria-expanded', isExpanded);\n\n      // closing other open menus - on desktop\n      if (desktopMQ.matches && menuEl.classList.contains(`${blockClass}__main-nav-item`)) {\n        const openMenus = document.querySelectorAll(`.${blockClass}__menu-open`);\n        navEl.parentElement.classList.toggle(`${blockClass}--menu-open`, isExpanded);\n\n        [...openMenus]\n          .filter((menu) => menu !== menuEl)\n          .forEach((menu) => {\n            menu.classList.remove(`${blockClass}__menu-open`);\n            menu.querySelector(':scope > a').setAttribute('aria-expanded', false);\n          });\n      }\n\n      // disabling scroll when menu is open\n      document.body.classList[isExpanded ? 'add' : 'remove']('disable-scroll');\n      document.querySelectorAll('footer, main').forEach((elmt) => {\n        if (isExpanded) {\n          elmt.setAttribute('inert', 'inert');\n        } else {\n          elmt.removeAttribute('inert');\n        }\n      });\n    };\n    // creating overview link - visible only on mobile\n    createOverviewLink(tabName, accordionContentWrapper);\n\n    categories.forEach((cat) => {\n      const title = cat.querySelector(':scope > p > a');\n      const list = cat.querySelector(':scope > ul');\n      const isImagesList = !!cat.querySelector('img');\n      let extraClasses = '';\n\n      if (isImagesList) {\n        extraClasses += `${blockClass}__category--images-list`;\n        accordionContentWrapper.classList.add(`${blockClass}__accordion-content-wrapper--with-images`);\n      }\n\n      title.classList.add(`${blockClass}__link`, `${blockClass}__link-accordion`, `${blockClass}__menu-heading`);\n      list.classList.add(`${blockClass}__category-items`);\n      [...list.querySelectorAll('li')].forEach(rebuildCategoryItem);\n      [...list.querySelectorAll('a')].forEach((el) => el.classList.add(`${blockClass}__link`));\n\n      const menuContent = document.createRange().createContextualFragment(`\n        <div class=\"${blockClass}__menu-content ${extraClasses}\">\n          ${title.outerHTML}\n          <div class=\"${blockClass}__category-content ${blockClass}__accordion-container\">\n            <div class=\"${blockClass}__accordion-content-wrapper inner-accordion\">\n              ${list.outerHTML}\n            </div>\n          </div>\n        </div>\n      `);\n\n      menuContent.querySelector(`.${blockClass}__link-accordion`).addEventListener('click', onAccordionItemClick);\n      accordionContentWrapper.append(menuContent);\n    });\n\n    navLink?.addEventListener('click', onAccordionItemClick);\n  });\n};\n\nconst decorateCTA = (wrapper) => {\n  const anchorTags = wrapper.querySelectorAll('a');\n  anchorTags.forEach((link) => {\n    link.classList.add(`${blockClass}__custom-button`);\n    wrapper.appendChild(link);\n  });\n  wrapper.firstElementChild.remove();\n  return wrapper;\n};\n\n/**\n * decorates the header, mainly the nav\n * @param {Element} block The header block element\n */\nexport default async function decorate(block) {\n  // clear the block\n  block.textContent = '';\n\n  // fetch nav content\n  let navPath = `${getLanguagePath()}nav`;\n  const isCustomHeader = getMetadata('custom-header');\n  if (isCustomHeader) {\n    navPath = `${getLanguagePath()}${isCustomHeader}`;\n    block.classList.add(`${blockClass}__custom`);\n  }\n  const resp = await fetch(`${navPath}.plain.html`);\n\n  if (!resp.ok) {\n    console.error(`Header is not loaded: ${resp.status}`);\n  }\n\n  // get the navigation text, turn it into html elements\n  const content = document.createRange().createContextualFragment(await resp.text());\n  const [logoContainer, navigationContainer, actionsContainer, menuContent] = content.children;\n  const nav = createElement('nav', { classes: [`${blockClass}__nav`] });\n  const navContent = document.createRange().createContextualFragment(`\n    <div class=\"${blockClass}__menu-overlay\"></div>\n    ${createLogo(logoContainer).outerHTML}\n    ${\n      navigationContainer.children.length\n        ? `<div class=\"${blockClass}__main-links\">\n      ${createMainLinks(navigationContainer).outerHTML}\n    </div>`\n        : ''\n    }\n    <div class=\"${blockClass}__actions\">\n      ${isCustomHeader ? '' : mobileActions().outerHTML}\n      ${isCustomHeader ? decorateCTA(actionsContainer).outerHTML : createActions(actionsContainer).outerHTML}\n    </div>\n  `);\n\n  decorateIcons(navContent);\n\n  const setAriaForMenu = (isMenuVisible) => {\n    nav.querySelectorAll(`.${blockClass}__close-menu, .${blockClass}__hamburger-menu`).forEach((control) => {\n      control.setAttribute('aria-expanded', isMenuVisible);\n    });\n    nav.querySelectorAll('#header-main-nav, #header-actions-list').forEach((item) => {\n      item.setAttribute('aria-hidden', !isMenuVisible);\n    });\n  };\n\n  const initAriaForAccordions = () => {\n    const menuPrefix = 'menu-accordion';\n    const accordionContainers = block.querySelectorAll(`.${blockClass}__link-accordion ~ .${blockClass}__accordion-container`);\n\n    [...accordionContainers].forEach((container) => {\n      const id = generateId(menuPrefix);\n      const accordionLink = container.parentElement.querySelector(`.${blockClass}__link-accordion`);\n\n      container.setAttribute('id', id);\n      accordionLink.setAttribute('aria-controls', id);\n      accordionLink.setAttribute('aria-expanded', false);\n    });\n  };\n\n  const closeHamburgerMenu = () => {\n    block.classList.remove(`${blockClass}--menu-open`, `${blockClass}--hamburger-open`);\n    block.querySelectorAll(`.${blockClass}__menu-open`).forEach((el) => {\n      el.classList.remove(`${blockClass}__menu-open`);\n      el.querySelector(':scope [aria-expanded=\"true\"]').setAttribute('aria-expanded', false);\n    });\n    document.body.classList.remove('disable-scroll');\n    document.querySelectorAll('footer, main').forEach((el) => el.removeAttribute('inert'));\n    setAriaForMenu(false);\n  };\n\n  // add action for hamburger\n  navContent.querySelector(`.${blockClass}__hamburger-menu`)?.addEventListener('click', () => {\n    block.classList.add(`${blockClass}--menu-open`, `${blockClass}--hamburger-open`);\n    document.body.classList.add('disable-scroll');\n\n    setAriaForMenu(true);\n  });\n\n  navContent.querySelectorAll(`.${blockClass}__menu-overlay, .${blockClass}__close-menu`).forEach((el) => {\n    el.addEventListener('click', closeHamburgerMenu);\n  });\n\n  // hide the hamburger menu when switching to desktop\n  desktopMQ.addEventListener('change', closeHamburgerMenu);\n\n  addHeaderScrollBehaviour(block);\n\n  nav.append(navContent);\n  block.append(nav);\n\n  setAriaForMenu(false);\n\n  if (menuContent) {\n    buildMenuContent(menuContent, nav);\n    initAriaForAccordions();\n  }\n\n  // hide nav when clicking outside the menu on desktop\n  document.addEventListener('click', (event) => {\n    if (!desktopMQ.matches) {\n      return;\n    }\n\n    const isTargetOutsideMenu = !event.target.closest(`.${blockClass}__main-nav`);\n    const openMenu = block.querySelector(`.${blockClass}__main-nav-item.${blockClass}__menu-open`);\n\n    if (isTargetOutsideMenu && openMenu) {\n      block.classList.remove(`${blockClass}--menu-open`);\n      openMenu.classList.remove(`${blockClass}__menu-open`);\n      openMenu.querySelector(':scope > a').setAttribute('aria-expanded', false);\n      document.body.classList.remove('disable-scroll');\n    }\n  });\n}\n","import baseGetTag from './_baseGetTag.js';\nimport isArray from './isArray.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nexport default isString;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import { createElement, removeEmptyTags, unwrapDivs, variantsClassesToBEM } from '../../scripts/common.js';\nimport { listenScroll, moveNavigationLine, setCarouselPosition } from '../../scripts/carousel-helper.js';\n\nconst blockName = 'v2-tabbed-carousel';\nconst variantClasses = ['fade-in', 'columns', 'media-right'];\n\nconst updateActiveItem = (elements, entry, navigation) => {\n  elements.forEach((el, index) => {\n    if (el === entry.target && entry.intersectionRatio >= 0.75) {\n      const carouselItems = el.parentElement;\n\n      [carouselItems, navigation].forEach((c) => c.querySelectorAll('.active').forEach((i) => i.classList.remove('active')));\n      carouselItems.children[index].classList.add('active');\n      navigation.children[index].classList.add('active');\n\n      const activeNavigationItem = navigation.children[index];\n      moveNavigationLine(activeNavigationItem, navigation);\n\n      if (navigation && activeNavigationItem) {\n        activeNavigationItem.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });\n      }\n    }\n  });\n};\n\nexport default function decorate(block) {\n  const smoothScroll = !block.classList.contains('fade-in');\n  const columns = block.classList.contains('columns');\n  variantsClassesToBEM(block.classList, variantClasses, blockName);\n\n  const carouselItems = createElement('ul', { classes: `${blockName}__items` });\n  const tabNavigation = createElement('ul', { classes: `${blockName}__navigation` });\n  let timeout;\n\n  function buildTabNavigation(buttonContent, index) {\n    const listItem = createElement('li', { classes: `${blockName}__navigation-item` });\n    const button = createElement('button');\n    const moveCarousel = () => {\n      if (carouselItems.classList.contains('is-animating')) {\n        return;\n      }\n      setCarouselPosition(carouselItems, index, smoothScroll);\n    };\n    button.addEventListener('click', moveCarousel);\n    button.addEventListener('mouseover', (e) => {\n      clearTimeout(timeout);\n      moveNavigationLine(e.currentTarget, tabNavigation);\n    });\n\n    button.addEventListener('mouseout', () => {\n      timeout = setTimeout(() => {\n        const activeItem = block.querySelector(`.${blockName}__navigation-item.active`);\n        moveNavigationLine(activeItem, tabNavigation);\n      }, 600);\n    });\n\n    button.innerHTML = buttonContent;\n    listItem.append(button);\n\n    return listItem;\n  }\n\n  const tabItems = block.querySelectorAll(':scope > div');\n  tabItems.forEach((tabItem, index) => {\n    const picture = tabItem.querySelector('picture');\n    if (picture) {\n      const liItem = createElement('li', { classes: `${blockName}__item` });\n      const figure = createElement('figure', { classes: `${blockName}__figure` });\n      const tabContent = tabItem.querySelector('p');\n\n      figure.append(tabContent.querySelector('picture'));\n\n      const lastItems = [...tabContent.childNodes].at(-1);\n      if (columns) {\n        const slideContent = createElement('div', { classes: `${blockName}__content` });\n        slideContent.innerHTML = tabItem.innerHTML;\n        liItem.append(slideContent);\n      } else if (lastItems.nodeType === Node.TEXT_NODE && lastItems.textContent.trim() !== '') {\n        const figureCaption = createElement('figcaption');\n        figureCaption.append(lastItems);\n        figure.append(figureCaption);\n      }\n\n      liItem.prepend(figure);\n      carouselItems.appendChild(liItem);\n\n      // navigation item\n      const alternativeTabTitle = liItem.querySelector('h1');\n      let tabTitle;\n      if (alternativeTabTitle) {\n        tabTitle = alternativeTabTitle;\n        alternativeTabTitle.remove();\n      } else {\n        tabTitle = tabItem.querySelector('h3') || tabItem.querySelector('h2') || tabItem.querySelector('h1');\n      }\n      const navItem = buildTabNavigation(tabTitle.innerHTML, index);\n      tabNavigation.append(navItem);\n      tabTitle.remove();\n      tabItem.innerHTML = '';\n    }\n  });\n\n  block.append(tabNavigation, carouselItems);\n\n  // update the button indicator on scroll\n  const elements = carouselItems.querySelectorAll(':scope > *');\n  listenScroll(carouselItems, elements, tabNavigation, updateActiveItem, 0.75);\n\n  // Update slide position + navigation line when page is resized\n  window.addEventListener('resize', () => {\n    const activeItem = carouselItems.querySelector('.active');\n    const index = [...activeItem.parentNode.children].indexOf(activeItem);\n\n    setCarouselPosition(carouselItems, index, smoothScroll);\n    moveNavigationLine(tabNavigation.children[index], tabNavigation);\n  });\n\n  unwrapDivs(block);\n  removeEmptyTags(carouselItems);\n}\n","import { createElement, variantsClassesToBEM } from '../../scripts/common.js';\nimport { isVideoLink, createVideo } from '../../scripts/video-helper.js';\n\nfunction stripEmptyTags(main, child) {\n  if (child !== main && child.innerHTML.trim() === '') {\n    const parent = child.parentNode;\n    child.remove();\n    stripEmptyTags(main, parent);\n  }\n}\n\nconst blockName = 'key-facts';\nconst variantClasses = ['trailing-line'];\n\nconst keyFactsColumns = (el, v2) => {\n  el.classList.add(`${blockName}__key-item`);\n\n  // clearing empty paragraphs\n  const paragraphs = el.querySelectorAll('p');\n  paragraphs.forEach((paragraph) => {\n    stripEmptyTags(el, paragraph);\n  });\n\n  // v1 structure:\n  // 1st line: pretitle or icon\n  // 2nd line: plus/minus sign (optional),\n  //           number with units (no space between plus,\n  //           number and units) space character subtitle (subtitle is optional)\n  //     example: \"+8.5% per hour\"\n  // 3rd line: text (3rd line is optional)\n  if (!v2) {\n    // adding icon\n    const icon = el.querySelector('i, .icon');\n\n    // 1st line:\n    if (icon) {\n      el.prepend(icon);\n      icon.classList.add(`${blockName}__icon`);\n    }\n\n    const preSubheading = el.querySelector(':scope > :not(strong, i):first-child');\n    preSubheading?.classList.add('subtitle-2');\n\n    const value = el.querySelector('strong:only-child');\n\n    if (value) {\n      // 2nd line:\n      // find and split number/unit\n      // separate number and unit. e.g. up | +31% | Freight efficiency, or 120,000 | psi,\n      const [, prenumber, number, postnumber, text] = value.innerHTML.match('([\\\\+,\\\\-]*)([0-9,\\\\.,]+)([\\\\%]*) *(.*)');\n      const newValue = `\n        <span class=\"${blockName}__main-text\">\n          <span class=\"${blockName}__main-text--small\">${prenumber}</span>\n          ${number}\n          <span class=\"${blockName}__main-text--small\">${postnumber}</span>\n        </span>\n      `;\n\n      const numberFragment = document.createRange().createContextualFragment(newValue);\n      value.innerHTML = '';\n      value.append(...numberFragment.childNodes);\n      value.classList.add(`${blockName}__main-text-wrapper`);\n\n      // 3rd line:\n      if (text) {\n        const unit = createElement('strong', { classes: [`${blockName}__unit`, 'subtitle-2'] });\n        unit.innerText = text;\n        value.parentNode.append(unit);\n      }\n    }\n\n    // traing line variant\n    const div = createElement('div', { classes: `${blockName}__trailing-line` });\n    el.append(div);\n  }\n\n  // v2 version\n  // 1st line: text - what's inside `strong` is renderd with larger font\n  // 2nd line: text - styled as subtitle\n  if (v2) {\n    const FONT_DECREASE_LENGTH = 12;\n    const mainText = el.querySelector('p');\n    mainText.classList.add(`${blockName}__main-text-wrapper`);\n\n    const text = mainText.textContent.trim();\n    if (text.length >= FONT_DECREASE_LENGTH) {\n      mainText.classList.add(`${blockName}__main-text-wrapper--small`);\n    }\n\n    mainText.childNodes.forEach((node) => {\n      if (node.nodeType === Node.TEXT_NODE) {\n        const textContent = node.textContent.trim();\n        // removing empty text nodes\n        if (!textContent.length) {\n          node.remove();\n          return;\n        }\n\n        // wrapping orphan text nodes\n        const newNode = createElement('span', { classes: `${blockName}__main-text--small` });\n        newNode.textContent = textContent;\n        node.replaceWith(newNode);\n      }\n\n      if (node.tagName === 'STRONG') {\n        node.classList.add(`${blockName}__main-text`);\n      }\n    });\n    const subtitle = el.querySelector('p:nth-child(2)');\n\n    subtitle?.classList.add('subtitle-2');\n  }\n};\n\nexport default async function decorate(block) {\n  variantsClassesToBEM(block.classList, variantClasses, blockName);\n\n  Array.from(block.children).forEach((row) => {\n    row.classList.add(`${blockName}__row`);\n\n    Array.from(row.children).forEach(async (col) => {\n      const videoLinks = [...col.querySelectorAll('a')].filter(isVideoLink);\n      const isVideoCell = videoLinks.length;\n      const isImageCell = !!col.querySelector('picture');\n\n      if (isVideoCell) {\n        block.classList.add(`${blockName}--with-media`);\n        row.classList.add(`${blockName}__row--with-media`);\n\n        const video = createVideo(videoLinks[0].getAttribute('href'), `${blockName}__video`, {\n          muted: true,\n          autoplay: true,\n          loop: 'loop',\n          playsinline: true,\n        });\n        col.replaceWith(video);\n        videoLinks[0].remove();\n\n        return;\n      }\n\n      if (isImageCell) {\n        block.classList.add(`${blockName}--with-media`);\n        row.classList.add(`${blockName}__row--with-media`);\n        col.classList.add(`${blockName}__image-cell`);\n\n        return;\n      }\n\n      const v2 = block.classList.contains(`${blockName}--with-media`);\n      keyFactsColumns(col, v2);\n    });\n  });\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/dist/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvolvotrucks_na\"] = self[\"webpackChunkvolvotrucks_na\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [325], () => (__webpack_require__(118)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["hasSymbol","webpackQueues","webpackExports","webpackError","resolveQueue","deferred","leafPrototypes","getProto","inProgress","dataWebpackPrefix","o","Symbol","blockName","successText","errorText","formatDateToICS","date","toISOString","replace","generateICS","event","summary","startDate","endDate","description","Error","Date","Math","random","toString","substr","window","location","hostname","join","downloadICSFile","icsData","filename","blob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","onSuccess","async","calendarEventData","block","querySelector","addToEventButton","cloneNode","innerHTML","buttonWrapper","classes","addEventListener","fileName","append","onError","error","console","decorate","contentData","querySelectorAll","reduce","data","row","name","content","key","innerText","toLowerCase","trim","formLink","beforeFormText","policyText","policy","classList","add","blockSection","parentElement","dataset","eventFileName","eventSummary","eventStartDate","eventEndDate","eventDescription","eventLocation","logResult","json","result","log","container","formContainer","form","createRange","createContextualFragment","headingSelector","forEach","heading","children","replaceWith","observer","MutationObserver","mutations","mutation","formContainerEl","addedNodes","find","el","Element","contains","getAttribute","disconnect","reset","policyEl","calendarButtonEl","removeAttribute","setAttribute","observe","childList","attributes","subtree","firstElementChild","debounceDelay","ul","cell","li","childElementCount","remove","childNodes","firstCell","className","a","picture","img","lastElementChild","newPicture","src","alt","width","clone","prepend","textItems","split","filter","text","carouselLink","desktopControls","scroll","direction","first","scrollOffset","nextElementSibling","getBoundingClientRect","x","left","scrollBy","top","behavior","insertAdjacentElement","prevButton","nextButton","createDesktopControls","mobileControls","scrollTimeout","item","j","control","offsetLeft","offsetWidth","parentNode","scrollTo","clearTimeout","setTimeout","index","scrollLeft","createMobileControls","carousel","controls","toggle","isDesktop","documentElement","clientWidth","matches","gap","parseInt","getComputedStyle","itemWidth","itemsWidth","length","containerWidth","showControls","maxItems","floor","style","resizeTimeout","section","closest","_","sectionStatus","adjustWidthAndControls","n","r","t","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","e","code","keys","Object","resolve","module","exports","attribute","String","converter","reflect","hasChanged","kind","metadata","i","s","globalThis","litPropertyMetadata","get","set","Map","create","wrapped","call","this","requestUpdate","init","C","hasOwnProperty","constructor","createProperty","getOwnPropertyDescriptor","state","c","configurable","enumerable","Reflect","defineProperty","renderRoot","hasUpdated","slot","selector","assignedElements","assignedNodes","TENANT","SEARCH_URL_PROD","SEARCH_URL_DEV","fetchSearchData","queryObj","query","method","headers","Accept","JSON","stringify","response","fetch","ok","sanitizeQueryTerm","tag","searchQuery","autosuggestQuery","magazineSearchQuery","topicSearchQuery","pressReleaseQuery","cols","getEngineChartData","buildEngineSpecifications","title","shift","sectionTitle","textContent","shouldShowTabs","horsepowerMap","torques","values","size","getHorserpowerMap","peaksData","horsepower","torque","rating","has","Set","getPeaksData","engineData","acc","engine","peaks","Number","push","setupTabs","itemsToList","displayHp","hpLabel","torqueLabel","engineRatingContainer","hpList","itemEl","buildHeaders","hpSelector","ratingTitle","buildDrodownOptions","dropdownContainer","chartOptionsContainer","chartListContainer","dropdownConfig","optionList","Array","from","hp","value","label","variants","onChangeCallback","selected","chartParent","allCharts","active","selectedHp","firstItemOfSelectedHp","next","setChartUpponSelection","customDropdown","selectedNumber","clickedChart","firstBbutton","setupTabButtonsInteractions","chartContainer","ratingList","allButtons","initialChart","button","buttonParent","target","clickedButton","activeButton","buildPerformanceSpecifications","showTabs","ratings","chart","concatenatedTorques","flatMap","firstHorsepowerSet","blockClassList","includes","l","super","PROPERTY","ATTRIBUTE","BOOLEAN_ATTRIBUTE","render","update","element","hasAttribute","h","taskComplete","Promise","reject","u","p","addController","task","args","v","m","argsEqual","k","onComplete","A","autoRun","initialValue","O","T","hostUpdate","S","hostUpdated","isArray","run","q","abort","queueMicrotask","AbortController","signal","status","initial","pending","complete","every","variantClasses","toggleListEle","ariaValue","blockHeading","videoWrapper","documentWrapper","listEle","videos","selectedLink","wrapper","viewAllButton","props","buttonText","ariaExpanded","ignoreDataAlign","array","offset","isObjectLike","objectProto","prototype","propertyIsEnumerable","arguments","spreadableSymbol","isConcatSpreadable","undefined","baseFlatten","depth","predicate","isStrict","Event","bubbles","composed","context","contextTarget","callback","subscribe","provided","unsubscribe","host","hostConnected","dispatchRequest","hostDisconnected","dispatchEvent","setValue","is","updateObservers","subscriptions","disposer","addCallback","delete","consumerHost","clearCallbacks","clear","onContextRequest","composedPath","stopPropagation","onProviderRequest","attachListeners","pendingContextRequests","onContextProvider","requests","elementRef","callbackRef","deref","callbacks","WeakMap","WeakSet","WeakRef","attach","detach","removeEventListener","addInitializer","ShadowRoot","ShadyCSS","nativeShadow","Document","CSSStyleSheet","_$cssResult$","cssText","styleSheet","replaceSync","adoptedStyleSheets","litNonce","cssRules","getOwnPropertyNames","getOwnPropertySymbols","getPrototypeOf","trustedTypes","emptyScript","reactiveElementPolyfillSupport","d","toAttribute","Boolean","fromAttribute","parse","f","b","useDefault","y","HTMLElement","_$Ei","observedAttributes","finalize","_$Eh","elementProperties","noAccessor","getPropertyDescriptor","getPropertyOptions","finalized","properties","_$Eu","elementStyles","finalizeStyles","styles","flat","reverse","unshift","_$Ep","isUpdatePending","_$Em","_$Ev","_$ES","enableUpdating","_$AL","_$E_","_$EO","isConnected","removeController","createRenderRoot","shadowRoot","attachShadow","shadowRootOptions","connectedCallback","disconnectedCallback","attributeChangedCallback","_$AK","_$ET","_$Ej","_$EP","_$Eq","scheduleUpdate","performUpdate","shouldUpdate","willUpdate","_$EM","_$AE","firstUpdated","updated","updateComplete","getUpdateComplete","mode","ReactiveElement","reactiveElementVersions","cells","video","muted","autoplay","loop","playsinline","requestAnimationFrame","unwrapPicture","pictureEl","parentEl","tagName","insertBefore","enhanceColumn","columnEl","isMediaColumn","containerEl","unwrapPicturesInParagraphs","variant","applyTopLevelImageClasses","paragraphs","count","warn","quoteText","attributionText","template","blockquoteEl","convertToBlockquote","rowEl","mediaColumnEl","quoteColumnEl","handleSubmissionResult","titleText","messageText","isSuccess","message","html","textContainer","elem","after","cta","webpackAsyncContext","then","ids","strings","ft","removeProperty","endsWith","setProperty","slice","accordionContentFragmentMarckup","fragment","initDropdown","dropdown","selectedValue","TEXT","bottom","labelTQ","labelHP","unitTQ","unitHP","COLORS","lineHP","lineTQ","fillHP","fillTQ","background","lines","STROKE","opacity","FILL","conversionFactor","verticalScaleFactor","adjustHeight","totalWidthChart","totalHeightChart","chartMargins","lineChartWidth","lineChartHeight","generateNumberSequence","max","interval","min","isVertical","getRealPositionsX","firstElement","absoluteValues","num","lastElement","factor","round","plotLine","valuesOnX","valuesOnY","idx","pureValueX","pureValueY","valueX","toFixed","valueY","getDevice","innerWidth","scale","translate","text1","text2","triangle","isFirstLabel","buildPeakLabel","valuesY","valuesX","valueType","deviceData","maxPeakValue","peakValue","indexPosition","indexOf","labelWidth","labelHeight","positionX","overlap","positionY","peakLabel","getHorizontalLabels","positionsX","getVerticalLabels","maxValue","position","align","tq","fillMissingValues","valuesOnAxisX","diff","plotHorizontalLines","verticalPosition","maxPeaks","hpPeak","torquePeak","valuesRPM","rpm","valuesHP","valuesTQ","adjustedTQValues","device","regularValuesOnAxisX","realPositionsOnAxisX","regularPositionsOnAxisX","videoEventManager","VideoComponent","videoId","register","unregister","extractAspectRatio","aspectRatioRegex","aspectRatioClass","test","match","height","retrieveVideoConfig","aspectRatio","image","poster","disablePictureInPicture","language","lang","configureVideo","config","entries","linkElement","videoIdRegex","videoProps","fill","videoElement","CLASSES","IGNORE_ON_FORM_SUBMIT","successMessage","successTitle","errorMessage","errorTitle","__activeForms","getMessageText","isTitle","SUBMIT_ACTION","getCustomMessage","resp","throwFormNotFound","tryRedirect","redirectKey","warnLabel","redirectNewTab","redirectValue","redirecting","resolvedUrl","protocol","open","assign","submissionSuccess","successDiv","customMessageUrl","customMessage","submissionFailure","errorDiv","disabled","constructPayload","payload","__id__","valueOf","elements","fe","checked","prepareRequest","action","serializedData","obj","encodeURIComponent","charset","handleSubmit","setPlaceholder","fd","Placeholder","showResult","submitting","constraintsDef","file","fieldset","types","constraintDef","cd","constraintsObject","fromEntries","setConstraints","constraints","Type","nm","htmlNm","createLabel","for","Id","tooltip","Label","createHelpText","div","Description","kebabName","createFieldWrapper","nameStyle","Name","fieldWrapper","Mandatory","Fieldset","createButton","Action","formAction","Extra","redirect","replaceChildren","createSubmit","createInput","input","formatDate","excelDateToISO","serial","excelEpoch","UTC","getTime","createDateInput","customOptions","customOptionsObj","ignoreNonWorkingDays","selectedDate","day","getUTCDay","holidayDates","selectedDateISO","invalidFormWeekendDayLabel","setCustomValidity","invalidFormHolidayLabel","minDay","today","minDate","setDate","getDate","maxDay","nonWorkingDays","checkDate","checkDateISO","isHoliday","maxDate","withFieldWrapper","createTextArea","textArea","createSelect","select","ph","Options","oTrimed","option","checkboxHandler","preventDefault","checkbox","currentTarget","createCheckbox","Value","tabindex","required","circle","createTextNode","createRadio","createRadioWrapper","options","getRadioOptions","radioOption","createRadioOption","appendHelpText","legend","radioId","radioWrapper","visualCircle","createOutput","output","createHidden","createHiddenMeta","meta","newMeta","head","inputField","mutationsList","attributeName","newValue","createLegend","createFieldSet","Repeatable","repeatable","groupFieldsByFieldSet","fieldsets","fields","field","createPlainText","paragraph","createCustomDropdown","configFd","placeholder","mandatory","showError","getId","idSuffix","fieldRenderers","radio","buttons","textarea","submit","hidden","plaintext","renderField","renderer","renderTitle","fetchData","fetchForm","pathname","evnt","errorSpan","validationMessage","hideError","isValid","checkValidity","decorateValidation","cleanErrorMessages","span","toggleNovalidateOnInput","novalidate","validateSubmitButton","hasAction","hasSubmit","createForm","formURL","customDropdowns","dependencies","formField","Dependency","dependency","hasDependency","placeholderSelect","honeypot","formTitle","submitter","decorateTitles","previousSibling","previousElementSibling","subtitle","addTitleText","titleTextContent","getConfigValueCell","propName","propCell","valueCell","titleCell","linkCell","successFragmentCell","successRedirectCell","errorRedirectCell","formUrl","isJsonUrl","thankYouPageUrl","successRedirectUrl","errorRedirectUrl","successRedirect","errorRedirect","reason","webpackEmptyAsyncContext","Tooltip","fieldId","now","reWhitespace","string","charAt","reTrimStart","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","isSymbol","other","isBinary","nativeMax","nativeMin","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","thisArg","apply","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","cancel","flush","getArticles","path","limit","indexUrl","sheet","all","buildNews","elm","releases","quantity","sort","newsDivs","release","newsElement","source","studioConfig","connector","authentication","apikey","select_auth_token","suggester_auth_token","search_auth_type","session","cookieID","cookie","parts","decodeURIComponent","getCookie","characters","makeid","days","expires","toUTCString","setCookie","getOrSetCookie","suggester","searchAPIKey","fieldFormatters","year","month","toLocaleDateString","searchAdditionalArgs","hideUniqueKey","searchResults","searchInput","searchResultSummarySection","facetSection","searchOptionsSection","relatedSearchesSection","paginationSection","customSearchTemplate","customSearchFeedbackTemplate","customPagingTemplate","customPaginationTemplate","customSearchOptionSectionTemplate","customNoResultTemplate","customFacetTemplate","hideBranding","isGridLayout","display","facet_pagination","customResultTemplate","customRelatedSearchesTemplate","externalSearchResults","customExternalPromotionsTemplate","suggestAfterMinChars","scripts","inline","temps","script","newScript","intervalId","updateCountdownElement","elementId","padStart","updateCountdown","eventTime","clearInterval","hours","minutes","seconds","dayLabel","hourLabel","minuteLabel","secondLabel","processVideoLink","isCompact","links","countdownDate","countDownWrapper","eventTimeIso","setInterval","h1","replaceChild","buttonsWrapper","scrollIcon","VIDEO_JS_SCRIPT","VIDEO_JS_CSS","AEM_ASSETS","aemCloudDomain","videoURLRegex","youtubeVideoRegex","videoTypes","aem","youtube","local","both","standardVideoConfig","currentTime","videoConfigs","waitForVideoJs","scriptTag","cssLink","isJsLoaded","loaded","isCSSLoaded","successHandler","setupAutopause","player","IntersectionObserver","entry","isIntersecting","play","pause","threshold","setupPlayer","videoContainer","videojsConfig","preload","bigPlayButton","videojs","ready","getDeviceSpecificVideoUrl","videoUrl","addVideoConfig","getVideoConfig","isLowResolutionVideoUrl","isAEMVideoUrl","isYoutubeVideoUrl","isHlsVideoUrl","getYoutubeVideoId","isVideoLink","linkString","isManifestUrl","isYouTube","isAEM","isMp4","selectVideoLink","preferredType","videoType","linksArray","hasConsentForSocialVideos","isTypeBoth","prefersYouTube","findLinkByCondition","conditionFn","aemVideoLink","youTubeLink","hlsLink","localMediaLink","getVideoLinkContainer","usePosterAutoDetection","level","parent","parseVideoLink","cleanupVideoLink","hasPoster","createLowResolutionBanner","lowResolutionMessage","changeCookieSettings","banner","bannerText","bannerButton","OneTrust","ToggleInfoDisplay","showVideoModal","linkUrl","modalClasses","modal","beforeBanner","showModal","addVideoShowHandler","startsWith","findIndex","isSoundcloudLink","addSoundcloudShowHandler","thumbnail","episodeInfo","beforeIframe","addPlayIcon","playButton","wrapImageWithVideoLink","videoLink","createIframe","iframe","frameborder","allowfullscreen","setPlaybackControls","playPauseButton","class","videoControls","playIcon","pauseIcon","pauseVideoLabel","playVideoLabel","togglePlayPauseIcon","isPaused","paused","createProgressivePlaybackVideo","once","getDynamicVideoHeight","offsetHeight","playbackControls","ResizeObserver","createVideoWithPoster","videoConfig","loadAndSetupPlayer","playerSetupPromise","videoOrIframe","posterSrc","on","initializePlayerWithControls","createVideo","videoParams","configs","checkVideoCookie","HTMLAnchorElement","getMuteSvg","getUnmuteSvg","addMuteControls","muteSvg","unmuteSvg","iconsHTML","muteIcon","unmuteIcon","muteIconLabel","unmuteIconLabel","loadYouTubeIframeAPI","logVideoEvent","eventName","timeStamp","info","formatDebugTime","toLocaleTimeString","hour12","hour","minute","second","getMilliseconds","handleVideoMessage","origin","postMessage","hasVideoOnPage","loadVideoJs","jsScript","cssScript","queryVideoEl","root","playMutedInline","videoEl","getPlayer","catch","pausePlayback","VideoEventManager","registrations","handleMessage","bind","reg","calcValuesToPoints","chartValues","heightInPoints","bottomPadding","minValue","paddingValue","bottomEdgeValue","chartValueRange","valueToPoints","buildReferences","colorArray","references","xPosition","ref","getPropertyValue","chartName","valuesSets","chartKeys","yAxisStart","barHeight1InPoints","barHeight2InPoints","chartHeight","sectionHeight","labelValues","yValue","yPosition","chartArrays","perTrucks","totalSavings","concat","barHeight","barHeight1","barHeight2","barWidth","categories","chartsSection","chartSelectors","anchor","chartsList","buildChartFn","buildChartYearSavings","iteratee","accumulator","initAccum","object","reLatin","reComboMark","RegExp","reAsciiWord","reHasUnicodeWord","rsAstralRange","rsDingbatRange","rsLowerRange","rsUpperRange","rsBreakRange","rsMathOpRange","rsBreak","rsDigits","rsDingbat","rsLower","rsMisc","rsRegional","rsSurrPair","rsUpper","rsMiscLower","rsMiscUpper","rsOptContrLower","rsOptContrUpper","reOptMod","rsModifier","rsOptVar","rsSeq","rsEmoji","reUnicodeWord","pattern","guard","reApos","word","isWebpSupported","testImages","lossyImg","Image","lossLessImg","promises","promise","onload","onerror","val","renderBlock","imageLink","webpImageEl","srcset","address","params","finalImageLink","param","viewer","PhotoSphereViewer","Viewer","panorama","touchmoveTwoFingers","mousewheelCtrlKey","fisheye","moveSpeed","navbar","defaultZoomLvl","useXmpData","ctrlZoomId","outOfImageId","photosphereContainer","showCustomOverlay","isCtrlZoomOverlayShown","showOverlay","overlay","show","hide","overlayId","initPhotosphere","some","rootMargin","buildRevealHero","innerBlockCode","v2HeroRevealBlockClassList","getV2HeroBlockCode","isCountDownFinished","providedVariantClasses","validateBlockConfiguration","blockRows","validateHeroBlocks","preRevealCountdownHeroBlock","revealHeroBlock","validateRevealDate","revealEventTimeIso","isNaN","initializeHeroBlock","v2HeroBlock","newV2HeroBlock","revealDate","nativeObjectToString","symToStringTag","toStringTag","isOwn","unmasked","autoSuggestClass","fetchAutosuggest","term","autosuggestEle","rowEle","showSearchIcon","maxSuggestions","fragmentRange","toUpperCase","variables","tenant","sizeSuggestions","errors","edsWordPhraseSuggest","terms","suggestionContent","replaceAll","suggestFragment","onclick","handleArrowUp","liSelected","list","listLen","handleArrowDown","listenScroll","navigation","updateFn","io","setCarouselPosition","smoothScroll","scrollDuration","carouselStyle","parseFloat","columnGap","firstEl","targetX","marginLeft","moveNavigationLine","activeTab","tabNavigation","navigationX","buildRelatedMagazineArticle","article","author","readTime","publishDate","card","pictureTag","outerHTML","formattedDate","filterArticles","articles","filterTags","thisArticleTitle","filterTag","category","topic","truck","processTags","createRelatedMagazineArticles","mainEl","magazineArticles","articleTags","metaTag","metaContent","articleTitle","filteredData","articleCards","articleCard","allArticles","renderOptions","_$Do","renderBefore","firstChild","setConnected","_$litElement$","litElementHydrateSupport","LitElement","litElementPolyfillSupport","litElementVersions","PLACEHOLDERS","searchFor","noResults","refine","showingResults","sortBy","sortFilter","previous","SEARCH_PARAMS","_q","_start","_sort","_article","_topic","_truck","_category","urlParams","URLSearchParams","search","searchTerm","resultCount","nextOffset","hasResults","facetsFilters","mainTemplate","getMainTemplate","mainFragment","searchBtn","getElementById","facetsWrapper","resultsWrapper","listEl","hideAutoSuggest","deleteUrlParam","insertUrlParam","fetchResults","onClickHandler","delayFetchData","role","onkeyup","getElementsByTagName","returnObj","paginationContainer","countSpan","resRange","nextBtn","pagination","prevBtn","addMoreBtnToggleEvent","facetList","isMore","addFacetTitlesToggleEvent","titleList","isShown","addToggleOverlayEvent","sidebar","isOpen","showClass","addFilterSubmitEvent","inputsChecked","facetIndex","addFacetsEvents","facets","facetSidebar","facetOverlay","closeBtns","titles","filtersForm","moreBtns","btn","onchange","requestSubmit","sortResults","history","pushState","searchUrl","searchParams","queryTerm","offsetVal","sortVal","filters","objectFilters","splittedValue","articleKey","edssearch","items","resultsText","facetsText","getResultsItemsTemplate","getFacetsTemplate","getNoResultsTemplate","newOffset","showingResultsText","getShowingResultsTemplate","summaryFragment","facetsFragment","showResults","isPrevDisabled","isNextDisabled","rangeText","updatePaginationDOM","isNext","temp","getNextOffset","containingElement","fixedHeightClass","queryString","uniqueParams","removeDuplicateParams","hash","allow","componentName","SelectActions","Close","CloseSelect","First","Last","Next","Open","PageDown","PageUp","Previous","Select","getOptionValue","getOptionLabel","filterOptions","exclude","getActionFromKey","menuOpen","altKey","ctrlKey","metaKey","getIndexByLetter","startIndex","orderedOptions","firstMatch","letter","getUpdatedIndex","currentIndex","maxIndex","isElementInView","bounding","innerHeight","clientHeight","right","maintainScrollVisibility","activeElement","scrollParent","offsetTop","parentOffsetHeight","scrollTop","isBelow","labelEl","buttonEl","initialState","idBase","activeIndex","searchString","searchTimeout","onButtonBlur","onButtonClick","onButtonKeyDown","optionEl","createOption","onOptionClick","onOptionMouseDown","getSearchString","char","relatedTarget","updateMenuState","onOptionChange","selectOption","onButtonType","searchIndex","optionsElements","scrollHeight","scrollIntoView","ignoreBlur","selectedIndex","callFocus","activeID","focus","createOptionMarkup","hasPlaceholder","createSelectHtml","getVariantClasses","getCustomDropdown","baseUrl","ancestorOrigins","formName","dropdownCSS","labelClass","innerContent","smoothScrollHorizontal","duration","start","timeStart","scrollingClass","scrollSnapType","scrollBehavior","disableScrollSnap","animation","timeElapsed","nextX","changeInValue","p0","p1","p2","p3","cubicBezier","enableScrollSnap","disclaimerPath","disclaimer","removeArticlesWithNoImage","filteredArray","art","sortArticlesByDateField","dateField","rawTimestamp","timestamp","fetchMagazineArticles","tags","rawData","fetchRecommendedArticles","edsrecommend","defaultAuthor","defaultReadTime","parseArticleData","isImageLink","readingTime","isDefaultImage","HIDE_MODAL_CLASS","currentModalClasses","currentInvokeContext","createModalTopBar","topBar","hideModal","createModal","scrollY","modalBackground","keyDownAction","modalContent","clearModalContent","addVideo","iframeSrc","iframeYT","onYouTubeIframeAPIReady","YT","Player","events","onReady","onPlayerReady","onPlayerError","onAutoplayBlocked","onPlayerAutoplayBlocked","playVideo","newContent","invokeContext","shouldVideoSocialCheck","hlx","codeBasePath","firstSection","headingContent","handleNewContent","isSingleVideo","cookieMsgContainer","cookieMessage","AllowAll","bannerWrapper","before","st","nt","sampleRUM","checkpoint","timeShift","performance","rum","firstReadTime","enhance","weight","SAMPLE_PAGEVIEWS_AT_RATE","isSelected","timeOrigin","queue","collector","dataFromErrorObj","errData","stack","line","err","baseURL","RUM_BASE","collectBaseURL","sendPing","ck","pingData","rumData","referer","RUM_PARAMS","navigator","sendBeacon","debug","enhancerVersion","enhancerHash","enhancerContext","integrity","RUM_MANUAL_ENHANCE","CustomEvent","detail","toClassName","toCamelCase","g","readBlockConfig","col","as","imgs","ps","loadCSS","rel","loadScript","attrs","attr","getMetadata","doc","createOptimizedPicture","eager","breakpoints","media","ext","substring","lastIndexOf","br","decorateTemplateAndTheme","addClasses","theme","decorateButtons","up","twoup","decorateIcons","prefix","iconName","loading","decorateIcon","decorateSections","main","wrappers","defaultContent","sectionMeta","buildBlock","table","blockEl","colEl","elems","loadBlock","blockStatus","cssLoaded","decorationComplete","blockPath","mod","default","decorateBlock","shortBlockName","validWrappers","wrap","blockColumn","hasChildNodes","wrapTextNodes","decorateBlocks","loadHeader","header","headerBlock","loadFooter","footer","footerBlock","loadSection","loadCallback","blocks","loadSections","sections","RUM_MASK_URL","lighthouse","scriptEl","setup","docRange","isFrench","apiConfig","dev","qa","prod","valueDisplayList","frenchKey","displayIfEmpty","frenchText","recallStatus","formatFrenchDate","renderRecalls","recallsData","resultTextEle","resultContent","number_of_recalls","vin","noFrenchInfo","recallsOldestDate","recalls_since","recallsMake","makeFragment","make","model","recalls_available","listWrapperFragment","recalls","recall","liEl","mfr_recall_status","recallDetailsList","recallClass","itemValue","recallText","setHours","itemFragment","getAPIConfig","env","getStorageItem","localStorage","getItem","expireTime","removeItem","setStorageItem","setItem","fetchRefreshDate","refreshDate","refresh_date","fetchRecalls","submitBtn","resultText","FormData","error_code","refresDateWrapper","refreshFragment","formChildren","vinResultsContainer","vinInput","oninvalid","maxLength","oninput","pictureCol","figure","figCaption","lastItems","at","nodeType","Node","TEXT_NODE","loadFragment","localisedPath","fragmentSection","onHoverOrScroll","handler","isInViewport","isMouseOver","onChange","intersectionRatio","headings","ctaButtons","contentWrapper","buildMediaGallery","allCaptions","caption","figureElmt","contentSection","mediaSection","subTextSection","containerSection","videoLinks","isLastCell","isCellNumberEven","isTotalCellsEven","hasPretitle","videoWithPoster","$html","$","$location","allowDisplay","$brand","readDealerCookie","nameEQ","ca","getMyDealer","dealer","dealerName","dealerCity","dealerState","dealerZip","dealerAddr1","dealerAddr2","dealerHours","dealerNumber","coords","myDealer","myDealerName","myDealerCity","myDealerState","myDealerZip","myDealerAddr1","myDealerAddr2","myDealerHours","myDealerCoords","myDealerNumber","formatPhoneNumber","phoneNumberString","createCookie","setTime","toGMTString","normalizeCase","showDealerBox","splitCity","part","currentPart","openDetails","zone","moment","tz","guess","closeSoon","todayAtDealer","getDay","startTime","Start","endTime","End","alwaysOpen","setFullYear","getFullYear","setMonth","getMonth","format","setMinutes","setSeconds","end","isBetween","abs","getDealerHoursInfo","popup","findADealerLink","addClass","geolocation","getCurrentPosition","latitude","longitude","ajaxUrl","ajax","success","IDENTIFIER_VALUE","COMPANY_DBA_NAME","MAIN_CITY_NM","MAIN_STATE_PROV_CD","MAIN_POSTAL_CD","MAIN_ADDRESS_LINE_1_TXT","MAIN_ADDRESS_LINE_2_TXT","Parts","Service","Leasing","REG_PHONE_NUMBER","MAIN_LATITUDE","MAIN_LONGITUDE","setDealer","LOW_LIMIT","HIGH_LIMIT","updateActiveClass","targetElement","getScrollOffset","updateArrowButtonsState","arrowLeftButton","arrowRightButton","isAtStart","isAtEnd","navigate","activeItem","createArrowControls","arrowLeftButtonLabel","arrowRightButtonLabel","arrowControlsContainer","getMagazineArticles","useRecentArticles","buildStoryCard","originalTitle","linkText","readMore","DATE_OPTIONS","dateOptions","svgArrowRight","cardFragment","createStoriesCarousel","stories","storiesSection","storyArticle","getHeroPathKey","canonical","og","isRelatedArticles","articlesFetched","recentArticles","heroPathKey","story","arrowControls","indexData","resetData","percentages","updatedData","formatNum","Intl","NumberFormat","getNumberFormat","tempValue","isNumeric","isPercentage","isCurrency","maximumFractionDigits","currency","reverseFormatNumber","locale","group","decimal","reversedVal","addAnimations","component","selectedId","getPercentageAndTable","resultsSection","percentageResult","percentage","savings","savingsTable","calculateChartData","currentMPG","milesTruckYear","mpgNew","fuelUsageCurrent","fuelUsageNew","perTruckTable","calculateTableData","currentData","sumProduct","fuelPrice","priceIncrease","defPrice","defUsage","trucksNum","results","power","pi","dp","du","yearIncrease","yearPercentage","calculateSavings","getDataForCharts","resetForm","pointerType","srcElement","isButton","isSelect","localName","validValue","hasErrors","baseline","nextGen","formatDataObject","dataContainer","tableData","chartData","builtCharts","builtTable","splice","gapCls","cls","columns","rowIndex","columnIndex","wrapContentInList","grid","colCount","rowCount","column","lis","liCount","contentContainer","nonListContent","nodeName","downloadDir","imgContainers","imageContainer","checkVideoTime","createIcon","iconClass","onClick","isDisabled","icon","ariaLabel","createPageButton","pageIndex","currentPage","isActive","paginationPageAriaLabel","createArrowButton","createEllipsis","ellipsis","appendPageButtons","paginationList","pages","changePage","page","listItem","computeVisiblePages","totalPages","addPageRange","renderPaginationControls","ensurePaginationNav","paginationNav","paginationNavAriaLabel","resetPaginationList","makePageRenderer","contentArea","loadPageData","renderItems","shouldFocus","newActiveButton","clampPage","total","makePageChangeProxy","current","proxy","fn","focusActiveButton","renderControlsOptimistic","changeProxy","allowFocus","makeGuardedRenderer","renderPage","onSettled","seq","ticket","initPaginationController","initialPage","onPageChange","totalPagesSafe","activePage","isLoading","pageChangeProxy","setPageChangeHandler","renderPageGuarded","newPage","goTo","cfg","isInteger","placeholders","placeholdersPromise","getOrigin","getHref","getLanguagePath","langCodeMatch","getPlaceholders","getTextLabel","Key","Text","isString","classesArr","createNewSection","sectionName","node","waitForElementInDOM","ICONS_CACHE","svgSprite","icons","svg","styled","symbols","loadTemplate","templateName","removeEmptyTags","isRecursive","isEmpty","unwrapDivs","currentElement","pop","attributesLength","variantsClassesToBEM","blockClasses","expectedVariantsNames","addClassIfChildHasClass","child","adjustPretitle","isNextElHeading","pretitle","slugify","normalize","getConstantValues","constants","extractObjectFromArray","formatValues","searchConfig","cookieValues","magazineConfig","tools","headerConfig","newsFeedConfig","truckConfiguratorUrls","holidays","TOOLS_CONFIGS","SEARCH_CONFIGS","COOKIE_CONFIGS","MAGAZINE_CONFIGS","HEADER_CONFIGS","TRUCK_CONFIGURATOR_URLS","HOLIDAYS","checkOneTrustGroup","groupName","PERFORMANCE_COOKIE","TARGETING_COOKIE","SOCIAL_COOKIE","isPerformanceAllowed","isTargetingAllowed","isSocialAllowed","formatStringToArray","inputString","idValue","generateId","debounce","timeout","timer","getJsonFromUrl","route","deepMerge","isDevHost","getLocale","getDateFromTimestamp","getTimezoneOffset","DateTimeFormat","createResponsivePicture","images","imageClass","fallbackWidth","fallbackSrc","constructSrcset","originalFormat","bp","srcsetWebp","srcsetOriginal","webpSource","originalSource","fallbackBreakpoint","isMobileViewport","matchMedia","isMobileOrTabletViewport","isTabletOnlyViewport","toPathKey","decodeURI","normalizeUrlText","isHttp","idCounter","scrollToSection","resizeObserver","createInPageButton","secondary","inPageNavigationButton","inPageNavigationButtons","primaryButton","primaryLink","secondaryButton","secondaryLink","wrapSectionItems","elementsData","viewportHeight","elementRect","spaceRatio","gotoSection","updateActive","activeItemInList","blur","selectedItem","itemsButton","selectedButton","replaceState","addHeaderScrollBehavior","prevPosition","onScroll","passive","updateNavFactor","ctaButton","rect","docStyle","navHeight","visibleHeight","addBottomScrollBehavior","primaryCta","handleScroll","last","handleResize","footerObserver","setupResponsiveBehavior","teardown","stop","enterMobile","renderInpageDropdownNav","itemsWrapper","dropdownBackground","dropdownWrapper","selectedItemWrapper","listContainer","dropdownTitle","inPageTitle","listCloseButton","closeIcon","submenuTitle","dropdownArrowIcon","oneTrustButton","sectionsList","intersectedItem","prev","inpageid","renderCtaNav","secondaryCta","applyMode","handleViewportChange","isBottomStickyVariant","currentColor","setupMetaField","metaFieldName","truckCarousel","pageMetaField","stripEmptyTags","navigationLine","buildButtonNavigation","tabItems","buttonNavigation","buttonItem","tabContent","buildTabNavigation","clickHandler","tabItem","buildColorSwitcherList","colors","onColorChangeCallback","colorSwitcherList","colorElements","firstItemActiveClass","color","updateActiveItem","allImages","currentImages","descriptions","getMetaFieldName","getTruckCarousel","activeNavigationItem","navigationActiveItem","scrollPosition","descriptionWidth","imageLoadPromises","arrows","getTabColor","truckColor","defaultMetaFieldName","subContainer","descriptionContainer","imagesWrapper","imagesContainer","selectedColor","firstChildParagraph","imageItems","newColorImageItems","colorCheck","imageObj","imageItem","buttonContainer","parentButtonContainer","anchorTags","isAutoplay","isLoopedVideo","isFullWidth","hideLowResolutionBanner","isLowResolutionVideo","playsInline","loadEmbed","handleChangeTab","parentBlock","activeClassList","activeNumber","cl","imageSection","tabsSection","headerSection","textSection","tab","fetchPressReleases","socialWrapper","copyAnchor","clipboard","writeText","mobileMQ","tabletMQ","onMobileChange","onTabletChange","showOffer","module$","styles$","showSidebar","details","calculatorPath","percentagesPath","getInitialData","formatData","dataEntries","priceFuel","formData","lastSection","splitValues","completeString","buildPercentages","rawPercentages","tempData","sumproduct","getInputType","inputLabel","createInputs","truckSection","truckTitle","inputList","focusNextField","formElements","formatDataField","hasError","finalDisclaimer","initialData","dataText","middleDisclaimerText","currentInputsSection","newInputsSection","resetButton","allInputs","onkeydown","finalDisclaimerText","selectorsAndCharts","createPolicy","createHTML","createComment","iterator","_$litType$","E","createTreeWalker","P","V","lastIndex","exec","N","currentNode","nextNode","hasAttributes","getAttributeNames","ctor","H","I","L","_$Co","_$Cl","_$litDirective$","_$AO","_$AT","_$AS","M","_$AV","_$AN","_$AD","_$AM","_$AU","creationScope","importNode","R","nextSibling","z","_$AI","_$Cv","_$AH","_$AA","_$AB","startNode","endNode","_$AR","_$AC","_$AP","toggleAttribute","capture","handleEvent","Z","D","U","B","F","litHtmlPolyfillSupport","litHtmlVersions","_$litPart$","desktopCardsPerClick","getFirstSlotIndex","itemSelector","firstItem","slotWidth","scrollWidth","rawIndex","EPSILON","updateMobileOrTabletAutoplay","videoItemClass","setupDesktopHover","listeners","onEnter","onLeave","setupViewportGate","onVisible","onHidden","getHeaderHeight","pauseAllInContainer","setupMobileOrTabletAutoplay","headerOffset","containerVisible","activeObserver","multiObserver","disconnectActive","disconnectMulti","teardownIO","refresh","setupResponsivePlayback","blockRoot","computeMode","unbind","onResize","nextMode","isMobileOrTablet","numberCardsToNavigatePerClick","isInteractive","scrollContainer","newScrollLeft","numberItems","scrollContainerScrollWidth","paddingLeft","isInteractiveVariant","atStart","atEnd","collectCaption","figureEl","frag","createDocumentFragment","omit","nodeValue","mountVideoItem","captionFragment","mountImageItem","syncArrowButtons","rows","mediaCol","modalLink","addScrollToTopButton","scrollToTopButton","footerPath","isCustomFooter","columnsWrapper","mainLinkWrapper","footerBar","footerCopyright","openExternalLinksInNewTab","wrapSocialMediaLinks","spanEle","toggleExpand","copyrightWrapper","copyrightContainer","textIconWrapper","findList","headingElement","nextElement","isExpanded","columnContent","maxHeight","handleVideoLinks","filterContainerClass","dropdownClass","dropdownOpen","filterListOpen","searchInputExpanded","blockVariants","filterDefault","searchPlaceholder","clearPlaceholder","languagePath","currentURL","MAGAZINE_PATH","magazinePath","magazineParam","getTopics","querySuccess","trucks","topics","localeCompare","buildFilterElement","buildBulletList","allTopics","buildFilterList","addDropdownHandler","filterList","addCloseHandler","filterContainer","filterListWrapper","searchContainer","clearButton","initializeSearchHandlers","searchInputWrapper","formElement","toggleClearButton","searchArticles","clearAutosuggestions","showAutoSuggestions","submitSearchTerm","clearInput","handleOutsideClick","collapseSearchContainer","expandSearchContainer","decorateArticleSearch","filterLists","isFirstLoad","offsetMultiplier","temporaryOffset","searchLimit","extractFilters","facet","uniqueItems","processMagazineArticles","dataFacets","moreArticles","buildMagazineArticle","buildLatestMagazineArticle","activeFilters","haveFilters","createFilter","createDropdown","createInputSearch","searchText","categoryFilter","topicFilter","truckFilter","createArticleList","createLatestMagazineArticles","latest","createCarouselCard","cardTitle","cardIndex","cardIconMarkup","cardHTML","insertAdjacentHTML","createResponsiveImageConfig","mobileSrc","desktopSrc","createImageCarousel","carouselCardsData","mobileImageUrl","desktopImageUrl","imageConfig","responsivePicture","imageWrapper","extractCarouselCardData","cardElements","iconMarkup","createCarouselCardsContainer","cardList","updateInpageNavHeight","inpageNavWrapper","inpageNavHeight","initializeCarouselScroll","carouselElement","cardContainer","imageElements","touchStartX","initialScrollLeft","adjustCarouselHeight","setActiveCardAndImage","onScrollUpdate","currentScrollY","containerRect","adjustedScroll","getActiveCardIndex","cardOffset","containerScrollWidth","targetScrollLeft","onTouchStart","touches","pageX","onTouchMove","deltaX","allElements","stickyContent","navigationContainer","pictures","optionTag","createPaginationLink","newUrl","listElement","createPagination","listPagination","totalResults","maxPages","ceil","listSize","getActiveFilters","renderFilters","createFilters","formFieldSet","buildElements","pressReleases","buildPressReleaseArticle","limitPerPage","actFilter","relatedPressReleases","filterElements","articleList","pressRelease","articleItem","pressReleaseArticle","createList","reloadList","renderList","reloadFilteredList","reloadPaginatedList","attachClickListeners","attachSubmitListeners","paginationCssOnce","pageDataCache","getPathname","getLimitConfig","limitAmount","hasLimitVariant","isFinite","pageSize","makeCacheKey","baseParams","excludeUrlPaths","renderArticleCard","shortTitle","cardContent","textWrapper","newButton","renderArticleList","amount","getQueryOptionsFromURL","filterParam","hasQueryFilters","getOrCreateContentArea","loadPaginationCssOnce","makePageLoader","totalCount","Infinity","fetchOffset","iter","it","fetchCountAndPrimeCache","collectFeaturedTargets","targets","buttonByPath","resolveFeaturedArticles","buttonPathsInOrder","foundByPath","fetchFillArticles","needed","removePaginationUI","renderFeaturedSection","featuredArticles","featuredLinkCount","renderTotalCapVariant","queryOptions","featuredUrlPaths","remaining","filler","initPaginatedVariant","area","noResultsMsg","hasFeaturedVariant","getCTAContainer","ctaLink","isCTALinkCheck","btnContainer","twoPreviousSibling","createCustomOptimizedPicture","customUrl","buildHeroBlock","videoTemp","isCTALink","compareDocumentPosition","DOCUMENT_POSITION_PRECEDING","h4","newHeroBlock","containerChildren","wrapperChildren","buildSubNavigation","subnav","buildAutoBlocks","buildCtaList","createTabbedSection","tabType","fullWidth","tabSection","tabBlock","firstGrandChild","buildTabbedBlock","tabs","pic","tabbedSection","tabbedCarouselSection","triggerLoad","createTruckLineupSection","buildTruckLineupBlock","BREAKPOINTS","inpageMeta","mainChildren","sectionMetaTruckCarousel","carouselMetaFieldName","inpage","imageBreakpoints","firstImage","baseImageObj","truckLineupSection","decorateSectionBackgrounds","handleFetchError","statusCode","mainElement","errorType","modalEvent","handleModalLinks","loadModalScript","modalContentLink","decorateMain","decorateLinks","external","decorateOfferLinks","openOffer","createInpageNavigation","navItems","tabItemsObj","countDuplicated","order","inpageOrder","anchorID","obj1","obj2","subnavItem","subnavLink","buildInpageNavigationBlock","inpageClassName","inpageBlock","reparentChildren","shouldDecorateLink","getButtonClass","twoUp","addClassToContainer","threeUp","buttonClass","decorateConfigurator","moveClassToHtmlEl","currentUrl","allowedCountries","errorPageUrl","JS","CSS","cssUrls","jsUrls","truckConfiguratorBaseUrl","currentUrlHash","defer","pageStyle","loadEager","disableHeader","meta_i18n","meta_locale","MEDIA_BREAKPOINTS","MOBILE","TABLET","DESKTOP","getImageForBreakpoint","imagesList","desktopMQ","mobilePic","tabletPic","desktopPic","onBreakpointChange","mq","breakpoint","onDesktopChange","elementSelector","loadLazy","loadPage","alignments","placements","side","createCoords","oppositeSideMap","oppositeAlignmentMap","placement","getOppositeAxis","axis","yAxisSides","getOppositeAlignmentPlacement","alignment","computeCoordsFromPlacement","_ref","rtl","reference","floating","sideAxis","alignmentAxis","alignLength","commonX","commonY","commonAlign","detectOverflow","_await$platform$isEle","platform","rects","strategy","boundary","rootBoundary","elementContext","altBoundary","padding","paddingObject","expandPaddingObject","clippingClientRect","getClippingRect","isElement","contextElement","getDocumentElement","offsetParent","getOffsetParent","offsetScale","getScale","elementClientRect","convertOffsetParentRelativeRectToViewportRelativeRect","originSides","hasWindow","getNodeName","isNode","getWindow","_node$ownerDocument","ownerDocument","defaultView","isHTMLElement","isShadowRoot","invalidOverflowDisplayValues","isOverflowElement","overflow","overflowX","overflowY","tableElements","isTableElement","topLayerSelectors","isTopLayer","_e","transformProperties","willChangeValues","containValues","isContainingBlock","elementOrCss","webkit","isWebKit","css","containerType","backdropFilter","willChange","contain","supports","lastTraversableNodeNames","isLastTraversableNode","getNodeScroll","scrollX","getParentNode","assignedSlot","getNearestOverflowAncestor","getOverflowAncestors","traverseIframes","_node$ownerDocument2","scrollableAncestor","isBody","win","frameElement","getFrameElement","visualViewport","getCssDimensions","hasOffset","shouldFallback","unwrapElement","domElement","noOffsets","getVisualOffsets","includeScale","isFixedStrategy","clientRect","visualOffsets","isFixed","floatingOffsetParent","shouldAddVisualOffsets","offsetWin","currentWin","currentIFrame","iframeScale","iframeRect","clientLeft","clientTop","paddingTop","getWindowScrollBarX","leftScroll","getHTMLOffset","htmlRect","absoluteOrFixed","getClientRectFromClippingAncestor","clippingAncestor","visualViewportBased","windowScrollbarX","bodyStyles","bodyMarginInline","compatMode","marginRight","clippingStableScrollbarWidth","getViewportRect","getDocumentRect","getInnerBoundingClientRect","hasFixedPositionAncestor","stopNode","getRectRelativeToOffsetParent","isOffsetParentAnElement","offsets","setLeftRTLScrollbarOffset","offsetRect","htmlOffset","isStaticPositioned","getTrueOffsetParent","polyfill","rawOffsetParent","svgOffsetParent","getContainingBlock","topLayer","clippingAncestors","cache","cachedResult","currentContainingBlockComputedStyle","elementIsFixed","computedStyle","currentNodeIsContaining","ancestor","getClippingElementAncestors","_c","firstClippingAncestor","clippingRect","accRect","getElementRects","getOffsetParentFn","getDimensionsFn","getDimensions","floatingDimensions","getClientRects","isRTL","rectsAreEqual","autoUpdate","ancestorScroll","ancestorResize","elementResize","layoutShift","animationFrame","referenceEl","ancestors","cleanupIo","onMove","timeoutId","cleanup","_io","skip","elementRectForRootMargin","isFirstUpdate","handleObserve","ratio","observeMove","frameId","reobserveFrame","firstEntry","unobserve","cancelAnimationFrame","_resizeObserver","prevRefRect","frameLoop","nextRefRect","_resizeObserver2","_middlewareData$autoP","_middlewareData$autoP2","_placementsThatFitOnE","middlewareData","crossAxis","allowedPlacements","autoAlignment","detectOverflowOptions","placements$1","getPlacementList","autoPlacement","currentPlacement","alignmentSides","mainAlignmentSide","currentOverflows","allOverflows","overflows","nextPlacement","placementsSortedByMostSpace","resetPlacement","mainAxis","checkMainAxis","checkCrossAxis","limiter","mainAxisCoord","crossAxisCoord","maxSide","limitedCoords","enabled","_state$middlewareData","_state$middlewareData2","isYAxis","heightSide","widthSide","maximumClippingHeight","maximumClippingWidth","overflowAvailableHeight","overflowAvailableWidth","noShift","availableHeight","availableWidth","xMin","xMax","yMin","yMax","nextDimensions","rawOffset","computedOffset","len","limitMin","limitMax","_middlewareData$offse","_middlewareData$offse2","isOriginSide","mergedOptions","platformWithCache","middleware","validMiddleware","statefulPlacement","resetCount","nextY","initialPlacement","computePosition","blockname","cardsWraper","lastChild","textwrapper","fullWidthClass","CHILD","EVENT","ELEMENT","_$Ct","_$Ci","_$AQ","reconnected","disconnected","G","rt","lt","ct","ht","PAGE_SIZE","parsePressRelease","renderSearchBar","searchBar","renderPressReleaseCard","renderPressReleaseList","pr","loadPaginationCss","parsed","initPressReleasesPagination","addEventListeners","searchButton","applySearch","datasource","locatorConfig","consolidateFilters","selectedBrand","dataSource","amenities","xs","to","sm","md","lg","xl","withFetch","upstream","withHtmlParser","parseHtml","chunks","skipped","yielded","maxInFlight","follow","assignOperations","generator","createOperation","rest","operations","functions","ffetch","connection","saveData","DOMParser","parseFromString","request","row_media","row_text","key_item","item_title","item_subtitle","centered","two_items","CheckForTextNodes","hasTextNodes","buildTextsSection","hasMedia","BR","isVideoCell","isImageCell","setActive","tabContainer","nav","accordion","currentActiveTabContent","currentActiveNavigationItem","accordionContent","accordionHeader","hasClass","animate","removeClass","$pins2","$pins","$radius","$me","$nearbyPins","$markers","$radiusControl","$map","$geocoder","$filters","$consolidateFilters","$viewingPin","$pinIcon","$meIcon","$panes","$lastPane","$radiusValue","$sortedPins","$offset","$key","$myDealer","$wayPoints","$directionsService","$directionsDisplay","$directionsObject","$printDirections","$printableDirections","$directionResults","$currentAddress","$directionsMessage","$isAmentities","$brandOptionSelected","$electricDealer","$hoverText","colorGrey1","colorGrey2","colorGrey3","colorGrey4","initMap","google","maps","Geocoder","center","lat","lng","zoom","mapTypeControl","streetViewControl","fullscreenControl","setLocation","DirectionsService","DirectionsRenderer","initGoogleMaps","dataType","getTimeZoneId","apiUrl","timeZoneId","loadPins","country","countries","$country","states","$state","dealers","$dealer","services","service","$service","isCertifiedUptimeCenter","isCertifiedCenter","isPremiumUsedTruckDealer","pinIcon","scaledSize","Size","Point","$marker","Marker","addListener","marker","panTo","getPinById","ID","setIcon","switchSidebarPane","isWaypoint","waypoint","drawPin","renderAddDirectionsPin","point","LatLng","stopover","filterRadius","markerId","getUrlParameter","viewMarker","removeWaypoint","pin","$this","$id","grep","w","parents","formatTime","timeString","period","getOpenHours","allTimes","earliestHour","latestHour","isLeasing","leasing","Sales","sales","compareDate","close","openTime","getHours","getMinutes","closeTime","stringDealerDate","hourPosition","dealerLocalHour","dealerTime","canDetermineHours","renderPinDirections","markerDetails","templateClone","$origin","address1","address2","mainCity","mainState","postalCd","$destination","destination","travelMode","optimizeWaypoints","provideRouteAlternatives","waypoints","wayPointArray","setMap","setPanel","setDirections","waypointDecodeUrl","loc","renderPinDetails","camelCase","WEB_ADDRESS","formatWebAddress","EMAIL_ADDRESS","openHours","isOpenHtml","servicesHtml","driversHtml","driverAmenities","newdriverAmenities","serviceAmenities","newMarkerDetail","jQuery","inArray","each","appendTo","driversId","isEmptyObject","hoursHtml","hasPartsHours","hasServiceHours","hasLeasingHours","hasSalesHours","added","distance","setupAddDirectionsView","currentFilterHumanReadable","showPin","setZoom","forceRefresh","clearDirections","foundPane","pane","$pin","zIndex","setZIndex","radius","milesInMeters","bounds","LatLngBounds","geometry","spherical","computeDistanceBetween","getPosition","extend","pinIndex","fitBounds","setCenter","filterNearbyPins","$mi","kmToMiles","$km","radiusChange","$value","$radiusLabel","setRadius","getBounds","deleteCookie","sortedPins","$pinLength","getDistanceInMiles","condition","currentFilter","DEALER_TYPE_DESC","tmpPins","tmpPinList","nearbyHtml","empty","pinIcon2","$assist","$full","$rental","$partsService","$parts","$premium","$uptime","sorted","allPinsIds","removeData","pointerEvents","tmpPinList2","toggled","pins","newList","tmpPinList3","filteredDealerArray","tmpPinList4","selectNearbyPins","$b","$R","$dLat","deg2rad","$dLon","$a","sin","cos","$c","atan2","sqrt","$d","$deg","PI","setAddress2","geocode","viewtype","viewport","getNorthEast","getSouthWest","pos","setPosition","Circle","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","setAddress","latlng","GeocoderStatus","OK","formatted_address","handleLocationError","$current","setMyDealer","oldZIndex","$eventData","$dealerEvent","isMack","browserHasGeolocation","infoWindow","alert","str","txt","prefixes","directionsMessage","getCurrentRouteTimeInHours","$currentRoute","$currentTime","routes","$referencePoint","legs","wayPoint","sParam","sParameterName","sURLVariables","snackbar","brand","isVolvo","copyToClipboard","border","outline","boxShadow","successful","execCommand","keyCode","$clicked","prop","$filter","eventObject","slideToggle","toggleClass","pinId","divToPrint","newWin","write","directiveName","_t","raw","resultType","symbolProto","symbolToString","baseToString","relevance","newest","oldest","addEmTag","emDescription","emTitle","getItemsList","sanitizedValue","categoryItemsText","articleItemsText","topicItemsText","truckItemsText","extractAltText","cellElement","altTextElement","extractImageElement","pictureElement","createListItemWithPicture","altText","optimizedPicture","processCell","imageElement","processCells","formCache","addForm","displayValue","formContent","cachedForm","formWrapper","formObj","onSubmit","postLoad","quote","bq","newId","expand","rowgroup","ariaHidden","normalizeCells","rowheaderRole","cellRole","activateMobileColumn","calcScrollHeight","changeMobileColumn","firstRowIndex","mobileColumnHeader","columnHeader","singleColumn","isWrappedByStrong","ariaRowCount","ariaColCount","GOOGLE_API_KEY","languageCode","API_KEY","splitString","getUserCountryName","locationString","plus_code","compound_code","checkForRedirect","completeUrl","validateCountries","handleActiveClick","sum","createSubNav","pictureContainer","currentPathname","activeLink","linkPathname","lastSlash","parentLink","openItem","initBackgroundPosition","classPrefix","backgroudPositionClass","backgroundPositionValue","prepareBackgroundImage","onBackgroundImgChange","imgEl","backgroundTarget","backgroundPostionStyles","backgroundSrc","currentSrc","backgroundImage","backgroundPosition","listOfPictures","pictureClone","getItemsFromBlock","modelName","mobileImage","desktopImage","getTabContentTemplate","models","lineupWrapper","truckLineupBlock","blockClass","SEARCH_DISABLED","createLogo","logoWrapper","logoImage","logoLink","logoLinkText","createMainLinks","mainLinksWrapper","accordionContainer","createActions","actionsWrapper","textNode","spanWrapper","closeMenuLabel","mobileActions","mobileActionsEl","searchLabel","openMenuLabel","searchEl","actions","addHeaderScrollBehaviour","createOverviewLink","linkToCopy","overview","rebuildCategoryItem","optimiseImage","buildMenuContent","menuData","navEl","menus","navLinks","menuItemData","tabName","navLink","accordionContentWrapper","onAccordionItemClick","menuEl","openMenus","menu","elmt","cat","extraClasses","menuContent","decorateCTA","navPath","isCustomHeader","logoContainer","actionsContainer","navContent","setAriaForMenu","isMenuVisible","closeHamburgerMenu","accordionLink","isTargetOutsideMenu","openMenu","global","freeSelf","self","Function","carouselItems","liItem","slideContent","figureCaption","alternativeTabTitle","tabTitle","navItem","buttonContent","keyFactsColumns","v2","preSubheading","prenumber","number","postnumber","numberFragment","unit","FONT_DECREASE_LENGTH","mainText","newNode","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__","hasAwait","currentDeps","outerResolve","depQueues","rej","deps","dep","ret","wrapDeps","getResult","fnQueue","chunkIds","priority","notFulfilled","fulfilled","__esModule","ns","def","definition","chunkId","miniCssF","done","needAttach","nc","onScriptComplete","doneFns","installedChunks","installedChunkData","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}